<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><title>AWS - Auth Methods | Vault | HashiCorp Developer</title><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta property="og:locale" content="en_US"/><meta property="og:type" content="website"/><meta property="article:publisher" content="https://www.facebook.com/HashiCorp/"/><meta name="twitter:site" content="@HashiCorp"/><meta name="twitter:card" content="summary_large_image"/><meta name="theme-color" content="#000"/><meta name="description" property="og:description" content="The aws auth method allows automated authentication of AWS entities."/><meta name="twitter:description" content="The aws auth method allows automated authentication of AWS entities."/><meta property="og:site_name" content="AWS - Auth Methods | Vault | HashiCorp Developer"/><meta property="og:title" content="AWS - Auth Methods | Vault | HashiCorp Developer"/><meta property="og:image" content="https://developer.hashicorp.com/og-image/vault.jpg"/><link rel="canonical" href="https://developer.hashicorp.com/vault/docs/auth/aws"/><link rel="icon" href="/favicon.ico" sizes="48x48"/><link rel="icon" href="/favicon.svg" sizes="any" type="image/svg+xml"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta name="google-site-verification" content="zRQZqfAsOX-ypXfU0mzAIzb5rUvj5fA4Zw2jWJRN-JI"/><meta name="ahrefs-site-verification" content="9d739b21c466a84dae91df1c79396081a9072152e64f765c9390fed6f249fb84"/><meta name="zd-site-verification" content="xnvnvv1i0wl4tf0pzaymb" data-product="hcp"/><meta name="zd-site-verification" content="36fp2i1pj67d8cjtzf4fi9" data-product="terraform"/><meta name="zd-site-verification" content="nbe87kfyp1sck7b13vj1i" data-product="packer"/><meta name="zd-site-verification" content="wvsmmqa1cfb9am9zlwfj" data-product="consul"/><meta name="zd-site-verification" content="cw22oopfwr68ujj0n5pn9i" data-product="boundary"/><meta name="zd-site-verification" content="lkslvganwfgfqfwpdeicgh" data-product="vault"/><meta name="zd-site-verification" content="jl2wp2hoej9rz6c8rmqdns" data-product="nomad"/><meta name="zd-site-verification" content="2eb0cu6xceo73t0038m0tb" data-product="waypoint"/><meta name="zd-site-verification" content="n52xisxdf3higs2q9kuogd" data-product="vagrant"/><meta name="twitter:image" content="https://developer.hashicorp.com/og-image/vault.jpg"/><link rel="prefetch" href="https://www.datadoghq-browser-agent.com/datadog-rum-v4.js"/><script type="application/ld+json">[{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Developer","item":"https://developer.hashicorp.com/"},{"@type":"ListItem","position":2,"name":"Vault","item":"https://developer.hashicorp.com/vault"},{"@type":"ListItem","position":3,"name":"Documentation","item":"https://developer.hashicorp.com/vault/docs"},{"@type":"ListItem","position":4,"name":"AuthN methods","item":"https://developer.hashicorp.com/vault/docs/auth"},{"@type":"ListItem","position":5,"name":"AWS","item":"https://developer.hashicorp.com/vault/docs/auth/aws"}]}]</script><meta name="next-head-count" content="32"/><link data-next-font="" rel="preconnect" href="/" crossorigin="anonymous"/><link rel="preload" href="/_next/static/css/f49486d3b4c819d0.css" as="style"/><link rel="stylesheet" href="/_next/static/css/f49486d3b4c819d0.css" data-n-g=""/><link rel="preload" href="/_next/static/css/a3fdbf75d77eb323.css" as="style"/><link rel="stylesheet" href="/_next/static/css/a3fdbf75d77eb323.css" data-n-p=""/><link rel="preload" href="/_next/static/css/a23a4d5b8f64c49d.css" as="style"/><link rel="stylesheet" href="/_next/static/css/a23a4d5b8f64c49d.css" data-n-p=""/><link rel="preload" href="/_next/static/css/686380cdcb9bba8b.css" as="style"/><link rel="stylesheet" href="/_next/static/css/686380cdcb9bba8b.css" data-n-p=""/><link rel="preload" href="/_next/static/css/0d0717cf606673e4.css" as="style"/><link rel="stylesheet" href="/_next/static/css/0d0717cf606673e4.css" data-n-p=""/><link rel="preload" href="/_next/static/css/7e4ee183b358eb93.css" as="style"/><link rel="stylesheet" href="/_next/static/css/7e4ee183b358eb93.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-78c92fac7aa8fdd8.js"></script><script src="/_next/static/chunks/webpack-4951ac4c4a1cb7a7.js" defer=""></script><script src="/_next/static/chunks/framework-7063787c3be570d0.js" defer=""></script><script src="/_next/static/chunks/main-7bf85f85b965ad61.js" defer=""></script><script src="/_next/static/chunks/pages/_app-86fbb58f78f29805.js" defer=""></script><script src="/_next/static/chunks/8037-40e405fadd2f5f0d.js" defer=""></script><script src="/_next/static/chunks/1395-1eb65df04043100c.js" defer=""></script><script src="/_next/static/chunks/5800-0a549d9df584a94b.js" defer=""></script><script src="/_next/static/chunks/5675-7108b5e9113ea2a3.js" defer=""></script><script src="/_next/static/chunks/8604-305dcb3c7664513e.js" defer=""></script><script src="/_next/static/chunks/4491-ad22c44eea68067a.js" defer=""></script><script src="/_next/static/chunks/9554-d740b5e666a16cc0.js" defer=""></script><script src="/_next/static/chunks/7427-8c3100df221e0fcc.js" defer=""></script><script src="/_next/static/chunks/5261-c0c32f534b764eb3.js" defer=""></script><script src="/_next/static/chunks/6787-8d532ae3ad0e4d9b.js" defer=""></script><script src="/_next/static/chunks/6129-ab52b31a3f096d00.js" defer=""></script><script src="/_next/static/chunks/8018-5acf9cc98d6409e7.js" defer=""></script><script src="/_next/static/chunks/8577-a3048bd869a84460.js" defer=""></script><script src="/_next/static/chunks/pages/vault/docs/%5B...page%5D-71b66231832a9939.js" defer=""></script><script src="/_next/static/AjZYVPR06bQZX7AVmSQfa/_buildManifest.js" defer=""></script><script src="/_next/static/AjZYVPR06bQZX7AVmSQfa/_ssgManifest.js" defer=""></script></head><body><div id="__next"><div class="style_root__dZhZu"><a href="https://www.hashicorp.com/en/conferences/hashiconf/register" class="style_linkElem__hCESK"><span class="style_textContainer__6CuI7 g-grid-container"><span class="style_tag__jbHGz g-type-body-small-x-strong">Save 10-15%<!-- --> </span><span class="style_text__rwS0u g-type-body-small">Register for HashiConf and save big when you buy 2+ tickets<span class="style_linkText__E8GJf g-type-body-small-x-strong"> <!-- -->Get your passes</span></span></span></a><button class="style_closeButton__57J9w"><div><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 20 20"><path stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M15 5 5 15M5 5l10 10"/></svg></div><span style="position:absolute;border:0;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;word-wrap:normal">Dismiss alert</span></button></div><script type="text/javascript">
(function checkDismissAlertBanner() {
  try {
    if (document.cookie.includes('banner_register-for-hashiconf-and-save-big-when-you-buy-2+-tickets=1')) {
      const element = document.querySelector('.style_root__dZhZu')
      element.classList.remove('style_isShown__D4mb6')
    }
  } catch (_) {
    // do nothing
  }
})()
</script><script>!function(){try{var d=document.documentElement,n='data-theme',s='setAttribute';var e=localStorage.getItem('theme');if('system'===e||(!e&&true)){var t='(prefers-color-scheme: dark)',m=window.matchMedia(t);if(m.media!==t||m.matches){d.style.colorScheme = 'dark';d[s](n,'dark')}else{d.style.colorScheme = 'light';d[s](n,'light')}}else if(e){d[s](n,e|| '')}if(e==='light'||e==='dark')d.style.colorScheme=e}catch(e){}}()</script><div class="core-dev-dot-layout_root__MT1PZ"><div class="base-layout_root___qiZs" data-layout="base-new"><div class="base-layout_header__XhkxS"><header class="navigation-header_root__oE_HT"><div class="navigation-header_leftSide__V0xlc"><div class="product-page-content_productsDropdown__haUyw"><nav aria-label="Main" data-orientation="horizontal" dir="ltr"><div class="dropdown-menu_root__Hwy5S"><div class="dropdown-menu_activatorWrapper__LxPRt"><button aria-controls="navigation-header-menu-react-aria-1" aria-expanded="false" aria-label="Main menu" class="dropdown-menu_activator__xXb00 g-focus-ring-from-box-shadow-dark product-page-content_productsDropdownButton__bnKKs"><span class="dropdown-menu_activatorLeadingIcon__YQQlH"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24" aria-hidden="true" class="product-page-content_productsDropdownIcon__gXtly"><g fill="currentColor"><path d="M10.336 1.5L2 6.268v11.456l3.131 1.793V8.061l5.205-2.979V1.5z"></path><path d="M13.664 1.5v9.123h-3.328V7.219L7.203 9.012V20.7l3.133 1.796V13.4h3.328v3.381l3.131-1.793V3.293L13.664 1.5z"></path><path d="M22 17.732L13.664 22.5v-3.582l5.203-2.98V4.484L22 6.276v11.456z"></path></g></svg></span><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="dropdown-menu_activatorTrailingIcon__r_cCd"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></button></div><div class="dropdown-menu_dropdownContainer__AZWxN" id="navigation-header-menu-react-aria-1" style="display:none"><div class="style_root__z3EwE style_productPanel__Z4UFi style_hasSide__15FV8 style_hasSide__ecwjD"><div class="style_mainPanel__MpQn1"><div class="style_column__9is2G style_hasSide__A3F31"><ul class="style_productCategories__j1h4T"><li class="style_productCategory__9UHKG"><span class="mds-typography-body-300 style_eyebrow__OCUlS">Infrastructure Lifecycle Management</span><ul class="style_productList__uPlTj"><li><a aria-label="Terraform - Manage infrastructure as code" class="style_focusIndicator__uTVwt" data-radix-collection-item="" href="/terraform"><div class="style_productWrapper__ACHaw"><div class="style_productLogo__cTxLO"><svg class="style_flight-icon__rrFs8 style_terraform__nU44i" aria-hidden="true" fill="currentColor" id=":R9j6ld6j6:" width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-terraform-fill-16"></use></svg></div><div class="style_productTextContent__o8DJ6"><span>Terraform</span><span class="style_productDesc__bi44f">Manage infrastructure as code</span></div></div></a></li><li><a aria-label="Packer - Build machine images" class="style_focusIndicator__uTVwt" data-radix-collection-item="" href="/packer"><div class="style_productWrapper__ACHaw"><div class="style_productLogo__cTxLO"><svg class="style_flight-icon__rrFs8" aria-hidden="true" fill="currentColor" id=":Raj6ld6j6:" width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-packer-fill-color-16"></use></svg></div><div class="style_productTextContent__o8DJ6"><span>Packer</span><span class="style_productDesc__bi44f">Build machine images</span></div></div></a></li><li><a aria-label="Nomad - Orchestrate workloads" class="style_focusIndicator__uTVwt" data-radix-collection-item="" href="/nomad"><div class="style_productWrapper__ACHaw"><div class="style_productLogo__cTxLO"><svg class="style_flight-icon__rrFs8" aria-hidden="true" fill="currentColor" id=":Rbj6ld6j6:" width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-nomad-fill-color-16"></use></svg></div><div class="style_productTextContent__o8DJ6"><span>Nomad</span><span class="style_productDesc__bi44f">Orchestrate workloads</span></div></div></a></li><li><a aria-label="Waypoint - Standardize application patterns" class="style_focusIndicator__uTVwt" data-radix-collection-item="" href="/waypoint"><div class="style_productWrapper__ACHaw"><div class="style_productLogo__cTxLO"><svg class="style_flight-icon__rrFs8" aria-hidden="true" fill="currentColor" id=":Rcj6ld6j6:" width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-waypoint-fill-color-16"></use></svg></div><div class="style_productTextContent__o8DJ6"><span>Waypoint</span><span class="style_productDesc__bi44f">Standardize application patterns</span></div></div></a></li><li><a aria-label="Vagrant - Build developer environments" class="style_focusIndicator__uTVwt" data-radix-collection-item="" href="/vagrant"><div class="style_productWrapper__ACHaw"><div class="style_productLogo__cTxLO"><svg class="style_flight-icon__rrFs8" aria-hidden="true" fill="currentColor" id=":Rdj6ld6j6:" width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-vagrant-fill-color-16"></use></svg></div><div class="style_productTextContent__o8DJ6"><span>Vagrant</span><span class="style_productDesc__bi44f">Build developer environments</span></div></div></a></li></ul></li><li class="style_productCategory__9UHKG"><span class="mds-typography-body-300 style_eyebrow__OCUlS">Security Lifecycle Management</span><ul class="style_productList__uPlTj"><li><a aria-label="Vault - Centrally manage secrets" class="style_focusIndicator__uTVwt" data-radix-collection-item="" href="/vault"><div class="style_productWrapper__ACHaw"><div class="style_productLogo__cTxLO"><svg class="style_flight-icon__rrFs8" aria-hidden="true" fill="currentColor" id=":R9l6ld6j6:" width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-vault-fill-color-16"></use></svg></div><div class="style_productTextContent__o8DJ6"><span>Vault</span><span class="style_productDesc__bi44f">Centrally manage secrets</span></div></div></a></li><li><a aria-label="Boundary - Secure remote access" class="style_focusIndicator__uTVwt" data-radix-collection-item="" href="/boundary"><div class="style_productWrapper__ACHaw"><div class="style_productLogo__cTxLO"><svg class="style_flight-icon__rrFs8" aria-hidden="true" fill="currentColor" id=":Ral6ld6j6:" width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-boundary-fill-color-16"></use></svg></div><div class="style_productTextContent__o8DJ6"><span>Boundary</span><span class="style_productDesc__bi44f">Secure remote access</span></div></div></a></li><li><a aria-label="HCP Vault Radar - Scan for embedded secrets" class="style_focusIndicator__uTVwt" data-radix-collection-item="" href="/hcp/docs/vault-radar"><div class="style_productWrapper__ACHaw"><div class="style_productLogo__cTxLO"><svg class="style_flight-icon__rrFs8 style_hcpVaultRadar__nukMV" aria-hidden="true" fill="currentColor" id=":Rbl6ld6j6:" width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-vault-radar-16"></use></svg></div><div class="style_productTextContent__o8DJ6"><span>HCP Vault Radar</span><span class="style_productDesc__bi44f">Scan for embedded secrets</span></div></div></a></li><li><a aria-label="Consul - Secure network services" class="style_focusIndicator__uTVwt" data-radix-collection-item="" href="/consul"><div class="style_productWrapper__ACHaw"><div class="style_productLogo__cTxLO"><svg class="style_flight-icon__rrFs8" aria-hidden="true" fill="currentColor" id=":Rcl6ld6j6:" width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-consul-fill-color-16"></use></svg></div><div class="style_productTextContent__o8DJ6"><span>Consul</span><span class="style_productDesc__bi44f">Secure network services</span></div></div></a></li></ul></li></ul></div><div class="style_promo__e6yXp style_hasSide__635Xt"><div class="style_icon__rYEcI"><svg class="style_flight-icon__rrFs8" aria-hidden="true" fill="currentColor" id=":R3mld6j6:" width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-hashicorp-16"></use></svg></div><div class="style_rightContent__zvciM"><div><div class="style_title__eEtAF">HashiCorp Cloud Platform</div><div class="style_description__ATQzz">Get started in minutes with our cloud products</div></div><a class="style_link__U4Sfy" data-radix-collection-item="" href="/hcp">All HCP Products<svg class="style_flight-icon__rrFs8" aria-hidden="true" fill="currentColor" id=":R2lmld6j6:" width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-external-link-16"></use></svg></a></div></div></div><div class="style_column__9is2G style_sidePanel__qxYNB"><span class="mds-typography-body-200 mds-typography-font-weight-semibold style_sidePanelText__APb7X">Learn</span><ul class="style_sidePanelItems__i8_HV"><li><a aria-label="Certifications - Get HashiCorp certified" class="style_sidePanelItem__j0j0G style_focusIndicator__uTVwt" href="/certifications"><div class="style_iconBackground__fn5_s"><svg class="style_flight-icon__rrFs8" aria-hidden="true" fill="var(--token-color-foreground-faint)" id=":Rjald6j6:" width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-award-16"></use></svg></div><div class="style_sidePanelItemContent__xFcSA"><span class="mds-typography-body-200 mds-typography-font-weight-semibold style_sidePanelText__APb7X">Certifications</span><span class="style_sidePanelItemDesc__UrOLh">Get HashiCorp certified</span></div></a></li><li><a aria-label="Tutorials - Learn HashiCorp products" class="style_sidePanelItem__j0j0G style_focusIndicator__uTVwt" href="/tutorials"><div class="style_iconBackground__fn5_s"><svg class="style_flight-icon__rrFs8" aria-hidden="true" fill="var(--token-color-foreground-faint)" id=":Rlald6j6:" width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-learn-16"></use></svg></div><div class="style_sidePanelItemContent__xFcSA"><span class="mds-typography-body-200 mds-typography-font-weight-semibold style_sidePanelText__APb7X">Tutorials</span><span class="style_sidePanelItemDesc__UrOLh">Learn HashiCorp products</span></div></a></li><li><a aria-label="Validated Patterns - Field-tested patterns for using HashiCorp products" class="style_sidePanelItem__j0j0G style_focusIndicator__uTVwt" href="/validated-patterns"><div class="style_iconBackground__fn5_s"><svg class="style_flight-icon__rrFs8" aria-hidden="true" fill="var(--token-color-foreground-faint)" id=":Rnald6j6:" width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-check-circle-16"></use></svg></div><div class="style_sidePanelItemContent__xFcSA"><span class="mds-typography-body-200 mds-typography-font-weight-semibold style_sidePanelText__APb7X">Validated Patterns</span><span class="style_sidePanelItemDesc__UrOLh">Field-tested patterns for using HashiCorp products</span></div></a></li><li><a aria-label="Well-Architected Framework - Adopt HashiCorp best practices" class="style_sidePanelItem__j0j0G style_focusIndicator__uTVwt" href="/well-architected-framework"><div class="style_iconBackground__fn5_s"><svg class="style_flight-icon__rrFs8" aria-hidden="true" fill="var(--token-color-foreground-faint)" id=":Rpald6j6:" width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-layers-16"></use></svg></div><div class="style_sidePanelItemContent__xFcSA"><span class="mds-typography-body-200 mds-typography-font-weight-semibold style_sidePanelText__APb7X">Well-Architected Framework</span><span class="style_sidePanelItemDesc__UrOLh">Adopt HashiCorp best practices</span></div></a></li></ul></div></div></div></div></nav></div><div class="product-page-content_productLinkAndNav__YTzcr"><a aria-label="Vault home" class="product-icon-text-link_root__bNTSz g-focus-ring-from-box-shadow-dark" href="/vault"><div class="product-icon-text-lockup_root__358wV"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="product-icon-text-lockup_icon__Zp_5o"><path fill="var(--token-color-vault-brand)" d="M0 0l7.971 15.516L16 0H0zm6.732 6.16h-1.27V4.89h1.27v1.27zm0-1.906h-1.27V2.985h1.27v1.269zm1.904 3.81h-1.27v-1.27h1.27v1.27zm0-1.905h-1.27V4.89h1.27v1.27zm0-1.905h-1.27V2.985h1.27v1.269zm1.894 1.905H9.26V4.89h1.27v1.27zM9.26 4.254V2.985h1.27v1.269H9.26z"></path></svg><span class="product-icon-text-lockup_text__nHTL7 hds-typography-body-200">Vault</span></div></a><nav aria-label="Main" data-orientation="horizontal" dir="ltr" class="nav-bar-list-container_nav__C_i0_"><div style="position:relative"><ul data-orientation="horizontal" class="nav-bar-list-container_ul___04HI" dir="ltr"><li><a aria-label="Vault Install" class="primary-nav-link_root__RXZIC g-focus-ring-from-box-shadow-dark" href="/vault/install"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-medium primary-nav-link_linkText__58O0C">Install</span></a></li><li><a aria-label="Vault Tutorials" class="primary-nav-link_root__RXZIC g-focus-ring-from-box-shadow-dark" href="/vault/tutorials"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-medium primary-nav-link_linkText__58O0C">Tutorials</span></a></li><li><a aria-label="Vault Documentation" class="primary-nav-link_root__RXZIC g-focus-ring-from-box-shadow-dark" href="/vault/docs"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-medium primary-nav-link_linkText__58O0C">Documentation</span></a></li><li><a aria-label="Vault CLI" class="primary-nav-link_root__RXZIC g-focus-ring-from-box-shadow-dark" href="/vault/docs/commands"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-medium primary-nav-link_linkText__58O0C">CLI</span></a></li><li><a aria-label="Vault APIs" class="primary-nav-link_root__RXZIC g-focus-ring-from-box-shadow-dark" href="/vault/api-docs"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-medium primary-nav-link_linkText__58O0C">APIs</span></a></li><li><a aria-label="Vault Integrations" class="primary-nav-link_root__RXZIC g-focus-ring-from-box-shadow-dark" href="/vault/integrations"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-medium primary-nav-link_linkText__58O0C">Integrations</span></a></li><li><a aria-label="Vault Try Cloud" class="primary-nav-link_root__RXZIC g-focus-ring-from-box-shadow-dark" aria-describedby="opens-in-new-tab-label-react-aria-9" target="_blank" href="https://portal.cloud.hashicorp.com/sign-up"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-medium primary-nav-link_linkText__58O0C">Try Cloud</span><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><g fill="currentColor"><path d="M9 .75A.75.75 0 019.75 0h4.5c.206 0 .393.083.529.218l.001.002.002.001A.748.748 0 0115 .75v4.5a.75.75 0 01-1.5 0V2.56L7.28 8.78a.75.75 0 01-1.06-1.06l6.22-6.22H9.75A.75.75 0 019 .75z"></path><path d="M3.25 3.5a.75.75 0 00-.75.75v7.5c0 .414.336.75.75.75h7.5a.75.75 0 00.75-.75v-4a.75.75 0 011.5 0v4A2.25 2.25 0 0110.75 14h-7.5A2.25 2.25 0 011 11.75v-7.5A2.25 2.25 0 013.25 2h4a.75.75 0 010 1.5h-4z"></path></g></svg></a><span class="g-screen-reader-only" id="opens-in-new-tab-label-react-aria-9">(opens in new tab)</span></li></ul></div></nav></div></div><div class="navigation-header_rightSide___Vvh_"><button aria-label="Search" class="command-bar-activator_root__qgVMy g-focus-ring-from-box-shadow-dark"><span class="command-bar-activator_left__ATQTg"><span class="command-bar-activator_leadingIcon__jECP5"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M6.344.969a5.375 5.375 0 103.233 9.669l4.174 4.174a.75.75 0 001.06-1.061l-4.173-4.174A5.375 5.375 0 006.344.97zM2.469 6.344a3.875 3.875 0 117.75 0 3.875 3.875 0 01-7.75 0z" clip-rule="evenodd"></path></svg></span><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular command-bar-activator_text__pTZN_">Search</span></span><span class="command-bar-activator_right__XejfJ"><span class="g-screen-reader-only">Command or control key</span><span aria-hidden="true" class="badge_root___Z7Nt badge_small__GI0Zk badge_filled-neutral-dark-mode__VC3Ba command-bar-activator_keyBadge__xnKpi"><div class="cmd-ctrl-icon_root___TToz"><svg xmlns="http://www.w3.org/2000/svg" width="41" height="11" fill="none" viewBox="0 0 41 11"><path fill="#fff" fill-rule="evenodd" d="M4.125 2.063V3h2.25v-.937a2.062 2.062 0 1 1 2.063 2.062H7.5v2.25h.938a2.062 2.062 0 1 1-2.063 2.063V7.5h-2.25v.938a2.062 2.062 0 1 1-2.062-2.063H3v-2.25h-.937a2.062 2.062 0 1 1 2.062-2.062m-2.062-.938a.937.937 0 1 0 0 1.875H3v-.937a.937.937 0 0 0-.937-.938M7.5 7.5v.938a.937.937 0 1 0 .938-.938zM6.375 6.375v-2.25h-2.25v2.25zM2.063 7.5H3v.938a.937.937 0 1 1-.937-.938M7.5 3h.938a.937.937 0 1 0-.938-.937z" clip-rule="evenodd"/><path fill="#fff" d="M15.09 10.5 18.085 0h-1.097L14 10.5zM26.387 5.308c-.183-1.445-1.263-2.534-3.05-2.534C21.264 2.774 20 4.247 20 6.61c0 2.41 1.27 3.89 3.344 3.89 1.76 0 2.86-1.034 3.043-2.5H25.02c-.184.808-.792 1.247-1.682 1.247-1.172 0-1.898-.994-1.898-2.637 0-1.61.72-2.583 1.898-2.583.942 0 1.518.555 1.681 1.281zM28.6 1.041v1.897h-1.133v1.178H28.6v4.281c0 1.432.622 2.007 2.186 2.007.275 0 .537-.034.766-.075V9.158c-.196.02-.32.034-.537.034-.7 0-1.008-.35-1.008-1.15V4.115h1.545V2.938h-1.545V1.041zM33.207 10.356h1.407V5.911c0-1.048.752-1.767 1.819-1.767.249 0 .667.048.785.082V2.842a3.372 3.372 0 0 0-.628-.054c-.93 0-1.721.527-1.924 1.26h-.105v-1.13h-1.354zM38.638 10.356h1.407V0h-1.407z"/></svg></div></span><span class="g-screen-reader-only">K key</span><span aria-hidden="true" class="badge_root___Z7Nt badge_small__GI0Zk badge_filled-neutral-dark-mode__VC3Ba command-bar-activator_keyBadge__xnKpi"><div class="k-icon_root__a_5pR"><svg xmlns="http://www.w3.org/2000/svg" width="8" height="10" fill="none" viewBox="0 0 8 10"><path fill="#fff" d="M1.512 9.84v-3l.986-1.147L5.445 9.84h1.704L3.46 4.745 6.857.84H5.244L1.61 5.094h-.098V.84H.15v9z"/></svg></div></span></span></button><div class="navigation-header_authenticationControls__EP1LY"><div class="disclosure_root__rcBaW dropdown-disclosure_root__pzZlN dropdown-disclosure_list-position--right__WP_Kj"><button aria-controls="disclosure-react-aria-10-content" aria-expanded="false" aria-label="User menu" class="disclosure_activator__pORI0 activator_root__pOfAQ dropdown-disclosure_activator__nGgNo navigation-header_userDropdownDisclosureActivator__RayIV g-focus-ring-from-box-shadow-dark activator_hasIcon__5HO6W g-focus-ring-from-box-shadow"><span class="activator_childrenWrapper__kaK0w"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24" aria-hidden="true"><g fill="currentColor"><path fill-rule="evenodd" d="M12 3a5 5 0 100 10 5 5 0 000-10zM8.5 8a3.5 3.5 0 117 0 3.5 3.5 0 01-7 0z" clip-rule="evenodd"></path><path d="M7.75 14.5A4.75 4.75 0 003 19.25v1a.75.75 0 001.5 0v-1A3.25 3.25 0 017.75 16h8.5a3.25 3.25 0 013.25 3.25v1a.75.75 0 001.5 0v-1a4.75 4.75 0 00-4.75-4.75h-8.5z"></path></g></svg></span><span class="activator_chevronWrapper__4_AVG"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></span></button><div class="disclosure_contentContainer__QQ4kt dropdown-disclosure_content__ZZRPG undefined" id="disclosure-react-aria-10-content"><ul class="dropdown-disclosure_list__urBXU"><li class="list-item_root__ZdUej"><button class="list-item_button__nXy5K g-focus-ring-from-box-shadow"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-medium">Sign in</span></button></li><li class="list-item_root__ZdUej"><a class="list-item_link__l6lDd g-focus-ring-from-box-shadow" href="/sign-up"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-medium">Sign up</span></a></li><li class="list-item_root__ZdUej"><hr class="list-item_separator__cBVLs"/></li><li class="list-item_root__ZdUej user-dropdown-switcher_listItem__Q_GIj hds-font-weight-medium"><label class="theme-switcher_label__7Boh2 hds-typography-body-200" for="react-aria-12">Theme</label></li></ul></div></div></div><button aria-label="Open navigation menu" class="navigation-header_mobileMenuButton__74S4w"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24" aria-hidden="true"><g fill="currentColor"><path d="M2 5.75A.75.75 0 012.75 5h18.5a.75.75 0 010 1.5H2.75A.75.75 0 012 5.75zM2 11.75a.75.75 0 01.75-.75h18.5a.75.75 0 010 1.5H2.75a.75.75 0 01-.75-.75zM2.75 17a.75.75 0 000 1.5h18.5a.75.75 0 000-1.5H2.75z"></path></g></svg></button></div></header></div><div class="base-layout_contentArea__BMvQn"><div class="sidebar-sidecar-layout_root__h5rD8 sidebar-sidecar-layout_mainWidth-narrow__FhCbs"><div class="mobile-menu-container_root__fPUFu sidebar-sidecar-layout_sidebarContainer__4fcF8"><div class="sidebar-sidecar-layout_sidebarContentWrapper__ftn5q"><div class="sidebar-sidecar-layout_sidePadding__iwNw_"><div class="sidebar_sidebar___fTlC"><div class="sidebar_backToLinkWrapper__F6iLs"><div class="sidebar-back-to-link_root__z_Hj1"><a class="standalone-link_standaloneLink__ahuej g-focus-ring-from-box-shadow standalone-link_primary__ESNCA" href="/vault"><div class="standalone-link_standaloneLinkContents__4I2XN standalone-link_medium__J2yVM"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M10.795 3.235a.75.75 0 01-.03 1.06L6.842 8l3.923 3.705a.75.75 0 01-1.03 1.09l-4.5-4.25a.75.75 0 010-1.09l4.5-4.25a.75.75 0 011.06.03z" clip-rule="evenodd"></path></svg><span class="standalone-link_text__7GEyG">Vault Home</span></div></a></div></div><div class="sidebar_filterInputWrapper__0_l_Y"><div class="filter-input_filterInputContainer__thZt3"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="filter-input_filterIcon__UET0p filter-input_sharedIconColorAndPositioning__hXPit"><g fill="currentColor"><path d="M1 3.75A.75.75 0 011.75 3h12.5a.75.75 0 010 1.5H1.75A.75.75 0 011 3.75zM3.5 7.75A.75.75 0 014.25 7h7.5a.75.75 0 010 1.5h-7.5a.75.75 0 01-.75-.75zM6.75 11a.75.75 0 000 1.5h2.5a.75.75 0 000-1.5h-2.5z"></path></g></svg><input class="filter-input_filterInput__hga4N g-focus-ring-from-box-shadow" placeholder="Filter sidebar" autoComplete="off" autoCorrect="off" autoCapitalize="none" spellcheck="false" value=""/></div></div><nav aria-labelledby="sidebar-label" class="sidebar_nav__IworY" id="sidebar-nav"><div class="g-screen-reader-only"><h2 class="sidebar-headings_root__tGfxC" id="sidebar-label">Documentation</h2></div><ul class="sidebar_navList__4Rg4g"><li><a class="sidebar-nav-highlight-item_root___pPhp g-focus-ring-from-box-shadow sidebar-nav-highlight-item_theme-vault__GzzUx" href="/vault/docs"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="sidebar-nav-highlight-item_icon__G8JxG"><path fill="var(--token-color-vault-brand)" d="M0 0l7.971 15.516L16 0H0zm6.732 6.16h-1.27V4.89h1.27v1.27zm0-1.906h-1.27V2.985h1.27v1.269zm1.904 3.81h-1.27v-1.27h1.27v1.27zm0-1.905h-1.27V4.89h1.27v1.27zm0-1.905h-1.27V2.985h1.27v1.269zm1.894 1.905H9.26V4.89h1.27v1.27zM9.26 4.254V2.985h1.27v1.269H9.26z"></path></svg><span class="sidebar-nav-highlight-item_text__VORFJ hds-typography-body-200">Documentation</span></a></li><li id="sidebar-nav-item-0"><button class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" id="sidebar-nav-item-0-button"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">About Vault</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></div></button></li><li id="sidebar-nav-item-11"><button class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" id="sidebar-nav-item-11-button"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Partnerships</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></div></button></li><li id="sidebar-nav-item-17"><button class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" id="sidebar-nav-item-17-button"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Key concepts</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></div></button></li><li id="sidebar-nav-item-59"><button class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" id="sidebar-nav-item-59-button"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Quickstarts</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></div></button></li><li id="sidebar-nav-item-64"><button class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" id="sidebar-nav-item-64-button"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Recent updates</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></div></button></li><li id="sidebar-nav-item-70"><hr class="sidebar-horizontal-rule_root__UY7oh"/></li><li id="sidebar-nav-item-71"><h3 class="sidebar-headings_root__tGfxC">OPERATIONS</h3></li><li id="sidebar-nav-item-72"><button class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" id="sidebar-nav-item-72-button"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Get Vault</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></div></button></li><li id="sidebar-nav-item-79"><button class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" id="sidebar-nav-item-79-button"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">License Vault</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></div></button></li><li id="sidebar-nav-item-87"><button class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" id="sidebar-nav-item-87-button"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Configure Vault</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></div></button></li><li id="sidebar-nav-item-156"><button class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" id="sidebar-nav-item-156-button"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Deploy Vault</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></div></button></li><li id="sidebar-nav-item-219"><button class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" id="sidebar-nav-item-219-button"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Upgrade Vault</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></div></button></li><li id="sidebar-nav-item-226"><button class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" id="sidebar-nav-item-226-button"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">System administration</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></div></button></li><li id="sidebar-nav-item-237"><hr class="sidebar-horizontal-rule_root__UY7oh"/></li><li id="sidebar-nav-item-238"><button class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" id="sidebar-nav-item-238-button"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Internals</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></div></button></li><li id="sidebar-nav-item-268"><button class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" id="sidebar-nav-item-268-button"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Vault CLI</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></div></button></li><li id="sidebar-nav-item-397"><button class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" id="sidebar-nav-item-397-button"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Vault GUI</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></div></button></li><li id="sidebar-nav-item-404"><button class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" id="sidebar-nav-item-404-button"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Vault tools: Agent and Proxy</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></div></button></li><li id="sidebar-nav-item-448"><hr class="sidebar-horizontal-rule_root__UY7oh"/></li><li id="sidebar-nav-item-449"><button class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" id="sidebar-nav-item-449-button"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Secrets Engines</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></div></button></li><li id="sidebar-nav-item-545"><button class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" id="sidebar-nav-item-545-button"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Secrets Sync</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><span class="g-screen-reader-only">ENT</span><span aria-hidden="true" class="badge_root___Z7Nt badge_small__GI0Zk badge_filled-neutral__NhUW0"><span>ENT</span></span><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></div></button></li><li id="sidebar-nav-item-552"><button class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" id="sidebar-nav-item-552-button"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Secrets Import</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><span class="g-screen-reader-only">ENT</span><span aria-hidden="true" class="badge_root___Z7Nt badge_small__GI0Zk badge_filled-neutral__NhUW0"><span>ENT</span></span><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></div></button></li><li id="sidebar-nav-item-557"><button aria-controls="sidebar-nav-item-557-list" aria-expanded="true" class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" id="sidebar-nav-item-557-button"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">AuthN methods</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></div></button><ul id="sidebar-nav-item-557-list"><li id="sidebar-nav-item-558"><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" href="/vault/docs/auth"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Overview</span></a></li><li id="sidebar-nav-item-559"><button class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" id="sidebar-nav-item-559-button"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">AppRole</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></div></button></li><li id="sidebar-nav-item-562"><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" href="/vault/docs/auth/alicloud"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">AliCloud</span></a></li><li id="sidebar-nav-item-563"><a aria-current="page" class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" href="/vault/docs/auth/aws"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">AWS</span></a></li><li id="sidebar-nav-item-564"><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" href="/vault/docs/auth/azure"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Azure</span></a></li><li id="sidebar-nav-item-565"><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" href="/vault/docs/auth/cf"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Cloud Foundry</span></a></li><li id="sidebar-nav-item-566"><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" href="/vault/docs/auth/github"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">GitHub</span></a></li><li id="sidebar-nav-item-567"><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" href="/vault/docs/auth/gcp"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Google Cloud</span></a></li><li id="sidebar-nav-item-568"><button class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" id="sidebar-nav-item-568-button"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">JWT/OIDC</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></div></button></li><li id="sidebar-nav-item-583"><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" href="/vault/docs/auth/kerberos"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Kerberos</span></a></li><li id="sidebar-nav-item-584"><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" href="/vault/docs/auth/kubernetes"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Kubernetes</span></a></li><li id="sidebar-nav-item-585"><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" href="/vault/docs/auth/ldap"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">LDAP</span></a></li><li id="sidebar-nav-item-586"><button class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" id="sidebar-nav-item-586-button"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Login MFA</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></div></button></li><li id="sidebar-nav-item-589"><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" href="/vault/docs/auth/oci"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Oracle Cloud Infrastructure</span></a></li><li id="sidebar-nav-item-590"><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" href="/vault/docs/auth/okta"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Okta</span></a></li><li id="sidebar-nav-item-591"><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" href="/vault/docs/auth/radius"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">RADIUS</span></a></li><li id="sidebar-nav-item-592"><button class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" id="sidebar-nav-item-592-button"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Use SAML authentication</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><span class="g-screen-reader-only">ENT</span><span aria-hidden="true" class="badge_root___Z7Nt badge_small__GI0Zk badge_filled-neutral__NhUW0"><span>ENT</span></span><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></div></button></li><li id="sidebar-nav-item-601"><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" href="/vault/docs/auth/scep"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">SCEP</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><span class="g-screen-reader-only">ENT</span><span aria-hidden="true" class="badge_root___Z7Nt badge_small__GI0Zk badge_filled-neutral__NhUW0"><span>ENT</span></span></div></a></li><li id="sidebar-nav-item-602"><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" href="/vault/docs/auth/cert"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">TLS Certificates</span></a></li><li id="sidebar-nav-item-603"><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" href="/vault/docs/auth/token"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Tokens</span></a></li><li id="sidebar-nav-item-604"><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" href="/vault/docs/auth/userpass"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Username and Password</span></a></li><li id="sidebar-nav-item-605"><hr class="sidebar-horizontal-rule_root__UY7oh"/></li></ul></li><li id="sidebar-nav-item-606"><button class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" id="sidebar-nav-item-606-button"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Audit Devices</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></div></button></li><li id="sidebar-nav-item-611"><button class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" id="sidebar-nav-item-611-button"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Plugins</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></div></button></li><li id="sidebar-nav-item-624"><button class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" id="sidebar-nav-item-624-button"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Troubleshoot Vault</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></div></button></li><li id="sidebar-nav-item-629"><hr class="sidebar-horizontal-rule_root__UY7oh"/></li><li id="sidebar-nav-item-630"><button class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" id="sidebar-nav-item-630-button"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Platforms</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></div></button></li><li id="sidebar-nav-item-646"><hr class="sidebar-horizontal-rule_root__UY7oh"/></li><li id="sidebar-nav-item-647"><button class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" id="sidebar-nav-item-647-button"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Vault Enterprise</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></div></button></li><li id="sidebar-nav-item-695"><hr class="sidebar-horizontal-rule_root__UY7oh"/></li><li id="sidebar-nav-item-696"><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" href="/vault/docs/glossary"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Glossary</span></a></li></ul><hr class="sidebar-horizontal-rule_root__UY7oh"/><ul class="sidebar_navList__4Rg4g"><li><h3 class="sidebar-headings_root__tGfxC">Resources</h3></li><li><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" href="/tutorials/library?product=vault"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Tutorial Library</span></a></li><li><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" href="/certifications/security-automation"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Certifications</span></a></li><li><a aria-label="Community Forum. Opens in a new tab." class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" rel="noreferrer noopener" aria-describedby="opens-in-new-tab-label-react-aria-35" target="_blank" href="https://discuss.hashicorp.com/c/vault/30"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Community Forum</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><g fill="currentColor"><path d="M9 .75A.75.75 0 019.75 0h4.5c.206 0 .393.083.529.218l.001.002.002.001A.748.748 0 0115 .75v4.5a.75.75 0 01-1.5 0V2.56L7.28 8.78a.75.75 0 01-1.06-1.06l6.22-6.22H9.75A.75.75 0 019 .75z"></path><path d="M3.25 3.5a.75.75 0 00-.75.75v7.5c0 .414.336.75.75.75h7.5a.75.75 0 00.75-.75v-4a.75.75 0 011.5 0v4A2.25 2.25 0 0110.75 14h-7.5A2.25 2.25 0 011 11.75v-7.5A2.25 2.25 0 013.25 2h4a.75.75 0 010 1.5h-4z"></path></g></svg></div></a><span class="g-screen-reader-only" id="opens-in-new-tab-label-react-aria-35">(opens in new tab)</span></li><li><a aria-label="Support. Opens in a new tab." class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" rel="noreferrer noopener" aria-describedby="opens-in-new-tab-label-react-aria-36" target="_blank" href="https://www.hashicorp.com/customer-success"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Support</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><g fill="currentColor"><path d="M9 .75A.75.75 0 019.75 0h4.5c.206 0 .393.083.529.218l.001.002.002.001A.748.748 0 0115 .75v4.5a.75.75 0 01-1.5 0V2.56L7.28 8.78a.75.75 0 01-1.06-1.06l6.22-6.22H9.75A.75.75 0 019 .75z"></path><path d="M3.25 3.5a.75.75 0 00-.75.75v7.5c0 .414.336.75.75.75h7.5a.75.75 0 00.75-.75v-4a.75.75 0 011.5 0v4A2.25 2.25 0 0110.75 14h-7.5A2.25 2.25 0 011 11.75v-7.5A2.25 2.25 0 013.25 2h4a.75.75 0 010 1.5h-4z"></path></g></svg></div></a><span class="g-screen-reader-only" id="opens-in-new-tab-label-react-aria-36">(opens in new tab)</span></li><li><a aria-label="GitHub. Opens in a new tab." class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" rel="noreferrer noopener" aria-describedby="opens-in-new-tab-label-react-aria-37" target="_blank" href="https://github.com/hashicorp/vault"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">GitHub</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><g fill="currentColor"><path d="M9 .75A.75.75 0 019.75 0h4.5c.206 0 .393.083.529.218l.001.002.002.001A.748.748 0 0115 .75v4.5a.75.75 0 01-1.5 0V2.56L7.28 8.78a.75.75 0 01-1.06-1.06l6.22-6.22H9.75A.75.75 0 019 .75z"></path><path d="M3.25 3.5a.75.75 0 00-.75.75v7.5c0 .414.336.75.75.75h7.5a.75.75 0 00.75-.75v-4a.75.75 0 011.5 0v4A2.25 2.25 0 0110.75 14h-7.5A2.25 2.25 0 011 11.75v-7.5A2.25 2.25 0 013.25 2h4a.75.75 0 010 1.5h-4z"></path></g></svg></div></a><span class="g-screen-reader-only" id="opens-in-new-tab-label-react-aria-37">(opens in new tab)</span></li></ul></nav></div></div></div></div><div class="sidebar-sidecar-layout_contentWrapper__Z5BK4"><div class="sidebar-sidecar-layout_paddedAreaWrapper___S_Ff"><div class="sidebar-sidecar-layout_breadcrumbContainer__3uz7P"><div class="sidebar-sidecar-layout_breadcrumbMaxWidth__coOcu"><nav aria-label="Breadcrumb" class="breadcrumb-bar_root__wd_C5"><ol class="breadcrumb-bar_listRoot__8eupO"><li class="text_root__r0DFB hds-typography-body-100 hds-font-weight-medium breadcrumb-bar_listItem__2sevd"><a class="breadcrumb-bar_breadcrumbText__JvOrd g-focus-ring-from-box-shadow" href="/">Developer</a></li><li class="text_root__r0DFB hds-typography-body-100 hds-font-weight-medium breadcrumb-bar_listItem__2sevd"><a class="breadcrumb-bar_breadcrumbText__JvOrd g-focus-ring-from-box-shadow" href="/vault">Vault</a></li><li class="text_root__r0DFB hds-typography-body-100 hds-font-weight-medium breadcrumb-bar_listItem__2sevd"><a class="breadcrumb-bar_breadcrumbText__JvOrd g-focus-ring-from-box-shadow" href="/vault/docs">Documentation</a></li><li class="text_root__r0DFB hds-typography-body-100 hds-font-weight-medium breadcrumb-bar_listItem__2sevd"><a class="breadcrumb-bar_breadcrumbText__JvOrd g-focus-ring-from-box-shadow" href="/vault/docs/auth">AuthN methods</a></li><li class="text_root__r0DFB hds-typography-body-100 hds-font-weight-medium breadcrumb-bar_listItem__2sevd"><span class="breadcrumb-bar_breadcrumbText__JvOrd g-focus-ring-from-box-shadow" aria-current="page">AWS</span></li></ol></nav></div></div><div class="sidebar-sidecar-layout_mainAndSidecar__UDm3Z"><main id="main" class="sidebar-sidecar-layout_main__0SN51"><div class="docs-page-heading_root__QuBg_ docs-view_docsPageHeading___xkrK"><div class="docs-page-heading_pageHeadingWrapper__LEMQ7"><h1 class="hds-typography-display-600 hds-font-weight-bold docs-plain-page-heading_root__HzRuX g-offset-scroll-margin-top" id="aws-auth-method">AWS auth method</h1></div></div><div class="dev-dot-content_root__UJDct hds-typography-body-300"><div class="docs-view_mdxContent___uMnx"><div class="mdx-inline-alert_spacing___QlMF"><div class="inline-alert_default___c6Mu hds-typography-body-200 inline-alert_warning__2yPdZ mdx-inline-alert_typographyOverride__DHnxV"><span class="inline-alert_icon__b_Ema" data-testid="icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24" aria-hidden="true"><g fill="currentColor"><path d="M11 17a1 1 0 011-1h.01a1 1 0 110 2H12a1 1 0 01-1-1zM12.75 8.75a.75.75 0 00-1.5 0v4.5a.75.75 0 001.5 0v-4.5z"></path><path fill-rule="evenodd" d="M10.658 2.366a2.651 2.651 0 012.684 0c.407.239.745.581.984.99l.002.004 8.315 14.46a2.86 2.86 0 01.008 2.758 2.757 2.757 0 01-.976 1.03c-.41.25-.877.386-1.357.392H3.682a2.653 2.653 0 01-1.357-.393 2.757 2.757 0 01-.975-1.029 2.86 2.86 0 01.007-2.758l.006-.01 8.31-14.45.001-.004a2.75 2.75 0 01.984-.99zm.313 1.744v.001L2.665 18.552a1.36 1.36 0 000 1.306c.108.198.262.36.443.47.18.11.382.169.586.172h16.61c.204-.003.406-.061.586-.172.181-.11.335-.272.444-.47a1.361 1.361 0 00-.001-1.306L13.03 4.112l-.001-.002a1.25 1.25 0 00-.446-.45 1.151 1.151 0 00-1.166 0 1.25 1.25 0 00-.446.45z" clip-rule="evenodd"></path></g></svg></span><span class="inline-alert_content__fR9kv"><p class="inline-alert_title__20wIt">Note</p><span class="inline-alert_description__tisu9"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">This engine can use external X.509 certificates as part of TLS or signature validation.
Verifying signatures against X.509 certificates that use SHA-1 is deprecated and is no longer
usable without a workaround starting in Vault 1.12. Refer to the
<a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/vault/docs/updates/deprecation">deprecation notices</a>
for more information.</p></span></span></div></div><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">The <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">aws</code> auth method provides an automated mechanism to retrieve a Vault token
for IAM principals and AWS EC2 instances. Unlike most Vault auth methods, this
method does not require manual first-deploying, or provisioning
security-sensitive credentials (tokens, username/password, client certificates,
etc), by operators under many circumstances.</p><h2 id="authentication-workflow" class="hds-typography-display-500 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h2__9ZcX_"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h2__CA9g8" aria-label="authentication workflow permalink" href="/vault/docs/auth/aws#authentication-workflow"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Authentication workflow</h2><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">There are two authentication types present in the aws auth method: <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">iam</code> and
<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ec2</code>.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">With the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">iam</code> method, a special AWS request signed with AWS IAM credentials is
used for authentication. The IAM credentials are automatically supplied to AWS
instances in IAM instance profiles, Lambda functions, and others, and it is
this information already provided by AWS which Vault can use to authenticate
clients.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">With the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ec2</code> method, AWS is treated as a Trusted Third Party and
cryptographically signed dynamic metadata information that uniquely represents
each EC2 instance is used for authentication. This metadata information is
automatically supplied by AWS to all EC2 instances.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Based on how you attempt to authenticate, Vault will determine if you are
attempting to use the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">iam</code> or <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ec2</code> type. Each has a different authentication
workflow, and each can solve different use cases.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Note: The <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ec2</code> method was implemented before the primitives to implement the
<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">iam</code> method were supported by AWS. The <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">iam</code> method is the recommended approach
as it is more flexible and aligns with best practices to perform access
control and authentication. See the section on comparing the two auth methods
below for more information.</p><div class="alert alert-info g-type-body"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><strong>Usage:</strong> See the <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/vault/docs/auth/aws#authentication">Authentication</a> section for Vault CLI
and API usage examples. The <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/vault/docs/auth/aws#code-example">Code Example</a> section provides a
code snippet demonstrating the authentication with Vault using the AWS auth
method.</p></div><h3 id="iam-auth-method" class="hds-typography-display-400 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h3__xmS_z"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h3__SkrrS" aria-label="iam auth method permalink" href="/vault/docs/auth/aws#iam-auth-method"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>IAM auth method</h3><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">The AWS STS API includes a method, <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="http://docs.aws.amazon.com/STS/latest/APIReference/API_GetCallerIdentity.html"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">sts:GetCallerIdentity</code></a>, which allows you to validate the identity of a client. The client signs a <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">GetCallerIdentity</code> query using the <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="http://docs.aws.amazon.com/general/latest/gr/sigv4_signing.html">AWS Signature v4 algorithm</a> and sends it to the Vault server. The credentials used to sign the GetCallerIdentity request can come from the EC2 instance metadata service for an EC2 instance, or from the AWS environment variables in an AWS Lambda function execution, which obviates the need for an operator to manually provision some sort of identity material first. However, the credentials can, in principle, come from anywhere, not just from the locations AWS has provided for you.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">The <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">GetCallerIdentity</code> query consists of four pieces of information: the request URL, the request body, the request headers, and the request method, as the AWS signature is computed over those fields. The Vault server reconstructs the query using this information and forwards it on to the AWS STS service. Depending on the response from the STS service, the server authenticates the client.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Notably, clients don&#x27;t need network-level access themselves to talk
to the AWS STS API endpoint; they merely need access to the credentials to sign
the request. However, it means that the Vault server does need network-level
access to send requests to the STS endpoint.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Each signed AWS request includes the current timestamp to mitigate the risk of
replay attacks. In addition, Vault allows you to require an additional header,
<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">X-Vault-AWS-IAM-Server-ID</code>, to be present to mitigate against different types
of replay attacks (such as a signed <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">GetCallerIdentity</code> request stolen from a
dev Vault instance and used to authenticate to a prod Vault instance). Vault
further requires that this header be one of the headers included in the AWS
signature and relies upon AWS to authenticate that signature.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">While AWS API endpoints support both signed GET and POST requests, for
simplicity, the aws auth method supports only POST requests. It also does not
support <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">presigned</code> requests, i.e., requests with <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">X-Amz-Credential</code>,
<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">X-Amz-Signature</code>, and <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">X-Amz-SignedHeaders</code> GET query parameters containing
the authenticating information.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">It&#x27;s also important to note that Amazon does NOT appear to include any sort of
authorization around calls to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">GetCallerIdentity</code>. For example, if you have an
IAM policy on your credential that requires all access to be MFA authenticated,
non-MFA authenticated credentials (i.e., raw credentials, not those retrieved
by calling <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">GetSessionToken</code> and supplying an MFA code) will still be able to
authenticate to Vault using this method. It does not appear possible to enforce
an IAM principal to be MFA authenticated while authenticating to Vault.</p><h3 id="ec2-auth-method" class="hds-typography-display-400 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h3__xmS_z"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h3__SkrrS" aria-label="ec2 auth method permalink" href="/vault/docs/auth/aws#ec2-auth-method"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>EC2 auth method</h3><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Amazon EC2 instances have access to metadata which describes the instance. The
Vault EC2 auth method leverages the components of this metadata to authenticate
and distribute an initial Vault token to an EC2 instance. The data flow (which
is also represented in the graphic below) is as follows:</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/img/vault-aws-ec2-auth-flow.png"><span class="image_root__Kkwm7 image_noBorder__e_8et"><img src="/img/vault-aws-ec2-auth-flow.png" alt="Vault AWS EC2 Authentication Flow"/></span></a></p><ol class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">An AWS EC2 instance fetches its <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/instance-identity-documents.html">AWS Instance Identity Document</a>
from the <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-instance-metadata.html">EC2 Metadata Service</a>. In addition to data itself, AWS
also provides the PKCS#7 signature of the data, and publishes the public keys
(by region) which can be used to verify the signature.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">The AWS EC2 instance makes a request to Vault with the PKCS#7 signature.
The PKCS#7 signature contains the Instance Identity Document.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Vault verifies the signature on the PKCS#7 document, ensuring the information
is certified accurate by AWS. This process validates both the validity and
integrity of the document data. As an added security measure, Vault verifies
that the instance is currently running using the public EC2 API endpoint.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Provided all steps are successful, Vault returns the initial Vault token to
the EC2 instance. This token is mapped to any configured policies based on the
instance metadata.</p></li></ol><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">There are various modifications to this workflow that provide more or less
security, as detailed later in this documentation.</p><h2 id="authorization-workflow" class="hds-typography-display-500 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h2__9ZcX_"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h2__CA9g8" aria-label="authorization workflow permalink" href="/vault/docs/auth/aws#authorization-workflow"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Authorization workflow</h2><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">The basic mechanism of operation is per-role. Roles are registered in the
method and associated with a specific authentication type that cannot be
changed once the role has been created. Roles can also be associated with
various optional restrictions, such as the set of allowed policies and max TTLs
on the generated tokens. Each role can be specified with the constraints that
are to be met during the login. Many of these constraints accept lists of
required values. For any constraint which accepts a list of values, that
constraint will be considered satisfied if any one of the values is matched
during the login process. For example, one such constraint that is
supported is to bind against a list of AMI IDs. A role which is bound to a
specific list of AMIs can only be used for login by EC2 instances that are
deployed to one of the AMIs that the role is bound to.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">The iam auth method allows you to specify bound IAM principal ARNs.
Clients authenticating to Vault must have an ARN that matches one of the ARNs bound to
the role they are attempting to login to. The bound ARN allows specifying a
wildcard at the end of the bound ARN. For example, if the bound ARN were
<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">arn:aws:iam::123456789012:*</code> it would allow any principal in AWS account
123456789012 to login to it. Similarly, if it were
<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">arn:aws:iam::123456789012:role/*</code> it would allow any IAM role in the AWS
account to login to it. If you wish to specify a wildcard, you must give Vault
<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">iam:GetUser</code> and <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">iam:GetRole</code> permissions to properly resolve the full user
path.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">In general, role bindings that are specific to an EC2 instance are only checked
when the ec2 auth method is used to login, while bindings specific to IAM
principals are only checked when the iam auth method is used to login. However,
the iam method includes the ability for you to &quot;infer&quot; an EC2 instance ID from
the authenticated client and apply many of the bindings that would otherwise
only apply specifically to EC2 instances.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">In many cases, an organization will use a &quot;seed AMI&quot; that is specialized after
bootup by configuration management or similar processes. For this reason, a
role entry in the method can also be associated with a &quot;role tag&quot; when using
the ec2 auth type. These tags
are generated by the method and are placed as the value of a tag with the
given key on the EC2 instance. The role tag can be used to further restrict the
parameters set on the role, but cannot be used to grant additional privileges.
If a role with an AMI bind constraint has &quot;role tag&quot; enabled on the role, and
the EC2 instance performing login does not have an expected tag on it, or if the
tag on the instance is deleted for some reason, authentication fails.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">The role tags can be generated at will by an operator with appropriate API
access. They are HMAC-signed by a per-role key stored within the method, allowing
the method to verify the authenticity of a found role tag and ensure that it has
not been tampered with. There is also a mechanism to deny list role tags if one
has been found to be distributed outside of its intended set of machines.</p><h2 id="iam-authentication-inferences" class="hds-typography-display-500 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h2__9ZcX_"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h2__CA9g8" aria-label="iam authentication inferences permalink" href="/vault/docs/auth/aws#iam-authentication-inferences"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>IAM authentication inferences</h2><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">With the iam auth method, normally Vault will see the IAM principal that
authenticated, either the IAM user or role. However, when you have an EC2
instance in an IAM instance profile, Vault can actually see the instance ID of
the instance and can &quot;infer&quot; that it&#x27;s an EC2 instance. However, there are
important security caveats to be aware of before configuring Vault to make that
inference.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Each AWS IAM role has a &quot;trust policy&quot; which specifies which entities are
trusted to call
<a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="http://docs.aws.amazon.com/STS/latest/APIReference/API_AssumeRole.html"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">sts:AssumeRole</code></a>
on the role and retrieve credentials that can be used to authenticate with that
role. When AssumeRole is called, a parameter called RoleSessionName is passed
in, which is chosen arbitrarily by the entity which calls AssumeRole. If you
have a role with an ARN <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">arn:aws:iam::123456789012:role/MyRole</code>, then the
credentials returned by calling AssumeRole on that role will be
<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">arn:aws:sts::123456789012:assumed-role/MyRole/RoleSessionName</code> where
RoleSessionName is the session name in the AssumeRole API call. It is this
latter value which Vault actually sees.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">When you have an EC2 instance in an instance profile, the corresponding role&#x27;s
trust policy specifies that the principal <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">&quot;Service&quot;: &quot;ec2.amazonaws.com&quot;</code> is
trusted to call AssumeRole. When this is configured, EC2 calls AssumeRole on
behalf of your instance, with a RoleSessionName corresponding to the
instance&#x27;s instance ID. Thus, it is possible for Vault to extract the instance
ID out of the value it sees when an EC2 instance in an instance profile
authenticates to Vault with the iam auth method. This is known as
&quot;inferencing.&quot; Vault can be configured, on a role-by-role basis, to infer that a
caller is an EC2 instance and, if so, apply further bindings that apply
specifically to EC2 instances -- most of the bindings available to the ec2
auth method.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">However, it is very important to note that if any entity other than an AWS
service is permitted to call AssumeRole on your role, then that entity can
simply pass in your instance&#x27;s instance ID and spoof your instance to Vault.
This also means that anybody who is able to modify your role&#x27;s trust policy
(e.g., via
<a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="http://docs.aws.amazon.com/IAM/latest/APIReference/API_UpdateAssumeRolePolicy.html"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">iam:UpdateAssumeRolePolicy</code></a>,
then that person could also spoof your instances. If this is a concern but you
would like to take advantage of inferencing, then you should tightly restrict
who is able to call AssumeRole on the role, tightly restrict who is able to call
UpdateAssumeRolePolicy on the role, and monitor CloudTrail logs for calls to
AssumeRole and UpdateAssumeRolePolicy. All of these caveats apply equally to
using the iam auth method without inferencing; the point is merely
that Vault cannot offer an iron-clad guarantee about the inference and it is up
to operators to determine, based on their own AWS controls and use cases,
whether or not it&#x27;s appropriate to configure inferencing.</p><h2 id="mixing-authentication-types" class="hds-typography-display-500 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h2__9ZcX_"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h2__CA9g8" aria-label="mixing authentication types permalink" href="/vault/docs/auth/aws#mixing-authentication-types"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Mixing authentication types</h2><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Vault allows you to configure using either the ec2 auth method or the iam auth
method, but not both auth methods. Further, <strong>assumed roles are not supported</strong>
and Vault prevents you from enforcing restrictions that it cannot enforce given
the chosen auth type for a role. Some examples of how this works in practice:</p><ol class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg">You configure a role with the ec2 auth type, with a bound AMI ID. A
client would not be able to login using the iam auth type.</li><li class="mdx-lists_listItem__nkqhg">You configure a role with the iam auth type, with a bound IAM
principal ARN. A client would not be able to login with the ec2 auth method.</li><li class="mdx-lists_listItem__nkqhg">You configure a role with the iam auth type and further configure
inferencing. You have a bound AMI ID and a bound IAM principal ARN. A client
must login using the iam method; the RoleSessionName must be a valid instance
ID viewable by Vault, and the instance must have come from the bound AMI ID.</li></ol><h2 id="comparison-of-the-iam-and-ec2-methods" class="hds-typography-display-500 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h2__9ZcX_"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h2__CA9g8" aria-label="comparison of the iam and ec2 methods permalink" href="/vault/docs/auth/aws#comparison-of-the-iam-and-ec2-methods"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Comparison of the IAM and EC2 methods</h2><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">The iam and ec2 auth methods serve similar and somewhat overlapping
functionality, in that both authenticate some type of AWS entity to Vault.
Here are some comparisons that illustrate why <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">iam</code> method is preferred over
<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ec2</code>.</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg">What type of entity is authenticated:<ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg">The ec2 auth method authenticates only AWS EC2 instances and is specialized
to handle EC2 instances, such as restricting access to EC2 instances from
a particular AMI, EC2 instances in a particular instance profile, or EC2
instances with a specialized tag value (via the role_tag feature).</li><li class="mdx-lists_listItem__nkqhg">The iam auth method authenticates AWS IAM principals. This can
include IAM users, IAM roles assumed from other accounts, AWS Lambdas that
are launched in an IAM role, or even EC2 instances that are launched in an
IAM instance profile. However, because it authenticates more generalized IAM
principals, this method doesn&#x27;t offer more granular controls beyond binding
to a given IAM principal without the use of inferencing.</li></ul></li><li class="mdx-lists_listItem__nkqhg">How the entities are authenticated<ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg">The ec2 auth method authenticates instances by making use of the EC2
instance identity document, which is a cryptographically signed document
containing metadata about the instance. This document changes relatively
infrequently, so Vault adds a number of other constructs to mitigate against
replay attacks, such as client nonces, role tags, instance migrations, etc.
Because the instance identity document is signed by AWS, you have a strong
guarantee that it came from an EC2 instance.</li><li class="mdx-lists_listItem__nkqhg">The iam auth method authenticates by having clients provide a specially
signed AWS API request which the method then passes on to AWS to validate
the signature and tell Vault who created it. The actual secret (i.e.,
the AWS secret access key) is never transmitted over the wire, and the
AWS signature algorithm automatically expires requests after 15 minutes,
providing simple and robust protection against replay attacks. The use of
inferencing, however, provides a weaker guarantee that the credentials came
from an EC2 instance in an IAM instance profile compared to the ec2
authentication mechanism.</li><li class="mdx-lists_listItem__nkqhg">The instance identity document used in the ec2 auth method is more likely to
be stolen given its relatively static nature, but it&#x27;s harder to spoof. On
the other hand, the credentials of an EC2 instance in an IAM instance
profile are less likely to be stolen given their dynamic and short-lived
nature, but it&#x27;s easier to spoof credentials that might have come from an
EC2 instance.</li></ul></li><li class="mdx-lists_listItem__nkqhg">Specific use cases<ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg">If you have non-EC2 instance entities, such as IAM users, Lambdas in IAM
roles, or developer laptops using <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="https://github.com/AdRoll/hologram">AdRoll&#x27;s
Hologram</a> then you would need to use the
iam auth method.</li><li class="mdx-lists_listItem__nkqhg">If you have EC2 instances, then you could use either auth method. If you
need more granular filtering beyond just the instance profile of given EC2
instances (such as filtering based off the AMI the instance was launched
from), then you would need to use the ec2 auth method, change the instance
profile associated with your EC2 instances so they have unique IAM roles
for each different Vault role you would want them to authenticate
to, or make use of inferencing. If you need to make use of role tags, then
you will need to use the ec2 auth method.</li></ul></li></ul><h2 id="recommended-vault-iam-policy" class="hds-typography-display-500 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h2__9ZcX_"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h2__CA9g8" aria-label="recommended vault iam policy permalink" href="/vault/docs/auth/aws#recommended-vault-iam-policy"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Recommended Vault IAM policy</h2><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">This specifies the recommended IAM policy needed by the AWS auth method. Note
that if you are using the same credentials for the AWS auth and secret methods
(e.g., if you&#x27;re running Vault on an EC2 instance in an IAM instance profile),
then you will need to add additional permissions as required by the AWS secret
method.</p><div class="hds-code-block hds-code-block--theme-dark language-json hds-code-block--is-standalone language-json mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":Rktdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-token)">{</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">  &quot;Version&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">:</span><span style="color:var(--hds-code-block-color-string)"> &quot;2012-10-17&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">  &quot;Statement&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">:</span><span style="color:var(--hds-code-block-color-token)"> [</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-token)">    {</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">      &quot;Effect&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">:</span><span style="color:var(--hds-code-block-color-string)"> &quot;Allow&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">      &quot;Action&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">:</span><span style="color:var(--hds-code-block-color-token)"> [</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">        &quot;ec2:DescribeInstances&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">        &quot;iam:GetInstanceProfile&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">        &quot;iam:GetUser&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">        &quot;iam:GetRole&quot;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-token)">      ]</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">      &quot;Resource&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">:</span><span style="color:var(--hds-code-block-color-string)"> &quot;*&quot;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-token)">    }</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-token)">    {</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">      &quot;Effect&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">:</span><span style="color:var(--hds-code-block-color-string)"> &quot;Allow&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">      &quot;Action&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">:</span><span style="color:var(--hds-code-block-color-token)"> [</span><span style="color:var(--hds-code-block-color-string)">&quot;sts:AssumeRole&quot;</span><span style="color:var(--hds-code-block-color-token)">]</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">      &quot;Resource&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">:</span><span style="color:var(--hds-code-block-color-token)"> [</span><span style="color:var(--hds-code-block-color-string)">&quot;arn:aws:iam::&lt;AccountId&gt;:role/&lt;VaultRole&gt;&quot;</span><span style="color:var(--hds-code-block-color-token)">]</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-token)">    }</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-token)">    {</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">      &quot;Sid&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">:</span><span style="color:var(--hds-code-block-color-string)"> &quot;ManageOwnAccessKeys&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">      &quot;Effect&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">:</span><span style="color:var(--hds-code-block-color-string)"> &quot;Allow&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">      &quot;Action&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">:</span><span style="color:var(--hds-code-block-color-token)"> [</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">        &quot;iam:CreateAccessKey&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">        &quot;iam:DeleteAccessKey&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">        &quot;iam:GetAccessKeyLastUsed&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">        &quot;iam:GetUser&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">        &quot;iam:ListAccessKeys&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">        &quot;iam:UpdateAccessKey&quot;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-token)">      ]</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">      &quot;Resource&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">:</span><span style="color:var(--hds-code-block-color-string)"> &quot;arn:aws:iam::*:user/${aws:username}&quot;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-token)">    }</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-token)">  ]</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-token)">}</span></span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary-white hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":Rktdal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":R3kktdal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Here are some of the scenarios in which Vault would need to use each of these
permissions. This isn&#x27;t intended to be an exhaustive list of all the scenarios
in which Vault might make an AWS API call, but rather illustrative of why these
are needed.</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="ec2-describeinstances" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/vault/docs/auth/aws#"></a><a aria-label="ec2 describeinstances permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/vault/docs/auth/aws#ec2-describeinstances"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ec2:DescribeInstances</code></a> is necessary when you are using the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ec2</code> auth method
or when you are inferring an <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ec2_instance</code> entity type to validate that the
EC2 instance meets binding requirements of the role</li><li class="mdx-lists_listItem__nkqhg"><a id="iam-getinstanceprofile" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/vault/docs/auth/aws#"></a><a aria-label="iam getinstanceprofile permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/vault/docs/auth/aws#iam-getinstanceprofile"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">iam:GetInstanceProfile</code></a> is used when you have a <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">bound_iam_role_arn</code> in the
<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ec2</code> auth method. Vault needs to determine which IAM role is attached to the
instance profile.</li><li class="mdx-lists_listItem__nkqhg"><a id="iam-getuser" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/vault/docs/auth/aws#"></a><a aria-label="iam getuser permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/vault/docs/auth/aws#iam-getuser"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">iam:GetUser</code></a> and <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">iam:GetRole</code> are used when using the iam auth method and
binding to an IAM user or role principal to determine the <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="https://docs.aws.amazon.com/IAM/latest/UserGuide/reference_identifiers.html#identifiers-unique-ids">AWS IAM Unique Identifiers</a>
or when using a wildcard on the bound ARN to resolve the full ARN of the user
or role.</li><li class="mdx-lists_listItem__nkqhg">The <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">sts:AssumeRole</code> stanza is necessary when you are using <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/vault/docs/auth/aws#cross-account-access">Cross Account
Access</a>. The <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">Resource</code>s specified should be a list of
all the roles for which you have configured cross-account access, and each of
those roles should have this IAM policy attached (except for the
<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">sts:AssumeRole</code> statement).</li><li class="mdx-lists_listItem__nkqhg">The <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ManageOwnAccessKeys</code> stanza is necessary when you have configured Vault
with static credentials, and wish to rotate these credentials with the
<a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/vault/api-docs/auth/aws#rotate-root-credentials">Rotate Root Credentials</a>
API call.</li></ul><h3 id="schedule-based-root-credential-rotation" class="hds-typography-display-400 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h3__xmS_z"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h3__SkrrS" aria-label="schedule based root credential rotation permalink" href="/vault/docs/auth/aws#schedule-based-root-credential-rotation"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Schedule-based root credential rotation</h3><div class="enterprise-alert_root__mvEIF"><span class="g-screen-reader-only">Enterprise</span><span aria-hidden="true" class="badge_root___Z7Nt badge_medium__8VGoW badge_outlined-neutral__32YXY enterprise-alert_badge___N2fV"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="var(--token-color-vault-brand)" d="M0 0l7.971 15.516L16 0H0zm6.732 6.16h-1.27V4.89h1.27v1.27zm0-1.906h-1.27V2.985h1.27v1.269zm1.904 3.81h-1.27v-1.27h1.27v1.27zm0-1.905h-1.27V4.89h1.27v1.27zm0-1.905h-1.27V2.985h1.27v1.269zm1.894 1.905H9.26V4.89h1.27v1.27zM9.26 4.254V2.985h1.27v1.269H9.26z"></path></svg><span>Enterprise</span></span><p class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular enterprise-alert_text__CGyqh">Appropriate <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="https://www.hashicorp.com/products/vault/pricing">Vault Enterprise</a> license required</p></div><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Use the <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/vault/api-docs/auth/aws#rotation_schedule"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">rotation_schedule</code></a> field
to configure schedule-based, automatic credential rotation for root credentials in
the AWS auth engine. For example, the following command set the rotation to
occur every Saturday at midnight (00:00):</p><div class="hds-code-block hds-code-block--theme-dark language-shellsession hds-code-block--is-standalone language-shellsession mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":Rntdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-cyan)">$</span><span style="color:var(--hds-code-block-color-token)"> vault write auth/aws/config/client \</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-token)">  ...</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-token)">  rotation_schedule=&quot;0 * * * SAT&quot;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-token)">  ...</span></span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary-white hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":Rntdal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":R3kntdal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Scheduled root credential rotation can also set a
<a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/vault/api-docs/auth/aws#rotation_window">rotation_window</a> during which the
scheduled rotation is allowed to occur. Vault will stop trying to rotate the
credential once the window expires. For example, the following command tells
Vault to rotate the credential on Saturday at midnight, but only within the span
of an hour. If Vault cannot rotate the credential by 1:00, due to a failure
or otherwise, Vault will stop trying to rotate the credential until the next
scheduled rotation.</p><div class="hds-code-block hds-code-block--theme-dark language-shellsession hds-code-block--is-standalone language-shellsession mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":Rotdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-cyan)">$</span><span style="color:var(--hds-code-block-color-token)"> vault write auth/aws/config/client \</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-token)">  ...</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-token)">  rotation_window=&quot;1h&quot; \</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-token)">  rotation_schedule=&quot;0 * * * SAT&quot;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-token)">  ...</span></span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary-white hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":Rotdal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":R3kotdal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">You can temporarily disable root rotation by setting
<a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/vault/api-docs/auth/aws#disable_automated_rotation"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">disable_automated_rotation</code></a>
to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">true</code>. Setting the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">disable_automated_rotation</code> field prevent any rotation
of the root credential until the field is reset to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">false</code>. If you use
<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">rotation_period</code>, setting <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">disable_automated_rotation</code> also resets the credential
TTL.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">For more details on rotating root credentials in the AWS Auth engine, refer to the
<a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/vault/api-docs/auth/aws#rotate-root-credentials">Rotate Root credentials</a> API docs.</p><h2 id="plugin-workload-identity-federation-wif" class="hds-typography-display-500 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h2__9ZcX_"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h2__CA9g8" aria-label="plugin workload identity federation wif permalink" href="/vault/docs/auth/aws#plugin-workload-identity-federation-wif"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Plugin Workload Identity Federation (WIF)</h2><div class="enterprise-alert_root__mvEIF"><span class="g-screen-reader-only">Enterprise</span><span aria-hidden="true" class="badge_root___Z7Nt badge_medium__8VGoW badge_outlined-neutral__32YXY enterprise-alert_badge___N2fV"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="var(--token-color-vault-brand)" d="M0 0l7.971 15.516L16 0H0zm6.732 6.16h-1.27V4.89h1.27v1.27zm0-1.906h-1.27V2.985h1.27v1.269zm1.904 3.81h-1.27v-1.27h1.27v1.27zm0-1.905h-1.27V4.89h1.27v1.27zm0-1.905h-1.27V2.985h1.27v1.269zm1.894 1.905H9.26V4.89h1.27v1.27zM9.26 4.254V2.985h1.27v1.269H9.26z"></path></svg><span>Enterprise</span></span><p class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular enterprise-alert_text__CGyqh">This feature requires<!-- --> <a target="_blank" rel="noopener noreferrer" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-200 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="opens-in-new-tab-label-react-aria-67" href="https://www.hashicorp.com/products/vault">Vault<!-- --> <!-- -->Enterprise</a><span class="g-screen-reader-only" id="opens-in-new-tab-label-react-aria-67">(opens in new tab)</span>.</p></div><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">The AWS auth engine supports the plugin WIF workflow and has a source of identity called
a plugin identity token. A plugin identity token is a JWT that is signed internally by the Vault&#x27;s
<a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/vault/api-docs/secret/identity/tokens#read-plugin-workload-identity-issuer-s-openid-configuration">plugin identity token issuer</a>.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">If there is a trust relationship configured between Vault and AWS through
<a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_providers_oidc.html">workload identity federation</a>,
the auth engine can exchange its identity token for short-lived STS credentials needed to
perform its actions.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Exchanging identity tokens for STS credentials lets the AWS auth engine
operate without configuring explicit access to sensitive IAM security
credentials.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">To configure the auth engine to use plugin WIF:</p><ol class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Ensure that Vault <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/vault/api-docs/secret/identity/tokens#read-plugin-identity-token-issuer-s-openid-configuration">openid-configuration</a>
and <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/vault/api-docs/secret/identity/tokens#read-plugin-identity-token-issuer-s-public-jwks">public JWKS</a>
APIs are network-reachable by AWS. We recommend using an API proxy or gateway
if you need to limit Vault API exposure.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Create an
<a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_providers_create_oidc.html">IAM OIDC identity provider</a>
in AWS.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">The provider URL <strong>must</strong> point at your <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/vault/api-docs/secret/identity/tokens#read-plugin-workload-identity-issuer-s-openid-configuration">Vault plugin identity token issuer</a> with the
<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">/.well-known/openid-configuration</code> suffix removed. For example:
<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">https://host:port/v1/identity/oidc/plugins</code>.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Uniquely identify the recipient of the plugin identity token as the audience.
In AWS, the recipient is the identity provider. We recommend using
the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">host:port/v1/identity/oidc/plugins</code> portion of the provider URL as your
recipient since it will be unique for each configured identity provider.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Create a <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_create_for-idp_oidc.html#idp_oidc_Create">web identity role</a>
in AWS with the same audience used for your IAM OIDC identity provider.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Configure the AWS auth engine with the IAM OIDC audience value and web
identity role ARN.</p></li></ol><div class="hds-code-block hds-code-block--theme-dark language-shellsession hds-code-block--is-standalone language-shellsession mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":Rttdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-cyan)">$</span><span style="color:var(--hds-code-block-color-token)"> vault write auth/aws/config/client \</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-token)">    identity_token_audience=&quot;vault.example/v1/identity/oidc/plugins&quot; \</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-token)">    role_arn=&quot;arn:aws:iam::123456789123:role/example-web-identity-role&quot;</span></span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary-white hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":Rttdal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":R3kttdal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Your auth engine can now use plugin WIF for its configuration credentials.
By default, WIF <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="https://docs.aws.amazon.com/STS/latest/APIReference/API_AssumeRoleWithWebIdentity.html">credentials</a>
have a time-to-live of 1 hour and automatically refresh when they expire.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Please see the <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/vault/api-docs/auth/aws#configure-client">API documentation</a>
for more details on the fields associated with plugin WIF.</p><h2 id="client-nonce" class="hds-typography-display-500 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h2__9ZcX_"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h2__CA9g8" aria-label="client nonce permalink" href="/vault/docs/auth/aws#client-nonce"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Client nonce</h2><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Note: this only applies to the ec2 auth method.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">If an unintended party gains access to the PKCS#7 signature of the identity
document (which by default is available to every process and user that gains
access to an EC2 instance), it can impersonate that instance and fetch a Vault
token. The method addresses this problem by using a Trust On First Use (TOFU)
mechanism that allows the first client to present the PKCS#7 signature of the
document to be authenticated and denying the rest. An important property of
this design is detection of unauthorized access: if an unintended party authenticates,
the intended client will be unable to authenticate and can raise an alert for
investigation.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">During the first login, the method stores the instance ID that authenticated
in a <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">accesslist</code>. One method of operation of the method is to disallow any
authentication attempt for an instance ID contained in the access list, using the
<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">disallow_reauthentication</code> option on the role, meaning that an instance is
allowed to login only once. However, this has consequences for token rotation,
as it means that once a token has expired, subsequent authentication attempts
would fail. By default, reauthentication is enabled in this method, and can be
turned off using <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">disallow_reauthentication</code> parameter on the registered role.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">In the default method of operation, the method will return a unique nonce
during the first authentication attempt, as part of auth <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">metadata</code>. Clients
should present this <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">nonce</code> for subsequent login attempts and it should match
the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">nonce</code> cached at the identity-accesslist entry at the method. Since only
the original client knows the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">nonce</code>, only the original client is allowed to
reauthenticate. (This is the reason that this is a accesslist rather than a
deny list; by default, it&#x27;s keeping track of clients allowed to reauthenticate,
rather than those that are not.). Clients can choose to provide a <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">nonce</code> even
for the first login attempt, in which case the provided <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">nonce</code> will be tied to
the cached identity-accesslist entry. It is recommended to use a strong <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">nonce</code>
value in this case.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">It is up to the client to behave correctly with respect to the nonce; if the
client stores the nonce on disk it can survive reboots, but could also give
access to other users or applications on the instance. It is also up to the
operator to ensure that client nonces are in fact unique; sharing nonces allows
a compromise of the nonce value to enable an attacker that gains access to any
EC2 instance to imitate the legitimate client on that instance. This is why
nonces can be disabled on the method side in favor of only a single
authentication per instance; in some cases, such as when using ASGs, instances
are immutable and single-boot anyways, and in conjunction with a high max TTL,
reauthentication may not be needed (and if it is, the instance can simply be
shut down and allow ASG to start a new one).</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">In both cases, entries can be removed from the accesslist by instance ID,
allowing reauthentication by a client if the nonce is lost (or not used) and an
operator approves the process.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">One other point: if available by the OS/distribution being used with the EC2
instance, it is not a bad idea to firewall access to the signed PKCS#7 metadata
to ensure that it is accessible only to the matching user(s) that require
access.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">The client nonce which is generated by the backend and which gets returned
along with the authentication response, will be audit logged in plaintext. If
this is undesired, clients can supply a custom nonce to the login endpoint
which will not be returned and hence will not be audit logged.</p><h2 id="advanced-options-and-caveats" class="hds-typography-display-500 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h2__9ZcX_"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h2__CA9g8" aria-label="advanced options and caveats permalink" href="/vault/docs/auth/aws#advanced-options-and-caveats"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Advanced options and caveats</h2><h3 id="dynamic-management-of-policies-via-role-tags" class="hds-typography-display-400 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h3__xmS_z"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h3__SkrrS" aria-label="dynamic management of policies via role tags permalink" href="/vault/docs/auth/aws#dynamic-management-of-policies-via-role-tags"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Dynamic management of policies via role tags</h3><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Note: This only applies to the ec2 auth method or the iam auth method when
inferencing is used.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">If the instance is required to have customized set of policies based on the
role it plays, the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">role_tag</code> option can be used to provide a tag to set on
instances, for a given role. When this option is set, during login, along with
verification of PKCS#7 signature and instance health, the method will query
for the value of a specific tag with the configured key that is attached to the
instance. The tag holds information that represents a <em>subset</em> of privileges that
are set on the role and are used to further restrict the set of the role&#x27;s
privileges for that particular instance.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">A <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">role_tag</code> can be created using <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">auth/aws/role/&lt;role&gt;/tag</code> endpoint
and is immutable. The information present in the tag is SHA256 hashed and HMAC
protected. The per-role key to HMAC is only maintained in the method. This prevents
an adversarial operator from modifying the tag when setting it on the EC2 instance
in order to escalate privileges.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">When &#x27;role_tag&#x27; option is enabled on a role, the instances are required to have a
role tag. If the tag is not found on the EC2 instance, authentication will fail.
This is to ensure that privileges of an instance are never escalated for not
having the tag on it or for getting the tag removed. If the role tag creation does
not specify the policy component, the client will inherit the allowed policies set
on the role. If the role tag creation specifies the policy component but it contains
no policies, the token will contain only the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">default</code> policy; by default, this policy
allows only manipulation (revocation, renewal, lookup) of the existing token, plus
access to its <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/vault/docs/secrets/cubbyhole">cubbyhole</a>.
This can be useful to allow instances access to a secure &quot;scratch space&quot; for
storing data (via the token&#x27;s cubbyhole) but without granting any access to
other resources provided by or resident in Vault.</p><h3 id="handling-lost-client-nonces" class="hds-typography-display-400 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h3__xmS_z"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h3__SkrrS" aria-label="handling lost client nonces permalink" href="/vault/docs/auth/aws#handling-lost-client-nonces"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Handling lost client nonces</h3><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Note: This only applies to the ec2 auth method.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">If an EC2 instance loses its client nonce (due to a reboot, a stop/start of the
client, etc.), subsequent login attempts will not succeed. If the client nonce
is lost, normally the only option is to delete the entry corresponding to the
instance ID from the identity <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">accesslist</code> in the method. This can be done via
the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">auth/aws/identity-accesslist/&lt;instance_id&gt;</code> endpoint. This allows a new
client nonce to be accepted by the method during the next login request.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Under certain circumstances there is another useful setting. When the instance
is placed onto a host upon creation, it is given a <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">pendingTime</code> value in the
instance identity document (documentation from AWS does not cover this option,
unfortunately). If an instance is stopped and started, the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">pendingTime</code> value
is updated (this does not apply to reboots, however).</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">The method can take advantage of this via the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">allow_instance_migration</code>
option, which is set per-role. When this option is enabled, if the client nonce
does not match the saved nonce, the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">pendingTime</code> value in the instance
identity document will be checked; if it is newer than the stored <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">pendingTime</code>
value, the method assumes that the client was stopped/started and allows the
client to log in successfully, storing the new nonce as the valid nonce for
that client. This essentially re-starts the TOFU mechanism any time the
instance is stopped and started, so should be used with caution. Just like with
initial authentication, the legitimate client should have a way to alert (or an
alert should trigger based on its logs) if it is denied authentication.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Unfortunately, the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">allow_instance_migration</code> only helps during stop/start
actions; the current metadata does not provide for a way to allow this
automatic behavior during reboots. The method will be updated if this needed
metadata becomes available.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">The <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">allow_instance_migration</code> option is set per-role, and can also be
specified in a role tag. Since role tags can only restrict behavior, if the
option is set to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">false</code> on the role, a value of <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">true</code> in the role tag takes
effect; however, if the option is set to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">true</code> on the role, a value set in the
role tag has no effect.</p><h3 id="disabling-reauthentication" class="hds-typography-display-400 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h3__xmS_z"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h3__SkrrS" aria-label="disabling reauthentication permalink" href="/vault/docs/auth/aws#disabling-reauthentication"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Disabling reauthentication</h3><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Note: this only applies to the ec2 auth method.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">If in a given organization&#x27;s architecture, a client fetches a long-lived Vault
token and has no need to rotate the token, all future logins for that instance
ID can be disabled. If the option <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">disallow_reauthentication</code> is set, only one
login will be allowed per instance. If the intended client successfully
retrieves a token during login, it can be sure that its token will not be
hijacked by another entity.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">When <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">disallow_reauthentication</code> option is enabled, the client can choose not
to supply a nonce during login, although it is not an error to do so (the nonce
is simply ignored). Note that reauthentication is enabled by default. If only
a single login is desired, <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">disallow_reauthentication</code> should be set explicitly
on the role or on the role tag.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">The <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">disallow_reauthentication</code> option is set per-role, and can also be
specified in a role tag. Since role tags can only restrict behavior, if the
option is set to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">false</code> on the role, a value of <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">true</code> in the role tag takes
effect; however, if the option is set to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">true</code> on the role, a value set in the
role tag has no effect.</p><h3 id="deny-listing-role-tags" class="hds-typography-display-400 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h3__xmS_z"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h3__SkrrS" aria-label="deny listing role tags permalink" href="/vault/docs/auth/aws#deny-listing-role-tags"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Deny listing role tags</h3><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Note: this only applies to the ec2 auth method or the iam auth method
when inferencing is used.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Role tags are tied to a specific role, but the method has no control over, which
instances using that role, should have any particular role tag; that is purely up
to the operator. Although role tags are only restrictive (a tag cannot escalate
privileges above what is set on its role), if a role tag is found to have been
used incorrectly, and the administrator wants to ensure that the role tag has no
further effect, the role tag can be placed on a <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">deny list</code> via the endpoint
<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">auth/aws/roletag-denylist/&lt;role_tag&gt;</code>. Note that this will not invalidate the
tokens that were already issued; this only blocks any further login requests from
those instances that have the deny listed tag attached to them.</p><h3 id="expiration-times-and-tidying-of-denylist-and-accesslist-entries" class="hds-typography-display-400 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h3__xmS_z"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h3__SkrrS" aria-label="expiration times and tidying of denylist and accesslist entries permalink" href="/vault/docs/auth/aws#expiration-times-and-tidying-of-denylist-and-accesslist-entries"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Expiration times and tidying of <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">denylist</code> and <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">accesslist</code> entries</h3><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">The expired entries in both identity <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">accesslist</code> and role tag <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">denylist</code> are
deleted automatically. The entries in both of these lists contain an expiration
time which is dynamically determined by three factors: <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">max_ttl</code> set on the role,
<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">max_ttl</code> set on the role tag, and <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">max_ttl</code> value of the method mount. The
least of these three dictates the maximum TTL of the issued token, and
correspondingly will be set as the expiration times of these entries.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">The endpoints <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">auth/aws/tidy/identity-accesslist</code> and <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">auth/aws/tidy/roletag-denylist</code> are
provided to clean up the entries present in these lists. These endpoints allow
defining a safety buffer, such that an entry must not only be expired, but be
past expiration by the amount of time dictated by the safety buffer in order
to actually remove the entry.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Automatic deletion of expired entries is performed by the periodic function
of the method. This function does the tidying of both access list role tags
and access list identities. Periodic tidying is activated by default and will
have a safety buffer of 72 hours, meaning only those entries are deleted which
were expired before 72 hours from when the tidy operation is being performed.
This can be configured via <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">config/tidy/roletag-denylist</code> and <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">config/tidy/identity-accesslist</code>
endpoints.</p><h3 id="varying-public-certificates" class="hds-typography-display-400 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h3__xmS_z"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h3__SkrrS" aria-label="varying public certificates permalink" href="/vault/docs/auth/aws#varying-public-certificates"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Varying public certificates</h3><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Note: this only applies to the ec2 auth method.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">The AWS public certificate, which contains the public key used to verify the
PKCS#7 signature, varies for different AWS regions. The primary AWS public
certificate, which covers most AWS regions, is already included in Vault and
does not need to be added. Instances whose PKCS#7 signatures cannot be
verified by the default public certificate included in Vault can register a
different public certificate which can be found <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/instance-identity-documents.html">here</a>,
via the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">auth/aws/config/certificate/&lt;cert_name&gt;</code> endpoint.</p><h3 id="dangling-tokens" class="hds-typography-display-400 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h3__xmS_z"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h3__SkrrS" aria-label="dangling tokens permalink" href="/vault/docs/auth/aws#dangling-tokens"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Dangling tokens</h3><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">An EC2 instance, after authenticating itself with the method, gets a Vault token.
After that, if the instance terminates or goes down for any reason, the method
will not be aware of such events. The token issued will still be valid, until
it expires. The token will likely be expired sooner than its lifetime when the
instance fails to renew the token on time.</p><h3 id="cross-account-access" class="hds-typography-display-400 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h3__xmS_z"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h3__SkrrS" aria-label="cross account access permalink" href="/vault/docs/auth/aws#cross-account-access"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Cross account access</h3><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">To allow Vault to authenticate IAM principals and EC2 instances in other
accounts, Vault supports using AWS STS (Security Token Service) to assume AWS
IAM Roles in other accounts. For each target AWS account ID, you configure the
IAM Role for Vault to assume using the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">auth/aws/config/sts/&lt;account_id&gt;</code> and
Vault will use credentials from assuming that role to validate IAM principals
and EC2 instances in the target account.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">The account in which Vault is running (i.e. the master account) must be listed as
a trusted entity in the IAM Role being assumed on the remote account. The Role itself
should allow the permissions specified in the <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/vault/docs/auth/aws#recommended-vault-iam-policy">Recommended Vault IAM
Policy</a> except it doesn&#x27;t need any further
<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">sts:AssumeRole</code> permissions.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Furthermore, in the master account, Vault must be granted the action <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">sts:AssumeRole</code>
for the IAM Role to be assumed.</p><h3 id="aws-instance-metadata-timeout" class="hds-typography-display-400 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h3__xmS_z"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h3__SkrrS" aria-label="aws instance metadata timeout permalink" href="/vault/docs/auth/aws#aws-instance-metadata-timeout"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>AWS instance metadata timeout</h3><div class="alert alert-warning g-type-body"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Affects Vault 1.4 and later</p></div><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Anytime Vault uses the <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-instance-metadata.html">instance metadata service</a> on an EC2
instance, such as for getting credentials from the instance profile, there may
be a delay with the introduction of <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/configuring-instance-metadata-service.html">v2 of the instance metadata service
(IMDSv2)</a>. The AWS SDK used by Vault first attempts to connect
to IMDSv2, and if that times out, it falls back to v1. In Vault 1.4, this
timeout can take up to 2 minutes. In Vault 1.5.5 and later, it can take up to 2
seconds with this fix: <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="https://github.com/hashicorp/vault/pull/10133">#10133</a>.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">The timeout occurs in situations where there is a proxy between Vault and
IMDSv2, and the instance hop limit is set to less than the number of &quot;hops&quot;
between Vault and IMDSv2. For example, if Vault is running in docker on an EC2
instance with the instance hop limit set to 1, the AWS SDK client will attempt
to connect to IMDSv2, timeout, and fall back to IMDSv1 because of the extra
network hop between docker and IMDS.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">To avoid the timeout behavior, the hop limit may be <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/configuring-instance-metadata-service.html#configuring-instance-metadata-options">adjusted on the underlying
EC2 instances</a>. With the docker example, setting the hop
limit to 2 will allow the AWS SDK in Vault to connect to IMDSv2 without delay.</p><h2 id="authentication" class="hds-typography-display-500 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h2__9ZcX_"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h2__CA9g8" aria-label="authentication permalink" href="/vault/docs/auth/aws#authentication"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Authentication</h2><h3 id="via-the-cli" class="hds-typography-display-400 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h3__xmS_z"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h3__SkrrS" aria-label="via the cli permalink" href="/vault/docs/auth/aws#via-the-cli"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Via the CLI</h3><h4 id="enable-aws-ec2-authentication-in-vault" class="hds-typography-display-300 hds-font-weight-semibold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h4__v7716"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow" aria-label="enable aws ec2 authentication in vault permalink" href="/vault/docs/auth/aws#enable-aws-ec2-authentication-in-vault"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Enable AWS EC2 authentication in Vault.</h4><div class="hds-code-block hds-code-block--theme-dark language-shellsession hds-code-block--is-standalone language-shellsession mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":R1otdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-cyan)">$</span><span style="color:var(--hds-code-block-color-token)"> vault auth enable aws</span></span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary-white hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":R1otdal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":R3lotdal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div><h4 id="configure-the-credentials-required-to-make-aws-api-calls" class="hds-typography-display-300 hds-font-weight-semibold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h4__v7716"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow" aria-label="configure the credentials required to make aws api calls permalink" href="/vault/docs/auth/aws#configure-the-credentials-required-to-make-aws-api-calls"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Configure the credentials required to make AWS API calls</h4><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">If not specified, Vault will attempt to use standard environment variables
(<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">AWS_ACCESS_KEY_ID</code> and <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">AWS_SECRET_ACCESS_KEY</code>) or IAM EC2 instance role
credentials if available.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">The IAM account or role to which the credentials map must allow the
<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ec2:DescribeInstances</code> action. In addition, if IAM Role binding is used (see
<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">bound_iam_role_arn</code> below), <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">iam:GetInstanceProfile</code> must also be allowed.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">To provide IAM security credentials to Vault, we recommend using Vault
<a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/vault/docs/auth/aws#plugin-workload-identity-federation-wif">plugin workload identity federation</a>
(WIF).</p><div class="hds-code-block hds-code-block--theme-dark language-shellsession hds-code-block--is-standalone language-shellsession mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":R1rddal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-cyan)">$</span><span style="color:var(--hds-code-block-color-token)"> vault write auth/aws/config/client \</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-token)">    secret_key=vCtSM8ZUEQ3mOFVlYPBQkf2sO6F/W7a5TVzrl3Oj \</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-token)">    access_key=VKIAJBRHKH6EVTTNXDHA</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last">
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-cyan)">$</span><span style="color:var(--hds-code-block-color-token)"> vault auth/aws/config/client \</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-token)">    identity_token_audience=&quot;vault.example/v1/identity/oidc/plugins&quot; \</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-token)">    role_arn=&quot;arn:aws:iam::123456789123:role/example-web-identity-role&quot;</span></span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary-white hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":R1rddal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":R3lrddal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div><h4 id="configure-the-policies-on-the-role" class="hds-typography-display-300 hds-font-weight-semibold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h4__v7716"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow" aria-label="configure the policies on the role permalink" href="/vault/docs/auth/aws#configure-the-policies-on-the-role"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Configure the policies on the role.</h4><div class="hds-code-block hds-code-block--theme-dark language-shellsession hds-code-block--is-standalone language-shellsession mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":R1sddal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-cyan)">$</span><span style="color:var(--hds-code-block-color-token)"> vault write auth/aws/role/dev-role auth_type=ec2 bound_ami_id=ami-fce3c696 policies=prod,dev max_ttl=500h</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last">
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-cyan)">$</span><span style="color:var(--hds-code-block-color-token)"> vault write auth/aws/role/dev-role-iam auth_type=iam \</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-token)">              bound_iam_principal_arn=arn:aws:iam::123456789012:role/MyRole policies=prod,dev max_ttl=500h</span></span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary-white hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":R1sddal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":R3lsddal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div><h4 id="configure-a-required-x-vault-aws-iam-server-id-header-recommended" class="hds-typography-display-300 hds-font-weight-semibold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h4__v7716"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow" aria-label="configure a required x vault aws iam server id header recommended permalink" href="/vault/docs/auth/aws#configure-a-required-x-vault-aws-iam-server-id-header-recommended"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Configure a required X-Vault-AWS-IAM-Server-ID header (recommended)</h4><div class="hds-code-block hds-code-block--theme-dark language-shellsession hds-code-block--is-standalone language-shellsession mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":R1tddal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-cyan)">$</span><span style="color:var(--hds-code-block-color-token)"> vault write auth/aws/config/client iam_server_id_header_value=vault.example.com</span></span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary-white hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":R1tddal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":R3ltddal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div><h4 id="perform-the-login-operation" class="hds-typography-display-300 hds-font-weight-semibold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h4__v7716"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow" aria-label="perform the login operation permalink" href="/vault/docs/auth/aws#perform-the-login-operation"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Perform the login operation</h4><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">For the ec2 auth method, first fetch the PKCS#7 signature on the AWS instance:</p><div class="hds-code-block hds-code-block--theme-dark language-shellsession hds-code-block--is-standalone language-shellsession mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":R1utdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-cyan)">$</span><span style="color:var(--hds-code-block-color-token)"> SIGNATURE=</span><span style="color:var(--hds-code-block-color-string)">$(</span><span style="color:var(--hds-code-block-color-function)">curl</span><span style="color:var(--hds-code-block-color-string)"> -s http://169.254.169.254/latest/dynamic/instance-identity/rsa2048 </span><span style="color:var(--hds-code-block-color-keyword)">|</span><span style="color:var(--hds-code-block-color-function)"> tr</span><span style="color:var(--hds-code-block-color-string)"> -d &#x27;\n&#x27;)</span></span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary-white hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":R1utdal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":R3lutdal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">then set the signature on the login endpoint:</p><div class="hds-code-block hds-code-block--theme-dark language-shellsession hds-code-block--is-standalone language-shellsession mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":R1vtdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-cyan)">$</span><span style="color:var(--hds-code-block-color-token)"> vault write auth/aws/login role=dev-role \</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-token)">  pkcs7=$SIGNATURE</span></span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary-white hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":R1vtdal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":R3lvtdal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div><div class="mdx-inline-alert_spacing___QlMF"><div class="inline-alert_default___c6Mu hds-typography-body-200 inline-alert_warning__2yPdZ mdx-inline-alert_typographyOverride__DHnxV"><span class="inline-alert_icon__b_Ema" data-testid="icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24" aria-hidden="true"><g fill="currentColor"><path d="M11 17a1 1 0 011-1h.01a1 1 0 110 2H12a1 1 0 01-1-1zM12.75 8.75a.75.75 0 00-1.5 0v4.5a.75.75 0 001.5 0v-4.5z"></path><path fill-rule="evenodd" d="M10.658 2.366a2.651 2.651 0 012.684 0c.407.239.745.581.984.99l.002.004 8.315 14.46a2.86 2.86 0 01.008 2.758 2.757 2.757 0 01-.976 1.03c-.41.25-.877.386-1.357.392H3.682a2.653 2.653 0 01-1.357-.393 2.757 2.757 0 01-.975-1.029 2.86 2.86 0 01.007-2.758l.006-.01 8.31-14.45.001-.004a2.75 2.75 0 01.984-.99zm.313 1.744v.001L2.665 18.552a1.36 1.36 0 000 1.306c.108.198.262.36.443.47.18.11.382.169.586.172h16.61c.204-.003.406-.061.586-.172.181-.11.335-.272.444-.47a1.361 1.361 0 00-.001-1.306L13.03 4.112l-.001-.002a1.25 1.25 0 00-.446-.45 1.151 1.151 0 00-1.166 0 1.25 1.25 0 00-.446.45z" clip-rule="evenodd"></path></g></svg></span><span class="inline-alert_content__fR9kv"><p class="inline-alert_title__20wIt">Note</p><span class="inline-alert_description__tisu9"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Vault does not support X.509 certificates with SHA-1 signatures. If you use AWS
<a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/verify-rsa2048.html"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">/rsa2048</code> signature endpoint</a>
credentials, you must use the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">pkcs7</code> login flow.</p></span></span></div></div><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">For the iam auth method, generating the signed request is a non-standard
operation. The Vault cli supports generating this for you:</p><div class="hds-code-block hds-code-block--theme-dark language-shellsession hds-code-block--is-standalone language-shellsession mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":R21ddal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-cyan)">$</span><span style="color:var(--hds-code-block-color-token)"> vault login -method=aws header_value=vault.example.com role=dev-role-iam</span></span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary-white hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":R21ddal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":R3m1ddal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">This assumes you have AWS credentials configured in the standard locations AWS
SDKs search for credentials (environment variables, ~/.aws/credentials, IAM
instance profile, or ECS task role, in that order). If you do not have IAM
credentials available at any of these locations, you can explicitly pass them
in on the command line (though this is not recommended), omitting
<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">aws_security_token</code> if not applicable.</p><div class="hds-code-block hds-code-block--theme-dark language-shellsession hds-code-block--is-standalone language-shellsession mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":R22ddal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-cyan)">$</span><span style="color:var(--hds-code-block-color-token)"> vault login -method=aws header_value=vault.example.com role=dev-role-iam \</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-token)">        aws_access_key_id=&lt;access_key&gt; \</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-token)">        aws_secret_access_key=&lt;secret_key&gt; \</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-token)">        aws_security_token=&lt;security_token&gt;</span></span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary-white hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":R22ddal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":R3m2ddal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">The region used defaults to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">us-east-1</code>, but you can specify a custom region like so:</p><div class="hds-code-block hds-code-block--theme-dark language-shellsession hds-code-block--is-standalone language-shellsession mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":R23ddal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-cyan)">$</span><span style="color:var(--hds-code-block-color-token)"> vault login -method=aws region=us-west-2 role=dev-role-iam</span></span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary-white hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":R23ddal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":R3m3ddal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">If the region is specified as <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">auto</code>, the Vault CLI will determine the region based
on standard AWS credentials precedence as described earlier. Whichever method is used,
be sure the designated region corresponds to that of the STS endpoint you&#x27;re using.</p><div class="alert alert-warning g-type-body"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><strong>Note:</strong> If you are making use of AWS GovCloud and setting the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">sts_endpoint</code>
and <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">sts_region</code> role parameters to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">us-gov-west-1</code> / <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">us-gov-east-1</code> then you must include
the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">region</code> argument in your login request with a matching value, i.e. <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">region=us-gov-west-1</code>.</p></div><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">An example of how to generate the required request values for the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">login</code> method
can be found found in the <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="https://github.com/hashicorp/vault/blob/main/builtin/credential/aws/cli.go">vault cli
source code</a>.
Using an approach such as this, the request parameters can be generated and
passed to the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">login</code> method:</p><div class="hds-code-block hds-code-block--theme-dark language-shellsession hds-code-block--is-standalone language-shellsession mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":R25ddal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-cyan)">$</span><span style="color:var(--hds-code-block-color-token)"> vault write auth/aws/login role=dev-role-iam \</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-token)">        iam_http_request_method=POST \</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-token)">        iam_request_url=aHR0cHM6Ly9zdHMuYW1hem9uYXdzLmNvbS8= \</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-token)">        iam_request_body=QWN0aW9uPUdldENhbGxlcklkZW50aXR5JlZlcnNpb249MjAxMS0wNi0xNQ== \</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-token)">        iam_request_headers=eyJDb250ZW50LUxlbmd0aCI6IFsiNDMiXSwgIlVzZXItQWdlbnQiOiBbImF3cy1zZGstZ28vMS40LjEyIChnbzEuNy4xOyBsaW51eDsgYW1kNjQpIl0sICJYLVZhdWx0LUFXU0lBTS1TZXJ2ZXItSWQiOiBbInZhdWx0LmV4YW1wbGUuY29tIl0sICJYLUFtei1EYXRlIjogWyIyMDE2MDkzMFQwNDMxMjFaIl0sICJDb250ZW50LVR5cGUiOiBbImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZDsgY2hhcnNldD11dGYtOCJdLCAiQXV0aG9yaXphdGlvbiI6IFsiQVdTNC1ITUFDLVNIQTI1NiBDcmVkZW50aWFsPWZvby8yMDE2MDkzMC91cy1lYXN0LTEvc3RzL2F3czRfcmVxdWVzdCwgU2lnbmVkSGVhZGVycz1jb250ZW50LWxlbmd0aDtjb250ZW50LXR5cGU7aG9zdDt4LWFtei1kYXRlO3gtdmF1bHQtc2VydmVyLCBTaWduYXR1cmU9YTY5ZmQ3NTBhMzQ0NWM0ZTU1M2UxYjNlNzlkM2RhOTBlZWY1NDA0N2YxZWI0ZWZlOGZmYmM5YzQyOGMyNjU1YiJdfQ==</span></span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary-white hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":R25ddal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":R3m5ddal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div><h3 id="via-the-api" class="hds-typography-display-400 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h3__xmS_z"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h3__SkrrS" aria-label="via the api permalink" href="/vault/docs/auth/aws#via-the-api"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Via the API</h3><h4 id="enable-aws-authentication-in-vault" class="hds-typography-display-300 hds-font-weight-semibold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h4__v7716"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow" aria-label="enable aws authentication in vault permalink" href="/vault/docs/auth/aws#enable-aws-authentication-in-vault"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Enable AWS authentication in Vault.</h4><div class="hds-code-block hds-code-block--theme-dark hds-code-block--is-standalone mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":R26tdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span>curl -X POST -H "X-Vault-Token:123" "http://127.0.0.1:8200/v1/sys/auth/aws" -d '{"type":"aws"}'</span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary-white hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":R26tdal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":R3m6tdal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div><h4 id="configure-the-credentials-required-to-make-aws-api-calls-1" class="hds-typography-display-300 hds-font-weight-semibold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h4__v7716"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow" aria-label="configure the credentials required to make aws api calls permalink" href="/vault/docs/auth/aws#configure-the-credentials-required-to-make-aws-api-calls-1"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Configure the credentials required to make AWS API calls.</h4><div class="hds-code-block hds-code-block--theme-dark hds-code-block--is-standalone mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":R27tdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span>curl -X POST -H "X-Vault-Token:123" "http://127.0.0.1:8200/v1/auth/aws/config/client" -d '{"access_key":"VKIAJBRHKH6EVTTNXDHA", "secret_key":"vCtSM8ZUEQ3mOFVlYPBQkf2sO6F/W7a5TVzrl3Oj"}'</span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary-white hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":R27tdal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":R3m7tdal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div><h4 id="configure-the-policies-on-the-role-1" class="hds-typography-display-300 hds-font-weight-semibold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h4__v7716"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow" aria-label="configure the policies on the role permalink" href="/vault/docs/auth/aws#configure-the-policies-on-the-role-1"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Configure the policies on the role.</h4><div class="hds-code-block hds-code-block--theme-dark hds-code-block--is-standalone mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":R28tdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span>curl -X POST -H "X-Vault-Token:123" "http://127.0.0.1:8200/v1/auth/aws/role/dev-role" -d '{"bound_ami_id":"ami-fce3c696","policies":"prod,dev","max_ttl":"500h"}'</span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span>&nbsp;</span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span>curl -X POST -H "X-Vault-Token:123" "http://127.0.0.1:8200/v1/auth/aws/role/dev-role-iam" -d '{"auth_type":"iam","policies":"prod,dev","max_ttl":"500h","bound_iam_principal_arn":"arn:aws:iam::123456789012:role/MyRole"}'</span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary-white hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":R28tdal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":R3m8tdal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div><h4 id="perform-the-login-operation-1" class="hds-typography-display-300 hds-font-weight-semibold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h4__v7716"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow" aria-label="perform the login operation permalink" href="/vault/docs/auth/aws#perform-the-login-operation-1"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Perform the login operation</h4><div class="hds-code-block hds-code-block--theme-dark hds-code-block--is-standalone mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":R29tdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span>curl -X POST "http://127.0.0.1:8200/v1/auth/aws/login" -d '{"role":"dev-role","pkcs7":"'$(curl -s http://169.254.169.254/latest/dynamic/instance-identity/rsa2048 | tr -d '\n')'","nonce":"5defbf9e-a8f9-3063-bdfc-54b7a42a1f95"}'</span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span>&nbsp;</span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span>curl -X POST "http://127.0.0.1:8200/v1/auth/aws/login" -d '{"role":"dev", "iam_http_request_method": "POST", "iam_request_url": "aHR0cHM6Ly9zdHMuYW1hem9uYXdzLmNvbS8=", "iam_request_body": "QWN0aW9uPUdldENhbGxlcklkZW50aXR5JlZlcnNpb249MjAxMS0wNi0xNQ==", "iam_request_headers": "eyJDb250ZW50LUxlbmd0aCI6IFsiNDMiXSwgIlVzZXItQWdlbnQiOiBbImF3cy1zZGstZ28vMS40LjEyIChnbzEuNy4xOyBsaW51eDsgYW1kNjQpIl0sICJYLVZhdWx0LUFXU0lBTS1TZXJ2ZXItSWQiOiBbInZhdWx0LmV4YW1wbGUuY29tIl0sICJYLUFtei1EYXRlIjogWyIyMDE2MDkzMFQwNDMxMjFaIl0sICJDb250ZW50LVR5cGUiOiBbImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZDsgY2hhcnNldD11dGYtOCJdLCAiQXV0aG9yaXphdGlvbiI6IFsiQVdTNC1ITUFDLVNIQTI1NiBDcmVkZW50aWFsPWZvby8yMDE2MDkzMC91cy1lYXN0LTEvc3RzL2F3czRfcmVxdWVzdCwgU2lnbmVkSGVhZGVycz1jb250ZW50LWxlbmd0aDtjb250ZW50LXR5cGU7aG9zdDt4LWFtei1kYXRlO3gtdmF1bHQtc2VydmVyLCBTaWduYXR1cmU9YTY5ZmQ3NTBhMzQ0NWM0ZTU1M2UxYjNlNzlkM2RhOTBlZWY1NDA0N2YxZWI0ZWZlOGZmYmM5YzQyOGMyNjU1YiJdfQ==" }'</span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary-white hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":R29tdal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":R3m9tdal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">The response will be in JSON. For example:</p><div class="hds-code-block hds-code-block--theme-dark language-javascript hds-code-block--is-standalone language-javascript mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":R2atdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-token)">{</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">  &quot;auth&quot;</span><span style="color:var(--hds-code-block-color-token)">: {</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">    &quot;renewable&quot;</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-constant)"> true</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">    &quot;lease_duration&quot;</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-constant)"> 72000</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">    &quot;metadata&quot;</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-token)"> {</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">      &quot;role_tag_max_ttl&quot;</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-string)"> &quot;0s&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">      &quot;role&quot;</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-string)"> &quot;ami-f083709d&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">      &quot;region&quot;</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-string)"> &quot;us-east-1&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">      &quot;nonce&quot;</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-string)"> &quot;5defbf9e-a8f9-3063-bdfc-54b7a42a1f95&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">      &quot;instance_id&quot;</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-string)"> &quot;i-a832f734&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">      &quot;ami_id&quot;</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-string)"> &quot;ami-f083709d&quot;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-token)">    }</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">    &quot;policies&quot;</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-token)"> [</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">      &quot;default&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">      &quot;dev&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">      &quot;prod&quot;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-token)">    ]</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">    &quot;accessor&quot;</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-string)"> &quot;5cd96cd1-58b7-2904-5519-75ddf957ec06&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">    &quot;client_token&quot;</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-string)"> &quot;150fc858-2402-49c9-56a5-f4b57f2c8ff1&quot;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-token)">  }</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">  &quot;warnings&quot;</span><span style="color:var(--hds-code-block-color-token)">: </span><span style="color:var(--hds-code-block-color-constant)">null</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">  &quot;wrap_info&quot;</span><span style="color:var(--hds-code-block-color-token)">: </span><span style="color:var(--hds-code-block-color-constant)">null</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">  &quot;data&quot;</span><span style="color:var(--hds-code-block-color-token)">: </span><span style="color:var(--hds-code-block-color-constant)">null</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">  &quot;lease_duration&quot;</span><span style="color:var(--hds-code-block-color-token)">: </span><span style="color:var(--hds-code-block-color-constant)">0</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">  &quot;renewable&quot;</span><span style="color:var(--hds-code-block-color-token)">: </span><span style="color:var(--hds-code-block-color-constant)">false</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">  &quot;lease_id&quot;</span><span style="color:var(--hds-code-block-color-token)">: </span><span style="color:var(--hds-code-block-color-string)">&quot;&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">  &quot;request_id&quot;</span><span style="color:var(--hds-code-block-color-token)">: </span><span style="color:var(--hds-code-block-color-string)">&quot;d7d50c06-56b8-37f4-606c-ccdc87a1ee4c&quot;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-token)">}</span></span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary-white hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":R2atdal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":R3matdal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div><h2 id="api" class="hds-typography-display-500 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h2__9ZcX_"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h2__CA9g8" aria-label="api permalink" href="/vault/docs/auth/aws#api"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>API</h2><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">The AWS auth method has a full HTTP API. Please see the
<a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/vault/api-docs/auth/aws">AWS Auth API</a> for more
details.</p><h2 id="code-example" class="hds-typography-display-500 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h2__9ZcX_"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h2__CA9g8" aria-label="code example permalink" href="/vault/docs/auth/aws#code-example"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Code example</h2><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">The following example demonstrates the AWS (IAM) auth method to authenticate with Vault.</p><div><div><div class="tabs_tabControls__T_UOv tabs_isCheckingOverflow__HYdy4 tabs_showAnchorLine__oSYFX"><div class="tab-button-controls_tabList__ueYEe" role="tablist"><button class="tab-button-controls_tabButton__l1jN9 g-focus-ring-from-box-shadow" aria-controls="panel-0-react-aria-88" aria-selected="true" id="tab-0-react-aria-88" role="tab" tabindex="0" type="button"><span class="tab-button-controls_label__GDzfu hds-typography-body-200">Go</span></button><button class="tab-button-controls_tabButton__l1jN9 g-focus-ring-from-box-shadow" aria-controls="panel-1-react-aria-88" aria-selected="false" id="tab-1-react-aria-88" role="tab" tabindex="-1" type="button"><span class="tab-button-controls_label__GDzfu hds-typography-body-200">C#</span></button></div></div><div aria-hidden="false" aria-labelledby="tab-0-react-aria-88" class="tabs_tabPanel__lKCo_" id="panel-0-react-aria-88" role="tabpanel"><div class="hds-code-block hds-code-block--theme-dark language-go hds-code-block--is-standalone"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":R3adddal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">package</span><span style="color:var(--hds-code-block-color-function)"> main</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last">
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">import</span><span style="color:var(--hds-code-block-color-token)"> (</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">    &quot;context&quot;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">    &quot;fmt&quot;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last">
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-token)">    vault </span><span style="color:var(--hds-code-block-color-string)">&quot;github.com/hashicorp/vault/api&quot;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-token)">    auth </span><span style="color:var(--hds-code-block-color-string)">&quot;github.com/hashicorp/vault/api/auth/aws&quot;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-token)">)</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last">
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-comment)">// Fetches a key-value secret (kv-v2) after authenticating to Vault via AWS IAM,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-comment)">// one of two auth methods used to authenticate with AWS (the other is EC2 auth).</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">func</span><span style="color:var(--hds-code-block-color-function)"> getSecretWithAWSAuthIAM</span><span style="color:var(--hds-code-block-color-token)">() (</span><span style="color:var(--hds-code-block-color-keyword)">string</span><span style="color:var(--hds-code-block-color-token)">, </span><span style="color:var(--hds-code-block-color-keyword)">error</span><span style="color:var(--hds-code-block-color-token)">) {</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-token)">    config </span><span style="color:var(--hds-code-block-color-keyword)">:=</span><span style="color:var(--hds-code-block-color-token)"> vault.</span><span style="color:var(--hds-code-block-color-function)">DefaultConfig</span><span style="color:var(--hds-code-block-color-token)">() </span><span style="color:var(--hds-code-block-color-comment)">// modify for more granular configuration</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last">
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-token)">    client, err </span><span style="color:var(--hds-code-block-color-keyword)">:=</span><span style="color:var(--hds-code-block-color-token)"> vault.</span><span style="color:var(--hds-code-block-color-function)">NewClient</span><span style="color:var(--hds-code-block-color-token)">(config)</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">    if</span><span style="color:var(--hds-code-block-color-token)"> err </span><span style="color:var(--hds-code-block-color-keyword)">!=</span><span style="color:var(--hds-code-block-color-constant)"> nil</span><span style="color:var(--hds-code-block-color-token)"> {</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">        return</span><span style="color:var(--hds-code-block-color-string)"> &quot;&quot;</span><span style="color:var(--hds-code-block-color-token)">, fmt.</span><span style="color:var(--hds-code-block-color-function)">Errorf</span><span style="color:var(--hds-code-block-color-token)">(</span><span style="color:var(--hds-code-block-color-string)">&quot;unable to initialize Vault client: </span><span style="color:var(--hds-code-block-color-constant)">%w</span><span style="color:var(--hds-code-block-color-string)">&quot;</span><span style="color:var(--hds-code-block-color-token)">, err)</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-token)">    }</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last">
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-token)">    awsAuth, err </span><span style="color:var(--hds-code-block-color-keyword)">:=</span><span style="color:var(--hds-code-block-color-token)"> auth.</span><span style="color:var(--hds-code-block-color-function)">NewAWSAuth</span><span style="color:var(--hds-code-block-color-token)">(</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-token)">        auth.</span><span style="color:var(--hds-code-block-color-function)">WithRole</span><span style="color:var(--hds-code-block-color-token)">(</span><span style="color:var(--hds-code-block-color-string)">&quot;dev-role-iam&quot;</span><span style="color:var(--hds-code-block-color-token)">), </span><span style="color:var(--hds-code-block-color-comment)">// if not provided, Vault will fall back on looking for a role with the IAM role name if you&#x27;re using the iam auth type, or the EC2 instance&#x27;s AMI id if using the ec2 auth type</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-token)">    )</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">    if</span><span style="color:var(--hds-code-block-color-token)"> err </span><span style="color:var(--hds-code-block-color-keyword)">!=</span><span style="color:var(--hds-code-block-color-constant)"> nil</span><span style="color:var(--hds-code-block-color-token)"> {</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">        return</span><span style="color:var(--hds-code-block-color-string)"> &quot;&quot;</span><span style="color:var(--hds-code-block-color-token)">, fmt.</span><span style="color:var(--hds-code-block-color-function)">Errorf</span><span style="color:var(--hds-code-block-color-token)">(</span><span style="color:var(--hds-code-block-color-string)">&quot;unable to initialize AWS auth method: </span><span style="color:var(--hds-code-block-color-constant)">%w</span><span style="color:var(--hds-code-block-color-string)">&quot;</span><span style="color:var(--hds-code-block-color-token)">, err)</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-token)">    }</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last">
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-token)">    authInfo, err </span><span style="color:var(--hds-code-block-color-keyword)">:=</span><span style="color:var(--hds-code-block-color-token)"> client.</span><span style="color:var(--hds-code-block-color-function)">Auth</span><span style="color:var(--hds-code-block-color-token)">().</span><span style="color:var(--hds-code-block-color-function)">Login</span><span style="color:var(--hds-code-block-color-token)">(context.</span><span style="color:var(--hds-code-block-color-function)">Background</span><span style="color:var(--hds-code-block-color-token)">(), awsAuth)</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">    if</span><span style="color:var(--hds-code-block-color-token)"> err </span><span style="color:var(--hds-code-block-color-keyword)">!=</span><span style="color:var(--hds-code-block-color-constant)"> nil</span><span style="color:var(--hds-code-block-color-token)"> {</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">        return</span><span style="color:var(--hds-code-block-color-string)"> &quot;&quot;</span><span style="color:var(--hds-code-block-color-token)">, fmt.</span><span style="color:var(--hds-code-block-color-function)">Errorf</span><span style="color:var(--hds-code-block-color-token)">(</span><span style="color:var(--hds-code-block-color-string)">&quot;unable to login to AWS auth method: </span><span style="color:var(--hds-code-block-color-constant)">%w</span><span style="color:var(--hds-code-block-color-string)">&quot;</span><span style="color:var(--hds-code-block-color-token)">, err)</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-token)">    }</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">    if</span><span style="color:var(--hds-code-block-color-token)"> authInfo </span><span style="color:var(--hds-code-block-color-keyword)">==</span><span style="color:var(--hds-code-block-color-constant)"> nil</span><span style="color:var(--hds-code-block-color-token)"> {</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">        return</span><span style="color:var(--hds-code-block-color-string)"> &quot;&quot;</span><span style="color:var(--hds-code-block-color-token)">, fmt.</span><span style="color:var(--hds-code-block-color-function)">Errorf</span><span style="color:var(--hds-code-block-color-token)">(</span><span style="color:var(--hds-code-block-color-string)">&quot;no auth info was returned after login&quot;</span><span style="color:var(--hds-code-block-color-token)">)</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-token)">    }</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last">
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-comment)">    // get secret from the default mount path for KV v2 in dev mode, &quot;secret&quot;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-token)">    secret, err </span><span style="color:var(--hds-code-block-color-keyword)">:=</span><span style="color:var(--hds-code-block-color-token)"> client.</span><span style="color:var(--hds-code-block-color-function)">KVv2</span><span style="color:var(--hds-code-block-color-token)">(</span><span style="color:var(--hds-code-block-color-string)">&quot;secret&quot;</span><span style="color:var(--hds-code-block-color-token)">).</span><span style="color:var(--hds-code-block-color-function)">Get</span><span style="color:var(--hds-code-block-color-token)">(context.</span><span style="color:var(--hds-code-block-color-function)">Background</span><span style="color:var(--hds-code-block-color-token)">(), </span><span style="color:var(--hds-code-block-color-string)">&quot;creds&quot;</span><span style="color:var(--hds-code-block-color-token)">)</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">    if</span><span style="color:var(--hds-code-block-color-token)"> err </span><span style="color:var(--hds-code-block-color-keyword)">!=</span><span style="color:var(--hds-code-block-color-constant)"> nil</span><span style="color:var(--hds-code-block-color-token)"> {</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">        return</span><span style="color:var(--hds-code-block-color-string)"> &quot;&quot;</span><span style="color:var(--hds-code-block-color-token)">, fmt.</span><span style="color:var(--hds-code-block-color-function)">Errorf</span><span style="color:var(--hds-code-block-color-token)">(</span><span style="color:var(--hds-code-block-color-string)">&quot;unable to read secret: </span><span style="color:var(--hds-code-block-color-constant)">%w</span><span style="color:var(--hds-code-block-color-string)">&quot;</span><span style="color:var(--hds-code-block-color-token)">, err)</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-token)">    }</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last">
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-comment)">    // data map can contain more than one key-value pair,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-comment)">    // in this case we&#x27;re just grabbing one of them</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-token)">    value, ok </span><span style="color:var(--hds-code-block-color-keyword)">:=</span><span style="color:var(--hds-code-block-color-token)"> secret.Data[</span><span style="color:var(--hds-code-block-color-string)">&quot;password&quot;</span><span style="color:var(--hds-code-block-color-token)">].(</span><span style="color:var(--hds-code-block-color-keyword)">string</span><span style="color:var(--hds-code-block-color-token)">)</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">    if</span><span style="color:var(--hds-code-block-color-keyword)"> !</span><span style="color:var(--hds-code-block-color-token)">ok {</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">        return</span><span style="color:var(--hds-code-block-color-string)"> &quot;&quot;</span><span style="color:var(--hds-code-block-color-token)">, fmt.</span><span style="color:var(--hds-code-block-color-function)">Errorf</span><span style="color:var(--hds-code-block-color-token)">(</span><span style="color:var(--hds-code-block-color-string)">&quot;value type assertion failed: </span><span style="color:var(--hds-code-block-color-constant)">%T</span><span style="color:var(--hds-code-block-color-constant)"> %#v</span><span style="color:var(--hds-code-block-color-string)">&quot;</span><span style="color:var(--hds-code-block-color-token)">, secret.Data[</span><span style="color:var(--hds-code-block-color-string)">&quot;password&quot;</span><span style="color:var(--hds-code-block-color-token)">], secret.Data[</span><span style="color:var(--hds-code-block-color-string)">&quot;password&quot;</span><span style="color:var(--hds-code-block-color-token)">])</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-token)">    }</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last">
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">    return</span><span style="color:var(--hds-code-block-color-token)"> value, </span><span style="color:var(--hds-code-block-color-constant)">nil</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-token)">}</span></span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary-white hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":R3adddal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":R7badddal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div></div><div aria-hidden="true" aria-labelledby="tab-1-react-aria-88" class="tabs_tabPanel__lKCo_" id="panel-1-react-aria-88" role="tabpanel"><div class="hds-code-block hds-code-block--theme-dark language-cs hds-code-block--is-standalone"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":R5adddal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">using</span><span style="color:var(--hds-code-block-color-function)"> System</span><span style="color:var(--hds-code-block-color-token)">;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">using</span><span style="color:var(--hds-code-block-color-function)"> System</span><span style="color:var(--hds-code-block-color-token)">.</span><span style="color:var(--hds-code-block-color-function)">Text</span><span style="color:var(--hds-code-block-color-token)">;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">using</span><span style="color:var(--hds-code-block-color-function)"> Amazon</span><span style="color:var(--hds-code-block-color-token)">.</span><span style="color:var(--hds-code-block-color-function)">Runtime</span><span style="color:var(--hds-code-block-color-token)">;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">using</span><span style="color:var(--hds-code-block-color-function)"> Amazon</span><span style="color:var(--hds-code-block-color-token)">.</span><span style="color:var(--hds-code-block-color-function)">Runtime</span><span style="color:var(--hds-code-block-color-token)">.</span><span style="color:var(--hds-code-block-color-function)">Internal</span><span style="color:var(--hds-code-block-color-token)">;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">using</span><span style="color:var(--hds-code-block-color-function)"> Amazon</span><span style="color:var(--hds-code-block-color-token)">.</span><span style="color:var(--hds-code-block-color-function)">Runtime</span><span style="color:var(--hds-code-block-color-token)">.</span><span style="color:var(--hds-code-block-color-function)">Internal</span><span style="color:var(--hds-code-block-color-token)">.</span><span style="color:var(--hds-code-block-color-function)">Auth</span><span style="color:var(--hds-code-block-color-token)">;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">using</span><span style="color:var(--hds-code-block-color-function)"> Amazon</span><span style="color:var(--hds-code-block-color-token)">.</span><span style="color:var(--hds-code-block-color-function)">Runtime</span><span style="color:var(--hds-code-block-color-token)">.</span><span style="color:var(--hds-code-block-color-function)">Internal</span><span style="color:var(--hds-code-block-color-token)">.</span><span style="color:var(--hds-code-block-color-function)">Util</span><span style="color:var(--hds-code-block-color-token)">;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">using</span><span style="color:var(--hds-code-block-color-function)"> Amazon</span><span style="color:var(--hds-code-block-color-token)">.</span><span style="color:var(--hds-code-block-color-function)">SecurityToken</span><span style="color:var(--hds-code-block-color-token)">;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">using</span><span style="color:var(--hds-code-block-color-function)"> Amazon</span><span style="color:var(--hds-code-block-color-token)">.</span><span style="color:var(--hds-code-block-color-function)">SecurityToken</span><span style="color:var(--hds-code-block-color-token)">.</span><span style="color:var(--hds-code-block-color-function)">Model</span><span style="color:var(--hds-code-block-color-token)">;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">using</span><span style="color:var(--hds-code-block-color-function)"> Amazon</span><span style="color:var(--hds-code-block-color-token)">.</span><span style="color:var(--hds-code-block-color-function)">SecurityToken</span><span style="color:var(--hds-code-block-color-token)">.</span><span style="color:var(--hds-code-block-color-function)">Model</span><span style="color:var(--hds-code-block-color-token)">.</span><span style="color:var(--hds-code-block-color-function)">Internal</span><span style="color:var(--hds-code-block-color-token)">.</span><span style="color:var(--hds-code-block-color-function)">MarshallTransformations</span><span style="color:var(--hds-code-block-color-token)">;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">using</span><span style="color:var(--hds-code-block-color-function)"> Newtonsoft</span><span style="color:var(--hds-code-block-color-token)">.</span><span style="color:var(--hds-code-block-color-function)">Json</span><span style="color:var(--hds-code-block-color-token)">;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">using</span><span style="color:var(--hds-code-block-color-function)"> VaultSharp</span><span style="color:var(--hds-code-block-color-token)">;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">using</span><span style="color:var(--hds-code-block-color-function)"> VaultSharp</span><span style="color:var(--hds-code-block-color-token)">.</span><span style="color:var(--hds-code-block-color-function)">V1</span><span style="color:var(--hds-code-block-color-token)">.</span><span style="color:var(--hds-code-block-color-function)">AuthMethods</span><span style="color:var(--hds-code-block-color-token)">;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">using</span><span style="color:var(--hds-code-block-color-function)"> VaultSharp</span><span style="color:var(--hds-code-block-color-token)">.</span><span style="color:var(--hds-code-block-color-function)">V1</span><span style="color:var(--hds-code-block-color-token)">.</span><span style="color:var(--hds-code-block-color-function)">AuthMethods</span><span style="color:var(--hds-code-block-color-token)">.</span><span style="color:var(--hds-code-block-color-function)">AWS</span><span style="color:var(--hds-code-block-color-token)">;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">using</span><span style="color:var(--hds-code-block-color-function)"> VaultSharp</span><span style="color:var(--hds-code-block-color-token)">.</span><span style="color:var(--hds-code-block-color-function)">V1</span><span style="color:var(--hds-code-block-color-token)">.</span><span style="color:var(--hds-code-block-color-function)">Commons</span><span style="color:var(--hds-code-block-color-token)">;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">using</span><span style="color:var(--hds-code-block-color-function)"> VaultSharp</span><span style="color:var(--hds-code-block-color-token)">.</span><span style="color:var(--hds-code-block-color-function)">V1</span><span style="color:var(--hds-code-block-color-token)">.</span><span style="color:var(--hds-code-block-color-function)">SecretsEngines</span><span style="color:var(--hds-code-block-color-token)">.</span><span style="color:var(--hds-code-block-color-function)">AWS</span><span style="color:var(--hds-code-block-color-token)">;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last">
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">namespace</span><span style="color:var(--hds-code-block-color-function)"> Examples</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-token)">{</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">    public</span><span style="color:var(--hds-code-block-color-keyword)"> class</span><span style="color:var(--hds-code-block-color-function)"> AwsAuthExample</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-token)">    {</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-comment)">        /// &lt;</span><span style="color:var(--hds-code-block-color-string)">summary</span><span style="color:var(--hds-code-block-color-comment)">&gt;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-comment)">        /// Fetches a key-value secret (kv-v2) after authenticating to Vault via AWS IAM,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-comment)">        /// one of two auth methods used to authenticate with AWS (the other is EC2 auth).</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-comment)">        /// &lt;/</span><span style="color:var(--hds-code-block-color-string)">summary</span><span style="color:var(--hds-code-block-color-comment)">&gt;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">        public</span><span style="color:var(--hds-code-block-color-keyword)"> string</span><span style="color:var(--hds-code-block-color-function)"> GetSecretAWSAuthIAM</span><span style="color:var(--hds-code-block-color-token)">()</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-token)">        {</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">            var</span><span style="color:var(--hds-code-block-color-token)"> vaultAddr </span><span style="color:var(--hds-code-block-color-keyword)">=</span><span style="color:var(--hds-code-block-color-constant)"> Environment</span><span style="color:var(--hds-code-block-color-token)">.</span><span style="color:var(--hds-code-block-color-function)">GetEnvironmentVariable</span><span style="color:var(--hds-code-block-color-token)">(</span><span style="color:var(--hds-code-block-color-string)">&quot;VAULT_ADDR&quot;</span><span style="color:var(--hds-code-block-color-token)">);</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">            if</span><span style="color:var(--hds-code-block-color-token)">(</span><span style="color:var(--hds-code-block-color-constant)">String</span><span style="color:var(--hds-code-block-color-token)">.</span><span style="color:var(--hds-code-block-color-function)">IsNullOrEmpty</span><span style="color:var(--hds-code-block-color-token)">(vaultAddr))</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-token)">            {</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">                throw</span><span style="color:var(--hds-code-block-color-keyword)"> new</span><span style="color:var(--hds-code-block-color-function)"> System</span><span style="color:var(--hds-code-block-color-token)">.</span><span style="color:var(--hds-code-block-color-function)">ArgumentNullException</span><span style="color:var(--hds-code-block-color-token)">(</span><span style="color:var(--hds-code-block-color-string)">&quot;Vault Address&quot;</span><span style="color:var(--hds-code-block-color-token)">);</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-token)">            }</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last">
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">            var</span><span style="color:var(--hds-code-block-color-token)"> roleName </span><span style="color:var(--hds-code-block-color-keyword)">=</span><span style="color:var(--hds-code-block-color-constant)"> Environment</span><span style="color:var(--hds-code-block-color-token)">.</span><span style="color:var(--hds-code-block-color-function)">GetEnvironmentVariable</span><span style="color:var(--hds-code-block-color-token)">(</span><span style="color:var(--hds-code-block-color-string)">&quot;VAULT_ROLE&quot;</span><span style="color:var(--hds-code-block-color-token)">);</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">            if</span><span style="color:var(--hds-code-block-color-token)">(</span><span style="color:var(--hds-code-block-color-constant)">String</span><span style="color:var(--hds-code-block-color-token)">.</span><span style="color:var(--hds-code-block-color-function)">IsNullOrEmpty</span><span style="color:var(--hds-code-block-color-token)">(roleName))</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-token)">            {</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">                throw</span><span style="color:var(--hds-code-block-color-keyword)"> new</span><span style="color:var(--hds-code-block-color-function)"> System</span><span style="color:var(--hds-code-block-color-token)">.</span><span style="color:var(--hds-code-block-color-function)">ArgumentNullException</span><span style="color:var(--hds-code-block-color-token)">(</span><span style="color:var(--hds-code-block-color-string)">&quot;Vault Role Name&quot;</span><span style="color:var(--hds-code-block-color-token)">);</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-token)">            }</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last">
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">            var</span><span style="color:var(--hds-code-block-color-token)"> amazonSecurityTokenServiceConfig </span><span style="color:var(--hds-code-block-color-keyword)">=</span><span style="color:var(--hds-code-block-color-keyword)"> new</span><span style="color:var(--hds-code-block-color-function)"> AmazonSecurityTokenServiceConfig</span><span style="color:var(--hds-code-block-color-token)">();</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last">
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-comment)">            // Initialize BasicAWS Credentials w/ an accessKey and secretKey</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-function)">            Amazon</span><span style="color:var(--hds-code-block-color-token)">.</span><span style="color:var(--hds-code-block-color-function)">Runtime</span><span style="color:var(--hds-code-block-color-token)">.</span><span style="color:var(--hds-code-block-color-function)">AWSCredentials</span><span style="color:var(--hds-code-block-color-token)"> awsCredentials </span><span style="color:var(--hds-code-block-color-keyword)">=</span><span style="color:var(--hds-code-block-color-keyword)"> new</span><span style="color:var(--hds-code-block-color-function)"> BasicAWSCredentials</span><span style="color:var(--hds-code-block-color-token)">(accessKey</span><span style="color:var(--hds-code-block-color-punctuation)">:</span><span style="color:var(--hds-code-block-color-constant)"> Environment</span><span style="color:var(--hds-code-block-color-token)">.</span><span style="color:var(--hds-code-block-color-function)">GetEnvironmentVariable</span><span style="color:var(--hds-code-block-color-token)">(</span><span style="color:var(--hds-code-block-color-string)">&quot;AWS_ACCESS_KEY_ID&quot;</span><span style="color:var(--hds-code-block-color-token)">)</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-token)">                                                                secretKey</span><span style="color:var(--hds-code-block-color-punctuation)">:</span><span style="color:var(--hds-code-block-color-constant)"> Environment</span><span style="color:var(--hds-code-block-color-token)">.</span><span style="color:var(--hds-code-block-color-function)">GetEnvironmentVariable</span><span style="color:var(--hds-code-block-color-token)">(</span><span style="color:var(--hds-code-block-color-string)">&quot;AWS_SECRET_ACCESS_KEY&quot;</span><span style="color:var(--hds-code-block-color-token)">));</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last">
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-comment)">            // Construct the IAM Request and add necessary headers</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">            var</span><span style="color:var(--hds-code-block-color-token)"> iamRequest </span><span style="color:var(--hds-code-block-color-keyword)">=</span><span style="color:var(--hds-code-block-color-constant)"> GetCallerIdentityRequestMarshaller</span><span style="color:var(--hds-code-block-color-token)">.</span><span style="color:var(--hds-code-block-color-constant)">Instance</span><span style="color:var(--hds-code-block-color-token)">.</span><span style="color:var(--hds-code-block-color-function)">Marshall</span><span style="color:var(--hds-code-block-color-token)">(</span><span style="color:var(--hds-code-block-color-keyword)">new</span><span style="color:var(--hds-code-block-color-function)"> GetCallerIdentityRequest</span><span style="color:var(--hds-code-block-color-token)">());</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last">
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-constant)">            iamRequest</span><span style="color:var(--hds-code-block-color-token)">.</span><span style="color:var(--hds-code-block-color-constant)">Endpoint</span><span style="color:var(--hds-code-block-color-keyword)"> =</span><span style="color:var(--hds-code-block-color-keyword)"> new</span><span style="color:var(--hds-code-block-color-function)"> Uri</span><span style="color:var(--hds-code-block-color-token)">(</span><span style="color:var(--hds-code-block-color-constant)">amazonSecurityTokenServiceConfig</span><span style="color:var(--hds-code-block-color-token)">.</span><span style="color:var(--hds-code-block-color-function)">DetermineServiceURL</span><span style="color:var(--hds-code-block-color-token)">());</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-constant)">            iamRequest</span><span style="color:var(--hds-code-block-color-token)">.</span><span style="color:var(--hds-code-block-color-constant)">ResourcePath</span><span style="color:var(--hds-code-block-color-keyword)"> =</span><span style="color:var(--hds-code-block-color-string)"> &quot;/&quot;</span><span style="color:var(--hds-code-block-color-token)">;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last">
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-constant)">            iamRequest</span><span style="color:var(--hds-code-block-color-token)">.</span><span style="color:var(--hds-code-block-color-constant)">Headers</span><span style="color:var(--hds-code-block-color-token)">.</span><span style="color:var(--hds-code-block-color-function)">Add</span><span style="color:var(--hds-code-block-color-token)">(</span><span style="color:var(--hds-code-block-color-string)">&quot;User-Agent&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">,</span><span style="color:var(--hds-code-block-color-string)"> &quot;some-agent&quot;</span><span style="color:var(--hds-code-block-color-token)">);</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-constant)">            iamRequest</span><span style="color:var(--hds-code-block-color-token)">.</span><span style="color:var(--hds-code-block-color-constant)">Headers</span><span style="color:var(--hds-code-block-color-token)">.</span><span style="color:var(--hds-code-block-color-function)">Add</span><span style="color:var(--hds-code-block-color-token)">(</span><span style="color:var(--hds-code-block-color-string)">&quot;X-Amz-Security-Token&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">,</span><span style="color:var(--hds-code-block-color-constant)"> awsCredentials</span><span style="color:var(--hds-code-block-color-token)">.</span><span style="color:var(--hds-code-block-color-function)">GetCredentials</span><span style="color:var(--hds-code-block-color-token)">().</span><span style="color:var(--hds-code-block-color-constant)">Token</span><span style="color:var(--hds-code-block-color-token)">);</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-constant)">            iamRequest</span><span style="color:var(--hds-code-block-color-token)">.</span><span style="color:var(--hds-code-block-color-constant)">Headers</span><span style="color:var(--hds-code-block-color-token)">.</span><span style="color:var(--hds-code-block-color-function)">Add</span><span style="color:var(--hds-code-block-color-token)">(</span><span style="color:var(--hds-code-block-color-string)">&quot;Content-Type&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">,</span><span style="color:var(--hds-code-block-color-string)"> &quot;application/x-www-form-urlencoded; charset=utf-8&quot;</span><span style="color:var(--hds-code-block-color-token)">);</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last">
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">            new</span><span style="color:var(--hds-code-block-color-function)"> AWS4Signer</span><span style="color:var(--hds-code-block-color-token)">().</span><span style="color:var(--hds-code-block-color-function)">Sign</span><span style="color:var(--hds-code-block-color-token)">(iamRequest</span><span style="color:var(--hds-code-block-color-punctuation)">,</span><span style="color:var(--hds-code-block-color-token)"> amazonSecurityTokenServiceConfig</span><span style="color:var(--hds-code-block-color-punctuation)">,</span><span style="color:var(--hds-code-block-color-keyword)"> new</span><span style="color:var(--hds-code-block-color-function)"> RequestMetrics</span><span style="color:var(--hds-code-block-color-token)">()</span><span style="color:var(--hds-code-block-color-punctuation)">,</span><span style="color:var(--hds-code-block-color-constant)"> awsCredentials</span><span style="color:var(--hds-code-block-color-token)">.</span><span style="color:var(--hds-code-block-color-function)">GetCredentials</span><span style="color:var(--hds-code-block-color-token)">().</span><span style="color:var(--hds-code-block-color-constant)">AccessKey</span><span style="color:var(--hds-code-block-color-punctuation)">,</span><span style="color:var(--hds-code-block-color-constant)"> awsCredentials</span><span style="color:var(--hds-code-block-color-token)">.</span><span style="color:var(--hds-code-block-color-function)">GetCredentials</span><span style="color:var(--hds-code-block-color-token)">().</span><span style="color:var(--hds-code-block-color-constant)">SecretKey</span><span style="color:var(--hds-code-block-color-token)">);</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">            var</span><span style="color:var(--hds-code-block-color-token)"> iamSTSRequestHeaders </span><span style="color:var(--hds-code-block-color-keyword)">=</span><span style="color:var(--hds-code-block-color-constant)"> iamRequest</span><span style="color:var(--hds-code-block-color-token)">.</span><span style="color:var(--hds-code-block-color-constant)">Headers</span><span style="color:var(--hds-code-block-color-token)">;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last">
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-comment)">            // Convert headers to Base64 encoded version</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">            var</span><span style="color:var(--hds-code-block-color-token)"> base64EncodedIamRequestHeaders </span><span style="color:var(--hds-code-block-color-keyword)">=</span><span style="color:var(--hds-code-block-color-constant)"> Convert</span><span style="color:var(--hds-code-block-color-token)">.</span><span style="color:var(--hds-code-block-color-function)">ToBase64String</span><span style="color:var(--hds-code-block-color-token)">(</span><span style="color:var(--hds-code-block-color-constant)">Encoding</span><span style="color:var(--hds-code-block-color-token)">.</span><span style="color:var(--hds-code-block-color-constant)">UTF8</span><span style="color:var(--hds-code-block-color-token)">.</span><span style="color:var(--hds-code-block-color-function)">GetBytes</span><span style="color:var(--hds-code-block-color-token)">(</span><span style="color:var(--hds-code-block-color-constant)">JsonConvert</span><span style="color:var(--hds-code-block-color-token)">.</span><span style="color:var(--hds-code-block-color-function)">SerializeObject</span><span style="color:var(--hds-code-block-color-token)">(iamSTSRequestHeaders)));</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last">
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-function)">            IAuthMethodInfo</span><span style="color:var(--hds-code-block-color-token)"> authMethod </span><span style="color:var(--hds-code-block-color-keyword)">=</span><span style="color:var(--hds-code-block-color-keyword)"> new</span><span style="color:var(--hds-code-block-color-function)"> IAMAWSAuthMethodInfo</span><span style="color:var(--hds-code-block-color-token)">(roleName</span><span style="color:var(--hds-code-block-color-punctuation)">:</span><span style="color:var(--hds-code-block-color-token)"> roleName</span><span style="color:var(--hds-code-block-color-punctuation)">,</span><span style="color:var(--hds-code-block-color-token)"> requestHeaders</span><span style="color:var(--hds-code-block-color-punctuation)">:</span><span style="color:var(--hds-code-block-color-token)"> base64EncodedIamRequestHeaders);</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">            var</span><span style="color:var(--hds-code-block-color-token)"> vaultClientSettings </span><span style="color:var(--hds-code-block-color-keyword)">=</span><span style="color:var(--hds-code-block-color-keyword)"> new</span><span style="color:var(--hds-code-block-color-function)"> VaultClientSettings</span><span style="color:var(--hds-code-block-color-token)">(vaultAddr</span><span style="color:var(--hds-code-block-color-punctuation)">,</span><span style="color:var(--hds-code-block-color-token)"> authMethod);</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last">
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-function)">            IVaultClient</span><span style="color:var(--hds-code-block-color-token)"> vaultClient </span><span style="color:var(--hds-code-block-color-keyword)">=</span><span style="color:var(--hds-code-block-color-keyword)"> new</span><span style="color:var(--hds-code-block-color-function)"> VaultClient</span><span style="color:var(--hds-code-block-color-token)">(vaultClientSettings);</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last">
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-comment)">            // We can retrieve the secret from the VaultClient object</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-function)">            Secret</span><span style="color:var(--hds-code-block-color-token)">&lt;</span><span style="color:var(--hds-code-block-color-function)">SecretData</span><span style="color:var(--hds-code-block-color-token)">&gt; kv2Secret </span><span style="color:var(--hds-code-block-color-keyword)">=</span><span style="color:var(--hds-code-block-color-constant)"> null</span><span style="color:var(--hds-code-block-color-token)">;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-token)">            kv2Secret </span><span style="color:var(--hds-code-block-color-keyword)">=</span><span style="color:var(--hds-code-block-color-constant)"> vaultClient</span><span style="color:var(--hds-code-block-color-token)">.</span><span style="color:var(--hds-code-block-color-constant)">V1</span><span style="color:var(--hds-code-block-color-token)">.</span><span style="color:var(--hds-code-block-color-constant)">Secrets</span><span style="color:var(--hds-code-block-color-token)">.</span><span style="color:var(--hds-code-block-color-constant)">KeyValue</span><span style="color:var(--hds-code-block-color-token)">.</span><span style="color:var(--hds-code-block-color-constant)">V2</span><span style="color:var(--hds-code-block-color-token)">.</span><span style="color:var(--hds-code-block-color-function)">ReadSecretAsync</span><span style="color:var(--hds-code-block-color-token)">(path</span><span style="color:var(--hds-code-block-color-punctuation)">:</span><span style="color:var(--hds-code-block-color-string)"> &quot;/creds&quot;</span><span style="color:var(--hds-code-block-color-token)">).</span><span style="color:var(--hds-code-block-color-constant)">Result</span><span style="color:var(--hds-code-block-color-token)">;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last">
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">            var</span><span style="color:var(--hds-code-block-color-token)"> password </span><span style="color:var(--hds-code-block-color-keyword)">=</span><span style="color:var(--hds-code-block-color-constant)"> kv2Secret</span><span style="color:var(--hds-code-block-color-token)">.</span><span style="color:var(--hds-code-block-color-constant)">Data</span><span style="color:var(--hds-code-block-color-token)">.</span><span style="color:var(--hds-code-block-color-constant)">Data</span><span style="color:var(--hds-code-block-color-token)">[</span><span style="color:var(--hds-code-block-color-string)">&quot;password&quot;</span><span style="color:var(--hds-code-block-color-token)">];</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last">
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">            return</span><span style="color:var(--hds-code-block-color-constant)"> password</span><span style="color:var(--hds-code-block-color-token)">.</span><span style="color:var(--hds-code-block-color-function)">ToString</span><span style="color:var(--hds-code-block-color-token)">();</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-token)">        }</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-token)">    }</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-token)">}</span></span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary-white hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":R5adddal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":R7dadddal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div></div></div></div></div></div><a href="https://github.com/hashicorp/vault/blob/main/website/../content/docs/auth/aws.mdx" target="_blank" class="edit-on-github-link_editLink__AsG8Z sidebar-sidecar-layout_editOnGithubLink__SDraB" rel="noreferrer"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="edit-on-github-link_editLinkIcon__wMtY9"><path fill="currentColor" fill-rule="evenodd" d="M8 1C4.133 1 1 4.13 1 7.993c0 3.09 2.006 5.71 4.787 6.635.35.064.478-.152.478-.337 0-.166-.006-.606-.01-1.19-1.947.423-2.357-.937-2.357-.937-.319-.808-.778-1.023-.778-1.023-.635-.434.048-.425.048-.425.703.05 1.073.72 1.073.72.624 1.07 1.638.76 2.037.582.063-.452.244-.76.444-.935-1.554-.176-3.188-.776-3.188-3.456 0-.763.273-1.388.72-1.876-.072-.177-.312-.888.07-1.85 0 0 .586-.189 1.924.716A6.711 6.711 0 018 4.381c.595.003 1.194.08 1.753.236 1.336-.905 1.923-.717 1.923-.717.382.963.142 1.674.07 1.85.448.49.72 1.114.72 1.877 0 2.686-1.638 3.278-3.197 3.45.251.216.475.643.475 1.296 0 .934-.009 1.688-.009 1.918 0 .187.127.404.482.336A6.996 6.996 0 0015 7.993 6.997 6.997 0 008 1z" clip-rule="evenodd"></path></svg>Edit this page on GitHub</a></main><div class="sidebar-sidecar-layout_sidecarPosition__WtTq0"><div class="sidebar-sidecar-layout_sidecarTopSlot__qRAEI"></div><div class="sidecar-scroll-container_root__a8nIj"><div class="sidecar-scroll-container_scrollContainer__Dw9id"><div><nav aria-labelledby="react-aria-89"><p id="react-aria-89" class="outline-nav_navLabel__HrjQb hds-typography-body-100">On this page:</p><ol class="outline-nav_listRoot__Sm1fr"><li><a class="outline-link_root__S7fQg hds-typography-body-200 g-focus-ring-from-box-shadow" href="/vault/docs/auth/aws#aws-auth-method">AWS auth method</a></li><li><a class="outline-link_root__S7fQg hds-typography-body-200 g-focus-ring-from-box-shadow" href="/vault/docs/auth/aws#authentication-workflow">Authentication workflow</a></li><li><a class="outline-link_root__S7fQg hds-typography-body-200 g-focus-ring-from-box-shadow" href="/vault/docs/auth/aws#authorization-workflow">Authorization workflow</a></li><li><a class="outline-link_root__S7fQg hds-typography-body-200 g-focus-ring-from-box-shadow" href="/vault/docs/auth/aws#iam-authentication-inferences">IAM authentication inferences</a></li><li><a class="outline-link_root__S7fQg hds-typography-body-200 g-focus-ring-from-box-shadow" href="/vault/docs/auth/aws#mixing-authentication-types">Mixing authentication types</a></li><li><a class="outline-link_root__S7fQg hds-typography-body-200 g-focus-ring-from-box-shadow" href="/vault/docs/auth/aws#comparison-of-the-iam-and-ec2-methods">Comparison of the IAM and EC2 methods</a></li><li><a class="outline-link_root__S7fQg hds-typography-body-200 g-focus-ring-from-box-shadow" href="/vault/docs/auth/aws#recommended-vault-iam-policy">Recommended Vault IAM policy</a></li><li><a class="outline-link_root__S7fQg hds-typography-body-200 g-focus-ring-from-box-shadow" href="/vault/docs/auth/aws#plugin-workload-identity-federation-wif">Plugin Workload Identity Federation (WIF)</a></li><li><a class="outline-link_root__S7fQg hds-typography-body-200 g-focus-ring-from-box-shadow" href="/vault/docs/auth/aws#client-nonce">Client nonce</a></li><li><a class="outline-link_root__S7fQg hds-typography-body-200 g-focus-ring-from-box-shadow" href="/vault/docs/auth/aws#advanced-options-and-caveats">Advanced options and caveats</a></li><li><a class="outline-link_root__S7fQg hds-typography-body-200 g-focus-ring-from-box-shadow" href="/vault/docs/auth/aws#authentication">Authentication</a></li><li><a class="outline-link_root__S7fQg hds-typography-body-200 g-focus-ring-from-box-shadow" href="/vault/docs/auth/aws#api">API</a></li><li><a class="outline-link_root__S7fQg hds-typography-body-200 g-focus-ring-from-box-shadow" href="/vault/docs/auth/aws#code-example">Code example</a></li></ol></nav></div></div></div></div></div></div></div></div></div><div class="base-layout_footer__HGqK8 base-layout_showFooterTopBorder__4_CwH"><footer class="footer_root__qJO_k"><span class="footer_logoAndSwitcher__CJkN3"><a href="https://www.hashicorp.com/" aria-label="Go to HashiCorp home page" class="footer_logo__pe9i3 g-focus-ring-from-box-shadow"><div><svg xmlns="http://www.w3.org/2000/svg" width="266" height="65" fill="none" viewBox="0 0 266 65"><path fill="#000" d="M71.823 62.023c-.817 0-1.171-.519-1.253-1.174h-.081c-.3.874-1.09 1.365-2.097 1.365-1.524 0-2.423-.846-2.423-2.185 0-1.338.98-2.13 3.077-2.13h1.443v-.71c0-1.038-.572-1.584-1.716-1.584-1.143 0-1.443.41-1.851 1.093l-.68-.629c.38-.764 1.252-1.42 2.559-1.42 1.306 0 2.777.929 2.777 2.458v3.987h.816v.984h-.626zm-1.307-2.103v-1.202h-1.498c-1.28 0-1.85.383-1.85 1.093v.3c0 .71.57 1.12 1.442 1.12.871 0 1.906-.573 1.906-1.31M74.137 62.023v-7.265h1.116v1.175h.055c.354-.82.98-1.366 2.042-1.366 1.062 0 2.423 1.01 2.423 2.786v4.67h-1.117v-4.452c0-1.283-.571-1.966-1.633-1.966s-1.77.464-1.77 1.393v5.052h-1.116zM84.646 62.023v-.983h1.389v-7.866h-1.389v-.983h3.92v.983h-1.388v7.866h1.389v.983zM90.8 52.191h4.029c1.606 0 2.614 1.01 2.614 2.54s-.953 1.994-1.58 2.076v.082c.708.054 1.934.655 1.934 2.294 0 1.638-1.09 2.84-2.532 2.84h-4.466zm1.17 4.26h2.723c.925 0 1.497-.49 1.497-1.365v-.492c0-.873-.572-1.365-1.497-1.365H91.97zm0 4.534h2.913c1.008 0 1.634-.546 1.634-1.53v-.49c0-.984-.626-1.53-1.634-1.53H91.97v3.523zM100.056 52.191h1.579l2.805 5.298h.081l2.832-5.298h1.525v9.832h-1.144v-8.275h-.082l-.816 1.639-2.342 4.287-2.341-4.287-.817-1.64h-.082v8.276h-1.143v-9.832zM113.86 57.162c0-3.278 1.47-5.135 3.948-5.135 2.477 0 2.75.792 3.376 2.158l-.953.573c-.381-1.01-1.198-1.666-2.423-1.666s-2.696 1.339-2.696 3.36v1.474c0 2.021 1.008 3.25 2.696 3.25 1.688 0 2.096-.71 2.505-1.775l.953.601c-.627 1.393-1.825 2.24-3.431 2.24-2.478 0-3.948-1.748-3.948-5.026zM122.491 58.39c0-2.32 1.334-3.796 3.267-3.796 1.933 0 3.267 1.503 3.267 3.797 0 2.294-1.334 3.796-3.267 3.796-1.933 0-3.267-1.502-3.267-3.796m5.336.52v-1.038c0-1.53-.844-2.294-2.069-2.294s-2.069.737-2.069 2.294v1.038c0 1.53.844 2.294 2.069 2.294s2.069-.738 2.069-2.294M130.958 62.023v-7.265h1.116v1.175h.055c.327-.738.817-1.366 1.96-1.366 1.144 0 1.824.437 2.205 1.475h.028c.272-.792.98-1.475 2.205-1.475s2.369 1.01 2.369 2.786v4.67h-1.117v-4.452c0-1.283-.49-1.966-1.579-1.966s-1.688.464-1.688 1.393v5.052h-1.116V57.6c0-1.284-.49-1.967-1.552-1.967s-1.715.465-1.715 1.393v5.053h-1.116zM143.292 54.758h1.116v1.175h.054c.381-.929 1.117-1.366 2.124-1.366 1.824 0 2.94 1.475 2.94 3.796 0 2.322-1.143 3.797-2.94 3.797s-1.688-.465-2.124-1.366h-.054v3.987h-1.116V54.704zm5.036 4.26V57.79c0-1.284-.789-2.158-2.042-2.158-1.252 0-1.878.601-1.878 1.393v2.704c0 .956.844 1.475 1.878 1.475 1.035 0 2.042-.874 2.042-2.158zM156.768 62.023c-.816 0-1.17-.519-1.252-1.174h-.082c-.299.874-1.089 1.365-2.096 1.365-1.525 0-2.423-.846-2.423-2.185 0-1.338.98-2.13 3.076-2.13h1.443v-.71c0-1.038-.571-1.584-1.715-1.584-1.143 0-1.443.41-1.851 1.093l-.681-.629c.381-.764 1.253-1.42 2.559-1.42 1.307 0 2.777.929 2.777 2.458v3.987h.817v.984h-.626zm-1.334-2.103v-1.202h-1.497c-1.28 0-1.851.383-1.851 1.093v.3c0 .71.571 1.12 1.443 1.12.871 0 1.905-.573 1.905-1.31M159.056 62.023v-7.265h1.116v1.175h.054c.354-.82.98-1.366 2.042-1.366 1.062 0 2.423 1.01 2.423 2.786v4.67h-1.116v-4.452c0-1.283-.572-1.966-1.633-1.966-1.062 0-1.77.464-1.77 1.393v5.052h-1.116zM171.471 54.758h1.116l-3.24 8.958c-.327.874-.626 1.12-1.688 1.12h-.572v-.983h1.144l.544-1.557-2.722-7.538h1.116l1.742 4.944.327 1.174h.082l.381-1.174 1.742-4.944zM66.132 12.863h5.582v12.045H84.51V12.863h5.636V42.36H84.51V29.96H71.714v12.4h-5.582zM93.74 36.651c0-4.424 3.104-5.899 6.888-6.8l6.398-1.475v-.519c0-2.157-1.388-3.496-3.621-3.496-2.232 0-3.54 1.23-3.948 3.25l-4.791-.546c.707-4.042 4.11-6.664 8.957-6.664 4.846 0 8.821 3.387 8.821 8.303v8.63c0 .546.164.71.545.71h1.17v4.288h-3.267c-2.069 0-2.995-.683-2.995-2.349 0-1.666.082-1.092.3-1.857l-.463-.164c-1.525 3.277-3.73 4.725-6.888 4.725s-7.106-2.403-7.106-6.063zm8.549 2.103c2.777 0 4.737-2.02 4.737-5.216v-1.693l-4.574 1.092c-2.314.546-3.267 1.338-3.267 3.113 0 1.776 1.225 2.704 3.104 2.704M116.147 36.542l5.119-1.01c.544 2.266 2.341 3.413 4.737 3.413s3.73-.983 3.73-2.621c0-1.64-1.606-1.994-4.629-2.54-3.811-.601-8.766-1.311-8.766-6.61 0-5.298 3.403-6.8 8.957-6.8s8.74 2.076 9.611 6.227l-5.173.847c-.463-2.104-2.178-3.196-4.465-3.196s-3.649 1.065-3.649 2.485 1.634 1.994 4.656 2.54c3.785.601 8.74 1.311 8.74 6.61 0 5.298-3.376 6.964-9.039 6.964s-8.958-2.103-9.883-6.336zM143.836 42.387h-5.472V12.044h5.472v9.45c0 1.092-.218 2.157-.517 3.714l.517.164c1.307-3.114 3.267-4.943 6.943-4.943 3.675 0 7.133 2.95 7.133 7.974v13.984h-5.473v-13.82c0-2.458-1.225-3.796-3.648-3.796s-4.955 2.103-4.955 5.817zM169.129 36.924c0 .847.3 1.093.926 1.093h2.396v4.342h-4.955c-2.478 0-3.812-1.393-3.812-3.96V25.263h-3.022V20.92h8.494v16.004zm-6.207-21.74c0-1.856 1.524-3.386 3.321-3.386 1.797 0 3.322 1.53 3.322 3.387a3.305 3.305 0 0 1-3.322 3.332 3.305 3.305 0 0 1-3.321-3.332M174.248 27.639c0-8.85 5.799-15.24 14.185-15.24 8.385 0 11.897 4.097 13.177 9.64l-5.554 1.34c-1.062-3.879-3.621-6.064-7.651-6.064-4.029 0-8.358 4.26-8.358 10.324 0 6.063 3.376 10.323 8.576 10.323 5.2 0 6.643-2.24 7.705-6.363l5.255.6c-1.253 6.61-6.126 10.707-13.014 10.707-6.889 0-14.321-6.419-14.321-15.24zM203.87 31.626c0-6.527 4.574-11.197 10.918-11.197 6.343 0 10.917 4.67 10.917 11.197 0 6.527-4.574 11.252-10.917 11.252-6.344 0-10.918-4.725-10.918-11.252m16.39 0c0-4.042-2.151-6.746-5.472-6.746-3.322 0-5.473 2.704-5.473 6.746s2.178 6.8 5.473 6.8c3.294 0 5.472-2.703 5.472-6.8M229.163 20.92h5.037v.847c0 1.147-.055 2.075-.381 3.796l.517.137c.79-2.813 2.26-4.752 5.717-4.752h1.552v5.325h-2.232c-3.077 0-4.738 1.857-4.738 5.271v10.87h-5.472v-21.44zM244.165 20.92h5.39v.983c0 .984-.081 1.72-.381 3.469l.517.136c1.307-3.413 3.73-5.052 6.889-5.052 5.2 0 9.338 4.288 9.338 11.197 0 6.91-4.111 11.253-9.338 11.253-5.228 0-5.473-1.64-6.807-5.108l-.463.164c.245 1.694.327 2.485.327 3.414v9.64h-5.472zm16.308 10.706c0-4.178-2.26-6.746-5.472-6.746-3.213 0-5.473 2.568-5.473 6.746 0 4.179 2.26 6.8 5.473 6.8 3.212 0 5.472-2.567 5.472-6.8M21.781 0 0 12.618v30.26l8.168 4.725v-30.26L21.78 9.476z"/><path fill="#000" d="M30.466 0v24.116h-8.685v-9.013l-8.195 4.752v30.889l8.195 4.724V31.435h8.685v8.958l8.195-4.752V4.752z"/><path fill="#000" d="m30.466 55.496 21.781-12.618v-30.26l-8.195-4.725v30.26L30.466 46.02z"/></svg></div></a><span class="footer_themeSwitcher__CPJxw hds-font-weight-regular"><label class="theme-switcher_label__7Boh2 hds-typography-body-200" for="react-aria-103">Theme</label></span></span><ul class="footer_links__t81SU"><li><a class="footer_linkAction__bR3OW g-focus-ring-from-box-shadow" href="/certifications"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular">Certifications</span></a></li><li><a class="footer_linkAction__bR3OW g-focus-ring-from-box-shadow" href="https://status.hashicorp.com"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular">System Status</span></a></li><li><button class="footer_linkAction__bR3OW g-focus-ring-from-box-shadow"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular">Cookie Manager</span></button></li><li><a class="footer_linkAction__bR3OW g-focus-ring-from-box-shadow" href="https://www.hashicorp.com/terms-of-service"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular">Terms of Use</span></a></li><li><a class="footer_linkAction__bR3OW g-focus-ring-from-box-shadow" href="https://www.hashicorp.com/trust/security"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular">Security</span></a></li><li><a class="footer_linkAction__bR3OW g-focus-ring-from-box-shadow" href="https://www.hashicorp.com/privacy"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular">Privacy</span></a></li><li><a class="footer_linkAction__bR3OW g-focus-ring-from-box-shadow" href="https://www.hashicorp.com/trademark-policy"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular">Trademark Policy</span></a></li><li><a class="footer_linkAction__bR3OW g-focus-ring-from-box-shadow" href="https://www.hashicorp.com/trade-controls"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular">Trade Controls</span></a></li><li><a class="footer_linkAction__bR3OW g-focus-ring-from-box-shadow" href="https://www.hashicorp.com/trust/accessibility"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular">Accessibility</span></a></li><li><a class="footer_linkAction__bR3OW g-focus-ring-from-box-shadow" aria-describedby="opens-in-new-tab-label-react-aria-112" target="_blank" href="https://forms.gle/fnHLuNahLEhjuKvE6"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular">Give Feedback</span><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><g fill="currentColor"><path d="M9 .75A.75.75 0 019.75 0h4.5c.206 0 .393.083.529.218l.001.002.002.001A.748.748 0 0115 .75v4.5a.75.75 0 01-1.5 0V2.56L7.28 8.78a.75.75 0 01-1.06-1.06l6.22-6.22H9.75A.75.75 0 019 .75z"></path><path d="M3.25 3.5a.75.75 0 00-.75.75v7.5c0 .414.336.75.75.75h7.5a.75.75 0 00.75-.75v-4a.75.75 0 011.5 0v4A2.25 2.25 0 0110.75 14h-7.5A2.25 2.25 0 011 11.75v-7.5A2.25 2.25 0 013.25 2h4a.75.75 0 010 1.5h-4z"></path></g></svg></a><span class="g-screen-reader-only" id="opens-in-new-tab-label-react-aria-112">(opens in new tab)</span></li></ul></footer></div></div></div><div style="position:fixed;z-index:99;top:16px;left:16px;right:16px;bottom:16px;pointer-events:none;inset:24px"></div><!--$--><!--/$--></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"layoutProps":{"breadcrumbLinks":[{"title":"Developer","url":"/"},{"title":"Vault","url":"/vault"},{"title":"Documentation","url":"/vault/docs","isCurrentPage":false},{"title":"AuthN methods","url":"/vault/docs/auth"},{"title":"AWS","url":"/vault/docs/auth/aws","isCurrentPage":true}],"sidebarNavDataLevels":[{"levelButtonProps":{"levelDownButtonText":"Vault Home"},"menuItems":[{"leadingIconName":"home","title":"HashiCorp Developer","href":"/"},{"leadingIconName":"guide","title":"Tutorials","href":"/tutorials"},{"divider":true},{"heading":"Products"},{"leadingIconName":"hcp","title":"HashiCorp Cloud Platform","href":"/hcp"},{"leadingIconName":"terraform","title":"Terraform","href":"/terraform"},{"leadingIconName":"packer","title":"Packer","href":"/packer"},{"leadingIconName":"consul","title":"Consul","href":"/consul"},{"leadingIconName":"vault","title":"Vault","href":"/vault"},{"leadingIconName":"boundary","title":"Boundary","href":"/boundary"},{"leadingIconName":"nomad","title":"Nomad","href":"/nomad"},{"leadingIconName":"waypoint","title":"Waypoint","href":"/waypoint"},{"leadingIconName":"vagrant","title":"Vagrant","href":"/vagrant"}],"showFilterInput":false,"title":"Main Menu"},{"levelButtonProps":{"levelUpButtonText":"Main Menu","levelDownButtonText":"Previous"},"menuItems":[{"title":"Vault","fullPath":"/vault","theme":"vault"},{"title":"Install","fullPath":"/vault/install"},{"title":"Tutorials","fullPath":"/vault/tutorials"},{"title":"Documentation","fullPath":"/vault/docs"},{"title":"CLI","fullPath":"/vault/docs/commands"},{"title":"APIs","fullPath":"/vault/api-docs"},{"title":"Integrations","fullPath":"/vault/integrations"}],"showFilterInput":false,"title":"Vault","visuallyHideTitle":true},{"backToLinkProps":{"text":"Vault Home","href":"/vault"},"levelButtonProps":{"levelUpButtonText":"Vault Home"},"menuItems":[{"title":"Documentation","fullPath":"/vault/docs","theme":"vault"},{"title":"About Vault","routes":[{"title":"What is Vault?","path":"about-vault/what-is-vault","filePath":"../content/docs/about-vault/what-is-vault.mdx","fullPath":"/vault/docs/about-vault/what-is-vault","id":"sidebar-nav-item-1"},{"title":"Why use Vault?","routes":[{"title":"Solve security problems","path":"about-vault/why-use-vault","filePath":"../content/docs/about-vault/why-use-vault/index.mdx","fullPath":"/vault/docs/about-vault/why-use-vault","id":"sidebar-nav-item-3"},{"title":"Manage 3rd-party secrets","path":"about-vault/why-use-vault/3rd-party-secrets","filePath":"../content/docs/about-vault/why-use-vault/3rd-party-secrets.mdx","fullPath":"/vault/docs/about-vault/why-use-vault/3rd-party-secrets","id":"sidebar-nav-item-4"},{"title":"Manage certificates","path":"about-vault/why-use-vault/certificates","filePath":"../content/docs/about-vault/why-use-vault/certificates.mdx","fullPath":"/vault/docs/about-vault/why-use-vault/certificates","id":"sidebar-nav-item-5"},{"title":"Manage identities","path":"about-vault/why-use-vault/identities","filePath":"../content/docs/about-vault/why-use-vault/identities.mdx","fullPath":"/vault/docs/about-vault/why-use-vault/identities","id":"sidebar-nav-item-6"},{"title":"Manage static secrets","path":"about-vault/why-use-vault/static-secrets","filePath":"../content/docs/about-vault/why-use-vault/static-secrets.mdx","fullPath":"/vault/docs/about-vault/why-use-vault/static-secrets","id":"sidebar-nav-item-7"},{"title":"Secure sensitive data","path":"about-vault/why-use-vault/sensitive-data","filePath":"../content/docs/about-vault/why-use-vault/sensitive-data.mdx","fullPath":"/vault/docs/about-vault/why-use-vault/sensitive-data","id":"sidebar-nav-item-8"},{"title":"Support regulatory compliance","path":"about-vault/why-use-vault/regulatory-compliance","filePath":"../content/docs/about-vault/why-use-vault/regulatory-compliance.mdx","fullPath":"/vault/docs/about-vault/why-use-vault/regulatory-compliance","id":"sidebar-nav-item-9"}],"id":"sidebar-nav-item-2"},{"title":"How Vault works","path":"about-vault/how-vault-works","filePath":"../content/docs/about-vault/how-vault-works.mdx","fullPath":"/vault/docs/about-vault/how-vault-works","id":"sidebar-nav-item-10"}],"id":"sidebar-nav-item-0"},{"title":"Partnerships","routes":[{"title":"Verification and validation","path":"partners","filePath":"../content/docs/partners/index.mdx","fullPath":"/vault/docs/partners","id":"sidebar-nav-item-12"},{"title":"Verified protocols","path":"partners/protocols","filePath":"../content/docs/partners/protocols.mdx","fullPath":"/vault/docs/partners/protocols","id":"sidebar-nav-item-13"},{"title":"HSM partners","path":"partners/hsm","filePath":"../content/docs/partners/hsm.mdx","fullPath":"/vault/docs/partners/hsm","id":"sidebar-nav-item-14"},{"title":"External key partners","path":"partners/external-keys","filePath":"../content/docs/partners/external-keys.mdx","fullPath":"/vault/docs/partners/external-keys","id":"sidebar-nav-item-15"},{"title":"Partner program","path":"partners/program","filePath":"../content/docs/partners/program.mdx","fullPath":"/vault/docs/partners/program","id":"sidebar-nav-item-16"}],"id":"sidebar-nav-item-11"},{"title":"Key concepts","routes":[{"title":"Overview","path":"concepts","filePath":"../content/docs/concepts/index.mdx","fullPath":"/vault/docs/concepts","id":"sidebar-nav-item-18"},{"title":"'Dev' Server","path":"concepts/dev-server","filePath":"../content/docs/concepts/dev-server.mdx","fullPath":"/vault/docs/concepts/dev-server","id":"sidebar-nav-item-19"},{"title":"Seal/Unseal","path":"concepts/seal","filePath":"../content/docs/concepts/seal.mdx","fullPath":"/vault/docs/concepts/seal","id":"sidebar-nav-item-20"},{"title":"Namespace API Lock","path":"concepts/namespace-api-lock","filePath":"../content/docs/concepts/namespace-api-lock.mdx","fullPath":"/vault/docs/concepts/namespace-api-lock","id":"sidebar-nav-item-21"},{"title":"Lease, Renew, and Revoke","path":"concepts/lease","filePath":"../content/docs/concepts/lease.mdx","fullPath":"/vault/docs/concepts/lease","id":"sidebar-nav-item-22"},{"title":"Authentication","path":"concepts/auth","filePath":"../content/docs/concepts/auth.mdx","fullPath":"/vault/docs/concepts/auth","id":"sidebar-nav-item-23"},{"title":"Tokens","path":"concepts/tokens","filePath":"../content/docs/concepts/tokens.mdx","fullPath":"/vault/docs/concepts/tokens","id":"sidebar-nav-item-24"},{"title":"Identity","path":"concepts/identity","filePath":"../content/docs/concepts/identity.mdx","fullPath":"/vault/docs/concepts/identity","id":"sidebar-nav-item-25"},{"title":"OIDC Provider","path":"concepts/oidc-provider","filePath":"../content/docs/concepts/oidc-provider.mdx","fullPath":"/vault/docs/concepts/oidc-provider","id":"sidebar-nav-item-26"},{"title":"Response Wrapping","path":"concepts/response-wrapping","filePath":"../content/docs/concepts/response-wrapping.mdx","fullPath":"/vault/docs/concepts/response-wrapping","id":"sidebar-nav-item-27"},{"title":"Policies","path":"concepts/policies","filePath":"../content/docs/concepts/policies.mdx","fullPath":"/vault/docs/concepts/policies","id":"sidebar-nav-item-28"},{"title":"Password Policies","path":"concepts/password-policies","filePath":"../content/docs/concepts/password-policies.mdx","fullPath":"/vault/docs/concepts/password-policies","id":"sidebar-nav-item-29"},{"title":"Username Templating","path":"concepts/username-templating","filePath":"../content/docs/concepts/username-templating.mdx","fullPath":"/vault/docs/concepts/username-templating","id":"sidebar-nav-item-30"},{"title":"High Availability","path":"concepts/ha","filePath":"../content/docs/concepts/ha.mdx","fullPath":"/vault/docs/concepts/ha","id":"sidebar-nav-item-31"},{"title":"Production hardening","path":"concepts/production-hardening","filePath":"../content/docs/concepts/production-hardening.mdx","fullPath":"/vault/docs/concepts/production-hardening","id":"sidebar-nav-item-32"},{"title":"Storage","path":"concepts/storage","filePath":"../content/docs/concepts/storage.mdx","fullPath":"/vault/docs/concepts/storage","id":"sidebar-nav-item-33"},{"title":"Tune server performance","path":"concepts/tune-server-performance","filePath":"../content/docs/concepts/tune-server-performance.mdx","fullPath":"/vault/docs/concepts/tune-server-performance","id":"sidebar-nav-item-34"},{"title":"Cloud access management","path":"concepts/cloud-access-management","filePath":"../content/docs/concepts/cloud-access-management.mdx","fullPath":"/vault/docs/concepts/cloud-access-management","id":"sidebar-nav-item-35"},{"title":"Integrated Storage","routes":[{"title":"Overview","path":"concepts/integrated-storage","filePath":"../content/docs/concepts/integrated-storage/index.mdx","fullPath":"/vault/docs/concepts/integrated-storage","id":"sidebar-nav-item-37"},{"title":"Autopilot","path":"concepts/integrated-storage/autopilot","filePath":"../content/docs/concepts/integrated-storage/autopilot.mdx","fullPath":"/vault/docs/concepts/integrated-storage/autopilot","id":"sidebar-nav-item-38"},{"title":"Migration checklist","path":"concepts/integrated-storage/migration-checklist","filePath":"../content/docs/concepts/integrated-storage/migration-checklist.mdx","fullPath":"/vault/docs/concepts/integrated-storage/migration-checklist","id":"sidebar-nav-item-39"},{"title":"Migrate Consul storage","path":"concepts/integrated-storage/migrate-consul-storage","filePath":"../content/docs/concepts/integrated-storage/migrate-consul-storage.mdx","fullPath":"/vault/docs/concepts/integrated-storage/migrate-consul-storage","id":"sidebar-nav-item-40"}],"id":"sidebar-nav-item-36"},{"title":"PGP, GnuPG, and Keybase","path":"concepts/pgp-gpg-keybase","filePath":"../content/docs/concepts/pgp-gpg-keybase.mdx","fullPath":"/vault/docs/concepts/pgp-gpg-keybase","id":"sidebar-nav-item-41"},{"title":"Recovery Mode","path":"concepts/recovery-mode","filePath":"../content/docs/concepts/recovery-mode.mdx","fullPath":"/vault/docs/concepts/recovery-mode","id":"sidebar-nav-item-42"},{"title":"Resource Quotas","path":"concepts/resource-quotas","filePath":"../content/docs/concepts/resource-quotas.mdx","fullPath":"/vault/docs/concepts/resource-quotas","id":"sidebar-nav-item-43"},{"title":"Billing Start Date","path":"concepts/billing-start-date","filePath":"../content/docs/concepts/billing-start-date.mdx","fullPath":"/vault/docs/concepts/billing-start-date","id":"sidebar-nav-item-44"},{"title":"Client count","routes":[{"title":"Clients and entities","path":"concepts/client-count","filePath":"../content/docs/concepts/client-count/index.mdx","fullPath":"/vault/docs/concepts/client-count","id":"sidebar-nav-item-46"},{"title":"Client count calculation","path":"concepts/client-count/counting","filePath":"../content/docs/concepts/client-count/counting.mdx","fullPath":"/vault/docs/concepts/client-count/counting","id":"sidebar-nav-item-47"},{"title":"Client usage","path":"concepts/client-count/client-usage","filePath":"../content/docs/concepts/client-count/client-usage.mdx","fullPath":"/vault/docs/concepts/client-count/client-usage","id":"sidebar-nav-item-48"},{"title":"FAQ","path":"concepts/client-count/faq","filePath":"../content/docs/concepts/client-count/faq.mdx","fullPath":"/vault/docs/concepts/client-count/faq","id":"sidebar-nav-item-49"}],"id":"sidebar-nav-item-45"},{"title":"Transform","path":"concepts/transform","filePath":"../content/docs/concepts/transform.mdx","fullPath":"/vault/docs/concepts/transform","id":"sidebar-nav-item-50"},{"title":"Mount Migration","path":"concepts/mount-migration","filePath":"../content/docs/concepts/mount-migration.mdx","fullPath":"/vault/docs/concepts/mount-migration","id":"sidebar-nav-item-51"},{"title":"Duration String Format","path":"concepts/duration-format","filePath":"../content/docs/concepts/duration-format.mdx","fullPath":"/vault/docs/concepts/duration-format","id":"sidebar-nav-item-52"},{"title":"User lockout","path":"concepts/user-lockout","filePath":"../content/docs/concepts/user-lockout.mdx","fullPath":"/vault/docs/concepts/user-lockout","id":"sidebar-nav-item-53"},{"title":"Events","path":"concepts/events","badge":{"text":"ENT","type":"filled","color":"neutral"},"filePath":"../content/docs/concepts/events.mdx","fullPath":"/vault/docs/concepts/events","id":"sidebar-nav-item-54"},{"title":"Filtering","path":"concepts/filtering","badge":{"text":"ENT","type":"filled","color":"neutral"},"filePath":"../content/docs/concepts/filtering.mdx","fullPath":"/vault/docs/concepts/filtering","id":"sidebar-nav-item-55"},{"title":"Adaptive overload protection","badge":{"text":"ENT","type":"filled","color":"neutral"},"routes":[{"title":"Overview","path":"concepts/adaptive-overload-protection","filePath":"../content/docs/concepts/adaptive-overload-protection/index.mdx","fullPath":"/vault/docs/concepts/adaptive-overload-protection","id":"sidebar-nav-item-57"},{"title":"Vault server temporarily overloaded","path":"concepts/adaptive-overload-protection/vault-server-temporarily-overloaded","filePath":"../content/docs/concepts/adaptive-overload-protection/vault-server-temporarily-overloaded.mdx","fullPath":"/vault/docs/concepts/adaptive-overload-protection/vault-server-temporarily-overloaded","id":"sidebar-nav-item-58"}],"id":"sidebar-nav-item-56"}],"id":"sidebar-nav-item-17"},{"title":"Quickstarts","routes":[{"title":"Developer quick start","path":"get-started/developer-qs","filePath":"../content/docs/get-started/developer-qs.mdx","fullPath":"/vault/docs/get-started/developer-qs","id":"sidebar-nav-item-60"},{"title":"Operations quick start","path":"get-started/operations-qs","filePath":"../content/docs/get-started/operations-qs.mdx","fullPath":"/vault/docs/get-started/operations-qs","id":"sidebar-nav-item-61"},{"title":"Vault foundations tutorials","href":"https://developer.hashicorp.com/vault/tutorials/get-started","id":"sidebar-nav-item-62"},{"title":"HCP Vault Dedicated tutorials","href":"https://developer.hashicorp.com/vault/tutorials/get-started-hcp-vault-dedicated","id":"sidebar-nav-item-63"}],"id":"sidebar-nav-item-59"},{"title":"Recent updates","routes":[{"title":"Release notes","path":"updates/release-notes","filePath":"../content/docs/updates/release-notes.mdx","fullPath":"/vault/docs/updates/release-notes","id":"sidebar-nav-item-65"},{"title":"Important changes","path":"updates/important-changes","filePath":"../content/docs/updates/important-changes.mdx","fullPath":"/vault/docs/updates/important-changes","id":"sidebar-nav-item-66"},{"title":"Deprecation notices","path":"updates/deprecation","filePath":"../content/docs/updates/deprecation.mdx","fullPath":"/vault/docs/updates/deprecation","id":"sidebar-nav-item-67"},{"title":"Change tracker","path":"updates/change-tracker","filePath":"../content/docs/updates/change-tracker.mdx","fullPath":"/vault/docs/updates/change-tracker","id":"sidebar-nav-item-68"},{"title":"Full changelog","href":"https://raw.githubusercontent.com/hashicorp/vault/refs/heads/main/CHANGELOG.md","id":"sidebar-nav-item-69"}],"id":"sidebar-nav-item-64"},{"divider":true,"id":"sidebar-nav-item-70"},{"heading":"OPERATIONS","id":"sidebar-nav-item-71"},{"title":"Get Vault","routes":[{"title":"Install options","path":"get-vault","filePath":"../content/docs/get-vault/index.mdx","fullPath":"/vault/docs/get-vault","id":"sidebar-nav-item-73"},{"title":"Build from code","path":"get-vault/build-from-code","filePath":"../content/docs/get-vault/build-from-code.mdx","fullPath":"/vault/docs/get-vault/build-from-code","id":"sidebar-nav-item-74"},{"title":"Package manager installs","href":"https://developer.hashicorp.com/vault/install","badge":{"text":"COMMUNITY","type":"filled","color":"neutral"},"id":"sidebar-nav-item-75"},{"title":"Package manager installs","href":"https://developer.hashicorp.com/vault/install/enterprise","badge":{"text":"ENT","type":"filled","color":"neutral"},"id":"sidebar-nav-item-76"},{"title":"All Vault binaries","href":"https://releases.hashicorp.com/vault/","id":"sidebar-nav-item-77"},{"title":"Manually install a binary","path":"get-vault/install-binary","filePath":"../content/docs/get-vault/install-binary.mdx","fullPath":"/vault/docs/get-vault/install-binary","id":"sidebar-nav-item-78"}],"id":"sidebar-nav-item-72"},{"title":"License Vault","routes":[{"title":"Overview","path":"license","filePath":"../content/docs/license/index.mdx","fullPath":"/vault/docs/license","id":"sidebar-nav-item-80"},{"title":"Autoload a license","path":"license/autoloading","filePath":"../content/docs/license/autoloading.mdx","fullPath":"/vault/docs/license/autoloading","id":"sidebar-nav-item-81"},{"title":"Change licenses","path":"license/change-license","filePath":"../content/docs/license/change-license.mdx","fullPath":"/vault/docs/license/change-license","id":"sidebar-nav-item-82"},{"title":"Anonymized usage reporting","path":"license/product-usage-reporting","filePath":"../content/docs/license/product-usage-reporting.mdx","fullPath":"/vault/docs/license/product-usage-reporting","id":"sidebar-nav-item-83"},{"title":"Utilization reporting","routes":[{"title":"Automatic ","path":"license/utilization/auto-reporting","filePath":"../content/docs/license/utilization/auto-reporting.mdx","fullPath":"/vault/docs/license/utilization/auto-reporting","id":"sidebar-nav-item-85"},{"title":"Manual","path":"license/utilization/manual-reporting","filePath":"../content/docs/license/utilization/manual-reporting.mdx","fullPath":"/vault/docs/license/utilization/manual-reporting","id":"sidebar-nav-item-86"}],"id":"sidebar-nav-item-84"}],"id":"sidebar-nav-item-79"},{"title":"Configure Vault","routes":[{"title":"Parameter overview ","path":"configuration","filePath":"../content/docs/configuration/index.mdx","fullPath":"/vault/docs/configuration","id":"sidebar-nav-item-88"},{"title":"GUI configuration","path":"configuration/ui","filePath":"../content/docs/configuration/ui.mdx","fullPath":"/vault/docs/configuration/ui","id":"sidebar-nav-item-89"},{"title":"Programmatic best practices","path":"configuration/programmatic-best-practices","filePath":"../content/docs/configuration/programmatic-best-practices.mdx","fullPath":"/vault/docs/configuration/programmatic-best-practices","id":"sidebar-nav-item-90"},{"title":"Manage resources programmatically","path":"configuration/programmatic-management","filePath":"../content/docs/configuration/programmatic-management.mdx","fullPath":"/vault/docs/configuration/programmatic-management","id":"sidebar-nav-item-91"},{"title":"Prevent lease explosions","path":"configuration/prevent-lease-explosions","filePath":"../content/docs/configuration/prevent-lease-explosions.mdx","fullPath":"/vault/docs/configuration/prevent-lease-explosions","id":"sidebar-nav-item-92"},{"title":"Create a lease count quota","badge":{"text":"ENT","type":"filled","color":"neutral"},"path":"configuration/create-lease-count-quota","filePath":"../content/docs/configuration/create-lease-count-quota.mdx","fullPath":"/vault/docs/configuration/create-lease-count-quota","id":"sidebar-nav-item-93"},{"title":"Create a rate limit quota","path":"configuration/create-rate-limit-quota","filePath":"../content/docs/configuration/create-rate-limit-quota.mdx","fullPath":"/vault/docs/configuration/create-rate-limit-quota","id":"sidebar-nav-item-94"},{"title":"Rate limit quotas group_by modes","badge":{"text":"ENT","type":"filled","color":"neutral"},"path":"configuration/identity-based-rate-limit","filePath":"../content/docs/configuration/identity-based-rate-limit.mdx","fullPath":"/vault/docs/configuration/identity-based-rate-limit","id":"sidebar-nav-item-95"},{"title":"Configure completed request logging","path":"configuration/log-requests-level","filePath":"../content/docs/configuration/log-requests-level.mdx","fullPath":"/vault/docs/configuration/log-requests-level","id":"sidebar-nav-item-96"},{"title":"Configure entropy augmentation","badge":{"text":"ENT","type":"filled","color":"neutral"},"path":"configuration/entropy-augmentation","filePath":"../content/docs/configuration/entropy-augmentation.mdx","fullPath":"/vault/docs/configuration/entropy-augmentation","id":"sidebar-nav-item-97"},{"heading":"Configuration stanzas","id":"sidebar-nav-item-98"},{"title":"\u003ccode\u003eadaptive_overload_protection\u003c/code\u003e","badge":{"text":"ENT","type":"filled","color":"neutral"},"path":"configuration/adaptive-overload-protection","filePath":"../content/docs/configuration/adaptive-overload-protection.mdx","fullPath":"/vault/docs/configuration/adaptive-overload-protection","id":"sidebar-nav-item-99"},{"title":"\u003ccode\u003ekms_library\u003c/code\u003e","badge":{"text":"ENT","type":"filled","color":"neutral"},"path":"configuration/kms-library","filePath":"../content/docs/configuration/kms-library.mdx","fullPath":"/vault/docs/configuration/kms-library","id":"sidebar-nav-item-100"},{"title":"\u003ccode\u003elistener\u003c/code\u003e","routes":[{"title":"Overview","path":"configuration/listener","filePath":"../content/docs/configuration/listener/index.mdx","fullPath":"/vault/docs/configuration/listener","id":"sidebar-nav-item-102"},{"title":"TCP listener configuration","routes":[{"title":"Basic configuration","path":"configuration/listener/tcp","filePath":"../content/docs/configuration/listener/tcp/index.mdx","fullPath":"/vault/docs/configuration/listener/tcp","id":"sidebar-nav-item-104"},{"title":"Configure TLS","path":"configuration/listener/tcp/tcp-tls","filePath":"../content/docs/configuration/listener/tcp/tcp-tls.mdx","fullPath":"/vault/docs/configuration/listener/tcp/tcp-tls","id":"sidebar-nav-item-105"}],"id":"sidebar-nav-item-103"},{"title":"Unix listener configuration","path":"configuration/listener/unix","filePath":"../content/docs/configuration/listener/unix.mdx","fullPath":"/vault/docs/configuration/listener/unix","id":"sidebar-nav-item-106"}],"id":"sidebar-nav-item-101"},{"title":"\u003ccode\u003ereplication\u003c/code\u003e","badge":{"text":"ENT","type":"filled","color":"neutral"},"path":"configuration/replication","filePath":"../content/docs/configuration/replication.mdx","fullPath":"/vault/docs/configuration/replication","id":"sidebar-nav-item-107"},{"title":"\u003ccode\u003ereporting\u003c/code\u003e","badge":{"text":"ENT","type":"filled","color":"neutral"},"path":"configuration/reporting","filePath":"../content/docs/configuration/reporting.mdx","fullPath":"/vault/docs/configuration/reporting","id":"sidebar-nav-item-108"},{"title":"\u003ccode\u003eseal\u003c/code\u003e","routes":[{"title":"Overview","path":"configuration/seal","filePath":"../content/docs/configuration/seal/index.mdx","fullPath":"/vault/docs/configuration/seal","id":"sidebar-nav-item-110"},{"title":"Sealing best practices","path":"configuration/seal/seal-best-practices","filePath":"../content/docs/configuration/seal/seal-best-practices.mdx","fullPath":"/vault/docs/configuration/seal/seal-best-practices","id":"sidebar-nav-item-111"},{"title":"Configure HA for seals","badge":{"text":"ENT","type":"filled","color":"neutral"},"path":"configuration/seal/seal-ha","filePath":"../content/docs/configuration/seal/seal-ha.mdx","fullPath":"/vault/docs/configuration/seal/seal-ha","id":"sidebar-nav-item-112"},{"heading":"Seal wrapper options","id":"sidebar-nav-item-113"},{"title":"AliCloud KMS","path":"configuration/seal/alicloudkms","filePath":"../content/docs/configuration/seal/alicloudkms.mdx","fullPath":"/vault/docs/configuration/seal/alicloudkms","id":"sidebar-nav-item-114"},{"title":"AWS KMS","path":"configuration/seal/awskms","filePath":"../content/docs/configuration/seal/awskms.mdx","fullPath":"/vault/docs/configuration/seal/awskms","id":"sidebar-nav-item-115"},{"title":"Azure Key Vault","path":"configuration/seal/azurekeyvault","filePath":"../content/docs/configuration/seal/azurekeyvault.mdx","fullPath":"/vault/docs/configuration/seal/azurekeyvault","id":"sidebar-nav-item-116"},{"title":"GCP Cloud KMS","path":"configuration/seal/gcpckms","filePath":"../content/docs/configuration/seal/gcpckms.mdx","fullPath":"/vault/docs/configuration/seal/gcpckms","id":"sidebar-nav-item-117"},{"title":"OCI KMS","path":"configuration/seal/ocikms","filePath":"../content/docs/configuration/seal/ocikms.mdx","fullPath":"/vault/docs/configuration/seal/ocikms","id":"sidebar-nav-item-118"},{"title":"HSM PKCS11","badge":{"text":"ENT","type":"filled","color":"neutral"},"path":"configuration/seal/pkcs11","filePath":"../content/docs/configuration/seal/pkcs11.mdx","fullPath":"/vault/docs/configuration/seal/pkcs11","id":"sidebar-nav-item-119"},{"title":"Transit plugin","path":"configuration/seal/transit","filePath":"../content/docs/configuration/seal/transit.mdx","fullPath":"/vault/docs/configuration/seal/transit","id":"sidebar-nav-item-120"},{"title":"Auto-unseal best practices for Transit","path":"configuration/seal/transit-best-practices","filePath":"../content/docs/configuration/seal/transit-best-practices.mdx","fullPath":"/vault/docs/configuration/seal/transit-best-practices","id":"sidebar-nav-item-121"}],"id":"sidebar-nav-item-109"},{"title":"\u003ccode\u003esentinel\u003c/code\u003e","badge":{"text":"ENT","type":"filled","color":"neutral"},"path":"configuration/sentinel","filePath":"../content/docs/configuration/sentinel.mdx","fullPath":"/vault/docs/configuration/sentinel","id":"sidebar-nav-item-122"},{"title":"\u003ccode\u003eservice_registration\u003c/code\u003e","routes":[{"title":"Overview","path":"configuration/service-registration","filePath":"../content/docs/configuration/service-registration/index.mdx","fullPath":"/vault/docs/configuration/service-registration","id":"sidebar-nav-item-124"},{"heading":"Service registration options","id":"sidebar-nav-item-125"},{"title":"Consul","path":"configuration/service-registration/consul","filePath":"../content/docs/configuration/service-registration/consul.mdx","fullPath":"/vault/docs/configuration/service-registration/consul","id":"sidebar-nav-item-126"},{"title":"Kubernetes","path":"configuration/service-registration/kubernetes","filePath":"../content/docs/configuration/service-registration/kubernetes.mdx","fullPath":"/vault/docs/configuration/service-registration/kubernetes","id":"sidebar-nav-item-127"}],"id":"sidebar-nav-item-123"},{"title":"\u003ccode\u003estorage\u003c/code\u003e","routes":[{"title":"Backend storage for Vault","path":"configuration/storage","filePath":"../content/docs/configuration/storage/index.mdx","fullPath":"/vault/docs/configuration/storage","id":"sidebar-nav-item-129"},{"heading":"Storage options","id":"sidebar-nav-item-130"},{"title":"Aerospike","path":"configuration/storage/aerospike","filePath":"../content/docs/configuration/storage/aerospike.mdx","fullPath":"/vault/docs/configuration/storage/aerospike","id":"sidebar-nav-item-131"},{"title":"Alicloud OSS","path":"configuration/storage/alicloudoss","filePath":"../content/docs/configuration/storage/alicloudoss.mdx","fullPath":"/vault/docs/configuration/storage/alicloudoss","id":"sidebar-nav-item-132"},{"title":"Azure","path":"configuration/storage/azure","filePath":"../content/docs/configuration/storage/azure.mdx","fullPath":"/vault/docs/configuration/storage/azure","id":"sidebar-nav-item-133"},{"title":"Cassandra","path":"configuration/storage/cassandra","filePath":"../content/docs/configuration/storage/cassandra.mdx","fullPath":"/vault/docs/configuration/storage/cassandra","id":"sidebar-nav-item-134"},{"title":"CockroachDB","path":"configuration/storage/cockroachdb","filePath":"../content/docs/configuration/storage/cockroachdb.mdx","fullPath":"/vault/docs/configuration/storage/cockroachdb","id":"sidebar-nav-item-135"},{"title":"Consul","path":"configuration/storage/consul","filePath":"../content/docs/configuration/storage/consul.mdx","fullPath":"/vault/docs/configuration/storage/consul","id":"sidebar-nav-item-136"},{"title":"CouchDB","path":"configuration/storage/couchdb","filePath":"../content/docs/configuration/storage/couchdb.mdx","fullPath":"/vault/docs/configuration/storage/couchdb","id":"sidebar-nav-item-137"},{"title":"DynamoDB","path":"configuration/storage/dynamodb","filePath":"../content/docs/configuration/storage/dynamodb.mdx","fullPath":"/vault/docs/configuration/storage/dynamodb","id":"sidebar-nav-item-138"},{"title":"Etcd","path":"configuration/storage/etcd","filePath":"../content/docs/configuration/storage/etcd.mdx","fullPath":"/vault/docs/configuration/storage/etcd","id":"sidebar-nav-item-139"},{"title":"File system","path":"configuration/storage/filesystem","filePath":"../content/docs/configuration/storage/filesystem.mdx","fullPath":"/vault/docs/configuration/storage/filesystem","id":"sidebar-nav-item-140"},{"title":"FoundationDB","path":"configuration/storage/foundationdb","filePath":"../content/docs/configuration/storage/foundationdb.mdx","fullPath":"/vault/docs/configuration/storage/foundationdb","id":"sidebar-nav-item-141"},{"title":"Google Cloud Spanner","path":"configuration/storage/google-cloud-spanner","filePath":"../content/docs/configuration/storage/google-cloud-spanner.mdx","fullPath":"/vault/docs/configuration/storage/google-cloud-spanner","id":"sidebar-nav-item-142"},{"title":"Google Cloud Storage","path":"configuration/storage/google-cloud-storage","filePath":"../content/docs/configuration/storage/google-cloud-storage.mdx","fullPath":"/vault/docs/configuration/storage/google-cloud-storage","id":"sidebar-nav-item-143"},{"title":"In-memory storage","path":"configuration/storage/in-memory","filePath":"../content/docs/configuration/storage/in-memory.mdx","fullPath":"/vault/docs/configuration/storage/in-memory","id":"sidebar-nav-item-144"},{"title":"Integrated storage (Raft)","path":"configuration/storage/raft","filePath":"../content/docs/configuration/storage/raft.mdx","fullPath":"/vault/docs/configuration/storage/raft","id":"sidebar-nav-item-145"},{"title":"Manta","path":"configuration/storage/manta","filePath":"../content/docs/configuration/storage/manta.mdx","fullPath":"/vault/docs/configuration/storage/manta","id":"sidebar-nav-item-146"},{"title":"MSSQL","path":"configuration/storage/mssql","filePath":"../content/docs/configuration/storage/mssql.mdx","fullPath":"/vault/docs/configuration/storage/mssql","id":"sidebar-nav-item-147"},{"title":"MySQL","path":"configuration/storage/mysql","filePath":"../content/docs/configuration/storage/mysql.mdx","fullPath":"/vault/docs/configuration/storage/mysql","id":"sidebar-nav-item-148"},{"title":"OCI Object Storage","path":"configuration/storage/oci-object-storage","filePath":"../content/docs/configuration/storage/oci-object-storage.mdx","fullPath":"/vault/docs/configuration/storage/oci-object-storage","id":"sidebar-nav-item-149"},{"title":"PostgreSQL","path":"configuration/storage/postgresql","filePath":"../content/docs/configuration/storage/postgresql.mdx","fullPath":"/vault/docs/configuration/storage/postgresql","id":"sidebar-nav-item-150"},{"title":"S3","path":"configuration/storage/s3","filePath":"../content/docs/configuration/storage/s3.mdx","fullPath":"/vault/docs/configuration/storage/s3","id":"sidebar-nav-item-151"},{"title":"Swift","path":"configuration/storage/swift","filePath":"../content/docs/configuration/storage/swift.mdx","fullPath":"/vault/docs/configuration/storage/swift","id":"sidebar-nav-item-152"},{"title":"Zookeeper","path":"configuration/storage/zookeeper","filePath":"../content/docs/configuration/storage/zookeeper.mdx","fullPath":"/vault/docs/configuration/storage/zookeeper","id":"sidebar-nav-item-153"}],"id":"sidebar-nav-item-128"},{"title":"\u003ccode\u003etelemetry\u003c/code\u003e","path":"configuration/telemetry","filePath":"../content/docs/configuration/telemetry.mdx","fullPath":"/vault/docs/configuration/telemetry","id":"sidebar-nav-item-154"},{"title":"\u003ccode\u003euser_lockout\u003c/code\u003e","path":"configuration/user-lockout","filePath":"../content/docs/configuration/user-lockout.mdx","fullPath":"/vault/docs/configuration/user-lockout","id":"sidebar-nav-item-155"}],"id":"sidebar-nav-item-87"},{"title":"Deploy Vault","routes":[{"title":"Run as a service","path":"deploy/run-as-service","filePath":"../content/docs/deploy/run-as-service.mdx","fullPath":"/vault/docs/deploy/run-as-service","id":"sidebar-nav-item-157"},{"title":"Run on AWS","routes":[{"title":"Overview","path":"deploy/aws","filePath":"../content/docs/deploy/aws/index.mdx","fullPath":"/vault/docs/deploy/aws","id":"sidebar-nav-item-159"},{"title":"Vault Lambda Extension","path":"deploy/aws/lambda-extension","filePath":"../content/docs/deploy/aws/lambda-extension.mdx","fullPath":"/vault/docs/deploy/aws/lambda-extension","id":"sidebar-nav-item-160"},{"title":"Running Vault","path":"deploy/aws/run","filePath":"../content/docs/deploy/aws/run.mdx","fullPath":"/vault/docs/deploy/aws/run","id":"sidebar-nav-item-161"}],"id":"sidebar-nav-item-158"},{"title":"Run on Kubernetes","routes":[{"title":"Overview","path":"deploy/kubernetes","filePath":"../content/docs/deploy/kubernetes/index.mdx","fullPath":"/vault/docs/deploy/kubernetes","id":"sidebar-nav-item-163"},{"title":"Agent Injector vs. Vault CSI Provider","path":"deploy/kubernetes/injector-csi","filePath":"../content/docs/deploy/kubernetes/injector-csi.mdx","fullPath":"/vault/docs/deploy/kubernetes/injector-csi","id":"sidebar-nav-item-164"},{"title":"Migrate Consul to Raft storage","path":"deploy/kubernetes/consul-to-raft","filePath":"../content/docs/deploy/kubernetes/consul-to-raft.mdx","fullPath":"/vault/docs/deploy/kubernetes/consul-to-raft","id":"sidebar-nav-item-165"},{"title":"Helm Chart","routes":[{"title":"Overview","path":"deploy/kubernetes/helm","filePath":"../content/docs/deploy/kubernetes/helm/index.mdx","fullPath":"/vault/docs/deploy/kubernetes/helm","id":"sidebar-nav-item-167"},{"title":"Running Vault","path":"deploy/kubernetes/helm/run","filePath":"../content/docs/deploy/kubernetes/helm/run.mdx","fullPath":"/vault/docs/deploy/kubernetes/helm/run","id":"sidebar-nav-item-168"},{"title":"Enterprise Licensing","path":"deploy/kubernetes/helm/enterprise","filePath":"../content/docs/deploy/kubernetes/helm/enterprise.mdx","fullPath":"/vault/docs/deploy/kubernetes/helm/enterprise","id":"sidebar-nav-item-169"},{"title":"Running Vault on OpenShift","path":"deploy/kubernetes/helm/openshift","filePath":"../content/docs/deploy/kubernetes/helm/openshift.mdx","fullPath":"/vault/docs/deploy/kubernetes/helm/openshift","id":"sidebar-nav-item-170"},{"title":"Configuration","path":"deploy/kubernetes/helm/configuration","filePath":"../content/docs/deploy/kubernetes/helm/configuration.mdx","fullPath":"/vault/docs/deploy/kubernetes/helm/configuration","id":"sidebar-nav-item-171"},{"title":"Terraform","path":"deploy/kubernetes/helm/terraform","filePath":"../content/docs/deploy/kubernetes/helm/terraform.mdx","fullPath":"/vault/docs/deploy/kubernetes/helm/terraform","id":"sidebar-nav-item-172"},{"title":"Examples","routes":[{"title":"Overview","path":"deploy/kubernetes/helm/examples","filePath":"../content/docs/deploy/kubernetes/helm/examples/index.mdx","fullPath":"/vault/docs/deploy/kubernetes/helm/examples","id":"sidebar-nav-item-174"},{"title":"Development","path":"deploy/kubernetes/helm/examples/development","filePath":"../content/docs/deploy/kubernetes/helm/examples/development.mdx","fullPath":"/vault/docs/deploy/kubernetes/helm/examples/development","id":"sidebar-nav-item-175"},{"title":"Standalone with Load Balanced UI","path":"deploy/kubernetes/helm/examples/standalone-load-balanced-ui","filePath":"../content/docs/deploy/kubernetes/helm/examples/standalone-load-balanced-ui.mdx","fullPath":"/vault/docs/deploy/kubernetes/helm/examples/standalone-load-balanced-ui","id":"sidebar-nav-item-176"},{"title":"Standalone with TLS","path":"deploy/kubernetes/helm/examples/standalone-tls","filePath":"../content/docs/deploy/kubernetes/helm/examples/standalone-tls.mdx","fullPath":"/vault/docs/deploy/kubernetes/helm/examples/standalone-tls","id":"sidebar-nav-item-177"},{"title":"Standalone with Audit Storage","path":"deploy/kubernetes/helm/examples/standalone-audit","filePath":"../content/docs/deploy/kubernetes/helm/examples/standalone-audit.mdx","fullPath":"/vault/docs/deploy/kubernetes/helm/examples/standalone-audit","id":"sidebar-nav-item-178"},{"title":"External Vault","path":"deploy/kubernetes/helm/examples/external","filePath":"../content/docs/deploy/kubernetes/helm/examples/external.mdx","fullPath":"/vault/docs/deploy/kubernetes/helm/examples/external","id":"sidebar-nav-item-179"},{"title":"Using Kubernetes Auth Method","path":"deploy/kubernetes/helm/examples/kubernetes-auth","filePath":"../content/docs/deploy/kubernetes/helm/examples/kubernetes-auth.mdx","fullPath":"/vault/docs/deploy/kubernetes/helm/examples/kubernetes-auth","id":"sidebar-nav-item-180"},{"title":"HA Cluster with Consul","path":"deploy/kubernetes/helm/examples/ha-with-consul","filePath":"../content/docs/deploy/kubernetes/helm/examples/ha-with-consul.mdx","fullPath":"/vault/docs/deploy/kubernetes/helm/examples/ha-with-consul","id":"sidebar-nav-item-181"},{"title":"HA Cluster with Raft","path":"deploy/kubernetes/helm/examples/ha-with-raft","filePath":"../content/docs/deploy/kubernetes/helm/examples/ha-with-raft.mdx","fullPath":"/vault/docs/deploy/kubernetes/helm/examples/ha-with-raft","id":"sidebar-nav-item-182"},{"title":"HA Cluster with Raft and TLS","path":"deploy/kubernetes/helm/examples/ha-tls","filePath":"../content/docs/deploy/kubernetes/helm/examples/ha-tls.mdx","fullPath":"/vault/docs/deploy/kubernetes/helm/examples/ha-tls","id":"sidebar-nav-item-183"},{"title":"HA Enterprise Cluster with Raft","path":"deploy/kubernetes/helm/examples/enterprise-with-raft","filePath":"../content/docs/deploy/kubernetes/helm/examples/enterprise-with-raft.mdx","fullPath":"/vault/docs/deploy/kubernetes/helm/examples/enterprise-with-raft","id":"sidebar-nav-item-184"},{"title":"HA Enterprise DR Clusters with Raft","path":"deploy/kubernetes/helm/examples/enterprise-dr-with-raft","filePath":"../content/docs/deploy/kubernetes/helm/examples/enterprise-dr-with-raft.mdx","fullPath":"/vault/docs/deploy/kubernetes/helm/examples/enterprise-dr-with-raft","id":"sidebar-nav-item-185"},{"title":"HA Enterprise Performance Clusters with Raft","path":"deploy/kubernetes/helm/examples/enterprise-perf-with-raft","filePath":"../content/docs/deploy/kubernetes/helm/examples/enterprise-perf-with-raft.mdx","fullPath":"/vault/docs/deploy/kubernetes/helm/examples/enterprise-perf-with-raft","id":"sidebar-nav-item-186"},{"title":"Vault Agent Injector TLS Configuration","path":"deploy/kubernetes/helm/examples/injector-tls","filePath":"../content/docs/deploy/kubernetes/helm/examples/injector-tls.mdx","fullPath":"/vault/docs/deploy/kubernetes/helm/examples/injector-tls","id":"sidebar-nav-item-187"},{"title":"Vault Agent Injector TLS with Cert-Manager","path":"deploy/kubernetes/helm/examples/injector-tls-cert-manager","filePath":"../content/docs/deploy/kubernetes/helm/examples/injector-tls-cert-manager.mdx","fullPath":"/vault/docs/deploy/kubernetes/helm/examples/injector-tls-cert-manager","id":"sidebar-nav-item-188"}],"id":"sidebar-nav-item-173"}],"id":"sidebar-nav-item-166"},{"title":"Agent Injector","routes":[{"title":"Overview","path":"deploy/kubernetes/injector","filePath":"../content/docs/deploy/kubernetes/injector/index.mdx","fullPath":"/vault/docs/deploy/kubernetes/injector","id":"sidebar-nav-item-190"},{"title":"Annotations","path":"deploy/kubernetes/injector/annotations","filePath":"../content/docs/deploy/kubernetes/injector/annotations.mdx","fullPath":"/vault/docs/deploy/kubernetes/injector/annotations","id":"sidebar-nav-item-191"},{"title":"Installation","path":"deploy/kubernetes/injector/installation","filePath":"../content/docs/deploy/kubernetes/injector/installation.mdx","fullPath":"/vault/docs/deploy/kubernetes/injector/installation","id":"sidebar-nav-item-192"},{"title":"Examples","path":"deploy/kubernetes/injector/examples","filePath":"../content/docs/deploy/kubernetes/injector/examples.mdx","fullPath":"/vault/docs/deploy/kubernetes/injector/examples","id":"sidebar-nav-item-193"}],"id":"sidebar-nav-item-189"},{"title":"Vault CSI Provider","routes":[{"title":"Overview","path":"deploy/kubernetes/csi","filePath":"../content/docs/deploy/kubernetes/csi/index.mdx","fullPath":"/vault/docs/deploy/kubernetes/csi","id":"sidebar-nav-item-195"},{"title":"Installation","path":"deploy/kubernetes/csi/installation","filePath":"../content/docs/deploy/kubernetes/csi/installation.mdx","fullPath":"/vault/docs/deploy/kubernetes/csi/installation","id":"sidebar-nav-item-196"},{"title":"Configurations","path":"deploy/kubernetes/csi/configurations","filePath":"../content/docs/deploy/kubernetes/csi/configurations.mdx","fullPath":"/vault/docs/deploy/kubernetes/csi/configurations","id":"sidebar-nav-item-197"},{"title":"Examples","path":"deploy/kubernetes/csi/examples","filePath":"../content/docs/deploy/kubernetes/csi/examples.mdx","fullPath":"/vault/docs/deploy/kubernetes/csi/examples","id":"sidebar-nav-item-198"}],"id":"sidebar-nav-item-194"},{"title":"Vault Secrets Operator","routes":[{"title":"Overview","path":"deploy/kubernetes/vso","filePath":"../content/docs/deploy/kubernetes/vso/index.mdx","fullPath":"/vault/docs/deploy/kubernetes/vso","id":"sidebar-nav-item-200"},{"title":"Installation","path":"deploy/kubernetes/vso/installation","filePath":"../content/docs/deploy/kubernetes/vso/installation.mdx","fullPath":"/vault/docs/deploy/kubernetes/vso/installation","id":"sidebar-nav-item-201"},{"title":"Secret Sources","routes":[{"title":"Overview","path":"deploy/kubernetes/vso/sources","filePath":"../content/docs/deploy/kubernetes/vso/sources/index.mdx","fullPath":"/vault/docs/deploy/kubernetes/vso/sources","id":"sidebar-nav-item-203"},{"title":"Vault","routes":[{"title":"Overview","path":"deploy/kubernetes/vso/sources/vault","filePath":"../content/docs/deploy/kubernetes/vso/sources/vault/index.mdx","fullPath":"/vault/docs/deploy/kubernetes/vso/sources/vault","id":"sidebar-nav-item-205"},{"title":"Authentication","routes":[{"title":"Overview","path":"deploy/kubernetes/vso/sources/vault/auth","filePath":"../content/docs/deploy/kubernetes/vso/sources/vault/auth/index.mdx","fullPath":"/vault/docs/deploy/kubernetes/vso/sources/vault/auth","id":"sidebar-nav-item-207"},{"title":"AWS","path":"deploy/kubernetes/vso/sources/vault/auth/aws","filePath":"../content/docs/deploy/kubernetes/vso/sources/vault/auth/aws.mdx","fullPath":"/vault/docs/deploy/kubernetes/vso/sources/vault/auth/aws","id":"sidebar-nav-item-208"},{"title":"GCP","path":"deploy/kubernetes/vso/sources/vault/auth/gcp","filePath":"../content/docs/deploy/kubernetes/vso/sources/vault/auth/gcp.mdx","fullPath":"/vault/docs/deploy/kubernetes/vso/sources/vault/auth/gcp","id":"sidebar-nav-item-209"}],"id":"sidebar-nav-item-206"},{"title":"Encrypted client cache","path":"deploy/kubernetes/vso/sources/vault/client-cache","filePath":"../content/docs/deploy/kubernetes/vso/sources/vault/client-cache.mdx","fullPath":"/vault/docs/deploy/kubernetes/vso/sources/vault/client-cache","id":"sidebar-nav-item-210"},{"title":"Instant updates","path":"deploy/kubernetes/vso/sources/vault/instant-updates","filePath":"../content/docs/deploy/kubernetes/vso/sources/vault/instant-updates.mdx","fullPath":"/vault/docs/deploy/kubernetes/vso/sources/vault/instant-updates","id":"sidebar-nav-item-211"}],"id":"sidebar-nav-item-204"},{"title":"HCP Vault Secrets","path":"deploy/kubernetes/vso/sources/hvs","filePath":"../content/docs/deploy/kubernetes/vso/sources/hvs.mdx","fullPath":"/vault/docs/deploy/kubernetes/vso/sources/hvs","id":"sidebar-nav-item-212"}],"id":"sidebar-nav-item-202"},{"title":"Secret Data Transformation","path":"deploy/kubernetes/vso/secret-transformation","filePath":"../content/docs/deploy/kubernetes/vso/secret-transformation.mdx","fullPath":"/vault/docs/deploy/kubernetes/vso/secret-transformation","id":"sidebar-nav-item-213"},{"title":"Helm Chart","path":"deploy/kubernetes/vso/helm","filePath":"../content/docs/deploy/kubernetes/vso/helm.mdx","fullPath":"/vault/docs/deploy/kubernetes/vso/helm","id":"sidebar-nav-item-214"},{"title":"Examples","path":"deploy/kubernetes/vso/examples","filePath":"../content/docs/deploy/kubernetes/vso/examples.mdx","fullPath":"/vault/docs/deploy/kubernetes/vso/examples","id":"sidebar-nav-item-215"},{"title":"Telemetry","path":"deploy/kubernetes/vso/telemetry","filePath":"../content/docs/deploy/kubernetes/vso/telemetry.mdx","fullPath":"/vault/docs/deploy/kubernetes/vso/telemetry","id":"sidebar-nav-item-216"},{"title":"API Reference","path":"deploy/kubernetes/vso/api-reference","filePath":"../content/docs/deploy/kubernetes/vso/api-reference.mdx","fullPath":"/vault/docs/deploy/kubernetes/vso/api-reference","id":"sidebar-nav-item-217"},{"title":"OpenShift","path":"deploy/kubernetes/vso/openshift","filePath":"../content/docs/deploy/kubernetes/vso/openshift.mdx","fullPath":"/vault/docs/deploy/kubernetes/vso/openshift","id":"sidebar-nav-item-218"}],"id":"sidebar-nav-item-199"}],"id":"sidebar-nav-item-162"}],"id":"sidebar-nav-item-156"},{"title":"Upgrade Vault","routes":[{"title":"Single-instance","path":"upgrade","filePath":"../content/docs/upgrade/index.mdx","fullPath":"/vault/docs/upgrade","id":"sidebar-nav-item-220"},{"title":"Replicated deployments","path":"upgrade/replicated-deployment","filePath":"../content/docs/upgrade/replicated-deployment.mdx","fullPath":"/vault/docs/upgrade/replicated-deployment","id":"sidebar-nav-item-221"},{"title":"Manual upgrade for HA deployments","path":"upgrade/vault-ha-upgrade","filePath":"../content/docs/upgrade/vault-ha-upgrade.mdx","fullPath":"/vault/docs/upgrade/vault-ha-upgrade","id":"sidebar-nav-item-222"},{"title":"LTS Vault upgrades","path":"upgrade/lts-upgrade","filePath":"../content/docs/upgrade/lts-upgrade.mdx","fullPath":"/vault/docs/upgrade/lts-upgrade","id":"sidebar-nav-item-223"},{"title":"Rollback an upgrade","path":"upgrade/rollback","filePath":"../content/docs/upgrade/rollback.mdx","fullPath":"/vault/docs/upgrade/rollback","id":"sidebar-nav-item-224"},{"title":"Update to Raft WAL","path":"upgrade/raft-wal","badge":{"text":"EXPERIMENTAL","type":"outlined","color":"neutral"},"filePath":"../content/docs/upgrade/raft-wal.mdx","fullPath":"/vault/docs/upgrade/raft-wal","id":"sidebar-nav-item-225"}],"id":"sidebar-nav-item-219"},{"title":"System administration","routes":[{"title":"Manage snapshots","routes":[{"title":"Overview","path":"sysadmin/snapshots","filePath":"../content/docs/sysadmin/snapshots/index.mdx","fullPath":"/vault/docs/sysadmin/snapshots","id":"sidebar-nav-item-228"},{"title":"Automation and integrated storage","path":"sysadmin/snapshots/automation-overview","badge":{"text":"ENT","type":"filled","color":"neutral"},"filePath":"../content/docs/sysadmin/snapshots/automation-overview.mdx","fullPath":"/vault/docs/sysadmin/snapshots/automation-overview","id":"sidebar-nav-item-229"},{"title":"Automate cluster snapshots","path":"sysadmin/snapshots/automate","badge":{"text":"ENT","type":"filled","color":"neutral"},"filePath":"../content/docs/sysadmin/snapshots/automate.mdx","fullPath":"/vault/docs/sysadmin/snapshots/automate","id":"sidebar-nav-item-230"},{"title":"Save a cluster snapshot","path":"sysadmin/snapshots/save","filePath":"../content/docs/sysadmin/snapshots/save.mdx","fullPath":"/vault/docs/sysadmin/snapshots/save","id":"sidebar-nav-item-231"},{"title":"Restore a cluster snapshot","path":"sysadmin/snapshots/restore","filePath":"../content/docs/sysadmin/snapshots/restore.mdx","fullPath":"/vault/docs/sysadmin/snapshots/restore","id":"sidebar-nav-item-232"},{"title":"Recover a secret","badge":{"text":"ENT","type":"filled","color":"neutral"},"routes":[{"title":"Overview","path":"sysadmin/snapshots/recover-a-secret","filePath":"../content/docs/sysadmin/snapshots/recover-a-secret/index.mdx","fullPath":"/vault/docs/sysadmin/snapshots/recover-a-secret","id":"sidebar-nav-item-234"},{"title":"Restore to a replicated cluster","path":"sysadmin/snapshots/recover-a-secret/replicated-cluster","filePath":"../content/docs/sysadmin/snapshots/recover-a-secret/replicated-cluster.mdx","fullPath":"/vault/docs/sysadmin/snapshots/recover-a-secret/replicated-cluster","id":"sidebar-nav-item-235"},{"title":"Restore to an unreplicated cluster","path":"sysadmin/snapshots/recover-a-secret/single-cluster","filePath":"../content/docs/sysadmin/snapshots/recover-a-secret/single-cluster.mdx","fullPath":"/vault/docs/sysadmin/snapshots/recover-a-secret/single-cluster","id":"sidebar-nav-item-236"}],"id":"sidebar-nav-item-233"}],"id":"sidebar-nav-item-227"}],"id":"sidebar-nav-item-226"},{"divider":true,"id":"sidebar-nav-item-237"},{"title":"Internals","routes":[{"title":"Overview","path":"internals","filePath":"../content/docs/internals/index.mdx","fullPath":"/vault/docs/internals","id":"sidebar-nav-item-239"},{"title":"Architecture","path":"internals/architecture","filePath":"../content/docs/internals/architecture.mdx","fullPath":"/vault/docs/internals/architecture","id":"sidebar-nav-item-240"},{"title":"High Availability","path":"internals/high-availability","filePath":"../content/docs/internals/high-availability.mdx","fullPath":"/vault/docs/internals/high-availability","id":"sidebar-nav-item-241"},{"title":"Integrated Storage","path":"internals/integrated-storage","filePath":"../content/docs/internals/integrated-storage.mdx","fullPath":"/vault/docs/internals/integrated-storage","id":"sidebar-nav-item-242"},{"title":"Recommended patterns","path":"internals/recommended-patterns","filePath":"../content/docs/internals/recommended-patterns.mdx","fullPath":"/vault/docs/internals/recommended-patterns","id":"sidebar-nav-item-243"},{"title":"Security Model","path":"internals/security","filePath":"../content/docs/internals/security.mdx","fullPath":"/vault/docs/internals/security","id":"sidebar-nav-item-244"},{"title":"Telemetry","routes":[{"title":"Overview","path":"internals/telemetry","filePath":"../content/docs/internals/telemetry/index.mdx","fullPath":"/vault/docs/internals/telemetry","id":"sidebar-nav-item-246"},{"title":"Enable telemetry gathering","path":"internals/telemetry/enable-telemetry","filePath":"../content/docs/internals/telemetry/enable-telemetry.mdx","fullPath":"/vault/docs/internals/telemetry/enable-telemetry","id":"sidebar-nav-item-247"},{"title":"Key metrics","path":"internals/telemetry/key-metrics","filePath":"../content/docs/internals/telemetry/key-metrics.mdx","fullPath":"/vault/docs/internals/telemetry/key-metrics","id":"sidebar-nav-item-248"},{"title":"Metric reference","routes":[{"title":"Overview","path":"internals/telemetry/metrics","filePath":"../content/docs/internals/telemetry/metrics/index.mdx","fullPath":"/vault/docs/internals/telemetry/metrics","id":"sidebar-nav-item-250"},{"title":"Activity metrics","path":"internals/telemetry/metrics/activity","filePath":"../content/docs/internals/telemetry/metrics/activity.mdx","fullPath":"/vault/docs/internals/telemetry/metrics/activity","id":"sidebar-nav-item-251"},{"title":"Audit log metrics","path":"internals/telemetry/metrics/audit","filePath":"../content/docs/internals/telemetry/metrics/audit.mdx","fullPath":"/vault/docs/internals/telemetry/metrics/audit","id":"sidebar-nav-item-252"},{"title":"Authentication metrics","path":"internals/telemetry/metrics/authn","filePath":"../content/docs/internals/telemetry/metrics/authn.mdx","fullPath":"/vault/docs/internals/telemetry/metrics/authn","id":"sidebar-nav-item-253"},{"title":"Auto-snapshot metrics","path":"internals/telemetry/metrics/autosnap","filePath":"../content/docs/internals/telemetry/metrics/autosnap.mdx","fullPath":"/vault/docs/internals/telemetry/metrics/autosnap","id":"sidebar-nav-item-254"},{"title":"Availability metrics","path":"internals/telemetry/metrics/availability","filePath":"../content/docs/internals/telemetry/metrics/availability.mdx","fullPath":"/vault/docs/internals/telemetry/metrics/availability","id":"sidebar-nav-item-255"},{"title":"Core system metrics","path":"internals/telemetry/metrics/core-system","filePath":"../content/docs/internals/telemetry/metrics/core-system.mdx","fullPath":"/vault/docs/internals/telemetry/metrics/core-system","id":"sidebar-nav-item-256"},{"title":"Database metrics","path":"internals/telemetry/metrics/database","filePath":"../content/docs/internals/telemetry/metrics/database.mdx","fullPath":"/vault/docs/internals/telemetry/metrics/database","id":"sidebar-nav-item-257"},{"title":"Policy metrics","path":"internals/telemetry/metrics/policy","filePath":"../content/docs/internals/telemetry/metrics/policy.mdx","fullPath":"/vault/docs/internals/telemetry/metrics/policy","id":"sidebar-nav-item-258"},{"title":"Raft metrics","path":"internals/telemetry/metrics/raft","filePath":"../content/docs/internals/telemetry/metrics/raft.mdx","fullPath":"/vault/docs/internals/telemetry/metrics/raft","id":"sidebar-nav-item-259"},{"title":"Secrets Sync metrics","path":"internals/telemetry/metrics/secrets-sync","filePath":"../content/docs/internals/telemetry/metrics/secrets-sync.mdx","fullPath":"/vault/docs/internals/telemetry/metrics/secrets-sync","id":"sidebar-nav-item-260"},{"title":"Secrets metrics","path":"internals/telemetry/metrics/secrets","filePath":"../content/docs/internals/telemetry/metrics/secrets.mdx","fullPath":"/vault/docs/internals/telemetry/metrics/secrets","id":"sidebar-nav-item-261"},{"title":"Storage plugin metrics","path":"internals/telemetry/metrics/storage","filePath":"../content/docs/internals/telemetry/metrics/storage.mdx","fullPath":"/vault/docs/internals/telemetry/metrics/storage","id":"sidebar-nav-item-262"},{"title":"Full metrics list","path":"internals/telemetry/metrics/all","filePath":"../content/docs/internals/telemetry/metrics/all.mdx","fullPath":"/vault/docs/internals/telemetry/metrics/all","id":"sidebar-nav-item-263"}],"id":"sidebar-nav-item-249"}],"id":"sidebar-nav-item-245"},{"title":"Token Authentication","path":"internals/token","filePath":"../content/docs/internals/token.mdx","fullPath":"/vault/docs/internals/token","id":"sidebar-nav-item-264"},{"title":"Key Rotation","path":"internals/rotation","filePath":"../content/docs/internals/rotation.mdx","fullPath":"/vault/docs/internals/rotation","id":"sidebar-nav-item-265"},{"title":"Replication","path":"internals/replication","filePath":"../content/docs/internals/replication.mdx","fullPath":"/vault/docs/internals/replication","id":"sidebar-nav-item-266"},{"title":"Limits and Maximums","path":"internals/limits","filePath":"../content/docs/internals/limits.mdx","fullPath":"/vault/docs/internals/limits","id":"sidebar-nav-item-267"}],"id":"sidebar-nav-item-238"},{"title":"Vault CLI","routes":[{"title":"Usage","path":"commands","filePath":"../content/docs/commands/index.mdx","fullPath":"/vault/docs/commands","id":"sidebar-nav-item-269"},{"title":"Use a custom token helper","path":"commands/token-helper","filePath":"../content/docs/commands/token-helper.mdx","fullPath":"/vault/docs/commands/token-helper","id":"sidebar-nav-item-270"},{"divider":true,"id":"sidebar-nav-item-271"},{"heading":"CLI commands","id":"sidebar-nav-item-272"},{"title":"Vault Agent","routes":[{"title":"\u003ccode\u003eagent\u003c/code\u003e","path":"commands/agent","filePath":"../content/docs/commands/agent/index.mdx","fullPath":"/vault/docs/commands/agent","id":"sidebar-nav-item-274"},{"title":"\u003ccode\u003egenerate-config\u003c/code\u003e","path":"commands/agent/generate-config","filePath":"../content/docs/commands/agent/generate-config.mdx","fullPath":"/vault/docs/commands/agent/generate-config","id":"sidebar-nav-item-275"}],"id":"sidebar-nav-item-273"},{"title":"\u003ccode\u003eaudit\u003c/code\u003e","routes":[{"title":"\u003ccode\u003edisable\u003c/code\u003e","path":"commands/audit/disable","filePath":"../content/docs/commands/audit/disable.mdx","fullPath":"/vault/docs/commands/audit/disable","id":"sidebar-nav-item-277"},{"title":"\u003ccode\u003eenable\u003c/code\u003e","path":"commands/audit/enable","filePath":"../content/docs/commands/audit/enable.mdx","fullPath":"/vault/docs/commands/audit/enable","id":"sidebar-nav-item-278"},{"title":"\u003ccode\u003elist\u003c/code\u003e","path":"commands/audit/list","filePath":"../content/docs/commands/audit/list.mdx","fullPath":"/vault/docs/commands/audit/list","id":"sidebar-nav-item-279"}],"id":"sidebar-nav-item-276"},{"title":"\u003ccode\u003eauth\u003c/code\u003e","routes":[{"title":"Overview","path":"commands/auth","filePath":"../content/docs/commands/auth/index.mdx","fullPath":"/vault/docs/commands/auth","id":"sidebar-nav-item-281"},{"title":"\u003ccode\u003edisable\u003c/code\u003e","path":"commands/auth/disable","filePath":"../content/docs/commands/auth/disable.mdx","fullPath":"/vault/docs/commands/auth/disable","id":"sidebar-nav-item-282"},{"title":"\u003ccode\u003eenable\u003c/code\u003e","path":"commands/auth/enable","filePath":"../content/docs/commands/auth/enable.mdx","fullPath":"/vault/docs/commands/auth/enable","id":"sidebar-nav-item-283"},{"title":"\u003ccode\u003ehelp\u003c/code\u003e","path":"commands/auth/help","filePath":"../content/docs/commands/auth/help.mdx","fullPath":"/vault/docs/commands/auth/help","id":"sidebar-nav-item-284"},{"title":"\u003ccode\u003elist\u003c/code\u003e","path":"commands/auth/list","filePath":"../content/docs/commands/auth/list.mdx","fullPath":"/vault/docs/commands/auth/list","id":"sidebar-nav-item-285"},{"title":"\u003ccode\u003emove\u003c/code\u003e","path":"commands/auth/move","filePath":"../content/docs/commands/auth/move.mdx","fullPath":"/vault/docs/commands/auth/move","id":"sidebar-nav-item-286"},{"title":"\u003ccode\u003etune\u003c/code\u003e","path":"commands/auth/tune","filePath":"../content/docs/commands/auth/tune.mdx","fullPath":"/vault/docs/commands/auth/tune","id":"sidebar-nav-item-287"}],"id":"sidebar-nav-item-280"},{"title":"\u003ccode\u003edebug\u003c/code\u003e","path":"commands/debug","filePath":"../content/docs/commands/debug.mdx","fullPath":"/vault/docs/commands/debug","id":"sidebar-nav-item-288"},{"title":"\u003ccode\u003edelete\u003c/code\u003e","path":"commands/delete","filePath":"../content/docs/commands/delete.mdx","fullPath":"/vault/docs/commands/delete","id":"sidebar-nav-item-289"},{"title":"\u003ccode\u003eevents\u003c/code\u003e","path":"commands/events","filePath":"../content/docs/commands/events.mdx","fullPath":"/vault/docs/commands/events","id":"sidebar-nav-item-290"},{"title":"\u003ccode\u003ehcp\u003c/code\u003e","routes":[{"title":"Overview","path":"commands/hcp","filePath":"../content/docs/commands/hcp/index.mdx","fullPath":"/vault/docs/commands/hcp","id":"sidebar-nav-item-292"},{"title":"\u003ccode\u003econnect\u003c/code\u003e","path":"commands/hcp/connect","filePath":"../content/docs/commands/hcp/connect.mdx","fullPath":"/vault/docs/commands/hcp/connect","id":"sidebar-nav-item-293"},{"title":"\u003ccode\u003edisconnect\u003c/code\u003e","path":"commands/hcp/disconnect","filePath":"../content/docs/commands/hcp/disconnect.mdx","fullPath":"/vault/docs/commands/hcp/disconnect","id":"sidebar-nav-item-294"}],"id":"sidebar-nav-item-291"},{"title":"\u003ccode\u003ekv\u003c/code\u003e","routes":[{"title":"Overview","path":"commands/kv","filePath":"../content/docs/commands/kv/index.mdx","fullPath":"/vault/docs/commands/kv","id":"sidebar-nav-item-296"},{"title":"\u003ccode\u003edelete\u003c/code\u003e","path":"commands/kv/delete","filePath":"../content/docs/commands/kv/delete.mdx","fullPath":"/vault/docs/commands/kv/delete","id":"sidebar-nav-item-297"},{"title":"\u003ccode\u003edestroy\u003c/code\u003e","path":"commands/kv/destroy","filePath":"../content/docs/commands/kv/destroy.mdx","fullPath":"/vault/docs/commands/kv/destroy","id":"sidebar-nav-item-298"},{"title":"\u003ccode\u003eenable-versioning\u003c/code\u003e","path":"commands/kv/enable-versioning","filePath":"../content/docs/commands/kv/enable-versioning.mdx","fullPath":"/vault/docs/commands/kv/enable-versioning","id":"sidebar-nav-item-299"},{"title":"\u003ccode\u003eget\u003c/code\u003e","path":"commands/kv/get","filePath":"../content/docs/commands/kv/get.mdx","fullPath":"/vault/docs/commands/kv/get","id":"sidebar-nav-item-300"},{"title":"\u003ccode\u003elist\u003c/code\u003e","path":"commands/kv/list","filePath":"../content/docs/commands/kv/list.mdx","fullPath":"/vault/docs/commands/kv/list","id":"sidebar-nav-item-301"},{"title":"\u003ccode\u003emetadata\u003c/code\u003e","path":"commands/kv/metadata","filePath":"../content/docs/commands/kv/metadata.mdx","fullPath":"/vault/docs/commands/kv/metadata","id":"sidebar-nav-item-302"},{"title":"\u003ccode\u003epatch\u003c/code\u003e","path":"commands/kv/patch","filePath":"../content/docs/commands/kv/patch.mdx","fullPath":"/vault/docs/commands/kv/patch","id":"sidebar-nav-item-303"},{"title":"\u003ccode\u003eput\u003c/code\u003e","path":"commands/kv/put","filePath":"../content/docs/commands/kv/put.mdx","fullPath":"/vault/docs/commands/kv/put","id":"sidebar-nav-item-304"},{"title":"\u003ccode\u003erollback\u003c/code\u003e","path":"commands/kv/rollback","filePath":"../content/docs/commands/kv/rollback.mdx","fullPath":"/vault/docs/commands/kv/rollback","id":"sidebar-nav-item-305"},{"title":"\u003ccode\u003eundelete\u003c/code\u003e","path":"commands/kv/undelete","filePath":"../content/docs/commands/kv/undelete.mdx","fullPath":"/vault/docs/commands/kv/undelete","id":"sidebar-nav-item-306"}],"id":"sidebar-nav-item-295"},{"title":"\u003ccode\u003elease\u003c/code\u003e","routes":[{"title":"Overview","path":"commands/lease","filePath":"../content/docs/commands/lease/index.mdx","fullPath":"/vault/docs/commands/lease","id":"sidebar-nav-item-308"},{"title":"\u003ccode\u003elookup\u003c/code\u003e","path":"commands/lease/lookup","filePath":"../content/docs/commands/lease/lookup.mdx","fullPath":"/vault/docs/commands/lease/lookup","id":"sidebar-nav-item-309"},{"title":"\u003ccode\u003erenew\u003c/code\u003e","path":"commands/lease/renew","filePath":"../content/docs/commands/lease/renew.mdx","fullPath":"/vault/docs/commands/lease/renew","id":"sidebar-nav-item-310"},{"title":"\u003ccode\u003erevoke\u003c/code\u003e","path":"commands/lease/revoke","filePath":"../content/docs/commands/lease/revoke.mdx","fullPath":"/vault/docs/commands/lease/revoke","id":"sidebar-nav-item-311"}],"id":"sidebar-nav-item-307"},{"title":"\u003ccode\u003elicense\u003c/code\u003e","routes":[{"title":"Overview","path":"commands/license","filePath":"../content/docs/commands/license/index.mdx","fullPath":"/vault/docs/commands/license","id":"sidebar-nav-item-313"},{"title":"\u003ccode\u003eget\u003c/code\u003e","path":"commands/license/get","filePath":"../content/docs/commands/license/get.mdx","fullPath":"/vault/docs/commands/license/get","id":"sidebar-nav-item-314"},{"title":"\u003ccode\u003einspect\u003c/code\u003e","path":"commands/license/inspect","filePath":"../content/docs/commands/license/inspect.mdx","fullPath":"/vault/docs/commands/license/inspect","id":"sidebar-nav-item-315"}],"id":"sidebar-nav-item-312"},{"title":"\u003ccode\u003elist\u003c/code\u003e","path":"commands/list","filePath":"../content/docs/commands/list.mdx","fullPath":"/vault/docs/commands/list","id":"sidebar-nav-item-316"},{"title":"\u003ccode\u003elogin\u003c/code\u003e","path":"commands/login","filePath":"../content/docs/commands/login.mdx","fullPath":"/vault/docs/commands/login","id":"sidebar-nav-item-317"},{"title":"\u003ccode\u003emonitor\u003c/code\u003e","path":"commands/monitor","filePath":"../content/docs/commands/monitor.mdx","fullPath":"/vault/docs/commands/monitor","id":"sidebar-nav-item-318"},{"title":"\u003ccode\u003enamespace\u003c/code\u003e","path":"commands/namespace","filePath":"../content/docs/commands/namespace.mdx","fullPath":"/vault/docs/commands/namespace","id":"sidebar-nav-item-319"},{"title":"\u003ccode\u003eoperator\u003c/code\u003e","routes":[{"title":"Overview","path":"commands/operator","filePath":"../content/docs/commands/operator/index.mdx","fullPath":"/vault/docs/commands/operator","id":"sidebar-nav-item-321"},{"title":"\u003ccode\u003ediagnose\u003c/code\u003e","path":"commands/operator/diagnose","filePath":"../content/docs/commands/operator/diagnose.mdx","fullPath":"/vault/docs/commands/operator/diagnose","id":"sidebar-nav-item-322"},{"title":"\u003ccode\u003egenerate-root\u003c/code\u003e","path":"commands/operator/generate-root","filePath":"../content/docs/commands/operator/generate-root.mdx","fullPath":"/vault/docs/commands/operator/generate-root","id":"sidebar-nav-item-323"},{"title":"\u003ccode\u003eimport\u003c/code\u003e","path":"commands/operator/import","filePath":"../content/docs/commands/operator/import.mdx","fullPath":"/vault/docs/commands/operator/import","id":"sidebar-nav-item-324"},{"title":"\u003ccode\u003einit\u003c/code\u003e","path":"commands/operator/init","filePath":"../content/docs/commands/operator/init.mdx","fullPath":"/vault/docs/commands/operator/init","id":"sidebar-nav-item-325"},{"title":"\u003ccode\u003ekey-status\u003c/code\u003e","path":"commands/operator/key-status","filePath":"../content/docs/commands/operator/key-status.mdx","fullPath":"/vault/docs/commands/operator/key-status","id":"sidebar-nav-item-326"},{"title":"\u003ccode\u003emembers\u003c/code\u003e","path":"commands/operator/members","filePath":"../content/docs/commands/operator/members.mdx","fullPath":"/vault/docs/commands/operator/members","id":"sidebar-nav-item-327"},{"title":"\u003ccode\u003emigrate\u003c/code\u003e","path":"commands/operator/migrate","filePath":"../content/docs/commands/operator/migrate.mdx","fullPath":"/vault/docs/commands/operator/migrate","id":"sidebar-nav-item-328"},{"title":"\u003ccode\u003eraft\u003c/code\u003e","path":"commands/operator/raft","filePath":"../content/docs/commands/operator/raft.mdx","fullPath":"/vault/docs/commands/operator/raft","id":"sidebar-nav-item-329"},{"title":"\u003ccode\u003erekey\u003c/code\u003e","path":"commands/operator/rekey","filePath":"../content/docs/commands/operator/rekey.mdx","fullPath":"/vault/docs/commands/operator/rekey","id":"sidebar-nav-item-330"},{"title":"\u003ccode\u003erotate\u003c/code\u003e","path":"commands/operator/rotate","filePath":"../content/docs/commands/operator/rotate.mdx","fullPath":"/vault/docs/commands/operator/rotate","id":"sidebar-nav-item-331"},{"title":"\u003ccode\u003eseal\u003c/code\u003e","path":"commands/operator/seal","filePath":"../content/docs/commands/operator/seal.mdx","fullPath":"/vault/docs/commands/operator/seal","id":"sidebar-nav-item-332"},{"title":"\u003ccode\u003estep-down\u003c/code\u003e","path":"commands/operator/step-down","filePath":"../content/docs/commands/operator/step-down.mdx","fullPath":"/vault/docs/commands/operator/step-down","id":"sidebar-nav-item-333"},{"title":"\u003ccode\u003eunseal\u003c/code\u003e","path":"commands/operator/unseal","filePath":"../content/docs/commands/operator/unseal.mdx","fullPath":"/vault/docs/commands/operator/unseal","id":"sidebar-nav-item-334"},{"title":"\u003ccode\u003eusage\u003c/code\u003e","path":"commands/operator/usage","filePath":"../content/docs/commands/operator/usage.mdx","fullPath":"/vault/docs/commands/operator/usage","id":"sidebar-nav-item-335"},{"title":"\u003ccode\u003eutilization\u003c/code\u003e","path":"commands/operator/utilization","filePath":"../content/docs/commands/operator/utilization.mdx","fullPath":"/vault/docs/commands/operator/utilization","id":"sidebar-nav-item-336"}],"id":"sidebar-nav-item-320"},{"title":"\u003ccode\u003epatch\u003c/code\u003e","path":"commands/patch","filePath":"../content/docs/commands/patch.mdx","fullPath":"/vault/docs/commands/patch","id":"sidebar-nav-item-337"},{"title":"\u003ccode\u003epath-help\u003c/code\u003e","path":"commands/path-help","filePath":"../content/docs/commands/path-help.mdx","fullPath":"/vault/docs/commands/path-help","id":"sidebar-nav-item-338"},{"title":"\u003ccode\u003epki\u003c/code\u003e","routes":[{"title":"Overview","path":"commands/pki","filePath":"../content/docs/commands/pki/index.mdx","fullPath":"/vault/docs/commands/pki","id":"sidebar-nav-item-340"},{"title":"\u003ccode\u003ehealth-check\u003c/code\u003e","path":"commands/pki/health-check","filePath":"../content/docs/commands/pki/health-check.mdx","fullPath":"/vault/docs/commands/pki/health-check","id":"sidebar-nav-item-341"},{"title":"\u003ccode\u003everify-sign\u003c/code\u003e","path":"commands/pki/verify-sign","filePath":"../content/docs/commands/pki/verify-sign.mdx","fullPath":"/vault/docs/commands/pki/verify-sign","id":"sidebar-nav-item-342"},{"title":"\u003ccode\u003elist-intermediates\u003c/code\u003e","path":"commands/pki/list-intermediates","filePath":"../content/docs/commands/pki/list-intermediates.mdx","fullPath":"/vault/docs/commands/pki/list-intermediates","id":"sidebar-nav-item-343"},{"title":"\u003ccode\u003eissue\u003c/code\u003e","path":"commands/pki/issue","filePath":"../content/docs/commands/pki/issue.mdx","fullPath":"/vault/docs/commands/pki/issue","id":"sidebar-nav-item-344"},{"title":"\u003ccode\u003ereissue\u003c/code\u003e","path":"commands/pki/reissue","filePath":"../content/docs/commands/pki/reissue.mdx","fullPath":"/vault/docs/commands/pki/reissue","id":"sidebar-nav-item-345"}],"id":"sidebar-nav-item-339"},{"title":"\u003ccode\u003eplugin\u003c/code\u003e","routes":[{"title":"Overview","path":"commands/plugin","filePath":"../content/docs/commands/plugin/index.mdx","fullPath":"/vault/docs/commands/plugin","id":"sidebar-nav-item-347"},{"title":"\u003ccode\u003ederegister\u003c/code\u003e","path":"commands/plugin/deregister","filePath":"../content/docs/commands/plugin/deregister.mdx","fullPath":"/vault/docs/commands/plugin/deregister","id":"sidebar-nav-item-348"},{"title":"\u003ccode\u003einfo\u003c/code\u003e","path":"commands/plugin/info","filePath":"../content/docs/commands/plugin/info.mdx","fullPath":"/vault/docs/commands/plugin/info","id":"sidebar-nav-item-349"},{"title":"\u003ccode\u003elist\u003c/code\u003e","path":"commands/plugin/list","filePath":"../content/docs/commands/plugin/list.mdx","fullPath":"/vault/docs/commands/plugin/list","id":"sidebar-nav-item-350"},{"title":"\u003ccode\u003eregister\u003c/code\u003e","path":"commands/plugin/register","filePath":"../content/docs/commands/plugin/register.mdx","fullPath":"/vault/docs/commands/plugin/register","id":"sidebar-nav-item-351"},{"title":"\u003ccode\u003ereload\u003c/code\u003e","path":"commands/plugin/reload","filePath":"../content/docs/commands/plugin/reload.mdx","fullPath":"/vault/docs/commands/plugin/reload","id":"sidebar-nav-item-352"},{"title":"\u003ccode\u003eruntime\u003c/code\u003e","routes":[{"title":"Overview","path":"commands/plugin/runtime","filePath":"../content/docs/commands/plugin/runtime/index.mdx","fullPath":"/vault/docs/commands/plugin/runtime","id":"sidebar-nav-item-354"},{"title":"\u003ccode\u003ederegister\u003c/code\u003e","path":"commands/plugin/runtime/deregister","filePath":"../content/docs/commands/plugin/runtime/deregister.mdx","fullPath":"/vault/docs/commands/plugin/runtime/deregister","id":"sidebar-nav-item-355"},{"title":"\u003ccode\u003einfo\u003c/code\u003e","path":"commands/plugin/runtime/info","filePath":"../content/docs/commands/plugin/runtime/info.mdx","fullPath":"/vault/docs/commands/plugin/runtime/info","id":"sidebar-nav-item-356"},{"title":"\u003ccode\u003elist\u003c/code\u003e","path":"commands/plugin/runtime/list","filePath":"../content/docs/commands/plugin/runtime/list.mdx","fullPath":"/vault/docs/commands/plugin/runtime/list","id":"sidebar-nav-item-357"},{"title":"\u003ccode\u003eregister\u003c/code\u003e","path":"commands/plugin/runtime/register","filePath":"../content/docs/commands/plugin/runtime/register.mdx","fullPath":"/vault/docs/commands/plugin/runtime/register","id":"sidebar-nav-item-358"}],"id":"sidebar-nav-item-353"}],"id":"sidebar-nav-item-346"},{"title":"\u003ccode\u003epolicy\u003c/code\u003e","routes":[{"title":"Overview","path":"commands/policy","filePath":"../content/docs/commands/policy/index.mdx","fullPath":"/vault/docs/commands/policy","id":"sidebar-nav-item-360"},{"title":"\u003ccode\u003edelete\u003c/code\u003e","path":"commands/policy/delete","filePath":"../content/docs/commands/policy/delete.mdx","fullPath":"/vault/docs/commands/policy/delete","id":"sidebar-nav-item-361"},{"title":"\u003ccode\u003efmt\u003c/code\u003e","path":"commands/policy/fmt","filePath":"../content/docs/commands/policy/fmt.mdx","fullPath":"/vault/docs/commands/policy/fmt","id":"sidebar-nav-item-362"},{"title":"\u003ccode\u003elist\u003c/code\u003e","path":"commands/policy/list","filePath":"../content/docs/commands/policy/list.mdx","fullPath":"/vault/docs/commands/policy/list","id":"sidebar-nav-item-363"},{"title":"\u003ccode\u003eread\u003c/code\u003e","path":"commands/policy/read","filePath":"../content/docs/commands/policy/read.mdx","fullPath":"/vault/docs/commands/policy/read","id":"sidebar-nav-item-364"},{"title":"\u003ccode\u003ewrite\u003c/code\u003e","path":"commands/policy/write","filePath":"../content/docs/commands/policy/write.mdx","fullPath":"/vault/docs/commands/policy/write","id":"sidebar-nav-item-365"}],"id":"sidebar-nav-item-359"},{"title":"\u003ccode\u003eprint\u003c/code\u003e","path":"commands/print","filePath":"../content/docs/commands/print.mdx","fullPath":"/vault/docs/commands/print","id":"sidebar-nav-item-366"},{"title":"\u003ccode\u003eproxy\u003c/code\u003e","path":"commands/proxy","filePath":"../content/docs/commands/proxy.mdx","fullPath":"/vault/docs/commands/proxy","id":"sidebar-nav-item-367"},{"title":"\u003ccode\u003eread\u003c/code\u003e","path":"commands/read","filePath":"../content/docs/commands/read.mdx","fullPath":"/vault/docs/commands/read","id":"sidebar-nav-item-368"},{"title":"\u003ccode\u003erecover\u003c/code\u003e","path":"commands/recover","filePath":"../content/docs/commands/recover.mdx","fullPath":"/vault/docs/commands/recover","id":"sidebar-nav-item-369"},{"title":"\u003ccode\u003esecrets\u003c/code\u003e","routes":[{"title":"Overview","path":"commands/secrets","filePath":"../content/docs/commands/secrets/index.mdx","fullPath":"/vault/docs/commands/secrets","id":"sidebar-nav-item-371"},{"title":"\u003ccode\u003edisable\u003c/code\u003e","path":"commands/secrets/disable","filePath":"../content/docs/commands/secrets/disable.mdx","fullPath":"/vault/docs/commands/secrets/disable","id":"sidebar-nav-item-372"},{"title":"\u003ccode\u003eenable\u003c/code\u003e","path":"commands/secrets/enable","filePath":"../content/docs/commands/secrets/enable.mdx","fullPath":"/vault/docs/commands/secrets/enable","id":"sidebar-nav-item-373"},{"title":"\u003ccode\u003elist\u003c/code\u003e","path":"commands/secrets/list","filePath":"../content/docs/commands/secrets/list.mdx","fullPath":"/vault/docs/commands/secrets/list","id":"sidebar-nav-item-374"},{"title":"\u003ccode\u003emove\u003c/code\u003e","path":"commands/secrets/move","filePath":"../content/docs/commands/secrets/move.mdx","fullPath":"/vault/docs/commands/secrets/move","id":"sidebar-nav-item-375"},{"title":"\u003ccode\u003etune\u003c/code\u003e","path":"commands/secrets/tune","filePath":"../content/docs/commands/secrets/tune.mdx","fullPath":"/vault/docs/commands/secrets/tune","id":"sidebar-nav-item-376"}],"id":"sidebar-nav-item-370"},{"title":"\u003ccode\u003eserver\u003c/code\u003e","path":"commands/server","filePath":"../content/docs/commands/server.mdx","fullPath":"/vault/docs/commands/server","id":"sidebar-nav-item-377"},{"title":"\u003ccode\u003essh\u003c/code\u003e","path":"commands/ssh","filePath":"../content/docs/commands/ssh.mdx","fullPath":"/vault/docs/commands/ssh","id":"sidebar-nav-item-378"},{"title":"\u003ccode\u003estatus\u003c/code\u003e","path":"commands/status","filePath":"../content/docs/commands/status.mdx","fullPath":"/vault/docs/commands/status","id":"sidebar-nav-item-379"},{"title":"\u003ccode\u003etoken\u003c/code\u003e","routes":[{"title":"Overview","path":"commands/token","filePath":"../content/docs/commands/token/index.mdx","fullPath":"/vault/docs/commands/token","id":"sidebar-nav-item-381"},{"title":"\u003ccode\u003ecapabilities\u003c/code\u003e","path":"commands/token/capabilities","filePath":"../content/docs/commands/token/capabilities.mdx","fullPath":"/vault/docs/commands/token/capabilities","id":"sidebar-nav-item-382"},{"title":"\u003ccode\u003ecreate\u003c/code\u003e","path":"commands/token/create","filePath":"../content/docs/commands/token/create.mdx","fullPath":"/vault/docs/commands/token/create","id":"sidebar-nav-item-383"},{"title":"\u003ccode\u003elookup\u003c/code\u003e","path":"commands/token/lookup","filePath":"../content/docs/commands/token/lookup.mdx","fullPath":"/vault/docs/commands/token/lookup","id":"sidebar-nav-item-384"},{"title":"\u003ccode\u003erenew\u003c/code\u003e","path":"commands/token/renew","filePath":"../content/docs/commands/token/renew.mdx","fullPath":"/vault/docs/commands/token/renew","id":"sidebar-nav-item-385"},{"title":"\u003ccode\u003erevoke\u003c/code\u003e","path":"commands/token/revoke","filePath":"../content/docs/commands/token/revoke.mdx","fullPath":"/vault/docs/commands/token/revoke","id":"sidebar-nav-item-386"}],"id":"sidebar-nav-item-380"},{"title":"\u003ccode\u003etransit\u003c/code\u003e","routes":[{"title":"Overview","path":"commands/transit","filePath":"../content/docs/commands/transit/index.mdx","fullPath":"/vault/docs/commands/transit","id":"sidebar-nav-item-388"},{"title":"\u003ccode\u003eimport\u003c/code\u003e and \u003ccode\u003eimport-version\u003c/code\u003e","path":"commands/transit/import","filePath":"../content/docs/commands/transit/import.mdx","fullPath":"/vault/docs/commands/transit/import","id":"sidebar-nav-item-389"}],"id":"sidebar-nav-item-387"},{"title":"\u003ccode\u003etransform\u003c/code\u003e","routes":[{"title":"Overview","path":"commands/transform","filePath":"../content/docs/commands/transform/index.mdx","fullPath":"/vault/docs/commands/transform","id":"sidebar-nav-item-391"},{"title":"\u003ccode\u003eimport\u003c/code\u003e and \u003ccode\u003eimport-version\u003c/code\u003e","path":"commands/transform/import","filePath":"../content/docs/commands/transform/import.mdx","fullPath":"/vault/docs/commands/transform/import","id":"sidebar-nav-item-392"}],"id":"sidebar-nav-item-390"},{"title":"\u003ccode\u003eunwrap\u003c/code\u003e","path":"commands/unwrap","filePath":"../content/docs/commands/unwrap.mdx","fullPath":"/vault/docs/commands/unwrap","id":"sidebar-nav-item-393"},{"title":"\u003ccode\u003eversion\u003c/code\u003e","path":"commands/version","filePath":"../content/docs/commands/version.mdx","fullPath":"/vault/docs/commands/version","id":"sidebar-nav-item-394"},{"title":"\u003ccode\u003eversion-history\u003c/code\u003e","path":"commands/version-history","filePath":"../content/docs/commands/version-history.mdx","fullPath":"/vault/docs/commands/version-history","id":"sidebar-nav-item-395"},{"title":"\u003ccode\u003ewrite\u003c/code\u003e","path":"commands/write","filePath":"../content/docs/commands/write.mdx","fullPath":"/vault/docs/commands/write","id":"sidebar-nav-item-396"}],"id":"sidebar-nav-item-268"},{"title":"Vault GUI","routes":[{"title":"Overview","path":"ui","filePath":"../content/docs/ui/index.mdx","fullPath":"/vault/docs/ui","id":"sidebar-nav-item-398"},{"title":"Browser support","path":"ui/browser-support","filePath":"../content/docs/ui/browser-support.mdx","fullPath":"/vault/docs/ui/browser-support","id":"sidebar-nav-item-399"},{"title":"Custom login","path":"ui/custom-login","badge":{"text":"ENT","type":"filled","color":"neutral"},"filePath":"../content/docs/ui/custom-login.mdx","fullPath":"/vault/docs/ui/custom-login","id":"sidebar-nav-item-400"},{"title":"Custom messages","path":"ui/custom-messages","badge":{"text":"ENT","type":"filled","color":"neutral"},"filePath":"../content/docs/ui/custom-messages.mdx","fullPath":"/vault/docs/ui/custom-messages","id":"sidebar-nav-item-401"},{"title":"Namespaces","path":"ui/namespaces","badge":{"text":"ENT","type":"filled","color":"neutral"},"filePath":"../content/docs/ui/namespaces.mdx","fullPath":"/vault/docs/ui/namespaces","id":"sidebar-nav-item-402"},{"title":"CLI emulation","path":"ui/web-cli","filePath":"../content/docs/ui/web-cli.mdx","fullPath":"/vault/docs/ui/web-cli","id":"sidebar-nav-item-403"}],"id":"sidebar-nav-item-397"},{"title":"Vault tools: Agent and Proxy","routes":[{"title":"Why use Agent or Proxy?","path":"agent-and-proxy","filePath":"../content/docs/agent-and-proxy/index.mdx","fullPath":"/vault/docs/agent-and-proxy","id":"sidebar-nav-item-405"},{"title":"Upgrade Agent or Proxy","path":"agent-and-proxy/upgrade","filePath":"../content/docs/agent-and-proxy/upgrade.mdx","fullPath":"/vault/docs/agent-and-proxy/upgrade","id":"sidebar-nav-item-406"},{"title":"Auto-authentication","routes":[{"title":"What is auto-authentication?","path":"agent-and-proxy/autoauth","filePath":"../content/docs/agent-and-proxy/autoauth/index.mdx","fullPath":"/vault/docs/agent-and-proxy/autoauth","id":"sidebar-nav-item-408"},{"title":"Auto-auth methods","routes":[{"title":"AliCloud","path":"agent-and-proxy/autoauth/methods/alicloud","filePath":"../content/docs/agent-and-proxy/autoauth/methods/alicloud.mdx","fullPath":"/vault/docs/agent-and-proxy/autoauth/methods/alicloud","id":"sidebar-nav-item-410"},{"title":"AppRole","path":"agent-and-proxy/autoauth/methods/approle","filePath":"../content/docs/agent-and-proxy/autoauth/methods/approle.mdx","fullPath":"/vault/docs/agent-and-proxy/autoauth/methods/approle","id":"sidebar-nav-item-411"},{"title":"AWS","path":"agent-and-proxy/autoauth/methods/aws","filePath":"../content/docs/agent-and-proxy/autoauth/methods/aws.mdx","fullPath":"/vault/docs/agent-and-proxy/autoauth/methods/aws","id":"sidebar-nav-item-412"},{"title":"Azure","path":"agent-and-proxy/autoauth/methods/azure","filePath":"../content/docs/agent-and-proxy/autoauth/methods/azure.mdx","fullPath":"/vault/docs/agent-and-proxy/autoauth/methods/azure","id":"sidebar-nav-item-413"},{"title":"TLS certificates","path":"agent-and-proxy/autoauth/methods/cert","filePath":"../content/docs/agent-and-proxy/autoauth/methods/cert.mdx","fullPath":"/vault/docs/agent-and-proxy/autoauth/methods/cert","id":"sidebar-nav-item-414"},{"title":"Cloud Foundry (CF)","path":"agent-and-proxy/autoauth/methods/cf","filePath":"../content/docs/agent-and-proxy/autoauth/methods/cf.mdx","fullPath":"/vault/docs/agent-and-proxy/autoauth/methods/cf","id":"sidebar-nav-item-415"},{"title":"GCP","path":"agent-and-proxy/autoauth/methods/gcp","filePath":"../content/docs/agent-and-proxy/autoauth/methods/gcp.mdx","fullPath":"/vault/docs/agent-and-proxy/autoauth/methods/gcp","id":"sidebar-nav-item-416"},{"title":"JWT","path":"agent-and-proxy/autoauth/methods/jwt","filePath":"../content/docs/agent-and-proxy/autoauth/methods/jwt.mdx","fullPath":"/vault/docs/agent-and-proxy/autoauth/methods/jwt","id":"sidebar-nav-item-417"},{"title":"LDAP","path":"agent-and-proxy/autoauth/methods/ldap","filePath":"../content/docs/agent-and-proxy/autoauth/methods/ldap.mdx","fullPath":"/vault/docs/agent-and-proxy/autoauth/methods/ldap","id":"sidebar-nav-item-418"},{"title":"Kerberos","path":"agent-and-proxy/autoauth/methods/kerberos","filePath":"../content/docs/agent-and-proxy/autoauth/methods/kerberos.mdx","fullPath":"/vault/docs/agent-and-proxy/autoauth/methods/kerberos","id":"sidebar-nav-item-419"},{"title":"Kubernetes","path":"agent-and-proxy/autoauth/methods/kubernetes","filePath":"../content/docs/agent-and-proxy/autoauth/methods/kubernetes.mdx","fullPath":"/vault/docs/agent-and-proxy/autoauth/methods/kubernetes","id":"sidebar-nav-item-420"},{"title":"Oracle Cloud Infrastructure (OCI","path":"agent-and-proxy/autoauth/methods/oci","filePath":"../content/docs/agent-and-proxy/autoauth/methods/oci.mdx","fullPath":"/vault/docs/agent-and-proxy/autoauth/methods/oci","id":"sidebar-nav-item-421"},{"title":"Token file","path":"agent-and-proxy/autoauth/methods/token_file","filePath":"../content/docs/agent-and-proxy/autoauth/methods/token_file.mdx","fullPath":"/vault/docs/agent-and-proxy/autoauth/methods/token_file","id":"sidebar-nav-item-422"}],"id":"sidebar-nav-item-409"},{"title":"Token sinks","routes":[{"title":"File","path":"agent-and-proxy/autoauth/sinks/file","filePath":"../content/docs/agent-and-proxy/autoauth/sinks/file.mdx","fullPath":"/vault/docs/agent-and-proxy/autoauth/sinks/file","id":"sidebar-nav-item-424"}],"id":"sidebar-nav-item-423"}],"id":"sidebar-nav-item-407"},{"title":"Vault Proxy","routes":[{"title":"What is Vault Proxy?","path":"agent-and-proxy/proxy","filePath":"../content/docs/agent-and-proxy/proxy/index.mdx","fullPath":"/vault/docs/agent-and-proxy/proxy","id":"sidebar-nav-item-426"},{"title":"Vault Proxy as Vault API proxy","path":"agent-and-proxy/proxy/apiproxy","filePath":"../content/docs/agent-and-proxy/proxy/apiproxy.mdx","fullPath":"/vault/docs/agent-and-proxy/proxy/apiproxy","id":"sidebar-nav-item-427"},{"title":"Vault Proxy caching","routes":[{"title":"Overview","path":"agent-and-proxy/proxy/caching","filePath":"../content/docs/agent-and-proxy/proxy/caching/index.mdx","fullPath":"/vault/docs/agent-and-proxy/proxy/caching","id":"sidebar-nav-item-429"},{"title":"Improve Vault traffic resiliency","path":"agent-and-proxy/proxy/caching/static-secret-caching","badge":{"text":"ENT","type":"outlined","color":"neutral"},"filePath":"../content/docs/agent-and-proxy/proxy/caching/static-secret-caching.mdx","fullPath":"/vault/docs/agent-and-proxy/proxy/caching/static-secret-caching","id":"sidebar-nav-item-430"},{"title":"Persistent Caching","routes":[{"title":"Use built-in persistent caching","path":"agent-and-proxy/proxy/caching/persistent-caches","filePath":"../content/docs/agent-and-proxy/proxy/caching/persistent-caches/index.mdx","fullPath":"/vault/docs/agent-and-proxy/proxy/caching/persistent-caches","id":"sidebar-nav-item-432"},{"title":"Use Kubernetes persistent cache","path":"agent-and-proxy/proxy/caching/persistent-caches/kubernetes","filePath":"../content/docs/agent-and-proxy/proxy/caching/persistent-caches/kubernetes.mdx","fullPath":"/vault/docs/agent-and-proxy/proxy/caching/persistent-caches/kubernetes","id":"sidebar-nav-item-433"}],"id":"sidebar-nav-item-431"}],"id":"sidebar-nav-item-428"},{"title":"Risks of inconsistent Proxy and Vault versions","path":"agent-and-proxy/proxy/versions","filePath":"../content/docs/agent-and-proxy/proxy/versions.mdx","fullPath":"/vault/docs/agent-and-proxy/proxy/versions","id":"sidebar-nav-item-434"}],"id":"sidebar-nav-item-425"},{"title":"Vault Agent","routes":[{"title":"What is Vault Agent?","path":"agent-and-proxy/agent","filePath":"../content/docs/agent-and-proxy/agent/index.mdx","fullPath":"/vault/docs/agent-and-proxy/agent","id":"sidebar-nav-item-436"},{"title":"Vault Agent as Vault API proxy","path":"agent-and-proxy/agent/apiproxy","filePath":"../content/docs/agent-and-proxy/agent/apiproxy.mdx","fullPath":"/vault/docs/agent-and-proxy/agent/apiproxy","id":"sidebar-nav-item-437"},{"title":"Vault Agent caching","routes":[{"title":"Overview","path":"agent-and-proxy/agent/caching","filePath":"../content/docs/agent-and-proxy/agent/caching/index.mdx","fullPath":"/vault/docs/agent-and-proxy/agent/caching","id":"sidebar-nav-item-439"},{"title":"Persistent caching","routes":[{"title":"Use built-in persistent caching","path":"agent-and-proxy/agent/caching/persistent-caches","filePath":"../content/docs/agent-and-proxy/agent/caching/persistent-caches/index.mdx","fullPath":"/vault/docs/agent-and-proxy/agent/caching/persistent-caches","id":"sidebar-nav-item-441"},{"title":"Use Kubernetes persistent cache","path":"agent-and-proxy/agent/caching/persistent-caches/kubernetes","filePath":"../content/docs/agent-and-proxy/agent/caching/persistent-caches/kubernetes.mdx","fullPath":"/vault/docs/agent-and-proxy/agent/caching/persistent-caches/kubernetes","id":"sidebar-nav-item-442"}],"id":"sidebar-nav-item-440"}],"id":"sidebar-nav-item-438"},{"title":"Generate a development config file","path":"agent-and-proxy/agent/generate-config","filePath":"../content/docs/agent-and-proxy/agent/generate-config.mdx","fullPath":"/vault/docs/agent-and-proxy/agent/generate-config","id":"sidebar-nav-item-443"},{"title":"Run in process supervisor mode","path":"agent-and-proxy/agent/process-supervisor","filePath":"../content/docs/agent-and-proxy/agent/process-supervisor.mdx","fullPath":"/vault/docs/agent-and-proxy/agent/process-supervisor","id":"sidebar-nav-item-444"},{"title":"Use Vault Agent templates","path":"agent-and-proxy/agent/template","filePath":"../content/docs/agent-and-proxy/agent/template.mdx","fullPath":"/vault/docs/agent-and-proxy/agent/template","id":"sidebar-nav-item-445"},{"title":"Run Vault Agent as a Windows service","path":"agent-and-proxy/agent/winsvc","filePath":"../content/docs/agent-and-proxy/agent/winsvc.mdx","fullPath":"/vault/docs/agent-and-proxy/agent/winsvc","id":"sidebar-nav-item-446"},{"title":"Risks of inconsistent Agent and Vault versions","path":"agent-and-proxy/agent/versions","filePath":"../content/docs/agent-and-proxy/agent/versions.mdx","fullPath":"/vault/docs/agent-and-proxy/agent/versions","id":"sidebar-nav-item-447"}],"id":"sidebar-nav-item-435"}],"id":"sidebar-nav-item-404"},{"divider":true,"id":"sidebar-nav-item-448"},{"title":"Secrets Engines","routes":[{"title":"Overview","path":"secrets","filePath":"../content/docs/secrets/index.mdx","fullPath":"/vault/docs/secrets","id":"sidebar-nav-item-450"},{"title":"AliCloud","path":"secrets/alicloud","filePath":"../content/docs/secrets/alicloud.mdx","fullPath":"/vault/docs/secrets/alicloud","id":"sidebar-nav-item-451"},{"title":"AWS","path":"secrets/aws","filePath":"../content/docs/secrets/aws.mdx","fullPath":"/vault/docs/secrets/aws","id":"sidebar-nav-item-452"},{"title":"Azure","path":"secrets/azure","filePath":"../content/docs/secrets/azure.mdx","fullPath":"/vault/docs/secrets/azure","id":"sidebar-nav-item-453"},{"title":"Consul","path":"secrets/consul","filePath":"../content/docs/secrets/consul.mdx","fullPath":"/vault/docs/secrets/consul","id":"sidebar-nav-item-454"},{"title":"Cubbyhole","path":"secrets/cubbyhole","filePath":"../content/docs/secrets/cubbyhole.mdx","fullPath":"/vault/docs/secrets/cubbyhole","id":"sidebar-nav-item-455"},{"title":"Databases","routes":[{"title":"Overview","path":"secrets/databases","filePath":"../content/docs/secrets/databases/index.mdx","fullPath":"/vault/docs/secrets/databases","id":"sidebar-nav-item-457"},{"title":"Cassandra","path":"secrets/databases/cassandra","filePath":"../content/docs/secrets/databases/cassandra.mdx","fullPath":"/vault/docs/secrets/databases/cassandra","id":"sidebar-nav-item-458"},{"title":"Couchbase","path":"secrets/databases/couchbase","filePath":"../content/docs/secrets/databases/couchbase.mdx","fullPath":"/vault/docs/secrets/databases/couchbase","id":"sidebar-nav-item-459"},{"title":"Elasticsearch","path":"secrets/databases/elasticdb","filePath":"../content/docs/secrets/databases/elasticdb.mdx","fullPath":"/vault/docs/secrets/databases/elasticdb","id":"sidebar-nav-item-460"},{"title":"HanaDB","path":"secrets/databases/hanadb","filePath":"../content/docs/secrets/databases/hanadb.mdx","fullPath":"/vault/docs/secrets/databases/hanadb","id":"sidebar-nav-item-461"},{"title":"IBM Db2","path":"secrets/databases/db2","filePath":"../content/docs/secrets/databases/db2.mdx","fullPath":"/vault/docs/secrets/databases/db2","id":"sidebar-nav-item-462"},{"title":"InfluxDB","path":"secrets/databases/influxdb","filePath":"../content/docs/secrets/databases/influxdb.mdx","fullPath":"/vault/docs/secrets/databases/influxdb","id":"sidebar-nav-item-463"},{"title":"MongoDB","path":"secrets/databases/mongodb","filePath":"../content/docs/secrets/databases/mongodb.mdx","fullPath":"/vault/docs/secrets/databases/mongodb","id":"sidebar-nav-item-464"},{"title":"MongoDB Atlas","path":"secrets/databases/mongodbatlas","filePath":"../content/docs/secrets/databases/mongodbatlas.mdx","fullPath":"/vault/docs/secrets/databases/mongodbatlas","id":"sidebar-nav-item-465"},{"title":"MSSQL","path":"secrets/databases/mssql","filePath":"../content/docs/secrets/databases/mssql.mdx","fullPath":"/vault/docs/secrets/databases/mssql","id":"sidebar-nav-item-466"},{"title":"MySQL/MariaDB","path":"secrets/databases/mysql-maria","filePath":"../content/docs/secrets/databases/mysql-maria.mdx","fullPath":"/vault/docs/secrets/databases/mysql-maria","id":"sidebar-nav-item-467"},{"title":"Oracle","path":"secrets/databases/oracle","filePath":"../content/docs/secrets/databases/oracle.mdx","fullPath":"/vault/docs/secrets/databases/oracle","id":"sidebar-nav-item-468"},{"title":"PostgreSQL","path":"secrets/databases/postgresql","filePath":"../content/docs/secrets/databases/postgresql.mdx","fullPath":"/vault/docs/secrets/databases/postgresql","id":"sidebar-nav-item-469"},{"title":"Redis","path":"secrets/databases/redis","filePath":"../content/docs/secrets/databases/redis.mdx","fullPath":"/vault/docs/secrets/databases/redis","id":"sidebar-nav-item-470"},{"title":"Redis ElastiCache","path":"secrets/databases/rediselasticache","filePath":"../content/docs/secrets/databases/rediselasticache.mdx","fullPath":"/vault/docs/secrets/databases/rediselasticache","id":"sidebar-nav-item-471"},{"title":"Redshift","path":"secrets/databases/redshift","filePath":"../content/docs/secrets/databases/redshift.mdx","fullPath":"/vault/docs/secrets/databases/redshift","id":"sidebar-nav-item-472"},{"title":"Snowflake","path":"secrets/databases/snowflake","filePath":"../content/docs/secrets/databases/snowflake.mdx","fullPath":"/vault/docs/secrets/databases/snowflake","id":"sidebar-nav-item-473"},{"title":"Custom","path":"secrets/databases/custom","filePath":"../content/docs/secrets/databases/custom.mdx","fullPath":"/vault/docs/secrets/databases/custom","id":"sidebar-nav-item-474"}],"id":"sidebar-nav-item-456"},{"title":"Google Cloud","path":"secrets/gcp","filePath":"../content/docs/secrets/gcp.mdx","fullPath":"/vault/docs/secrets/gcp","id":"sidebar-nav-item-475"},{"title":"Google Cloud KMS","path":"secrets/gcpkms","filePath":"../content/docs/secrets/gcpkms.mdx","fullPath":"/vault/docs/secrets/gcpkms","id":"sidebar-nav-item-476"},{"title":"Identity","routes":[{"title":"Overview","path":"secrets/identity","filePath":"../content/docs/secrets/identity/index.mdx","fullPath":"/vault/docs/secrets/identity","id":"sidebar-nav-item-478"},{"title":"Identity Tokens","path":"secrets/identity/identity-token","filePath":"../content/docs/secrets/identity/identity-token.mdx","fullPath":"/vault/docs/secrets/identity/identity-token","id":"sidebar-nav-item-479"},{"title":"OIDC Identity Provider","path":"secrets/identity/oidc-provider","filePath":"../content/docs/secrets/identity/oidc-provider.mdx","fullPath":"/vault/docs/secrets/identity/oidc-provider","id":"sidebar-nav-item-480"},{"title":"Resolve duplicate identities","routes":[{"title":"Process overview","path":"secrets/identity/deduplication","filePath":"../content/docs/secrets/identity/deduplication/index.mdx","fullPath":"/vault/docs/secrets/identity/deduplication","id":"sidebar-nav-item-482"},{"title":"Fix different-case entity alias duplicates","path":"secrets/identity/deduplication/different-case","filePath":"../content/docs/secrets/identity/deduplication/different-case.mdx","fullPath":"/vault/docs/secrets/identity/deduplication/different-case","id":"sidebar-nav-item-483"},{"title":"Fix entity and group duplicates","path":"secrets/identity/deduplication/entity-group","filePath":"../content/docs/secrets/identity/deduplication/entity-group.mdx","fullPath":"/vault/docs/secrets/identity/deduplication/entity-group","id":"sidebar-nav-item-484"},{"title":"Resolve ACL policy templates","path":"secrets/identity/deduplication/acl-policy-templates","filePath":"../content/docs/secrets/identity/deduplication/acl-policy-templates.mdx","fullPath":"/vault/docs/secrets/identity/deduplication/acl-policy-templates","id":"sidebar-nav-item-485"},{"title":"Resolve Terraform config","path":"secrets/identity/deduplication/terraform-refs","filePath":"../content/docs/secrets/identity/deduplication/terraform-refs.mdx","fullPath":"/vault/docs/secrets/identity/deduplication/terraform-refs","id":"sidebar-nav-item-486"}],"id":"sidebar-nav-item-481"}],"id":"sidebar-nav-item-477"},{"title":"Key Management","badge":{"text":"ENT","type":"filled","color":"neutral"},"routes":[{"title":"Overview","path":"secrets/key-management","filePath":"../content/docs/secrets/key-management/index.mdx","fullPath":"/vault/docs/secrets/key-management","id":"sidebar-nav-item-488"},{"title":"Azure Key Vault","routes":[{"title":"Overview","path":"secrets/key-management/azurekeyvault","filePath":"../content/docs/secrets/key-management/azurekeyvault/index.mdx","fullPath":"/vault/docs/secrets/key-management/azurekeyvault","id":"sidebar-nav-item-490"},{"title":"Setup guide","path":"secrets/key-management/azurekeyvault/setup","filePath":"../content/docs/secrets/key-management/azurekeyvault/setup.mdx","fullPath":"/vault/docs/secrets/key-management/azurekeyvault/setup","id":"sidebar-nav-item-491"}],"id":"sidebar-nav-item-489"},{"title":"AWS KMS","path":"secrets/key-management/awskms","filePath":"../content/docs/secrets/key-management/awskms.mdx","fullPath":"/vault/docs/secrets/key-management/awskms","id":"sidebar-nav-item-492"},{"title":"GCP Cloud KMS","routes":[{"title":"Overview","path":"secrets/key-management/gcpkms","filePath":"../content/docs/secrets/key-management/gcpkms/index.mdx","fullPath":"/vault/docs/secrets/key-management/gcpkms","id":"sidebar-nav-item-494"},{"title":"Setup guide","path":"secrets/key-management/gcpkms/setup","filePath":"../content/docs/secrets/key-management/gcpkms/setup.mdx","fullPath":"/vault/docs/secrets/key-management/gcpkms/setup","id":"sidebar-nav-item-495"}],"id":"sidebar-nav-item-493"}],"id":"sidebar-nav-item-487"},{"title":"Key/Value","routes":[{"title":"Overview","path":"secrets/kv","filePath":"../content/docs/secrets/kv/index.mdx","fullPath":"/vault/docs/secrets/kv","id":"sidebar-nav-item-497"},{"title":"KV version  1","path":"secrets/kv/kv-v1","filePath":"../content/docs/secrets/kv/kv-v1.mdx","fullPath":"/vault/docs/secrets/kv/kv-v1","id":"sidebar-nav-item-498"},{"title":"KV version  2","routes":[{"title":"Overview","path":"secrets/kv/kv-v2","filePath":"../content/docs/secrets/kv/kv-v2/index.mdx","fullPath":"/vault/docs/secrets/kv/kv-v2","id":"sidebar-nav-item-500"},{"title":"Upgrade from v1","path":"secrets/kv/kv-v2/upgrade","filePath":"../content/docs/secrets/kv/kv-v2/upgrade.mdx","fullPath":"/vault/docs/secrets/kv/kv-v2/upgrade","id":"sidebar-nav-item-501"},{"title":"Setup","path":"secrets/kv/kv-v2/setup","filePath":"../content/docs/secrets/kv/kv-v2/setup.mdx","fullPath":"/vault/docs/secrets/kv/kv-v2/setup","id":"sidebar-nav-item-502"},{"title":"Save random strings","path":"secrets/kv/kv-v2/random-string","filePath":"../content/docs/secrets/kv/kv-v2/random-string.mdx","fullPath":"/vault/docs/secrets/kv/kv-v2/random-string","id":"sidebar-nav-item-503"},{"title":"Cookbook","routes":[{"title":"Read data","path":"secrets/kv/kv-v2/cookbook/read-data","filePath":"../content/docs/secrets/kv/kv-v2/cookbook/read-data.mdx","fullPath":"/vault/docs/secrets/kv/kv-v2/cookbook/read-data","id":"sidebar-nav-item-505"},{"title":"Read subkeys","path":"secrets/kv/kv-v2/cookbook/read-subkey","filePath":"../content/docs/secrets/kv/kv-v2/cookbook/read-subkey.mdx","fullPath":"/vault/docs/secrets/kv/kv-v2/cookbook/read-subkey","id":"sidebar-nav-item-506"},{"title":"Set max data versions","path":"secrets/kv/kv-v2/cookbook/max-versions","filePath":"../content/docs/secrets/kv/kv-v2/cookbook/max-versions.mdx","fullPath":"/vault/docs/secrets/kv/kv-v2/cookbook/max-versions","id":"sidebar-nav-item-507"},{"title":"Write data","path":"secrets/kv/kv-v2/cookbook/write-data","filePath":"../content/docs/secrets/kv/kv-v2/cookbook/write-data.mdx","fullPath":"/vault/docs/secrets/kv/kv-v2/cookbook/write-data","id":"sidebar-nav-item-508"},{"title":"Patch/update data","path":"secrets/kv/kv-v2/cookbook/patch-data","filePath":"../content/docs/secrets/kv/kv-v2/cookbook/patch-data.mdx","fullPath":"/vault/docs/secrets/kv/kv-v2/cookbook/patch-data","id":"sidebar-nav-item-509"},{"title":"Soft delete data","path":"secrets/kv/kv-v2/cookbook/delete-data","filePath":"../content/docs/secrets/kv/kv-v2/cookbook/delete-data.mdx","fullPath":"/vault/docs/secrets/kv/kv-v2/cookbook/delete-data","id":"sidebar-nav-item-510"},{"title":"Restore soft deleted data","path":"secrets/kv/kv-v2/cookbook/undelete-data","filePath":"../content/docs/secrets/kv/kv-v2/cookbook/undelete-data.mdx","fullPath":"/vault/docs/secrets/kv/kv-v2/cookbook/undelete-data","id":"sidebar-nav-item-511"},{"title":"Destroy data","path":"secrets/kv/kv-v2/cookbook/destroy-data","filePath":"../content/docs/secrets/kv/kv-v2/cookbook/destroy-data.mdx","fullPath":"/vault/docs/secrets/kv/kv-v2/cookbook/destroy-data","id":"sidebar-nav-item-512"},{"title":"Write custom metadata","path":"secrets/kv/kv-v2/cookbook/custom-metadata","filePath":"../content/docs/secrets/kv/kv-v2/cookbook/custom-metadata.mdx","fullPath":"/vault/docs/secrets/kv/kv-v2/cookbook/custom-metadata","id":"sidebar-nav-item-513"}],"id":"sidebar-nav-item-504"}],"id":"sidebar-nav-item-499"}],"id":"sidebar-nav-item-496"},{"title":"KMIP","badge":{"text":"ENT","type":"filled","color":"neutral"},"path":"secrets/kmip","filePath":"../content/docs/secrets/kmip.mdx","fullPath":"/vault/docs/secrets/kmip","id":"sidebar-nav-item-514"},{"title":"Kubernetes","path":"secrets/kubernetes","filePath":"../content/docs/secrets/kubernetes.mdx","fullPath":"/vault/docs/secrets/kubernetes","id":"sidebar-nav-item-515"},{"title":"MongoDB Atlas","path":"secrets/mongodbatlas","filePath":"../content/docs/secrets/mongodbatlas.mdx","fullPath":"/vault/docs/secrets/mongodbatlas","id":"sidebar-nav-item-516"},{"title":"Nomad","path":"secrets/nomad","filePath":"../content/docs/secrets/nomad.mdx","fullPath":"/vault/docs/secrets/nomad","id":"sidebar-nav-item-517"},{"title":"LDAP","path":"secrets/ldap","filePath":"../content/docs/secrets/ldap.mdx","fullPath":"/vault/docs/secrets/ldap","id":"sidebar-nav-item-518"},{"title":"PKI (Certificates)","routes":[{"title":"Overview","path":"secrets/pki","filePath":"../content/docs/secrets/pki/index.mdx","fullPath":"/vault/docs/secrets/pki","id":"sidebar-nav-item-520"},{"title":"Setup and Usage","path":"secrets/pki/setup","filePath":"../content/docs/secrets/pki/setup.mdx","fullPath":"/vault/docs/secrets/pki/setup","id":"sidebar-nav-item-521"},{"title":"Quick Start - Root CA Setup","path":"secrets/pki/quick-start-root-ca","filePath":"../content/docs/secrets/pki/quick-start-root-ca.mdx","fullPath":"/vault/docs/secrets/pki/quick-start-root-ca","id":"sidebar-nav-item-522"},{"title":"Quick Start - Intermediate CA Setup","path":"secrets/pki/quick-start-intermediate-ca","filePath":"../content/docs/secrets/pki/quick-start-intermediate-ca.mdx","fullPath":"/vault/docs/secrets/pki/quick-start-intermediate-ca","id":"sidebar-nav-item-523"},{"title":"Considerations","path":"secrets/pki/considerations","filePath":"../content/docs/secrets/pki/considerations.mdx","fullPath":"/vault/docs/secrets/pki/considerations","id":"sidebar-nav-item-524"},{"title":"Rotation Primitives","path":"secrets/pki/rotation-primitives","filePath":"../content/docs/secrets/pki/rotation-primitives.mdx","fullPath":"/vault/docs/secrets/pki/rotation-primitives","id":"sidebar-nav-item-525"},{"title":"Certificate Issuance External Policy Service (CIEPS)","badge":{"text":"ENT","type":"filled","color":"neutral"},"path":"secrets/pki/cieps","filePath":"../content/docs/secrets/pki/cieps.mdx","fullPath":"/vault/docs/secrets/pki/cieps","id":"sidebar-nav-item-526"},{"title":"Enrollment over Secure Transport (EST)","path":"secrets/pki/est","badge":{"text":"ENT","type":"filled","color":"neutral"},"filePath":"../content/docs/secrets/pki/est.mdx","fullPath":"/vault/docs/secrets/pki/est","id":"sidebar-nav-item-527"},{"title":"Certificate Management Protocol (CMPv2)","badge":{"text":"ENT","type":"filled","color":"neutral"},"path":"secrets/pki/cmpv2","filePath":"../content/docs/secrets/pki/cmpv2.mdx","fullPath":"/vault/docs/secrets/pki/cmpv2","id":"sidebar-nav-item-528"},{"title":"Simple Certificate Enrollment Protocol (SCEP)","badge":{"text":"ENT","type":"filled","color":"neutral"},"path":"secrets/pki/scep","filePath":"../content/docs/secrets/pki/scep.mdx","fullPath":"/vault/docs/secrets/pki/scep","id":"sidebar-nav-item-529"},{"title":"Troubleshooting ACME","path":"secrets/pki/troubleshooting-acme","filePath":"../content/docs/secrets/pki/troubleshooting-acme.mdx","fullPath":"/vault/docs/secrets/pki/troubleshooting-acme","id":"sidebar-nav-item-530"}],"id":"sidebar-nav-item-519"},{"title":"RabbitMQ","path":"secrets/rabbitmq","filePath":"../content/docs/secrets/rabbitmq.mdx","fullPath":"/vault/docs/secrets/rabbitmq","id":"sidebar-nav-item-531"},{"title":"SSH","routes":[{"title":"Overview","path":"secrets/ssh","filePath":"../content/docs/secrets/ssh/index.mdx","fullPath":"/vault/docs/secrets/ssh","id":"sidebar-nav-item-533"},{"title":"Signed Certificates","path":"secrets/ssh/signed-ssh-certificates","filePath":"../content/docs/secrets/ssh/signed-ssh-certificates.mdx","fullPath":"/vault/docs/secrets/ssh/signed-ssh-certificates","id":"sidebar-nav-item-534"},{"title":"SSH OTP","path":"secrets/ssh/one-time-ssh-passwords","filePath":"../content/docs/secrets/ssh/one-time-ssh-passwords.mdx","fullPath":"/vault/docs/secrets/ssh/one-time-ssh-passwords","id":"sidebar-nav-item-535"}],"id":"sidebar-nav-item-532"},{"title":"HCP Terraform","path":"secrets/terraform","filePath":"../content/docs/secrets/terraform.mdx","fullPath":"/vault/docs/secrets/terraform","id":"sidebar-nav-item-536"},{"title":"TOTP","path":"secrets/totp","filePath":"../content/docs/secrets/totp.mdx","fullPath":"/vault/docs/secrets/totp","id":"sidebar-nav-item-537"},{"title":"Transform","badge":{"text":"ENT","type":"filled","color":"neutral"},"routes":[{"title":"Overview","path":"secrets/transform","filePath":"../content/docs/secrets/transform/index.mdx","fullPath":"/vault/docs/secrets/transform","id":"sidebar-nav-item-539"},{"title":"FF3-1 Tweak Usage","path":"secrets/transform/ff3-tweak-details","filePath":"../content/docs/secrets/transform/ff3-tweak-details.mdx","fullPath":"/vault/docs/secrets/transform/ff3-tweak-details","id":"sidebar-nav-item-540"},{"title":"Tokenization Transform","badge":{"text":"ENT","type":"filled","color":"neutral"},"path":"secrets/transform/tokenization","filePath":"../content/docs/secrets/transform/tokenization.mdx","fullPath":"/vault/docs/secrets/transform/tokenization","id":"sidebar-nav-item-541"}],"id":"sidebar-nav-item-538"},{"title":"Transit","routes":[{"title":"Overview","path":"secrets/transit","filePath":"../content/docs/secrets/transit/index.mdx","fullPath":"/vault/docs/secrets/transit","id":"sidebar-nav-item-543"},{"title":"Import Key Wrapping Guide","path":"secrets/transit/key-wrapping-guide","filePath":"../content/docs/secrets/transit/key-wrapping-guide.mdx","fullPath":"/vault/docs/secrets/transit/key-wrapping-guide","id":"sidebar-nav-item-544"}],"id":"sidebar-nav-item-542"}],"id":"sidebar-nav-item-449"},{"title":"Secrets Sync","badge":{"text":"ENT","type":"filled","color":"neutral"},"routes":[{"title":"Overview","path":"sync","filePath":"../content/docs/sync/index.mdx","fullPath":"/vault/docs/sync","id":"sidebar-nav-item-546"},{"title":"Sync to AWS Secrets Manager","path":"sync/awssm","filePath":"../content/docs/sync/awssm.mdx","fullPath":"/vault/docs/sync/awssm","id":"sidebar-nav-item-547"},{"title":"Sync to Azure Key Vault","path":"sync/azurekv","filePath":"../content/docs/sync/azurekv.mdx","fullPath":"/vault/docs/sync/azurekv","id":"sidebar-nav-item-548"},{"title":"Sync to GCP Secret Manager","path":"sync/gcpsm","filePath":"../content/docs/sync/gcpsm.mdx","fullPath":"/vault/docs/sync/gcpsm","id":"sidebar-nav-item-549"},{"title":"Sync to GitHub","path":"sync/github","filePath":"../content/docs/sync/github.mdx","fullPath":"/vault/docs/sync/github","id":"sidebar-nav-item-550"},{"title":"Sync to Vercel Project","path":"sync/vercelproject","filePath":"../content/docs/sync/vercelproject.mdx","fullPath":"/vault/docs/sync/vercelproject","id":"sidebar-nav-item-551"}],"id":"sidebar-nav-item-545"},{"title":"Secrets Import","badge":{"text":"ENT","type":"filled","color":"neutral"},"routes":[{"title":"Overview","path":"import","badge":{"text":"BETA","type":"outlined","color":"highlight"},"filePath":"../content/docs/import/index.mdx","fullPath":"/vault/docs/import","id":"sidebar-nav-item-553"},{"title":"AWS Secret Manager","path":"import/awssm","filePath":"../content/docs/import/awssm.mdx","fullPath":"/vault/docs/import/awssm","id":"sidebar-nav-item-554"},{"title":"Azure KeyVault","path":"import/azurekv","filePath":"../content/docs/import/azurekv.mdx","fullPath":"/vault/docs/import/azurekv","id":"sidebar-nav-item-555"},{"title":"GCP Secret Manager","path":"import/gcpsm","filePath":"../content/docs/import/gcpsm.mdx","fullPath":"/vault/docs/import/gcpsm","id":"sidebar-nav-item-556"}],"id":"sidebar-nav-item-552"},{"title":"AuthN methods","routes":[{"title":"Overview","path":"auth","filePath":"../content/docs/auth/index.mdx","fullPath":"/vault/docs/auth","id":"sidebar-nav-item-558"},{"title":"AppRole","routes":[{"title":"Use AppRole authN","path":"auth/approle","filePath":"../content/docs/auth/approle/index.mdx","fullPath":"/vault/docs/auth/approle","id":"sidebar-nav-item-560"},{"title":"AppRole best practices","path":"auth/approle/approle-pattern","filePath":"../content/docs/auth/approle/approle-pattern.mdx","fullPath":"/vault/docs/auth/approle/approle-pattern","id":"sidebar-nav-item-561"}],"id":"sidebar-nav-item-559"},{"title":"AliCloud","path":"auth/alicloud","filePath":"../content/docs/auth/alicloud.mdx","fullPath":"/vault/docs/auth/alicloud","id":"sidebar-nav-item-562"},{"title":"AWS","path":"auth/aws","filePath":"../content/docs/auth/aws.mdx","fullPath":"/vault/docs/auth/aws","id":"sidebar-nav-item-563"},{"title":"Azure","path":"auth/azure","filePath":"../content/docs/auth/azure.mdx","fullPath":"/vault/docs/auth/azure","id":"sidebar-nav-item-564"},{"title":"Cloud Foundry","path":"auth/cf","filePath":"../content/docs/auth/cf.mdx","fullPath":"/vault/docs/auth/cf","id":"sidebar-nav-item-565"},{"title":"GitHub","path":"auth/github","filePath":"../content/docs/auth/github.mdx","fullPath":"/vault/docs/auth/github","id":"sidebar-nav-item-566"},{"title":"Google Cloud","path":"auth/gcp","filePath":"../content/docs/auth/gcp.mdx","fullPath":"/vault/docs/auth/gcp","id":"sidebar-nav-item-567"},{"title":"JWT/OIDC","routes":[{"title":"Use JWT/OIDC","path":"auth/jwt","filePath":"../content/docs/auth/jwt/index.mdx","fullPath":"/vault/docs/auth/jwt","id":"sidebar-nav-item-569"},{"title":"OIDC providers","routes":[{"title":"OIDC provider list","path":"auth/jwt/oidc-providers","filePath":"../content/docs/auth/jwt/oidc-providers/index.mdx","fullPath":"/vault/docs/auth/jwt/oidc-providers","id":"sidebar-nav-item-571"},{"title":"ADFS","path":"auth/jwt/oidc-providers/adfs","filePath":"../content/docs/auth/jwt/oidc-providers/adfs.mdx","fullPath":"/vault/docs/auth/jwt/oidc-providers/adfs","id":"sidebar-nav-item-572"},{"title":"Auth0","path":"auth/jwt/oidc-providers/auth0","filePath":"../content/docs/auth/jwt/oidc-providers/auth0.mdx","fullPath":"/vault/docs/auth/jwt/oidc-providers/auth0","id":"sidebar-nav-item-573"},{"title":"Azure AD","path":"auth/jwt/oidc-providers/azuread","filePath":"../content/docs/auth/jwt/oidc-providers/azuread.mdx","fullPath":"/vault/docs/auth/jwt/oidc-providers/azuread","id":"sidebar-nav-item-574"},{"title":"Forgerock","path":"auth/jwt/oidc-providers/forgerock","filePath":"../content/docs/auth/jwt/oidc-providers/forgerock.mdx","fullPath":"/vault/docs/auth/jwt/oidc-providers/forgerock","id":"sidebar-nav-item-575"},{"title":"Gitlab","path":"auth/jwt/oidc-providers/gitlab","filePath":"../content/docs/auth/jwt/oidc-providers/gitlab.mdx","fullPath":"/vault/docs/auth/jwt/oidc-providers/gitlab","id":"sidebar-nav-item-576"},{"title":"Google","path":"auth/jwt/oidc-providers/google","filePath":"../content/docs/auth/jwt/oidc-providers/google.mdx","fullPath":"/vault/docs/auth/jwt/oidc-providers/google","id":"sidebar-nav-item-577"},{"title":"Keycloak","path":"auth/jwt/oidc-providers/keycloak","filePath":"../content/docs/auth/jwt/oidc-providers/keycloak.mdx","fullPath":"/vault/docs/auth/jwt/oidc-providers/keycloak","id":"sidebar-nav-item-578"},{"title":"Kubernetes","path":"auth/jwt/oidc-providers/kubernetes","filePath":"../content/docs/auth/jwt/oidc-providers/kubernetes.mdx","fullPath":"/vault/docs/auth/jwt/oidc-providers/kubernetes","id":"sidebar-nav-item-579"},{"title":"Okta","path":"auth/jwt/oidc-providers/okta","filePath":"../content/docs/auth/jwt/oidc-providers/okta.mdx","fullPath":"/vault/docs/auth/jwt/oidc-providers/okta","id":"sidebar-nav-item-580"},{"title":"SecureAuth","path":"auth/jwt/oidc-providers/secureauth","filePath":"../content/docs/auth/jwt/oidc-providers/secureauth.mdx","fullPath":"/vault/docs/auth/jwt/oidc-providers/secureauth","id":"sidebar-nav-item-581"},{"title":"IBM Verify","path":"auth/jwt/oidc-providers/ibmisam","filePath":"../content/docs/auth/jwt/oidc-providers/ibmisam.mdx","fullPath":"/vault/docs/auth/jwt/oidc-providers/ibmisam","id":"sidebar-nav-item-582"}],"id":"sidebar-nav-item-570"}],"id":"sidebar-nav-item-568"},{"title":"Kerberos","path":"auth/kerberos","filePath":"../content/docs/auth/kerberos.mdx","fullPath":"/vault/docs/auth/kerberos","id":"sidebar-nav-item-583"},{"title":"Kubernetes","path":"auth/kubernetes","filePath":"../content/docs/auth/kubernetes.mdx","fullPath":"/vault/docs/auth/kubernetes","id":"sidebar-nav-item-584"},{"title":"LDAP","path":"auth/ldap","filePath":"../content/docs/auth/ldap.mdx","fullPath":"/vault/docs/auth/ldap","id":"sidebar-nav-item-585"},{"title":"Login MFA","routes":[{"title":"Setup login MFA","path":"auth/login-mfa","filePath":"../content/docs/auth/login-mfa/index.mdx","fullPath":"/vault/docs/auth/login-mfa","id":"sidebar-nav-item-587"},{"title":"Login MFA FAQ","path":"auth/login-mfa/faq","filePath":"../content/docs/auth/login-mfa/faq.mdx","fullPath":"/vault/docs/auth/login-mfa/faq","id":"sidebar-nav-item-588"}],"id":"sidebar-nav-item-586"},{"title":"Oracle Cloud Infrastructure","path":"auth/oci","filePath":"../content/docs/auth/oci.mdx","fullPath":"/vault/docs/auth/oci","id":"sidebar-nav-item-589"},{"title":"Okta","path":"auth/okta","filePath":"../content/docs/auth/okta.mdx","fullPath":"/vault/docs/auth/okta","id":"sidebar-nav-item-590"},{"title":"RADIUS","path":"auth/radius","filePath":"../content/docs/auth/radius.mdx","fullPath":"/vault/docs/auth/radius","id":"sidebar-nav-item-591"},{"title":"Use SAML authentication","badge":{"text":"ENT","type":"filled","color":"neutral"},"routes":[{"title":"Set up SAML authN","path":"auth/saml","filePath":"../content/docs/auth/saml/index.mdx","fullPath":"/vault/docs/auth/saml","id":"sidebar-nav-item-593"},{"title":"Use AD FS for SAML authN","path":"auth/saml/adfs","filePath":"../content/docs/auth/saml/adfs.mdx","fullPath":"/vault/docs/auth/saml/adfs","id":"sidebar-nav-item-594"},{"title":"Link SAML AD groups to Vault","path":"auth/saml/link-vault-group-to-ad","filePath":"../content/docs/auth/saml/link-vault-group-to-ad.mdx","fullPath":"/vault/docs/auth/saml/link-vault-group-to-ad","id":"sidebar-nav-item-595"},{"title":"Troubleshoot SAML+ADFS","routes":[{"title":"Before you start","path":"auth/saml/troubleshoot-adfs","filePath":"../content/docs/auth/saml/troubleshoot-adfs/index.mdx","fullPath":"/vault/docs/auth/saml/troubleshoot-adfs","id":"sidebar-nav-item-597"},{"title":"Bad mapping","path":"auth/saml/troubleshoot-adfs/bad-mapping","filePath":"../content/docs/auth/saml/troubleshoot-adfs/bad-mapping.mdx","fullPath":"/vault/docs/auth/saml/troubleshoot-adfs/bad-mapping","id":"sidebar-nav-item-598"},{"title":"Invalid `BoundSubjects`","path":"auth/saml/troubleshoot-adfs/boundsubjects","filePath":"../content/docs/auth/saml/troubleshoot-adfs/boundsubjects.mdx","fullPath":"/vault/docs/auth/saml/troubleshoot-adfs/boundsubjects","id":"sidebar-nav-item-599"},{"title":"AD FS event 320","path":"auth/saml/troubleshoot-adfs/adfs-event-320","filePath":"../content/docs/auth/saml/troubleshoot-adfs/adfs-event-320.mdx","fullPath":"/vault/docs/auth/saml/troubleshoot-adfs/adfs-event-320","id":"sidebar-nav-item-600"}],"id":"sidebar-nav-item-596"}],"id":"sidebar-nav-item-592"},{"title":"SCEP","path":"auth/scep","badge":{"text":"ENT","type":"filled","color":"neutral"},"filePath":"../content/docs/auth/scep.mdx","fullPath":"/vault/docs/auth/scep","id":"sidebar-nav-item-601"},{"title":"TLS Certificates","path":"auth/cert","filePath":"../content/docs/auth/cert.mdx","fullPath":"/vault/docs/auth/cert","id":"sidebar-nav-item-602"},{"title":"Tokens","path":"auth/token","filePath":"../content/docs/auth/token.mdx","fullPath":"/vault/docs/auth/token","id":"sidebar-nav-item-603"},{"title":"Username and Password","path":"auth/userpass","filePath":"../content/docs/auth/userpass.mdx","fullPath":"/vault/docs/auth/userpass","id":"sidebar-nav-item-604"},{"divider":true,"id":"sidebar-nav-item-605"}],"id":"sidebar-nav-item-557"},{"title":"Audit Devices","routes":[{"title":"Overview","path":"audit","filePath":"../content/docs/audit/index.mdx","fullPath":"/vault/docs/audit","id":"sidebar-nav-item-607"},{"title":"File","path":"audit/file","filePath":"../content/docs/audit/file.mdx","fullPath":"/vault/docs/audit/file","id":"sidebar-nav-item-608"},{"title":"Syslog","path":"audit/syslog","filePath":"../content/docs/audit/syslog.mdx","fullPath":"/vault/docs/audit/syslog","id":"sidebar-nav-item-609"},{"title":"Socket","path":"audit/socket","filePath":"../content/docs/audit/socket.mdx","fullPath":"/vault/docs/audit/socket","id":"sidebar-nav-item-610"}],"id":"sidebar-nav-item-606"},{"title":"Plugins","routes":[{"title":"Overview","path":"plugins","filePath":"../content/docs/plugins/index.mdx","fullPath":"/vault/docs/plugins","id":"sidebar-nav-item-612"},{"title":"Plugin architecture","path":"plugins/plugin-architecture","filePath":"../content/docs/plugins/plugin-architecture.mdx","fullPath":"/vault/docs/plugins/plugin-architecture","id":"sidebar-nav-item-613"},{"title":"Register a plugin","path":"plugins/register","filePath":"../content/docs/plugins/register.mdx","fullPath":"/vault/docs/plugins/register","id":"sidebar-nav-item-614"},{"title":"Upgrade plugins","path":"plugins/upgrade","filePath":"../content/docs/plugins/upgrade.mdx","fullPath":"/vault/docs/plugins/upgrade","id":"sidebar-nav-item-615"},{"title":"Rollback upgrades","path":"plugins/rollback","filePath":"../content/docs/plugins/rollback.mdx","fullPath":"/vault/docs/plugins/rollback","id":"sidebar-nav-item-616"},{"title":"Plugin development","path":"plugins/plugin-development","filePath":"../content/docs/plugins/plugin-development.mdx","fullPath":"/vault/docs/plugins/plugin-development","id":"sidebar-nav-item-617"},{"title":"Plugin event notifications","path":"plugins/plugin-development-event-notifications","badge":{"text":"ENT","type":"filled","color":"neutral"},"filePath":"../content/docs/plugins/plugin-development-event-notifications.mdx","fullPath":"/vault/docs/plugins/plugin-development-event-notifications","id":"sidebar-nav-item-618"},{"title":"Plugin management","path":"plugins/plugin-management","filePath":"../content/docs/plugins/plugin-management.mdx","fullPath":"/vault/docs/plugins/plugin-management","id":"sidebar-nav-item-619"},{"title":"Containerized plugins","routes":[{"title":"Overview","path":"plugins/containerized-plugins","filePath":"../content/docs/plugins/containerized-plugins/index.mdx","fullPath":"/vault/docs/plugins/containerized-plugins","id":"sidebar-nav-item-621"},{"title":"Add a containerized plugin","path":"plugins/containerized-plugins/add-a-containerized-plugin","filePath":"../content/docs/plugins/containerized-plugins/add-a-containerized-plugin.mdx","fullPath":"/vault/docs/plugins/containerized-plugins/add-a-containerized-plugin","id":"sidebar-nav-item-622"}],"id":"sidebar-nav-item-620"},{"title":"Plugin library","href":null,"fullPath":"/vault/integrations","id":"sidebar-nav-item-623","path":"/vault/integrations"}],"id":"sidebar-nav-item-611"},{"title":"Troubleshoot Vault","routes":[{"title":"Generate a root token","path":"troubleshoot/generate-root-token","filePath":"../content/docs/troubleshoot/generate-root-token.mdx","fullPath":"/vault/docs/troubleshoot/generate-root-token","id":"sidebar-nav-item-625"},{"title":"Troubleshoot lease errors","path":"troubleshoot/lease-issues","filePath":"../content/docs/troubleshoot/lease-issues.mdx","fullPath":"/vault/docs/troubleshoot/lease-issues","id":"sidebar-nav-item-626"},{"title":"Tune the lease TTL","path":"troubleshoot/tune-lease-ttl","filePath":"../content/docs/troubleshoot/tune-lease-ttl.mdx","fullPath":"/vault/docs/troubleshoot/tune-lease-ttl","id":"sidebar-nav-item-627"},{"title":"Troubleshooting tutorials","href":"/vault/tutorials/monitoring/troubleshooting-vault","id":"sidebar-nav-item-628"}],"id":"sidebar-nav-item-624"},{"divider":true,"id":"sidebar-nav-item-629"},{"title":"Platforms","routes":[{"title":"GitHub","routes":[{"title":"GitHub Actions","path":"platform/github-actions","filePath":"../content/docs/platform/github-actions.mdx","fullPath":"/vault/docs/platform/github-actions","id":"sidebar-nav-item-632"}],"id":"sidebar-nav-item-631"},{"title":"Microsoft SQL Server EKM provider","routes":[{"title":"Overview","path":"platform/mssql","filePath":"../content/docs/platform/mssql/index.mdx","fullPath":"/vault/docs/platform/mssql","id":"sidebar-nav-item-634"},{"title":"Installation","path":"platform/mssql/installation","filePath":"../content/docs/platform/mssql/installation.mdx","fullPath":"/vault/docs/platform/mssql/installation","id":"sidebar-nav-item-635"},{"title":"Configuration","path":"platform/mssql/configuration","filePath":"../content/docs/platform/mssql/configuration.mdx","fullPath":"/vault/docs/platform/mssql/configuration","id":"sidebar-nav-item-636"},{"title":"Key Rotation","path":"platform/mssql/rotation","filePath":"../content/docs/platform/mssql/rotation.mdx","fullPath":"/vault/docs/platform/mssql/rotation","id":"sidebar-nav-item-637"},{"title":"Upgrading","path":"platform/mssql/upgrading","filePath":"../content/docs/platform/mssql/upgrading.mdx","fullPath":"/vault/docs/platform/mssql/upgrading","id":"sidebar-nav-item-638"},{"title":"Troubleshooting","path":"platform/mssql/troubleshooting","filePath":"../content/docs/platform/mssql/troubleshooting.mdx","fullPath":"/vault/docs/platform/mssql/troubleshooting","id":"sidebar-nav-item-639"},{"title":"Release Notes","path":"platform/mssql/changelog","filePath":"../content/docs/platform/mssql/changelog.mdx","fullPath":"/vault/docs/platform/mssql/changelog","id":"sidebar-nav-item-640"}],"id":"sidebar-nav-item-633"},{"title":"ServiceNow","routes":[{"title":"Overview","path":"platform/servicenow","filePath":"../content/docs/platform/servicenow/index.mdx","fullPath":"/vault/docs/platform/servicenow","id":"sidebar-nav-item-642"},{"title":"Installation","path":"platform/servicenow/installation","filePath":"../content/docs/platform/servicenow/installation.mdx","fullPath":"/vault/docs/platform/servicenow/installation","id":"sidebar-nav-item-643"},{"title":"Configuration","path":"platform/servicenow/configuration","filePath":"../content/docs/platform/servicenow/configuration.mdx","fullPath":"/vault/docs/platform/servicenow/configuration","id":"sidebar-nav-item-644"},{"title":"Troubleshooting","path":"platform/servicenow/troubleshooting","filePath":"../content/docs/platform/servicenow/troubleshooting.mdx","fullPath":"/vault/docs/platform/servicenow/troubleshooting","id":"sidebar-nav-item-645"}],"id":"sidebar-nav-item-641"}],"id":"sidebar-nav-item-630"},{"divider":true,"id":"sidebar-nav-item-646"},{"title":"Vault Enterprise","routes":[{"title":"Overview","path":"enterprise","filePath":"../content/docs/enterprise/index.mdx","fullPath":"/vault/docs/enterprise","id":"sidebar-nav-item-648"},{"title":"Long-term support (LTS)","path":"enterprise/lts","filePath":"../content/docs/enterprise/lts.mdx","fullPath":"/vault/docs/enterprise/lts","id":"sidebar-nav-item-649"},{"title":"Design your Vault Enterprise cluster","path":"enterprise/cluster-design","filePath":"../content/docs/enterprise/cluster-design.mdx","fullPath":"/vault/docs/enterprise/cluster-design","id":"sidebar-nav-item-650"},{"title":"Replication","routes":[{"title":"Replication support in Vault","path":"enterprise/replication","filePath":"../content/docs/enterprise/replication/index.mdx","fullPath":"/vault/docs/enterprise/replication","id":"sidebar-nav-item-652"},{"title":"Check for Merkle tree corruption","path":"enterprise/replication/check-merkle-tree-corruption","filePath":"../content/docs/enterprise/replication/check-merkle-tree-corruption.mdx","fullPath":"/vault/docs/enterprise/replication/check-merkle-tree-corruption","id":"sidebar-nav-item-653"}],"id":"sidebar-nav-item-651"},{"title":"HSM Support","routes":[{"title":"HSM support overview","path":"enterprise/hsm","filePath":"../content/docs/enterprise/hsm/index.mdx","fullPath":"/vault/docs/enterprise/hsm","id":"sidebar-nav-item-655"},{"title":"How HSM changes Vault","path":"enterprise/hsm/behavior","filePath":"../content/docs/enterprise/hsm/behavior.mdx","fullPath":"/vault/docs/enterprise/hsm/behavior","id":"sidebar-nav-item-656"},{"title":"HSM security details","path":"enterprise/hsm/security","filePath":"../content/docs/enterprise/hsm/security.mdx","fullPath":"/vault/docs/enterprise/hsm/security","id":"sidebar-nav-item-657"}],"id":"sidebar-nav-item-654"},{"title":"PKCS11 provider","routes":[{"title":"PKCS#11 support in Vault","path":"enterprise/pkcs11-provider","filePath":"../content/docs/enterprise/pkcs11-provider/index.mdx","fullPath":"/vault/docs/enterprise/pkcs11-provider","id":"sidebar-nav-item-659"},{"title":"Use PKCS#11 with AWS KMS","path":"enterprise/pkcs11-provider/aws-xks","filePath":"../content/docs/enterprise/pkcs11-provider/aws-xks.mdx","fullPath":"/vault/docs/enterprise/pkcs11-provider/aws-xks","id":"sidebar-nav-item-660"},{"title":"Use PKCS#11 with Oracle TDE","path":"enterprise/pkcs11-provider/oracle-tde","filePath":"../content/docs/enterprise/pkcs11-provider/oracle-tde.mdx","fullPath":"/vault/docs/enterprise/pkcs11-provider/oracle-tde","id":"sidebar-nav-item-661"}],"id":"sidebar-nav-item-658"},{"title":"Automatically upgrade Vault clusters","path":"enterprise/automated-upgrades","filePath":"../content/docs/enterprise/automated-upgrades.mdx","fullPath":"/vault/docs/enterprise/automated-upgrades","id":"sidebar-nav-item-662"},{"title":"Use redundancy zones","path":"enterprise/redundancy-zones","filePath":"../content/docs/enterprise/redundancy-zones.mdx","fullPath":"/vault/docs/enterprise/redundancy-zones","id":"sidebar-nav-item-663"},{"title":"Enforce lease count quotas","path":"enterprise/lease-count-quotas","filePath":"../content/docs/enterprise/lease-count-quotas.mdx","fullPath":"/vault/docs/enterprise/lease-count-quotas","id":"sidebar-nav-item-664"},{"title":"Augment entropy with external samples","path":"enterprise/entropy-augmentation","filePath":"../content/docs/enterprise/entropy-augmentation.mdx","fullPath":"/vault/docs/enterprise/entropy-augmentation","id":"sidebar-nav-item-665"},{"title":"FIPS","routes":[{"title":"FIPS compliance in Vault","path":"enterprise/fips","filePath":"../content/docs/enterprise/fips/index.mdx","fullPath":"/vault/docs/enterprise/fips","id":"sidebar-nav-item-667"},{"title":"Built-in FIPS 140-3 support","path":"enterprise/fips/fips1403","filePath":"../content/docs/enterprise/fips/fips1403.mdx","fullPath":"/vault/docs/enterprise/fips/fips1403","id":"sidebar-nav-item-668"},{"title":"Seal wrap for FIPS compliance","path":"enterprise/fips/sealwrap","filePath":"../content/docs/enterprise/fips/sealwrap.mdx","fullPath":"/vault/docs/enterprise/fips/sealwrap","id":"sidebar-nav-item-669"}],"id":"sidebar-nav-item-666"},{"title":"Wrap seals with encryption","path":"enterprise/sealwrap","filePath":"../content/docs/enterprise/sealwrap.mdx","fullPath":"/vault/docs/enterprise/sealwrap","id":"sidebar-nav-item-670"},{"title":"Namespaces and SMT","routes":[{"title":"Namespace + SMT support in Vault","path":"enterprise/namespaces","filePath":"../content/docs/enterprise/namespaces/index.mdx","fullPath":"/vault/docs/enterprise/namespaces","id":"sidebar-nav-item-672"},{"title":"Create an administrative namespace","path":"enterprise/namespaces/create-admin-namespace","filePath":"../content/docs/enterprise/namespaces/create-admin-namespace.mdx","fullPath":"/vault/docs/enterprise/namespaces/create-admin-namespace","id":"sidebar-nav-item-673"},{"title":"Run Vault with many namespaces","path":"enterprise/namespaces/namespace-limits","badge":{"text":"ENT","type":"filled","color":"neutral"},"filePath":"../content/docs/enterprise/namespaces/namespace-limits.mdx","fullPath":"/vault/docs/enterprise/namespaces/namespace-limits","id":"sidebar-nav-item-674"},{"title":"Configure cross namespace access","path":"enterprise/namespaces/configure-cross-namespace-access","badge":{"text":"ENT","type":"filled","color":"neutral"},"filePath":"../content/docs/enterprise/namespaces/configure-cross-namespace-access.mdx","fullPath":"/vault/docs/enterprise/namespaces/configure-cross-namespace-access","id":"sidebar-nav-item-675"},{"title":"Best practices for namespaces","path":"enterprise/namespaces/namespace-structure","filePath":"../content/docs/enterprise/namespaces/namespace-structure.mdx","fullPath":"/vault/docs/enterprise/namespaces/namespace-structure","id":"sidebar-nav-item-676"}],"id":"sidebar-nav-item-671"},{"title":"Use performance standby nodes","path":"enterprise/performance-standby","filePath":"../content/docs/enterprise/performance-standby.mdx","fullPath":"/vault/docs/enterprise/performance-standby","id":"sidebar-nav-item-677"},{"title":"Data consistency for replication","path":"enterprise/consistency","filePath":"../content/docs/enterprise/consistency.mdx","fullPath":"/vault/docs/enterprise/consistency","id":"sidebar-nav-item-678"},{"title":"Audit","routes":[{"title":"Audit Exclusion","path":"enterprise/audit/exclusion","filePath":"../content/docs/enterprise/audit/exclusion.mdx","fullPath":"/vault/docs/enterprise/audit/exclusion","id":"sidebar-nav-item-680"},{"title":"Audit Filtering","path":"enterprise/audit/filtering","filePath":"../content/docs/enterprise/audit/filtering.mdx","fullPath":"/vault/docs/enterprise/audit/filtering","id":"sidebar-nav-item-681"}],"id":"sidebar-nav-item-679"},{"title":"Use control group authZ ","path":"enterprise/control-groups","filePath":"../content/docs/enterprise/control-groups.mdx","fullPath":"/vault/docs/enterprise/control-groups","id":"sidebar-nav-item-682"},{"title":"3rd party key management","path":"enterprise/managed-keys","filePath":"../content/docs/enterprise/managed-keys.mdx","fullPath":"/vault/docs/enterprise/managed-keys","id":"sidebar-nav-item-683"},{"title":"Multi-factor authN","routes":[{"title":"MFA support in Vault","path":"enterprise/mfa","filePath":"../content/docs/enterprise/mfa/index.mdx","fullPath":"/vault/docs/enterprise/mfa","id":"sidebar-nav-item-685"},{"title":"Configure Duo for MFA","path":"enterprise/mfa/mfa-duo","filePath":"../content/docs/enterprise/mfa/mfa-duo.mdx","fullPath":"/vault/docs/enterprise/mfa/mfa-duo","id":"sidebar-nav-item-686"},{"title":"Configure Okta for MFA","path":"enterprise/mfa/mfa-okta","filePath":"../content/docs/enterprise/mfa/mfa-okta.mdx","fullPath":"/vault/docs/enterprise/mfa/mfa-okta","id":"sidebar-nav-item-687"},{"title":"Configure PingID for MFA","path":"enterprise/mfa/mfa-pingid","filePath":"../content/docs/enterprise/mfa/mfa-pingid.mdx","fullPath":"/vault/docs/enterprise/mfa/mfa-pingid","id":"sidebar-nav-item-688"},{"title":"Configure TOTP for MFA","path":"enterprise/mfa/mfa-totp","filePath":"../content/docs/enterprise/mfa/mfa-totp.mdx","fullPath":"/vault/docs/enterprise/mfa/mfa-totp","id":"sidebar-nav-item-689"}],"id":"sidebar-nav-item-684"},{"title":"Manage policies as code","routes":[{"title":"Manage Vault policies with Sentinel","path":"enterprise/sentinel","filePath":"../content/docs/enterprise/sentinel/index.mdx","fullPath":"/vault/docs/enterprise/sentinel","id":"sidebar-nav-item-691"},{"title":"Sentinel properties for Vault","path":"enterprise/sentinel/properties","filePath":"../content/docs/enterprise/sentinel/properties.mdx","fullPath":"/vault/docs/enterprise/sentinel/properties","id":"sidebar-nav-item-692"},{"title":"Sentinel examples","path":"enterprise/sentinel/examples","filePath":"../content/docs/enterprise/sentinel/examples.mdx","fullPath":"/vault/docs/enterprise/sentinel/examples","id":"sidebar-nav-item-693"}],"id":"sidebar-nav-item-690"},{"title":"HCP Vault docs","href":"/hcp/docs/vault","id":"sidebar-nav-item-694"}],"id":"sidebar-nav-item-647"},{"divider":true,"id":"sidebar-nav-item-695"},{"title":"Glossary","path":"glossary","filePath":"../content/docs/glossary.mdx","fullPath":"/vault/docs/glossary","id":"sidebar-nav-item-696"}],"title":"Documentation","visuallyHideTitle":true}],"mainWidth":"narrow","githubFileUrl":"https://github.com/hashicorp/vault/blob/main/website/../content/docs/auth/aws.mdx"},"metadata":{"title":"AWS - Auth Methods","description":"The aws auth method allows automated authentication of AWS entities.","layout":null},"outlineItems":[{"title":"AWS auth method","url":"#aws-auth-method"},{"title":"Authentication workflow","url":"#authentication-workflow"},{"title":"Authorization workflow","url":"#authorization-workflow"},{"title":"IAM authentication inferences","url":"#iam-authentication-inferences"},{"title":"Mixing authentication types","url":"#mixing-authentication-types"},{"title":"Comparison of the IAM and EC2 methods","url":"#comparison-of-the-iam-and-ec2-methods"},{"title":"Recommended Vault IAM policy","url":"#recommended-vault-iam-policy"},{"title":"Plugin Workload Identity Federation (WIF)","url":"#plugin-workload-identity-federation-wif"},{"title":"Client nonce","url":"#client-nonce"},{"title":"Advanced options and caveats","url":"#advanced-options-and-caveats"},{"title":"Authentication","url":"#authentication"},{"title":"API","url":"#api"},{"title":"Code example","url":"#code-example"}],"pageHeading":{"id":"aws-auth-method","title":"AWS auth method"},"mdxSource":{"compiledSource":"const makeShortcode=name=\u003efunction MDXDefaultShortcode(props){console.warn(\"Component \"+name+\" was not imported, exported, or provided by MDXProvider as global scope\");return mdx(\"div\",props)};const Note=makeShortcode(\"Note\");const EnterpriseAlert=makeShortcode(\"EnterpriseAlert\");const CodeTabs=makeShortcode(\"CodeTabs\");const CodeBlockConfig=makeShortcode(\"CodeBlockConfig\");const layoutProps={};const MDXLayout=\"wrapper\";function MDXContent({components,...props}){return mdx(MDXLayout,{...layoutProps,...props,components:components,mdxType:\"MDXLayout\"},mdx(Note,{mdxType:\"Note\"},mdx(\"p\",null,`This engine can use external X.509 certificates as part of TLS or signature validation.\nVerifying signatures against X.509 certificates that use SHA-1 is deprecated and is no longer\nusable without a workaround starting in Vault 1.12. Refer to the\n`,mdx(\"a\",{parentName:\"p\",\"href\":\"/vault/docs/updates/deprecation\"},`deprecation notices`),`\nfor more information.`)),mdx(\"p\",null,`The `,mdx(\"inlineCode\",{parentName:\"p\"},`aws`),` auth method provides an automated mechanism to retrieve a Vault token\nfor IAM principals and AWS EC2 instances. Unlike most Vault auth methods, this\nmethod does not require manual first-deploying, or provisioning\nsecurity-sensitive credentials (tokens, username/password, client certificates,\netc), by operators under many circumstances.`),mdx(\"h2\",{\"id\":\"authentication-workflow\"},mdx(\"a\",{parentName:\"h2\",\"className\":\"__permalink-h\",\"href\":\"#authentication-workflow\",\"aria-label\":\"authentication workflow permalink\"},`\\xbb`),`Authentication workflow`),mdx(\"p\",null,`There are two authentication types present in the aws auth method: `,mdx(\"inlineCode\",{parentName:\"p\"},`iam`),` and\n`,mdx(\"inlineCode\",{parentName:\"p\"},`ec2`),`.`),mdx(\"p\",null,`With the `,mdx(\"inlineCode\",{parentName:\"p\"},`iam`),` method, a special AWS request signed with AWS IAM credentials is\nused for authentication. The IAM credentials are automatically supplied to AWS\ninstances in IAM instance profiles, Lambda functions, and others, and it is\nthis information already provided by AWS which Vault can use to authenticate\nclients.`),mdx(\"p\",null,`With the `,mdx(\"inlineCode\",{parentName:\"p\"},`ec2`),` method, AWS is treated as a Trusted Third Party and\ncryptographically signed dynamic metadata information that uniquely represents\neach EC2 instance is used for authentication. This metadata information is\nautomatically supplied by AWS to all EC2 instances.`),mdx(\"p\",null,`Based on how you attempt to authenticate, Vault will determine if you are\nattempting to use the `,mdx(\"inlineCode\",{parentName:\"p\"},`iam`),` or `,mdx(\"inlineCode\",{parentName:\"p\"},`ec2`),` type. Each has a different authentication\nworkflow, and each can solve different use cases.`),mdx(\"p\",null,`Note: The `,mdx(\"inlineCode\",{parentName:\"p\"},`ec2`),` method was implemented before the primitives to implement the\n`,mdx(\"inlineCode\",{parentName:\"p\"},`iam`),` method were supported by AWS. The `,mdx(\"inlineCode\",{parentName:\"p\"},`iam`),` method is the recommended approach\nas it is more flexible and aligns with best practices to perform access\ncontrol and authentication. See the section on comparing the two auth methods\nbelow for more information.`),mdx(\"div\",{\"className\":\"alert alert-info g-type-body\"},mdx(\"p\",{parentName:\"div\"},``,mdx(\"strong\",{parentName:\"p\"},`Usage:`),` See the `,mdx(\"a\",{parentName:\"p\",\"href\":\"#authentication\"},`Authentication`),` section for Vault CLI\nand API usage examples. The `,mdx(\"a\",{parentName:\"p\",\"href\":\"#code-example\"},`Code Example`),` section provides a\ncode snippet demonstrating the authentication with Vault using the AWS auth\nmethod.`)),mdx(\"h3\",{\"id\":\"iam-auth-method\"},mdx(\"a\",{parentName:\"h3\",\"className\":\"__permalink-h\",\"href\":\"#iam-auth-method\",\"aria-label\":\"iam auth method permalink\"},`\\xbb`),`IAM auth method`),mdx(\"p\",null,`The AWS STS API includes a method, `,mdx(\"a\",{parentName:\"p\",\"href\":\"http://docs.aws.amazon.com/STS/latest/APIReference/API_GetCallerIdentity.html\"},mdx(\"inlineCode\",{parentName:\"a\"},`sts:GetCallerIdentity`)),`, which allows you to validate the identity of a client. The client signs a `,mdx(\"inlineCode\",{parentName:\"p\"},`GetCallerIdentity`),` query using the `,mdx(\"a\",{parentName:\"p\",\"href\":\"http://docs.aws.amazon.com/general/latest/gr/sigv4_signing.html\"},`AWS Signature v4 algorithm`),` and sends it to the Vault server. The credentials used to sign the GetCallerIdentity request can come from the EC2 instance metadata service for an EC2 instance, or from the AWS environment variables in an AWS Lambda function execution, which obviates the need for an operator to manually provision some sort of identity material first. However, the credentials can, in principle, come from anywhere, not just from the locations AWS has provided for you.`),mdx(\"p\",null,`The `,mdx(\"inlineCode\",{parentName:\"p\"},`GetCallerIdentity`),` query consists of four pieces of information: the request URL, the request body, the request headers, and the request method, as the AWS signature is computed over those fields. The Vault server reconstructs the query using this information and forwards it on to the AWS STS service. Depending on the response from the STS service, the server authenticates the client.`),mdx(\"p\",null,`Notably, clients don't need network-level access themselves to talk\nto the AWS STS API endpoint; they merely need access to the credentials to sign\nthe request. However, it means that the Vault server does need network-level\naccess to send requests to the STS endpoint.`),mdx(\"p\",null,`Each signed AWS request includes the current timestamp to mitigate the risk of\nreplay attacks. In addition, Vault allows you to require an additional header,\n`,mdx(\"inlineCode\",{parentName:\"p\"},`X-Vault-AWS-IAM-Server-ID`),`, to be present to mitigate against different types\nof replay attacks (such as a signed `,mdx(\"inlineCode\",{parentName:\"p\"},`GetCallerIdentity`),` request stolen from a\ndev Vault instance and used to authenticate to a prod Vault instance). Vault\nfurther requires that this header be one of the headers included in the AWS\nsignature and relies upon AWS to authenticate that signature.`),mdx(\"p\",null,`While AWS API endpoints support both signed GET and POST requests, for\nsimplicity, the aws auth method supports only POST requests. It also does not\nsupport `,mdx(\"inlineCode\",{parentName:\"p\"},`presigned`),` requests, i.e., requests with `,mdx(\"inlineCode\",{parentName:\"p\"},`X-Amz-Credential`),`,\n`,mdx(\"inlineCode\",{parentName:\"p\"},`X-Amz-Signature`),`, and `,mdx(\"inlineCode\",{parentName:\"p\"},`X-Amz-SignedHeaders`),` GET query parameters containing\nthe authenticating information.`),mdx(\"p\",null,`It's also important to note that Amazon does NOT appear to include any sort of\nauthorization around calls to `,mdx(\"inlineCode\",{parentName:\"p\"},`GetCallerIdentity`),`. For example, if you have an\nIAM policy on your credential that requires all access to be MFA authenticated,\nnon-MFA authenticated credentials (i.e., raw credentials, not those retrieved\nby calling `,mdx(\"inlineCode\",{parentName:\"p\"},`GetSessionToken`),` and supplying an MFA code) will still be able to\nauthenticate to Vault using this method. It does not appear possible to enforce\nan IAM principal to be MFA authenticated while authenticating to Vault.`),mdx(\"h3\",{\"id\":\"ec2-auth-method\"},mdx(\"a\",{parentName:\"h3\",\"className\":\"__permalink-h\",\"href\":\"#ec2-auth-method\",\"aria-label\":\"ec2 auth method permalink\"},`\\xbb`),`EC2 auth method`),mdx(\"p\",null,`Amazon EC2 instances have access to metadata which describes the instance. The\nVault EC2 auth method leverages the components of this metadata to authenticate\nand distribute an initial Vault token to an EC2 instance. The data flow (which\nis also represented in the graphic below) is as follows:`),mdx(\"p\",null,mdx(\"a\",{parentName:\"p\",\"href\":\"/img/vault-aws-ec2-auth-flow.png\"},mdx(\"img\",{parentName:\"a\",\"src\":\"/img/vault-aws-ec2-auth-flow.png\",\"alt\":\"Vault AWS EC2 Authentication Flow\"}))),mdx(\"ol\",null,mdx(\"li\",{parentName:\"ol\"},mdx(\"p\",{parentName:\"li\"},`An AWS EC2 instance fetches its `,mdx(\"a\",{parentName:\"p\",\"href\":\"http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/instance-identity-documents.html\"},`AWS Instance Identity Document`),`\nfrom the `,mdx(\"a\",{parentName:\"p\",\"href\":\"http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-instance-metadata.html\"},`EC2 Metadata Service`),`. In addition to data itself, AWS\nalso provides the PKCS#7 signature of the data, and publishes the public keys\n(by region) which can be used to verify the signature.`)),mdx(\"li\",{parentName:\"ol\"},mdx(\"p\",{parentName:\"li\"},`The AWS EC2 instance makes a request to Vault with the PKCS#7 signature.\nThe PKCS#7 signature contains the Instance Identity Document.`)),mdx(\"li\",{parentName:\"ol\"},mdx(\"p\",{parentName:\"li\"},`Vault verifies the signature on the PKCS#7 document, ensuring the information\nis certified accurate by AWS. This process validates both the validity and\nintegrity of the document data. As an added security measure, Vault verifies\nthat the instance is currently running using the public EC2 API endpoint.`)),mdx(\"li\",{parentName:\"ol\"},mdx(\"p\",{parentName:\"li\"},`Provided all steps are successful, Vault returns the initial Vault token to\nthe EC2 instance. This token is mapped to any configured policies based on the\ninstance metadata.`))),mdx(\"p\",null,`There are various modifications to this workflow that provide more or less\nsecurity, as detailed later in this documentation.`),mdx(\"h2\",{\"id\":\"authorization-workflow\"},mdx(\"a\",{parentName:\"h2\",\"className\":\"__permalink-h\",\"href\":\"#authorization-workflow\",\"aria-label\":\"authorization workflow permalink\"},`\\xbb`),`Authorization workflow`),mdx(\"p\",null,`The basic mechanism of operation is per-role. Roles are registered in the\nmethod and associated with a specific authentication type that cannot be\nchanged once the role has been created. Roles can also be associated with\nvarious optional restrictions, such as the set of allowed policies and max TTLs\non the generated tokens. Each role can be specified with the constraints that\nare to be met during the login. Many of these constraints accept lists of\nrequired values. For any constraint which accepts a list of values, that\nconstraint will be considered satisfied if any one of the values is matched\nduring the login process. For example, one such constraint that is\nsupported is to bind against a list of AMI IDs. A role which is bound to a\nspecific list of AMIs can only be used for login by EC2 instances that are\ndeployed to one of the AMIs that the role is bound to.`),mdx(\"p\",null,`The iam auth method allows you to specify bound IAM principal ARNs.\nClients authenticating to Vault must have an ARN that matches one of the ARNs bound to\nthe role they are attempting to login to. The bound ARN allows specifying a\nwildcard at the end of the bound ARN. For example, if the bound ARN were\n`,mdx(\"inlineCode\",{parentName:\"p\"},`arn:aws:iam::123456789012:*`),` it would allow any principal in AWS account\n123456789012 to login to it. Similarly, if it were\n`,mdx(\"inlineCode\",{parentName:\"p\"},`arn:aws:iam::123456789012:role/*`),` it would allow any IAM role in the AWS\naccount to login to it. If you wish to specify a wildcard, you must give Vault\n`,mdx(\"inlineCode\",{parentName:\"p\"},`iam:GetUser`),` and `,mdx(\"inlineCode\",{parentName:\"p\"},`iam:GetRole`),` permissions to properly resolve the full user\npath.`),mdx(\"p\",null,`In general, role bindings that are specific to an EC2 instance are only checked\nwhen the ec2 auth method is used to login, while bindings specific to IAM\nprincipals are only checked when the iam auth method is used to login. However,\nthe iam method includes the ability for you to \"infer\" an EC2 instance ID from\nthe authenticated client and apply many of the bindings that would otherwise\nonly apply specifically to EC2 instances.`),mdx(\"p\",null,`In many cases, an organization will use a \"seed AMI\" that is specialized after\nbootup by configuration management or similar processes. For this reason, a\nrole entry in the method can also be associated with a \"role tag\" when using\nthe ec2 auth type. These tags\nare generated by the method and are placed as the value of a tag with the\ngiven key on the EC2 instance. The role tag can be used to further restrict the\nparameters set on the role, but cannot be used to grant additional privileges.\nIf a role with an AMI bind constraint has \"role tag\" enabled on the role, and\nthe EC2 instance performing login does not have an expected tag on it, or if the\ntag on the instance is deleted for some reason, authentication fails.`),mdx(\"p\",null,`The role tags can be generated at will by an operator with appropriate API\naccess. They are HMAC-signed by a per-role key stored within the method, allowing\nthe method to verify the authenticity of a found role tag and ensure that it has\nnot been tampered with. There is also a mechanism to deny list role tags if one\nhas been found to be distributed outside of its intended set of machines.`),mdx(\"h2\",{\"id\":\"iam-authentication-inferences\"},mdx(\"a\",{parentName:\"h2\",\"className\":\"__permalink-h\",\"href\":\"#iam-authentication-inferences\",\"aria-label\":\"iam authentication inferences permalink\"},`\\xbb`),`IAM authentication inferences`),mdx(\"p\",null,`With the iam auth method, normally Vault will see the IAM principal that\nauthenticated, either the IAM user or role. However, when you have an EC2\ninstance in an IAM instance profile, Vault can actually see the instance ID of\nthe instance and can \"infer\" that it's an EC2 instance. However, there are\nimportant security caveats to be aware of before configuring Vault to make that\ninference.`),mdx(\"p\",null,`Each AWS IAM role has a \"trust policy\" which specifies which entities are\ntrusted to call\n`,mdx(\"a\",{parentName:\"p\",\"href\":\"http://docs.aws.amazon.com/STS/latest/APIReference/API_AssumeRole.html\"},mdx(\"inlineCode\",{parentName:\"a\"},`sts:AssumeRole`)),`\non the role and retrieve credentials that can be used to authenticate with that\nrole. When AssumeRole is called, a parameter called RoleSessionName is passed\nin, which is chosen arbitrarily by the entity which calls AssumeRole. If you\nhave a role with an ARN `,mdx(\"inlineCode\",{parentName:\"p\"},`arn:aws:iam::123456789012:role/MyRole`),`, then the\ncredentials returned by calling AssumeRole on that role will be\n`,mdx(\"inlineCode\",{parentName:\"p\"},`arn:aws:sts::123456789012:assumed-role/MyRole/RoleSessionName`),` where\nRoleSessionName is the session name in the AssumeRole API call. It is this\nlatter value which Vault actually sees.`),mdx(\"p\",null,`When you have an EC2 instance in an instance profile, the corresponding role's\ntrust policy specifies that the principal `,mdx(\"inlineCode\",{parentName:\"p\"},`\"Service\": \"ec2.amazonaws.com\"`),` is\ntrusted to call AssumeRole. When this is configured, EC2 calls AssumeRole on\nbehalf of your instance, with a RoleSessionName corresponding to the\ninstance's instance ID. Thus, it is possible for Vault to extract the instance\nID out of the value it sees when an EC2 instance in an instance profile\nauthenticates to Vault with the iam auth method. This is known as\n\"inferencing.\" Vault can be configured, on a role-by-role basis, to infer that a\ncaller is an EC2 instance and, if so, apply further bindings that apply\nspecifically to EC2 instances -- most of the bindings available to the ec2\nauth method.`),mdx(\"p\",null,`However, it is very important to note that if any entity other than an AWS\nservice is permitted to call AssumeRole on your role, then that entity can\nsimply pass in your instance's instance ID and spoof your instance to Vault.\nThis also means that anybody who is able to modify your role's trust policy\n(e.g., via\n`,mdx(\"a\",{parentName:\"p\",\"href\":\"http://docs.aws.amazon.com/IAM/latest/APIReference/API_UpdateAssumeRolePolicy.html\"},mdx(\"inlineCode\",{parentName:\"a\"},`iam:UpdateAssumeRolePolicy`)),`,\nthen that person could also spoof your instances. If this is a concern but you\nwould like to take advantage of inferencing, then you should tightly restrict\nwho is able to call AssumeRole on the role, tightly restrict who is able to call\nUpdateAssumeRolePolicy on the role, and monitor CloudTrail logs for calls to\nAssumeRole and UpdateAssumeRolePolicy. All of these caveats apply equally to\nusing the iam auth method without inferencing; the point is merely\nthat Vault cannot offer an iron-clad guarantee about the inference and it is up\nto operators to determine, based on their own AWS controls and use cases,\nwhether or not it's appropriate to configure inferencing.`),mdx(\"h2\",{\"id\":\"mixing-authentication-types\"},mdx(\"a\",{parentName:\"h2\",\"className\":\"__permalink-h\",\"href\":\"#mixing-authentication-types\",\"aria-label\":\"mixing authentication types permalink\"},`\\xbb`),`Mixing authentication types`),mdx(\"p\",null,`Vault allows you to configure using either the ec2 auth method or the iam auth\nmethod, but not both auth methods. Further, `,mdx(\"strong\",{parentName:\"p\"},`assumed roles are not supported`),`\nand Vault prevents you from enforcing restrictions that it cannot enforce given\nthe chosen auth type for a role. Some examples of how this works in practice:`),mdx(\"ol\",null,mdx(\"li\",{parentName:\"ol\"},`You configure a role with the ec2 auth type, with a bound AMI ID. A\nclient would not be able to login using the iam auth type.`),mdx(\"li\",{parentName:\"ol\"},`You configure a role with the iam auth type, with a bound IAM\nprincipal ARN. A client would not be able to login with the ec2 auth method.`),mdx(\"li\",{parentName:\"ol\"},`You configure a role with the iam auth type and further configure\ninferencing. You have a bound AMI ID and a bound IAM principal ARN. A client\nmust login using the iam method; the RoleSessionName must be a valid instance\nID viewable by Vault, and the instance must have come from the bound AMI ID.`)),mdx(\"h2\",{\"id\":\"comparison-of-the-iam-and-ec2-methods\"},mdx(\"a\",{parentName:\"h2\",\"className\":\"__permalink-h\",\"href\":\"#comparison-of-the-iam-and-ec2-methods\",\"aria-label\":\"comparison of the iam and ec2 methods permalink\"},`\\xbb`),`Comparison of the IAM and EC2 methods`),mdx(\"p\",null,`The iam and ec2 auth methods serve similar and somewhat overlapping\nfunctionality, in that both authenticate some type of AWS entity to Vault.\nHere are some comparisons that illustrate why `,mdx(\"inlineCode\",{parentName:\"p\"},`iam`),` method is preferred over\n`,mdx(\"inlineCode\",{parentName:\"p\"},`ec2`),`.`),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},`What type of entity is authenticated:`,mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},`The ec2 auth method authenticates only AWS EC2 instances and is specialized\nto handle EC2 instances, such as restricting access to EC2 instances from\na particular AMI, EC2 instances in a particular instance profile, or EC2\ninstances with a specialized tag value (via the role_tag feature).`),mdx(\"li\",{parentName:\"ul\"},`The iam auth method authenticates AWS IAM principals. This can\ninclude IAM users, IAM roles assumed from other accounts, AWS Lambdas that\nare launched in an IAM role, or even EC2 instances that are launched in an\nIAM instance profile. However, because it authenticates more generalized IAM\nprincipals, this method doesn't offer more granular controls beyond binding\nto a given IAM principal without the use of inferencing.`))),mdx(\"li\",{parentName:\"ul\"},`How the entities are authenticated`,mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},`The ec2 auth method authenticates instances by making use of the EC2\ninstance identity document, which is a cryptographically signed document\ncontaining metadata about the instance. This document changes relatively\ninfrequently, so Vault adds a number of other constructs to mitigate against\nreplay attacks, such as client nonces, role tags, instance migrations, etc.\nBecause the instance identity document is signed by AWS, you have a strong\nguarantee that it came from an EC2 instance.`),mdx(\"li\",{parentName:\"ul\"},`The iam auth method authenticates by having clients provide a specially\nsigned AWS API request which the method then passes on to AWS to validate\nthe signature and tell Vault who created it. The actual secret (i.e.,\nthe AWS secret access key) is never transmitted over the wire, and the\nAWS signature algorithm automatically expires requests after 15 minutes,\nproviding simple and robust protection against replay attacks. The use of\ninferencing, however, provides a weaker guarantee that the credentials came\nfrom an EC2 instance in an IAM instance profile compared to the ec2\nauthentication mechanism.`),mdx(\"li\",{parentName:\"ul\"},`The instance identity document used in the ec2 auth method is more likely to\nbe stolen given its relatively static nature, but it's harder to spoof. On\nthe other hand, the credentials of an EC2 instance in an IAM instance\nprofile are less likely to be stolen given their dynamic and short-lived\nnature, but it's easier to spoof credentials that might have come from an\nEC2 instance.`))),mdx(\"li\",{parentName:\"ul\"},`Specific use cases`,mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},`If you have non-EC2 instance entities, such as IAM users, Lambdas in IAM\nroles, or developer laptops using `,mdx(\"a\",{parentName:\"li\",\"href\":\"https://github.com/AdRoll/hologram\"},`AdRoll's\nHologram`),` then you would need to use the\niam auth method.`),mdx(\"li\",{parentName:\"ul\"},`If you have EC2 instances, then you could use either auth method. If you\nneed more granular filtering beyond just the instance profile of given EC2\ninstances (such as filtering based off the AMI the instance was launched\nfrom), then you would need to use the ec2 auth method, change the instance\nprofile associated with your EC2 instances so they have unique IAM roles\nfor each different Vault role you would want them to authenticate\nto, or make use of inferencing. If you need to make use of role tags, then\nyou will need to use the ec2 auth method.`)))),mdx(\"h2\",{\"id\":\"recommended-vault-iam-policy\"},mdx(\"a\",{parentName:\"h2\",\"className\":\"__permalink-h\",\"href\":\"#recommended-vault-iam-policy\",\"aria-label\":\"recommended vault iam policy permalink\"},`\\xbb`),`Recommended Vault IAM policy`),mdx(\"p\",null,`This specifies the recommended IAM policy needed by the AWS auth method. Note\nthat if you are using the same credentials for the AWS auth and secret methods\n(e.g., if you're running Vault on an EC2 instance in an IAM instance profile),\nthen you will need to add additional permissions as required by the AWS secret\nmethod.`),mdx(\"pre\",{\"style\":{\"backgroundColor\":\"var(--hds-code-block-color-surface-primary)\",\"color\":\"var(--hds-code-block-color-token)\"},\"tabindex\":\"0\",\"language\":\"json\",\"className\":\"language-json\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-json\"},mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`{`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`  \"Version\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"2012-10-17\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`  \"Statement\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` [`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`    {`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`      \"Effect\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"Allow\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`      \"Action\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` [`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`        \"ec2:DescribeInstances\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`        \"iam:GetInstanceProfile\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`        \"iam:GetUser\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`        \"iam:GetRole\"`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`      ]`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`      \"Resource\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"*\"`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`    }`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`    {`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`      \"Effect\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"Allow\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`      \"Action\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` [`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`\"sts:AssumeRole\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`]`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`      \"Resource\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` [`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`\"arn:aws:iam::\u003cAccountId\u003e:role/\u003cVaultRole\u003e\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`]`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`    }`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`    {`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`      \"Sid\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"ManageOwnAccessKeys\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`      \"Effect\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"Allow\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`      \"Action\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` [`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`        \"iam:CreateAccessKey\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`        \"iam:DeleteAccessKey\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`        \"iam:GetAccessKeyLastUsed\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`        \"iam:GetUser\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`        \"iam:ListAccessKeys\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`        \"iam:UpdateAccessKey\"`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`      ]`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`      \"Resource\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"arn:aws:iam::*:user/\\${aws:username}\"`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`    }`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`  ]`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`}`)),`\n`)),mdx(\"p\",null,`Here are some of the scenarios in which Vault would need to use each of these\npermissions. This isn't intended to be an exhaustive list of all the scenarios\nin which Vault might make an AWS API call, but rather illustrative of why these\nare needed.`),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"ec2-describeinstances\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"href\":\"#ec2-describeinstances\",\"aria-label\":\"ec2 describeinstances permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`ec2:DescribeInstances`)),` is necessary when you are using the `,mdx(\"inlineCode\",{parentName:\"li\"},`ec2`),` auth method\nor when you are inferring an `,mdx(\"inlineCode\",{parentName:\"li\"},`ec2_instance`),` entity type to validate that the\nEC2 instance meets binding requirements of the role`),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"iam-getinstanceprofile\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"href\":\"#iam-getinstanceprofile\",\"aria-label\":\"iam getinstanceprofile permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`iam:GetInstanceProfile`)),` is used when you have a `,mdx(\"inlineCode\",{parentName:\"li\"},`bound_iam_role_arn`),` in the\n`,mdx(\"inlineCode\",{parentName:\"li\"},`ec2`),` auth method. Vault needs to determine which IAM role is attached to the\ninstance profile.`),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"iam-getuser\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"href\":\"#iam-getuser\",\"aria-label\":\"iam getuser permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`iam:GetUser`)),` and `,mdx(\"inlineCode\",{parentName:\"li\"},`iam:GetRole`),` are used when using the iam auth method and\nbinding to an IAM user or role principal to determine the `,mdx(\"a\",{parentName:\"li\",\"href\":\"https://docs.aws.amazon.com/IAM/latest/UserGuide/reference_identifiers.html#identifiers-unique-ids\"},`AWS IAM Unique Identifiers`),`\nor when using a wildcard on the bound ARN to resolve the full ARN of the user\nor role.`),mdx(\"li\",{parentName:\"ul\"},`The `,mdx(\"inlineCode\",{parentName:\"li\"},`sts:AssumeRole`),` stanza is necessary when you are using `,mdx(\"a\",{parentName:\"li\",\"href\":\"#cross-account-access\"},`Cross Account\nAccess`),`. The `,mdx(\"inlineCode\",{parentName:\"li\"},`Resource`),`s specified should be a list of\nall the roles for which you have configured cross-account access, and each of\nthose roles should have this IAM policy attached (except for the\n`,mdx(\"inlineCode\",{parentName:\"li\"},`sts:AssumeRole`),` statement).`),mdx(\"li\",{parentName:\"ul\"},`The `,mdx(\"inlineCode\",{parentName:\"li\"},`ManageOwnAccessKeys`),` stanza is necessary when you have configured Vault\nwith static credentials, and wish to rotate these credentials with the\n`,mdx(\"a\",{parentName:\"li\",\"href\":\"/vault/api-docs/auth/aws#rotate-root-credentials\"},`Rotate Root Credentials`),`\nAPI call.`)),mdx(\"h3\",{\"id\":\"schedule-based-root-credential-rotation\"},mdx(\"a\",{parentName:\"h3\",\"className\":\"__permalink-h\",\"href\":\"#schedule-based-root-credential-rotation\",\"aria-label\":\"schedule based root credential rotation permalink\"},`\\xbb`),`Schedule-based root credential rotation`),mdx(EnterpriseAlert,{product:\"vault\",mdxType:\"EnterpriseAlert\"},\"Appropriate \",mdx(\"a\",{href:\"https://www.hashicorp.com/products/vault/pricing\"},\"Vault Enterprise\"),\" license required\"),mdx(\"p\",null,`Use the `,mdx(\"a\",{parentName:\"p\",\"href\":\"/vault/api-docs/auth/aws#rotation_schedule\"},mdx(\"inlineCode\",{parentName:\"a\"},`rotation_schedule`)),` field\nto configure schedule-based, automatic credential rotation for root credentials in\nthe AWS auth engine. For example, the following command set the rotation to\noccur every Saturday at midnight (00:00):`),mdx(\"pre\",{\"style\":{\"backgroundColor\":\"var(--hds-code-block-color-surface-primary)\",\"color\":\"var(--hds-code-block-color-token)\"},\"tabindex\":\"0\",\"language\":\"shellsession\",\"className\":\"language-shellsession\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-shellsession\"},mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-cyan)\"}},`$`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` vault write auth/aws/config/client \\\\`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`  ...`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`  rotation_schedule=\"0 * * * SAT\"`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`  ...`)),`\n`)),mdx(\"p\",null,`Scheduled root credential rotation can also set a\n`,mdx(\"a\",{parentName:\"p\",\"href\":\"/vault/api-docs/auth/aws#rotation_window\"},`rotation_window`),` during which the\nscheduled rotation is allowed to occur. Vault will stop trying to rotate the\ncredential once the window expires. For example, the following command tells\nVault to rotate the credential on Saturday at midnight, but only within the span\nof an hour. If Vault cannot rotate the credential by 1:00, due to a failure\nor otherwise, Vault will stop trying to rotate the credential until the next\nscheduled rotation.`),mdx(\"pre\",{\"style\":{\"backgroundColor\":\"var(--hds-code-block-color-surface-primary)\",\"color\":\"var(--hds-code-block-color-token)\"},\"tabindex\":\"0\",\"language\":\"shellsession\",\"className\":\"language-shellsession\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-shellsession\"},mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-cyan)\"}},`$`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` vault write auth/aws/config/client \\\\`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`  ...`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`  rotation_window=\"1h\" \\\\`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`  rotation_schedule=\"0 * * * SAT\"`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`  ...`)),`\n`)),mdx(\"p\",null,`You can temporarily disable root rotation by setting\n`,mdx(\"a\",{parentName:\"p\",\"href\":\"/vault/api-docs/auth/aws#disable_automated_rotation\"},mdx(\"inlineCode\",{parentName:\"a\"},`disable_automated_rotation`)),`\nto `,mdx(\"inlineCode\",{parentName:\"p\"},`true`),`. Setting the `,mdx(\"inlineCode\",{parentName:\"p\"},`disable_automated_rotation`),` field prevent any rotation\nof the root credential until the field is reset to `,mdx(\"inlineCode\",{parentName:\"p\"},`false`),`. If you use\n`,mdx(\"inlineCode\",{parentName:\"p\"},`rotation_period`),`, setting `,mdx(\"inlineCode\",{parentName:\"p\"},`disable_automated_rotation`),` also resets the credential\nTTL.`),mdx(\"p\",null,`For more details on rotating root credentials in the AWS Auth engine, refer to the\n`,mdx(\"a\",{parentName:\"p\",\"href\":\"/vault/api-docs/auth/aws#rotate-root-credentials\"},`Rotate Root credentials`),` API docs.`),mdx(\"h2\",{\"id\":\"plugin-workload-identity-federation-wif\"},mdx(\"a\",{parentName:\"h2\",\"className\":\"__permalink-h\",\"href\":\"#plugin-workload-identity-federation-wif\",\"aria-label\":\"plugin workload identity federation wif permalink\"},`\\xbb`),`Plugin Workload Identity Federation (WIF)`),mdx(EnterpriseAlert,{product:\"vault\",mdxType:\"EnterpriseAlert\"}),mdx(\"p\",null,`The AWS auth engine supports the plugin WIF workflow and has a source of identity called\na plugin identity token. A plugin identity token is a JWT that is signed internally by the Vault's\n`,mdx(\"a\",{parentName:\"p\",\"href\":\"/vault/api-docs/secret/identity/tokens#read-plugin-workload-identity-issuer-s-openid-configuration\"},`plugin identity token issuer`),`.`),mdx(\"p\",null,`If there is a trust relationship configured between Vault and AWS through\n`,mdx(\"a\",{parentName:\"p\",\"href\":\"https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_providers_oidc.html\"},`workload identity federation`),`,\nthe auth engine can exchange its identity token for short-lived STS credentials needed to\nperform its actions.`),mdx(\"p\",null,`Exchanging identity tokens for STS credentials lets the AWS auth engine\noperate without configuring explicit access to sensitive IAM security\ncredentials.`),mdx(\"p\",null,`To configure the auth engine to use plugin WIF:`),mdx(\"ol\",null,mdx(\"li\",{parentName:\"ol\"},mdx(\"p\",{parentName:\"li\"},`Ensure that Vault `,mdx(\"a\",{parentName:\"p\",\"href\":\"/vault/api-docs/secret/identity/tokens#read-plugin-identity-token-issuer-s-openid-configuration\"},`openid-configuration`),`\nand `,mdx(\"a\",{parentName:\"p\",\"href\":\"/vault/api-docs/secret/identity/tokens#read-plugin-identity-token-issuer-s-public-jwks\"},`public JWKS`),`\nAPIs are network-reachable by AWS. We recommend using an API proxy or gateway\nif you need to limit Vault API exposure.`)),mdx(\"li\",{parentName:\"ol\"},mdx(\"p\",{parentName:\"li\"},`Create an\n`,mdx(\"a\",{parentName:\"p\",\"href\":\"https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_providers_create_oidc.html\"},`IAM OIDC identity provider`),`\nin AWS.`)),mdx(\"li\",{parentName:\"ol\"},mdx(\"p\",{parentName:\"li\"},`The provider URL `,mdx(\"strong\",{parentName:\"p\"},`must`),` point at your `,mdx(\"a\",{parentName:\"p\",\"href\":\"/vault/api-docs/secret/identity/tokens#read-plugin-workload-identity-issuer-s-openid-configuration\"},`Vault plugin identity token issuer`),` with the\n`,mdx(\"inlineCode\",{parentName:\"p\"},`/.well-known/openid-configuration`),` suffix removed. For example:\n`,mdx(\"inlineCode\",{parentName:\"p\"},`https://host:port/v1/identity/oidc/plugins`),`.`)),mdx(\"li\",{parentName:\"ol\"},mdx(\"p\",{parentName:\"li\"},`Uniquely identify the recipient of the plugin identity token as the audience.\nIn AWS, the recipient is the identity provider. We recommend using\nthe `,mdx(\"inlineCode\",{parentName:\"p\"},`host:port/v1/identity/oidc/plugins`),` portion of the provider URL as your\nrecipient since it will be unique for each configured identity provider.`)),mdx(\"li\",{parentName:\"ol\"},mdx(\"p\",{parentName:\"li\"},`Create a `,mdx(\"a\",{parentName:\"p\",\"href\":\"https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_create_for-idp_oidc.html#idp_oidc_Create\"},`web identity role`),`\nin AWS with the same audience used for your IAM OIDC identity provider.`)),mdx(\"li\",{parentName:\"ol\"},mdx(\"p\",{parentName:\"li\"},`Configure the AWS auth engine with the IAM OIDC audience value and web\nidentity role ARN.`))),mdx(\"pre\",{\"style\":{\"backgroundColor\":\"var(--hds-code-block-color-surface-primary)\",\"color\":\"var(--hds-code-block-color-token)\"},\"tabindex\":\"0\",\"language\":\"shellsession\",\"className\":\"language-shellsession\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-shellsession\"},mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-cyan)\"}},`$`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` vault write auth/aws/config/client \\\\`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`    identity_token_audience=\"vault.example/v1/identity/oidc/plugins\" \\\\`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`    role_arn=\"arn:aws:iam::123456789123:role/example-web-identity-role\"`)),`\n`)),mdx(\"p\",null,`Your auth engine can now use plugin WIF for its configuration credentials.\nBy default, WIF `,mdx(\"a\",{parentName:\"p\",\"href\":\"https://docs.aws.amazon.com/STS/latest/APIReference/API_AssumeRoleWithWebIdentity.html\"},`credentials`),`\nhave a time-to-live of 1 hour and automatically refresh when they expire.`),mdx(\"p\",null,`Please see the `,mdx(\"a\",{parentName:\"p\",\"href\":\"/vault/api-docs/auth/aws#configure-client\"},`API documentation`),`\nfor more details on the fields associated with plugin WIF.`),mdx(\"h2\",{\"id\":\"client-nonce\"},mdx(\"a\",{parentName:\"h2\",\"className\":\"__permalink-h\",\"href\":\"#client-nonce\",\"aria-label\":\"client nonce permalink\"},`\\xbb`),`Client nonce`),mdx(\"p\",null,`Note: this only applies to the ec2 auth method.`),mdx(\"p\",null,`If an unintended party gains access to the PKCS#7 signature of the identity\ndocument (which by default is available to every process and user that gains\naccess to an EC2 instance), it can impersonate that instance and fetch a Vault\ntoken. The method addresses this problem by using a Trust On First Use (TOFU)\nmechanism that allows the first client to present the PKCS#7 signature of the\ndocument to be authenticated and denying the rest. An important property of\nthis design is detection of unauthorized access: if an unintended party authenticates,\nthe intended client will be unable to authenticate and can raise an alert for\ninvestigation.`),mdx(\"p\",null,`During the first login, the method stores the instance ID that authenticated\nin a `,mdx(\"inlineCode\",{parentName:\"p\"},`accesslist`),`. One method of operation of the method is to disallow any\nauthentication attempt for an instance ID contained in the access list, using the\n`,mdx(\"inlineCode\",{parentName:\"p\"},`disallow_reauthentication`),` option on the role, meaning that an instance is\nallowed to login only once. However, this has consequences for token rotation,\nas it means that once a token has expired, subsequent authentication attempts\nwould fail. By default, reauthentication is enabled in this method, and can be\nturned off using `,mdx(\"inlineCode\",{parentName:\"p\"},`disallow_reauthentication`),` parameter on the registered role.`),mdx(\"p\",null,`In the default method of operation, the method will return a unique nonce\nduring the first authentication attempt, as part of auth `,mdx(\"inlineCode\",{parentName:\"p\"},`metadata`),`. Clients\nshould present this `,mdx(\"inlineCode\",{parentName:\"p\"},`nonce`),` for subsequent login attempts and it should match\nthe `,mdx(\"inlineCode\",{parentName:\"p\"},`nonce`),` cached at the identity-accesslist entry at the method. Since only\nthe original client knows the `,mdx(\"inlineCode\",{parentName:\"p\"},`nonce`),`, only the original client is allowed to\nreauthenticate. (This is the reason that this is a accesslist rather than a\ndeny list; by default, it's keeping track of clients allowed to reauthenticate,\nrather than those that are not.). Clients can choose to provide a `,mdx(\"inlineCode\",{parentName:\"p\"},`nonce`),` even\nfor the first login attempt, in which case the provided `,mdx(\"inlineCode\",{parentName:\"p\"},`nonce`),` will be tied to\nthe cached identity-accesslist entry. It is recommended to use a strong `,mdx(\"inlineCode\",{parentName:\"p\"},`nonce`),`\nvalue in this case.`),mdx(\"p\",null,`It is up to the client to behave correctly with respect to the nonce; if the\nclient stores the nonce on disk it can survive reboots, but could also give\naccess to other users or applications on the instance. It is also up to the\noperator to ensure that client nonces are in fact unique; sharing nonces allows\na compromise of the nonce value to enable an attacker that gains access to any\nEC2 instance to imitate the legitimate client on that instance. This is why\nnonces can be disabled on the method side in favor of only a single\nauthentication per instance; in some cases, such as when using ASGs, instances\nare immutable and single-boot anyways, and in conjunction with a high max TTL,\nreauthentication may not be needed (and if it is, the instance can simply be\nshut down and allow ASG to start a new one).`),mdx(\"p\",null,`In both cases, entries can be removed from the accesslist by instance ID,\nallowing reauthentication by a client if the nonce is lost (or not used) and an\noperator approves the process.`),mdx(\"p\",null,`One other point: if available by the OS/distribution being used with the EC2\ninstance, it is not a bad idea to firewall access to the signed PKCS#7 metadata\nto ensure that it is accessible only to the matching user(s) that require\naccess.`),mdx(\"p\",null,`The client nonce which is generated by the backend and which gets returned\nalong with the authentication response, will be audit logged in plaintext. If\nthis is undesired, clients can supply a custom nonce to the login endpoint\nwhich will not be returned and hence will not be audit logged.`),mdx(\"h2\",{\"id\":\"advanced-options-and-caveats\"},mdx(\"a\",{parentName:\"h2\",\"className\":\"__permalink-h\",\"href\":\"#advanced-options-and-caveats\",\"aria-label\":\"advanced options and caveats permalink\"},`\\xbb`),`Advanced options and caveats`),mdx(\"h3\",{\"id\":\"dynamic-management-of-policies-via-role-tags\"},mdx(\"a\",{parentName:\"h3\",\"className\":\"__permalink-h\",\"href\":\"#dynamic-management-of-policies-via-role-tags\",\"aria-label\":\"dynamic management of policies via role tags permalink\"},`\\xbb`),`Dynamic management of policies via role tags`),mdx(\"p\",null,`Note: This only applies to the ec2 auth method or the iam auth method when\ninferencing is used.`),mdx(\"p\",null,`If the instance is required to have customized set of policies based on the\nrole it plays, the `,mdx(\"inlineCode\",{parentName:\"p\"},`role_tag`),` option can be used to provide a tag to set on\ninstances, for a given role. When this option is set, during login, along with\nverification of PKCS#7 signature and instance health, the method will query\nfor the value of a specific tag with the configured key that is attached to the\ninstance. The tag holds information that represents a `,mdx(\"em\",{parentName:\"p\"},`subset`),` of privileges that\nare set on the role and are used to further restrict the set of the role's\nprivileges for that particular instance.`),mdx(\"p\",null,`A `,mdx(\"inlineCode\",{parentName:\"p\"},`role_tag`),` can be created using `,mdx(\"inlineCode\",{parentName:\"p\"},`auth/aws/role/\u003crole\u003e/tag`),` endpoint\nand is immutable. The information present in the tag is SHA256 hashed and HMAC\nprotected. The per-role key to HMAC is only maintained in the method. This prevents\nan adversarial operator from modifying the tag when setting it on the EC2 instance\nin order to escalate privileges.`),mdx(\"p\",null,`When 'role_tag' option is enabled on a role, the instances are required to have a\nrole tag. If the tag is not found on the EC2 instance, authentication will fail.\nThis is to ensure that privileges of an instance are never escalated for not\nhaving the tag on it or for getting the tag removed. If the role tag creation does\nnot specify the policy component, the client will inherit the allowed policies set\non the role. If the role tag creation specifies the policy component but it contains\nno policies, the token will contain only the `,mdx(\"inlineCode\",{parentName:\"p\"},`default`),` policy; by default, this policy\nallows only manipulation (revocation, renewal, lookup) of the existing token, plus\naccess to its `,mdx(\"a\",{parentName:\"p\",\"href\":\"/vault/docs/secrets/cubbyhole\"},`cubbyhole`),`.\nThis can be useful to allow instances access to a secure \"scratch space\" for\nstoring data (via the token's cubbyhole) but without granting any access to\nother resources provided by or resident in Vault.`),mdx(\"h3\",{\"id\":\"handling-lost-client-nonces\"},mdx(\"a\",{parentName:\"h3\",\"className\":\"__permalink-h\",\"href\":\"#handling-lost-client-nonces\",\"aria-label\":\"handling lost client nonces permalink\"},`\\xbb`),`Handling lost client nonces`),mdx(\"p\",null,`Note: This only applies to the ec2 auth method.`),mdx(\"p\",null,`If an EC2 instance loses its client nonce (due to a reboot, a stop/start of the\nclient, etc.), subsequent login attempts will not succeed. If the client nonce\nis lost, normally the only option is to delete the entry corresponding to the\ninstance ID from the identity `,mdx(\"inlineCode\",{parentName:\"p\"},`accesslist`),` in the method. This can be done via\nthe `,mdx(\"inlineCode\",{parentName:\"p\"},`auth/aws/identity-accesslist/\u003cinstance_id\u003e`),` endpoint. This allows a new\nclient nonce to be accepted by the method during the next login request.`),mdx(\"p\",null,`Under certain circumstances there is another useful setting. When the instance\nis placed onto a host upon creation, it is given a `,mdx(\"inlineCode\",{parentName:\"p\"},`pendingTime`),` value in the\ninstance identity document (documentation from AWS does not cover this option,\nunfortunately). If an instance is stopped and started, the `,mdx(\"inlineCode\",{parentName:\"p\"},`pendingTime`),` value\nis updated (this does not apply to reboots, however).`),mdx(\"p\",null,`The method can take advantage of this via the `,mdx(\"inlineCode\",{parentName:\"p\"},`allow_instance_migration`),`\noption, which is set per-role. When this option is enabled, if the client nonce\ndoes not match the saved nonce, the `,mdx(\"inlineCode\",{parentName:\"p\"},`pendingTime`),` value in the instance\nidentity document will be checked; if it is newer than the stored `,mdx(\"inlineCode\",{parentName:\"p\"},`pendingTime`),`\nvalue, the method assumes that the client was stopped/started and allows the\nclient to log in successfully, storing the new nonce as the valid nonce for\nthat client. This essentially re-starts the TOFU mechanism any time the\ninstance is stopped and started, so should be used with caution. Just like with\ninitial authentication, the legitimate client should have a way to alert (or an\nalert should trigger based on its logs) if it is denied authentication.`),mdx(\"p\",null,`Unfortunately, the `,mdx(\"inlineCode\",{parentName:\"p\"},`allow_instance_migration`),` only helps during stop/start\nactions; the current metadata does not provide for a way to allow this\nautomatic behavior during reboots. The method will be updated if this needed\nmetadata becomes available.`),mdx(\"p\",null,`The `,mdx(\"inlineCode\",{parentName:\"p\"},`allow_instance_migration`),` option is set per-role, and can also be\nspecified in a role tag. Since role tags can only restrict behavior, if the\noption is set to `,mdx(\"inlineCode\",{parentName:\"p\"},`false`),` on the role, a value of `,mdx(\"inlineCode\",{parentName:\"p\"},`true`),` in the role tag takes\neffect; however, if the option is set to `,mdx(\"inlineCode\",{parentName:\"p\"},`true`),` on the role, a value set in the\nrole tag has no effect.`),mdx(\"h3\",{\"id\":\"disabling-reauthentication\"},mdx(\"a\",{parentName:\"h3\",\"className\":\"__permalink-h\",\"href\":\"#disabling-reauthentication\",\"aria-label\":\"disabling reauthentication permalink\"},`\\xbb`),`Disabling reauthentication`),mdx(\"p\",null,`Note: this only applies to the ec2 auth method.`),mdx(\"p\",null,`If in a given organization's architecture, a client fetches a long-lived Vault\ntoken and has no need to rotate the token, all future logins for that instance\nID can be disabled. If the option `,mdx(\"inlineCode\",{parentName:\"p\"},`disallow_reauthentication`),` is set, only one\nlogin will be allowed per instance. If the intended client successfully\nretrieves a token during login, it can be sure that its token will not be\nhijacked by another entity.`),mdx(\"p\",null,`When `,mdx(\"inlineCode\",{parentName:\"p\"},`disallow_reauthentication`),` option is enabled, the client can choose not\nto supply a nonce during login, although it is not an error to do so (the nonce\nis simply ignored). Note that reauthentication is enabled by default. If only\na single login is desired, `,mdx(\"inlineCode\",{parentName:\"p\"},`disallow_reauthentication`),` should be set explicitly\non the role or on the role tag.`),mdx(\"p\",null,`The `,mdx(\"inlineCode\",{parentName:\"p\"},`disallow_reauthentication`),` option is set per-role, and can also be\nspecified in a role tag. Since role tags can only restrict behavior, if the\noption is set to `,mdx(\"inlineCode\",{parentName:\"p\"},`false`),` on the role, a value of `,mdx(\"inlineCode\",{parentName:\"p\"},`true`),` in the role tag takes\neffect; however, if the option is set to `,mdx(\"inlineCode\",{parentName:\"p\"},`true`),` on the role, a value set in the\nrole tag has no effect.`),mdx(\"h3\",{\"id\":\"deny-listing-role-tags\"},mdx(\"a\",{parentName:\"h3\",\"className\":\"__permalink-h\",\"href\":\"#deny-listing-role-tags\",\"aria-label\":\"deny listing role tags permalink\"},`\\xbb`),`Deny listing role tags`),mdx(\"p\",null,`Note: this only applies to the ec2 auth method or the iam auth method\nwhen inferencing is used.`),mdx(\"p\",null,`Role tags are tied to a specific role, but the method has no control over, which\ninstances using that role, should have any particular role tag; that is purely up\nto the operator. Although role tags are only restrictive (a tag cannot escalate\nprivileges above what is set on its role), if a role tag is found to have been\nused incorrectly, and the administrator wants to ensure that the role tag has no\nfurther effect, the role tag can be placed on a `,mdx(\"inlineCode\",{parentName:\"p\"},`deny list`),` via the endpoint\n`,mdx(\"inlineCode\",{parentName:\"p\"},`auth/aws/roletag-denylist/\u003crole_tag\u003e`),`. Note that this will not invalidate the\ntokens that were already issued; this only blocks any further login requests from\nthose instances that have the deny listed tag attached to them.`),mdx(\"h3\",{\"id\":\"expiration-times-and-tidying-of-denylist-and-accesslist-entries\"},mdx(\"a\",{parentName:\"h3\",\"className\":\"__permalink-h\",\"href\":\"#expiration-times-and-tidying-of-denylist-and-accesslist-entries\",\"aria-label\":\"expiration times and tidying of denylist and accesslist entries permalink\"},`\\xbb`),`Expiration times and tidying of `,mdx(\"inlineCode\",{parentName:\"h3\"},`denylist`),` and `,mdx(\"inlineCode\",{parentName:\"h3\"},`accesslist`),` entries`),mdx(\"p\",null,`The expired entries in both identity `,mdx(\"inlineCode\",{parentName:\"p\"},`accesslist`),` and role tag `,mdx(\"inlineCode\",{parentName:\"p\"},`denylist`),` are\ndeleted automatically. The entries in both of these lists contain an expiration\ntime which is dynamically determined by three factors: `,mdx(\"inlineCode\",{parentName:\"p\"},`max_ttl`),` set on the role,\n`,mdx(\"inlineCode\",{parentName:\"p\"},`max_ttl`),` set on the role tag, and `,mdx(\"inlineCode\",{parentName:\"p\"},`max_ttl`),` value of the method mount. The\nleast of these three dictates the maximum TTL of the issued token, and\ncorrespondingly will be set as the expiration times of these entries.`),mdx(\"p\",null,`The endpoints `,mdx(\"inlineCode\",{parentName:\"p\"},`auth/aws/tidy/identity-accesslist`),` and `,mdx(\"inlineCode\",{parentName:\"p\"},`auth/aws/tidy/roletag-denylist`),` are\nprovided to clean up the entries present in these lists. These endpoints allow\ndefining a safety buffer, such that an entry must not only be expired, but be\npast expiration by the amount of time dictated by the safety buffer in order\nto actually remove the entry.`),mdx(\"p\",null,`Automatic deletion of expired entries is performed by the periodic function\nof the method. This function does the tidying of both access list role tags\nand access list identities. Periodic tidying is activated by default and will\nhave a safety buffer of 72 hours, meaning only those entries are deleted which\nwere expired before 72 hours from when the tidy operation is being performed.\nThis can be configured via `,mdx(\"inlineCode\",{parentName:\"p\"},`config/tidy/roletag-denylist`),` and `,mdx(\"inlineCode\",{parentName:\"p\"},`config/tidy/identity-accesslist`),`\nendpoints.`),mdx(\"h3\",{\"id\":\"varying-public-certificates\"},mdx(\"a\",{parentName:\"h3\",\"className\":\"__permalink-h\",\"href\":\"#varying-public-certificates\",\"aria-label\":\"varying public certificates permalink\"},`\\xbb`),`Varying public certificates`),mdx(\"p\",null,`Note: this only applies to the ec2 auth method.`),mdx(\"p\",null,`The AWS public certificate, which contains the public key used to verify the\nPKCS#7 signature, varies for different AWS regions. The primary AWS public\ncertificate, which covers most AWS regions, is already included in Vault and\ndoes not need to be added. Instances whose PKCS#7 signatures cannot be\nverified by the default public certificate included in Vault can register a\ndifferent public certificate which can be found `,mdx(\"a\",{parentName:\"p\",\"href\":\"http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/instance-identity-documents.html\"},`here`),`,\nvia the `,mdx(\"inlineCode\",{parentName:\"p\"},`auth/aws/config/certificate/\u003ccert_name\u003e`),` endpoint.`),mdx(\"h3\",{\"id\":\"dangling-tokens\"},mdx(\"a\",{parentName:\"h3\",\"className\":\"__permalink-h\",\"href\":\"#dangling-tokens\",\"aria-label\":\"dangling tokens permalink\"},`\\xbb`),`Dangling tokens`),mdx(\"p\",null,`An EC2 instance, after authenticating itself with the method, gets a Vault token.\nAfter that, if the instance terminates or goes down for any reason, the method\nwill not be aware of such events. The token issued will still be valid, until\nit expires. The token will likely be expired sooner than its lifetime when the\ninstance fails to renew the token on time.`),mdx(\"h3\",{\"id\":\"cross-account-access\"},mdx(\"a\",{parentName:\"h3\",\"className\":\"__permalink-h\",\"href\":\"#cross-account-access\",\"aria-label\":\"cross account access permalink\"},`\\xbb`),`Cross account access`),mdx(\"p\",null,`To allow Vault to authenticate IAM principals and EC2 instances in other\naccounts, Vault supports using AWS STS (Security Token Service) to assume AWS\nIAM Roles in other accounts. For each target AWS account ID, you configure the\nIAM Role for Vault to assume using the `,mdx(\"inlineCode\",{parentName:\"p\"},`auth/aws/config/sts/\u003caccount_id\u003e`),` and\nVault will use credentials from assuming that role to validate IAM principals\nand EC2 instances in the target account.`),mdx(\"p\",null,`The account in which Vault is running (i.e. the master account) must be listed as\na trusted entity in the IAM Role being assumed on the remote account. The Role itself\nshould allow the permissions specified in the `,mdx(\"a\",{parentName:\"p\",\"href\":\"#recommended-vault-iam-policy\"},`Recommended Vault IAM\nPolicy`),` except it doesn't need any further\n`,mdx(\"inlineCode\",{parentName:\"p\"},`sts:AssumeRole`),` permissions.`),mdx(\"p\",null,`Furthermore, in the master account, Vault must be granted the action `,mdx(\"inlineCode\",{parentName:\"p\"},`sts:AssumeRole`),`\nfor the IAM Role to be assumed.`),mdx(\"h3\",{\"id\":\"aws-instance-metadata-timeout\"},mdx(\"a\",{parentName:\"h3\",\"className\":\"__permalink-h\",\"href\":\"#aws-instance-metadata-timeout\",\"aria-label\":\"aws instance metadata timeout permalink\"},`\\xbb`),`AWS instance metadata timeout`),mdx(\"div\",{\"className\":\"alert alert-warning g-type-body\"},mdx(\"p\",{parentName:\"div\"},`Affects Vault 1.4 and later`)),mdx(\"p\",null,`Anytime Vault uses the `,mdx(\"a\",{parentName:\"p\",\"href\":\"http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-instance-metadata.html\"},`instance metadata service`),` on an EC2\ninstance, such as for getting credentials from the instance profile, there may\nbe a delay with the introduction of `,mdx(\"a\",{parentName:\"p\",\"href\":\"https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/configuring-instance-metadata-service.html\"},`v2 of the instance metadata service\n(IMDSv2)`),`. The AWS SDK used by Vault first attempts to connect\nto IMDSv2, and if that times out, it falls back to v1. In Vault 1.4, this\ntimeout can take up to 2 minutes. In Vault 1.5.5 and later, it can take up to 2\nseconds with this fix: `,mdx(\"a\",{parentName:\"p\",\"href\":\"https://github.com/hashicorp/vault/pull/10133\"},`#10133`),`.`),mdx(\"p\",null,`The timeout occurs in situations where there is a proxy between Vault and\nIMDSv2, and the instance hop limit is set to less than the number of \"hops\"\nbetween Vault and IMDSv2. For example, if Vault is running in docker on an EC2\ninstance with the instance hop limit set to 1, the AWS SDK client will attempt\nto connect to IMDSv2, timeout, and fall back to IMDSv1 because of the extra\nnetwork hop between docker and IMDS.`),mdx(\"p\",null,`To avoid the timeout behavior, the hop limit may be `,mdx(\"a\",{parentName:\"p\",\"href\":\"https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/configuring-instance-metadata-service.html#configuring-instance-metadata-options\"},`adjusted on the underlying\nEC2 instances`),`. With the docker example, setting the hop\nlimit to 2 will allow the AWS SDK in Vault to connect to IMDSv2 without delay.`),mdx(\"h2\",{\"id\":\"authentication\"},mdx(\"a\",{parentName:\"h2\",\"className\":\"__permalink-h\",\"href\":\"#authentication\",\"aria-label\":\"authentication permalink\"},`\\xbb`),`Authentication`),mdx(\"h3\",{\"id\":\"via-the-cli\"},mdx(\"a\",{parentName:\"h3\",\"className\":\"__permalink-h\",\"href\":\"#via-the-cli\",\"aria-label\":\"via the cli permalink\"},`\\xbb`),`Via the CLI`),mdx(\"h4\",{\"id\":\"enable-aws-ec2-authentication-in-vault\"},mdx(\"a\",{parentName:\"h4\",\"className\":\"__permalink-h\",\"href\":\"#enable-aws-ec2-authentication-in-vault\",\"aria-label\":\"enable aws ec2 authentication in vault permalink\"},`\\xbb`),`Enable AWS EC2 authentication in Vault.`),mdx(\"pre\",{\"style\":{\"backgroundColor\":\"var(--hds-code-block-color-surface-primary)\",\"color\":\"var(--hds-code-block-color-token)\"},\"tabindex\":\"0\",\"language\":\"shellsession\",\"className\":\"language-shellsession\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-shellsession\"},mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-cyan)\"}},`$`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` vault auth enable aws`)),`\n`)),mdx(\"h4\",{\"id\":\"configure-the-credentials-required-to-make-aws-api-calls\"},mdx(\"a\",{parentName:\"h4\",\"className\":\"__permalink-h\",\"href\":\"#configure-the-credentials-required-to-make-aws-api-calls\",\"aria-label\":\"configure the credentials required to make aws api calls permalink\"},`\\xbb`),`Configure the credentials required to make AWS API calls`),mdx(\"p\",null,`If not specified, Vault will attempt to use standard environment variables\n(`,mdx(\"inlineCode\",{parentName:\"p\"},`AWS_ACCESS_KEY_ID`),` and `,mdx(\"inlineCode\",{parentName:\"p\"},`AWS_SECRET_ACCESS_KEY`),`) or IAM EC2 instance role\ncredentials if available.`),mdx(\"p\",null,`The IAM account or role to which the credentials map must allow the\n`,mdx(\"inlineCode\",{parentName:\"p\"},`ec2:DescribeInstances`),` action. In addition, if IAM Role binding is used (see\n`,mdx(\"inlineCode\",{parentName:\"p\"},`bound_iam_role_arn`),` below), `,mdx(\"inlineCode\",{parentName:\"p\"},`iam:GetInstanceProfile`),` must also be allowed.`),mdx(\"p\",null,`To provide IAM security credentials to Vault, we recommend using Vault\n`,mdx(\"a\",{parentName:\"p\",\"href\":\"#plugin-workload-identity-federation-wif\"},`plugin workload identity federation`),`\n(WIF).`),mdx(\"pre\",{\"style\":{\"backgroundColor\":\"var(--hds-code-block-color-surface-primary)\",\"color\":\"var(--hds-code-block-color-token)\"},\"tabindex\":\"0\",\"language\":\"shellsession\",\"className\":\"language-shellsession\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-shellsession\"},mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-cyan)\"}},`$`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` vault write auth/aws/config/client \\\\`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`    secret_key=vCtSM8ZUEQ3mOFVlYPBQkf2sO6F/W7a5TVzrl3Oj \\\\`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`    access_key=VKIAJBRHKH6EVTTNXDHA`)),`\n`,`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-cyan)\"}},`$`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` vault auth/aws/config/client \\\\`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`    identity_token_audience=\"vault.example/v1/identity/oidc/plugins\" \\\\`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`    role_arn=\"arn:aws:iam::123456789123:role/example-web-identity-role\"`)),`\n`)),mdx(\"h4\",{\"id\":\"configure-the-policies-on-the-role\"},mdx(\"a\",{parentName:\"h4\",\"className\":\"__permalink-h\",\"href\":\"#configure-the-policies-on-the-role\",\"aria-label\":\"configure the policies on the role permalink\"},`\\xbb`),`Configure the policies on the role.`),mdx(\"pre\",{\"style\":{\"backgroundColor\":\"var(--hds-code-block-color-surface-primary)\",\"color\":\"var(--hds-code-block-color-token)\"},\"tabindex\":\"0\",\"language\":\"shellsession\",\"className\":\"language-shellsession\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-shellsession\"},mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-cyan)\"}},`$`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` vault write auth/aws/role/dev-role auth_type=ec2 bound_ami_id=ami-fce3c696 policies=prod,dev max_ttl=500h`)),`\n`,`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-cyan)\"}},`$`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` vault write auth/aws/role/dev-role-iam auth_type=iam \\\\`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`              bound_iam_principal_arn=arn:aws:iam::123456789012:role/MyRole policies=prod,dev max_ttl=500h`)),`\n`)),mdx(\"h4\",{\"id\":\"configure-a-required-x-vault-aws-iam-server-id-header-recommended\"},mdx(\"a\",{parentName:\"h4\",\"className\":\"__permalink-h\",\"href\":\"#configure-a-required-x-vault-aws-iam-server-id-header-recommended\",\"aria-label\":\"configure a required x vault aws iam server id header recommended permalink\"},`\\xbb`),`Configure a required X-Vault-AWS-IAM-Server-ID header (recommended)`),mdx(\"pre\",{\"style\":{\"backgroundColor\":\"var(--hds-code-block-color-surface-primary)\",\"color\":\"var(--hds-code-block-color-token)\"},\"tabindex\":\"0\",\"language\":\"shellsession\",\"className\":\"language-shellsession\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-shellsession\"},mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-cyan)\"}},`$`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` vault write auth/aws/config/client iam_server_id_header_value=vault.example.com`)),`\n`)),mdx(\"h4\",{\"id\":\"perform-the-login-operation\"},mdx(\"a\",{parentName:\"h4\",\"className\":\"__permalink-h\",\"href\":\"#perform-the-login-operation\",\"aria-label\":\"perform the login operation permalink\"},`\\xbb`),`Perform the login operation`),mdx(\"p\",null,`For the ec2 auth method, first fetch the PKCS#7 signature on the AWS instance:`),mdx(\"pre\",{\"style\":{\"backgroundColor\":\"var(--hds-code-block-color-surface-primary)\",\"color\":\"var(--hds-code-block-color-token)\"},\"tabindex\":\"0\",\"language\":\"shellsession\",\"className\":\"language-shellsession\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-shellsession\"},mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-cyan)\"}},`$`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` SIGNATURE=`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`$(`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-function)\"}},`curl`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` -s http://169.254.169.254/latest/dynamic/instance-identity/rsa2048 `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`|`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-function)\"}},` tr`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` -d '\\\\n')`)),`\n`)),mdx(\"p\",null,`then set the signature on the login endpoint:`),mdx(\"pre\",{\"style\":{\"backgroundColor\":\"var(--hds-code-block-color-surface-primary)\",\"color\":\"var(--hds-code-block-color-token)\"},\"tabindex\":\"0\",\"language\":\"shellsession\",\"className\":\"language-shellsession\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-shellsession\"},mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-cyan)\"}},`$`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` vault write auth/aws/login role=dev-role \\\\`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`  pkcs7=$SIGNATURE`)),`\n`)),mdx(Note,{mdxType:\"Note\"},mdx(\"p\",null,`Vault does not support X.509 certificates with SHA-1 signatures. If you use AWS\n`,mdx(\"a\",{parentName:\"p\",\"href\":\"https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/verify-rsa2048.html\"},mdx(\"inlineCode\",{parentName:\"a\"},`/rsa2048`),` signature endpoint`),`\ncredentials, you must use the `,mdx(\"inlineCode\",{parentName:\"p\"},`pkcs7`),` login flow.`)),mdx(\"p\",null,`For the iam auth method, generating the signed request is a non-standard\noperation. The Vault cli supports generating this for you:`),mdx(\"pre\",{\"style\":{\"backgroundColor\":\"var(--hds-code-block-color-surface-primary)\",\"color\":\"var(--hds-code-block-color-token)\"},\"tabindex\":\"0\",\"language\":\"shellsession\",\"className\":\"language-shellsession\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-shellsession\"},mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-cyan)\"}},`$`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` vault login -method=aws header_value=vault.example.com role=dev-role-iam`)),`\n`)),mdx(\"p\",null,`This assumes you have AWS credentials configured in the standard locations AWS\nSDKs search for credentials (environment variables, ~/.aws/credentials, IAM\ninstance profile, or ECS task role, in that order). If you do not have IAM\ncredentials available at any of these locations, you can explicitly pass them\nin on the command line (though this is not recommended), omitting\n`,mdx(\"inlineCode\",{parentName:\"p\"},`aws_security_token`),` if not applicable.`),mdx(\"pre\",{\"style\":{\"backgroundColor\":\"var(--hds-code-block-color-surface-primary)\",\"color\":\"var(--hds-code-block-color-token)\"},\"tabindex\":\"0\",\"language\":\"shellsession\",\"className\":\"language-shellsession\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-shellsession\"},mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-cyan)\"}},`$`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` vault login -method=aws header_value=vault.example.com role=dev-role-iam \\\\`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`        aws_access_key_id=\u003caccess_key\u003e \\\\`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`        aws_secret_access_key=\u003csecret_key\u003e \\\\`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`        aws_security_token=\u003csecurity_token\u003e`)),`\n`)),mdx(\"p\",null,`The region used defaults to `,mdx(\"inlineCode\",{parentName:\"p\"},`us-east-1`),`, but you can specify a custom region like so:`),mdx(\"pre\",{\"style\":{\"backgroundColor\":\"var(--hds-code-block-color-surface-primary)\",\"color\":\"var(--hds-code-block-color-token)\"},\"tabindex\":\"0\",\"language\":\"shellsession\",\"className\":\"language-shellsession\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-shellsession\"},mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-cyan)\"}},`$`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` vault login -method=aws region=us-west-2 role=dev-role-iam`)),`\n`)),mdx(\"p\",null,`If the region is specified as `,mdx(\"inlineCode\",{parentName:\"p\"},`auto`),`, the Vault CLI will determine the region based\non standard AWS credentials precedence as described earlier. Whichever method is used,\nbe sure the designated region corresponds to that of the STS endpoint you're using.`),mdx(\"div\",{\"className\":\"alert alert-warning g-type-body\"},mdx(\"p\",{parentName:\"div\"},``,mdx(\"strong\",{parentName:\"p\"},`Note:`),` If you are making use of AWS GovCloud and setting the `,mdx(\"inlineCode\",{parentName:\"p\"},`sts_endpoint`),`\nand `,mdx(\"inlineCode\",{parentName:\"p\"},`sts_region`),` role parameters to `,mdx(\"inlineCode\",{parentName:\"p\"},`us-gov-west-1`),` / `,mdx(\"inlineCode\",{parentName:\"p\"},`us-gov-east-1`),` then you must include\nthe `,mdx(\"inlineCode\",{parentName:\"p\"},`region`),` argument in your login request with a matching value, i.e. `,mdx(\"inlineCode\",{parentName:\"p\"},`region=us-gov-west-1`),`.`)),mdx(\"p\",null,`An example of how to generate the required request values for the `,mdx(\"inlineCode\",{parentName:\"p\"},`login`),` method\ncan be found found in the `,mdx(\"a\",{parentName:\"p\",\"href\":\"https://github.com/hashicorp/vault/blob/main/builtin/credential/aws/cli.go\"},`vault cli\nsource code`),`.\nUsing an approach such as this, the request parameters can be generated and\npassed to the `,mdx(\"inlineCode\",{parentName:\"p\"},`login`),` method:`),mdx(\"pre\",{\"style\":{\"backgroundColor\":\"var(--hds-code-block-color-surface-primary)\",\"color\":\"var(--hds-code-block-color-token)\"},\"tabindex\":\"0\",\"language\":\"shellsession\",\"className\":\"language-shellsession\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-shellsession\"},mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-cyan)\"}},`$`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` vault write auth/aws/login role=dev-role-iam \\\\`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`        iam_http_request_method=POST \\\\`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`        iam_request_url=aHR0cHM6Ly9zdHMuYW1hem9uYXdzLmNvbS8= \\\\`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`        iam_request_body=QWN0aW9uPUdldENhbGxlcklkZW50aXR5JlZlcnNpb249MjAxMS0wNi0xNQ== \\\\`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`        iam_request_headers=eyJDb250ZW50LUxlbmd0aCI6IFsiNDMiXSwgIlVzZXItQWdlbnQiOiBbImF3cy1zZGstZ28vMS40LjEyIChnbzEuNy4xOyBsaW51eDsgYW1kNjQpIl0sICJYLVZhdWx0LUFXU0lBTS1TZXJ2ZXItSWQiOiBbInZhdWx0LmV4YW1wbGUuY29tIl0sICJYLUFtei1EYXRlIjogWyIyMDE2MDkzMFQwNDMxMjFaIl0sICJDb250ZW50LVR5cGUiOiBbImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZDsgY2hhcnNldD11dGYtOCJdLCAiQXV0aG9yaXphdGlvbiI6IFsiQVdTNC1ITUFDLVNIQTI1NiBDcmVkZW50aWFsPWZvby8yMDE2MDkzMC91cy1lYXN0LTEvc3RzL2F3czRfcmVxdWVzdCwgU2lnbmVkSGVhZGVycz1jb250ZW50LWxlbmd0aDtjb250ZW50LXR5cGU7aG9zdDt4LWFtei1kYXRlO3gtdmF1bHQtc2VydmVyLCBTaWduYXR1cmU9YTY5ZmQ3NTBhMzQ0NWM0ZTU1M2UxYjNlNzlkM2RhOTBlZWY1NDA0N2YxZWI0ZWZlOGZmYmM5YzQyOGMyNjU1YiJdfQ==`)),`\n`)),mdx(\"h3\",{\"id\":\"via-the-api\"},mdx(\"a\",{parentName:\"h3\",\"className\":\"__permalink-h\",\"href\":\"#via-the-api\",\"aria-label\":\"via the api permalink\"},`\\xbb`),`Via the API`),mdx(\"h4\",{\"id\":\"enable-aws-authentication-in-vault\"},mdx(\"a\",{parentName:\"h4\",\"className\":\"__permalink-h\",\"href\":\"#enable-aws-authentication-in-vault\",\"aria-label\":\"enable aws authentication in vault permalink\"},`\\xbb`),`Enable AWS authentication in Vault.`),mdx(\"pre\",null,mdx(\"code\",{parentName:\"pre\"},`curl -X POST -H \"X-Vault-Token:123\" \"http://127.0.0.1:8200/v1/sys/auth/aws\" -d '{\"type\":\"aws\"}'\n`)),mdx(\"h4\",{\"id\":\"configure-the-credentials-required-to-make-aws-api-calls-1\"},mdx(\"a\",{parentName:\"h4\",\"className\":\"__permalink-h\",\"href\":\"#configure-the-credentials-required-to-make-aws-api-calls-1\",\"aria-label\":\"configure the credentials required to make aws api calls permalink\"},`\\xbb`),`Configure the credentials required to make AWS API calls.`),mdx(\"pre\",null,mdx(\"code\",{parentName:\"pre\"},`curl -X POST -H \"X-Vault-Token:123\" \"http://127.0.0.1:8200/v1/auth/aws/config/client\" -d '{\"access_key\":\"VKIAJBRHKH6EVTTNXDHA\", \"secret_key\":\"vCtSM8ZUEQ3mOFVlYPBQkf2sO6F/W7a5TVzrl3Oj\"}'\n`)),mdx(\"h4\",{\"id\":\"configure-the-policies-on-the-role-1\"},mdx(\"a\",{parentName:\"h4\",\"className\":\"__permalink-h\",\"href\":\"#configure-the-policies-on-the-role-1\",\"aria-label\":\"configure the policies on the role permalink\"},`\\xbb`),`Configure the policies on the role.`),mdx(\"pre\",null,mdx(\"code\",{parentName:\"pre\"},`curl -X POST -H \"X-Vault-Token:123\" \"http://127.0.0.1:8200/v1/auth/aws/role/dev-role\" -d '{\"bound_ami_id\":\"ami-fce3c696\",\"policies\":\"prod,dev\",\"max_ttl\":\"500h\"}'\n\ncurl -X POST -H \"X-Vault-Token:123\" \"http://127.0.0.1:8200/v1/auth/aws/role/dev-role-iam\" -d '{\"auth_type\":\"iam\",\"policies\":\"prod,dev\",\"max_ttl\":\"500h\",\"bound_iam_principal_arn\":\"arn:aws:iam::123456789012:role/MyRole\"}'\n`)),mdx(\"h4\",{\"id\":\"perform-the-login-operation-1\"},mdx(\"a\",{parentName:\"h4\",\"className\":\"__permalink-h\",\"href\":\"#perform-the-login-operation-1\",\"aria-label\":\"perform the login operation permalink\"},`\\xbb`),`Perform the login operation`),mdx(\"pre\",null,mdx(\"code\",{parentName:\"pre\"},`curl -X POST \"http://127.0.0.1:8200/v1/auth/aws/login\" -d '{\"role\":\"dev-role\",\"pkcs7\":\"'$(curl -s http://169.254.169.254/latest/dynamic/instance-identity/rsa2048 | tr -d '\\\\n')'\",\"nonce\":\"5defbf9e-a8f9-3063-bdfc-54b7a42a1f95\"}'\n\ncurl -X POST \"http://127.0.0.1:8200/v1/auth/aws/login\" -d '{\"role\":\"dev\", \"iam_http_request_method\": \"POST\", \"iam_request_url\": \"aHR0cHM6Ly9zdHMuYW1hem9uYXdzLmNvbS8=\", \"iam_request_body\": \"QWN0aW9uPUdldENhbGxlcklkZW50aXR5JlZlcnNpb249MjAxMS0wNi0xNQ==\", \"iam_request_headers\": \"eyJDb250ZW50LUxlbmd0aCI6IFsiNDMiXSwgIlVzZXItQWdlbnQiOiBbImF3cy1zZGstZ28vMS40LjEyIChnbzEuNy4xOyBsaW51eDsgYW1kNjQpIl0sICJYLVZhdWx0LUFXU0lBTS1TZXJ2ZXItSWQiOiBbInZhdWx0LmV4YW1wbGUuY29tIl0sICJYLUFtei1EYXRlIjogWyIyMDE2MDkzMFQwNDMxMjFaIl0sICJDb250ZW50LVR5cGUiOiBbImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZDsgY2hhcnNldD11dGYtOCJdLCAiQXV0aG9yaXphdGlvbiI6IFsiQVdTNC1ITUFDLVNIQTI1NiBDcmVkZW50aWFsPWZvby8yMDE2MDkzMC91cy1lYXN0LTEvc3RzL2F3czRfcmVxdWVzdCwgU2lnbmVkSGVhZGVycz1jb250ZW50LWxlbmd0aDtjb250ZW50LXR5cGU7aG9zdDt4LWFtei1kYXRlO3gtdmF1bHQtc2VydmVyLCBTaWduYXR1cmU9YTY5ZmQ3NTBhMzQ0NWM0ZTU1M2UxYjNlNzlkM2RhOTBlZWY1NDA0N2YxZWI0ZWZlOGZmYmM5YzQyOGMyNjU1YiJdfQ==\" }'\n`)),mdx(\"p\",null,`The response will be in JSON. For example:`),mdx(\"pre\",{\"style\":{\"backgroundColor\":\"var(--hds-code-block-color-surface-primary)\",\"color\":\"var(--hds-code-block-color-token)\"},\"tabindex\":\"0\",\"language\":\"javascript\",\"className\":\"language-javascript\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-javascript\"},mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`{`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`  \"auth\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`: {`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`    \"renewable\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-constant)\"}},` true`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`    \"lease_duration\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-constant)\"}},` 72000`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`    \"metadata\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` {`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`      \"role_tag_max_ttl\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"0s\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`      \"role\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"ami-f083709d\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`      \"region\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"us-east-1\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`      \"nonce\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"5defbf9e-a8f9-3063-bdfc-54b7a42a1f95\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`      \"instance_id\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"i-a832f734\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`      \"ami_id\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"ami-f083709d\"`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`    }`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`    \"policies\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` [`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`      \"default\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`      \"dev\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`      \"prod\"`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`    ]`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`    \"accessor\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"5cd96cd1-58b7-2904-5519-75ddf957ec06\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`    \"client_token\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"150fc858-2402-49c9-56a5-f4b57f2c8ff1\"`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`  }`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`  \"warnings\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`: `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-constant)\"}},`null`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`  \"wrap_info\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`: `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-constant)\"}},`null`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`  \"data\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`: `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-constant)\"}},`null`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`  \"lease_duration\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`: `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-constant)\"}},`0`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`  \"renewable\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`: `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-constant)\"}},`false`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`  \"lease_id\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`: `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`\"\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`  \"request_id\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`: `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`\"d7d50c06-56b8-37f4-606c-ccdc87a1ee4c\"`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`}`)),`\n`)),mdx(\"h2\",{\"id\":\"api\"},mdx(\"a\",{parentName:\"h2\",\"className\":\"__permalink-h\",\"href\":\"#api\",\"aria-label\":\"api permalink\"},`\\xbb`),`API`),mdx(\"p\",null,`The AWS auth method has a full HTTP API. Please see the\n`,mdx(\"a\",{parentName:\"p\",\"href\":\"/vault/api-docs/auth/aws\"},`AWS Auth API`),` for more\ndetails.`),mdx(\"h2\",{\"id\":\"code-example\"},mdx(\"a\",{parentName:\"h2\",\"className\":\"__permalink-h\",\"href\":\"#code-example\",\"aria-label\":\"code example permalink\"},`\\xbb`),`Code example`),mdx(\"p\",null,`The following example demonstrates the AWS (IAM) auth method to authenticate with Vault.`),mdx(CodeTabs,{mdxType:\"CodeTabs\"},mdx(CodeBlockConfig,{mdxType:\"CodeBlockConfig\"},mdx(\"pre\",{\"style\":{\"backgroundColor\":\"var(--hds-code-block-color-surface-primary)\",\"color\":\"var(--hds-code-block-color-token)\"},\"tabindex\":\"0\",\"language\":\"go\",\"className\":\"language-go\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-go\"},mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`package`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-function)\"}},` main`)),`\n`,`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`import`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` (`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`    \"context\"`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`    \"fmt\"`)),`\n`,`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`    vault `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`\"github.com/hashicorp/vault/api\"`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`    auth `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`\"github.com/hashicorp/vault/api/auth/aws\"`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`)`)),`\n`,`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-comment)\"}},`// Fetches a key-value secret (kv-v2) after authenticating to Vault via AWS IAM,`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-comment)\"}},`// one of two auth methods used to authenticate with AWS (the other is EC2 auth).`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`func`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-function)\"}},` getSecretWithAWSAuthIAM`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`() (`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`string`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`, `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`error`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`) {`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`    config `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:=`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` vault.`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-function)\"}},`DefaultConfig`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`() `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-comment)\"}},`// modify for more granular configuration`)),`\n`,`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`    client, err `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:=`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` vault.`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-function)\"}},`NewClient`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`(config)`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`    if`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` err `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`!=`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-constant)\"}},` nil`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` {`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`        return`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`, fmt.`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-function)\"}},`Errorf`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`(`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`\"unable to initialize Vault client: `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-constant)\"}},`%w`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`, err)`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`    }`)),`\n`,`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`    awsAuth, err `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:=`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` auth.`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-function)\"}},`NewAWSAuth`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`(`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`        auth.`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-function)\"}},`WithRole`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`(`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`\"dev-role-iam\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`), `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-comment)\"}},`// if not provided, Vault will fall back on looking for a role with the IAM role name if you're using the iam auth type, or the EC2 instance's AMI id if using the ec2 auth type`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`    )`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`    if`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` err `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`!=`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-constant)\"}},` nil`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` {`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`        return`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`, fmt.`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-function)\"}},`Errorf`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`(`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`\"unable to initialize AWS auth method: `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-constant)\"}},`%w`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`, err)`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`    }`)),`\n`,`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`    authInfo, err `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:=`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` client.`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-function)\"}},`Auth`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`().`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-function)\"}},`Login`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`(context.`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-function)\"}},`Background`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`(), awsAuth)`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`    if`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` err `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`!=`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-constant)\"}},` nil`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` {`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`        return`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`, fmt.`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-function)\"}},`Errorf`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`(`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`\"unable to login to AWS auth method: `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-constant)\"}},`%w`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`, err)`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`    }`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`    if`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` authInfo `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`==`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-constant)\"}},` nil`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` {`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`        return`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`, fmt.`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-function)\"}},`Errorf`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`(`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`\"no auth info was returned after login\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`)`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`    }`)),`\n`,`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-comment)\"}},`    // get secret from the default mount path for KV v2 in dev mode, \"secret\"`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`    secret, err `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:=`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` client.`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-function)\"}},`KVv2`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`(`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`\"secret\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`).`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-function)\"}},`Get`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`(context.`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-function)\"}},`Background`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`(), `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`\"creds\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`)`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`    if`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` err `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`!=`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-constant)\"}},` nil`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` {`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`        return`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`, fmt.`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-function)\"}},`Errorf`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`(`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`\"unable to read secret: `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-constant)\"}},`%w`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`, err)`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`    }`)),`\n`,`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-comment)\"}},`    // data map can contain more than one key-value pair,`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-comment)\"}},`    // in this case we're just grabbing one of them`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`    value, ok `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:=`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` secret.Data[`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`\"password\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`].(`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`string`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`)`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`    if`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},` !`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`ok {`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`        return`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`, fmt.`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-function)\"}},`Errorf`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`(`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`\"value type assertion failed: `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-constant)\"}},`%T`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-constant)\"}},` %#v`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`, secret.Data[`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`\"password\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`], secret.Data[`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`\"password\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`])`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`    }`)),`\n`,`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`    return`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` value, `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-constant)\"}},`nil`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`}`)),`\n`))),mdx(CodeBlockConfig,{mdxType:\"CodeBlockConfig\"},mdx(\"pre\",{\"style\":{\"backgroundColor\":\"var(--hds-code-block-color-surface-primary)\",\"color\":\"var(--hds-code-block-color-token)\"},\"tabindex\":\"0\",\"language\":\"cs\",\"className\":\"language-cs\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-cs\"},mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`using`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-function)\"}},` System`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`;`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`using`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-function)\"}},` System`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`.`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-function)\"}},`Text`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`;`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`using`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-function)\"}},` Amazon`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`.`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-function)\"}},`Runtime`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`;`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`using`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-function)\"}},` Amazon`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`.`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-function)\"}},`Runtime`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`.`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-function)\"}},`Internal`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`;`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`using`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-function)\"}},` Amazon`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`.`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-function)\"}},`Runtime`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`.`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-function)\"}},`Internal`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`.`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-function)\"}},`Auth`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`;`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`using`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-function)\"}},` Amazon`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`.`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-function)\"}},`Runtime`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`.`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-function)\"}},`Internal`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`.`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-function)\"}},`Util`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`;`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`using`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-function)\"}},` Amazon`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`.`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-function)\"}},`SecurityToken`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`;`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`using`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-function)\"}},` Amazon`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`.`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-function)\"}},`SecurityToken`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`.`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-function)\"}},`Model`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`;`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`using`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-function)\"}},` Amazon`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`.`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-function)\"}},`SecurityToken`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`.`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-function)\"}},`Model`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`.`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-function)\"}},`Internal`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`.`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-function)\"}},`MarshallTransformations`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`;`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`using`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-function)\"}},` Newtonsoft`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`.`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-function)\"}},`Json`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`;`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`using`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-function)\"}},` VaultSharp`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`;`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`using`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-function)\"}},` VaultSharp`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`.`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-function)\"}},`V1`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`.`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-function)\"}},`AuthMethods`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`;`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`using`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-function)\"}},` VaultSharp`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`.`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-function)\"}},`V1`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`.`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-function)\"}},`AuthMethods`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`.`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-function)\"}},`AWS`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`;`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`using`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-function)\"}},` VaultSharp`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`.`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-function)\"}},`V1`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`.`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-function)\"}},`Commons`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`;`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`using`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-function)\"}},` VaultSharp`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`.`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-function)\"}},`V1`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`.`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-function)\"}},`SecretsEngines`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`.`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-function)\"}},`AWS`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`;`)),`\n`,`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`namespace`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-function)\"}},` Examples`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`{`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`    public`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},` class`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-function)\"}},` AwsAuthExample`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`    {`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-comment)\"}},`        /// \u003c`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`summary`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-comment)\"}},`\u003e`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-comment)\"}},`        /// Fetches a key-value secret (kv-v2) after authenticating to Vault via AWS IAM,`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-comment)\"}},`        /// one of two auth methods used to authenticate with AWS (the other is EC2 auth).`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-comment)\"}},`        /// \u003c/`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`summary`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-comment)\"}},`\u003e`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`        public`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},` string`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-function)\"}},` GetSecretAWSAuthIAM`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`()`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`        {`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`            var`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` vaultAddr `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`=`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-constant)\"}},` Environment`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`.`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-function)\"}},`GetEnvironmentVariable`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`(`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`\"VAULT_ADDR\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`);`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`            if`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`(`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-constant)\"}},`String`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`.`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-function)\"}},`IsNullOrEmpty`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`(vaultAddr))`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`            {`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`                throw`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},` new`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-function)\"}},` System`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`.`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-function)\"}},`ArgumentNullException`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`(`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`\"Vault Address\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`);`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`            }`)),`\n`,`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`            var`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` roleName `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`=`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-constant)\"}},` Environment`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`.`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-function)\"}},`GetEnvironmentVariable`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`(`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`\"VAULT_ROLE\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`);`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`            if`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`(`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-constant)\"}},`String`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`.`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-function)\"}},`IsNullOrEmpty`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`(roleName))`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`            {`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`                throw`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},` new`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-function)\"}},` System`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`.`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-function)\"}},`ArgumentNullException`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`(`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`\"Vault Role Name\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`);`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`            }`)),`\n`,`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`            var`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` amazonSecurityTokenServiceConfig `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`=`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},` new`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-function)\"}},` AmazonSecurityTokenServiceConfig`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`();`)),`\n`,`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-comment)\"}},`            // Initialize BasicAWS Credentials w/ an accessKey and secretKey`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-function)\"}},`            Amazon`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`.`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-function)\"}},`Runtime`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`.`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-function)\"}},`AWSCredentials`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` awsCredentials `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`=`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},` new`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-function)\"}},` BasicAWSCredentials`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`(accessKey`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-constant)\"}},` Environment`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`.`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-function)\"}},`GetEnvironmentVariable`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`(`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`\"AWS_ACCESS_KEY_ID\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`)`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`                                                                secretKey`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-constant)\"}},` Environment`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`.`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-function)\"}},`GetEnvironmentVariable`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`(`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`\"AWS_SECRET_ACCESS_KEY\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`));`)),`\n`,`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-comment)\"}},`            // Construct the IAM Request and add necessary headers`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`            var`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` iamRequest `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`=`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-constant)\"}},` GetCallerIdentityRequestMarshaller`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`.`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-constant)\"}},`Instance`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`.`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-function)\"}},`Marshall`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`(`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`new`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-function)\"}},` GetCallerIdentityRequest`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`());`)),`\n`,`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-constant)\"}},`            iamRequest`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`.`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-constant)\"}},`Endpoint`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},` =`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},` new`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-function)\"}},` Uri`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`(`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-constant)\"}},`amazonSecurityTokenServiceConfig`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`.`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-function)\"}},`DetermineServiceURL`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`());`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-constant)\"}},`            iamRequest`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`.`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-constant)\"}},`ResourcePath`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},` =`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"/\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`;`)),`\n`,`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-constant)\"}},`            iamRequest`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`.`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-constant)\"}},`Headers`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`.`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-function)\"}},`Add`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`(`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`\"User-Agent\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"some-agent\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`);`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-constant)\"}},`            iamRequest`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`.`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-constant)\"}},`Headers`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`.`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-function)\"}},`Add`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`(`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`\"X-Amz-Security-Token\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-constant)\"}},` awsCredentials`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`.`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-function)\"}},`GetCredentials`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`().`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-constant)\"}},`Token`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`);`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-constant)\"}},`            iamRequest`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`.`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-constant)\"}},`Headers`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`.`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-function)\"}},`Add`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`(`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`\"Content-Type\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"application/x-www-form-urlencoded; charset=utf-8\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`);`)),`\n`,`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`            new`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-function)\"}},` AWS4Signer`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`().`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-function)\"}},`Sign`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`(iamRequest`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` amazonSecurityTokenServiceConfig`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},` new`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-function)\"}},` RequestMetrics`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`()`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-constant)\"}},` awsCredentials`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`.`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-function)\"}},`GetCredentials`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`().`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-constant)\"}},`AccessKey`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-constant)\"}},` awsCredentials`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`.`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-function)\"}},`GetCredentials`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`().`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-constant)\"}},`SecretKey`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`);`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`            var`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` iamSTSRequestHeaders `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`=`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-constant)\"}},` iamRequest`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`.`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-constant)\"}},`Headers`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`;`)),`\n`,`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-comment)\"}},`            // Convert headers to Base64 encoded version`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`            var`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` base64EncodedIamRequestHeaders `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`=`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-constant)\"}},` Convert`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`.`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-function)\"}},`ToBase64String`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`(`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-constant)\"}},`Encoding`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`.`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-constant)\"}},`UTF8`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`.`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-function)\"}},`GetBytes`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`(`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-constant)\"}},`JsonConvert`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`.`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-function)\"}},`SerializeObject`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`(iamSTSRequestHeaders)));`)),`\n`,`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-function)\"}},`            IAuthMethodInfo`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` authMethod `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`=`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},` new`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-function)\"}},` IAMAWSAuthMethodInfo`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`(roleName`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` roleName`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` requestHeaders`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` base64EncodedIamRequestHeaders);`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`            var`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` vaultClientSettings `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`=`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},` new`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-function)\"}},` VaultClientSettings`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`(vaultAddr`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` authMethod);`)),`\n`,`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-function)\"}},`            IVaultClient`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` vaultClient `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`=`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},` new`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-function)\"}},` VaultClient`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`(vaultClientSettings);`)),`\n`,`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-comment)\"}},`            // We can retrieve the secret from the VaultClient object`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-function)\"}},`            Secret`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`\u003c`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-function)\"}},`SecretData`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`\u003e kv2Secret `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`=`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-constant)\"}},` null`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`;`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`            kv2Secret `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`=`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-constant)\"}},` vaultClient`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`.`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-constant)\"}},`V1`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`.`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-constant)\"}},`Secrets`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`.`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-constant)\"}},`KeyValue`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`.`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-constant)\"}},`V2`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`.`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-function)\"}},`ReadSecretAsync`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`(path`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"/creds\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`).`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-constant)\"}},`Result`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`;`)),`\n`,`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`            var`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` password `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`=`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-constant)\"}},` kv2Secret`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`.`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-constant)\"}},`Data`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`.`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-constant)\"}},`Data`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`[`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`\"password\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`];`)),`\n`,`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`            return`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-constant)\"}},` password`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`.`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-function)\"}},`ToString`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`();`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`        }`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`    }`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`}`)),`\n`)))))};MDXContent.isMDXComponent=true;","scope":{"product":"vault","version":"latest"}},"product":{"name":"Vault","slug":"vault","version":"1.9.3","changelogUrl":null,"algoliaConfig":{"indexName":"product_VAULT","searchOnlyApiKey":"9c555e8fa951c1c53e726c0ce2eb3b73"},"analyticsConfig":{"includedDomains":"vaultproject.io www.vaultproject.io","segmentWriteKey":"OdSFDq9PfujQpmkZf03dFpcUlywme4sC"},"datoToken":"88b4984480dad56295a8aadae6caad","metadata":{"title":"Vault by HashiCorp","description":"Vault secures, stores, and tightly controls access to tokens, passwords, certificates, API keys, and other secrets in modern computing. Vault handles leasing, key revocation, key rolling, auditing, and provides secrets as a service through a unified API.","image":"https://www.vaultproject.io/vault-public/img/og-image.png","icon":[{"href":"https://www.datocms-assets.com/2885/1676497447-vault-favicon-color.png?h=16\u0026w=16","type":"image/png","sizes":"16x16"},{"href":"https://www.datocms-assets.com/2885/1676497447-vault-favicon-color.png?h=32\u0026w=32","type":"image/png","sizes":"32x32"},{"href":"https://www.datocms-assets.com/2885/1676497447-vault-favicon-color.png?h=96\u0026w=96","type":"image/png","sizes":"96x96"},{"href":"https://www.datocms-assets.com/2885/1676497447-vault-favicon-color.png?h=192\u0026w=192","type":"image/png","sizes":"192x192"}]},"alertBannerActive":true,"alertBanner":{"tag":"HashiDays","url":"https://hashicorp.com/conferences/hashidays","text":"One conference. Three cities.","linkText":"Find a city near you","expirationDate":"2024-06-14T00:00:00-08:00"},"subnavItems":[{"text":"Overview","url":"/"},{"text":"Use Cases","submenu":[{"text":"Secrets Management","url":"/about-vault/why-use-vault/3rd-party-secrets"},{"text":"Data Encryption","url":"/about-vault/why-use-vault/sensitive-data"},{"text":"Identity-based Access","url":"/about-vault/why-use-vault/identity"}]},{"text":"Enterprise","url":"https://www.hashicorp.com/products/vault/enterprise"},"divider",{"text":"Tutorials","url":"https://developer.hashicorp.com/vault/tutorials"},{"text":"Docs","url":"/docs"},{"text":"API","url":"/api-docs"},{"text":"Community","url":"/community"}],"packageManagers":[{"label":"Homebrew","commands":["brew tap hashicorp/tap","brew install hashicorp/tap/vault"],"os":"darwin"},{"label":"Ubuntu/Debian","commands":["wget -O - https://apt.releases.hashicorp.com/gpg | sudo gpg --dearmor -o /usr/share/keyrings/hashicorp-archive-keyring.gpg","echo \"deb [arch=amd64 signed-by=/usr/share/keyrings/hashicorp-archive-keyring.gpg] https://apt.releases.hashicorp.com $(lsb_release -cs) main\" | sudo tee /etc/apt/sources.list.d/hashicorp.list","sudo apt-get update \u0026\u0026 sudo apt-get install vault"],"os":"linux"},{"label":"CentOS/RHEL","commands":["sudo yum install -y yum-utils","sudo yum-config-manager --add-repo https://rpm.releases.hashicorp.com/RHEL/hashicorp.repo","sudo yum -y install vault"],"os":"linux"},{"label":"Fedora","commands":["sudo dnf install -y dnf-plugins-core","sudo dnf config-manager addrepo --from-repofile=https://rpm.releases.hashicorp.com/fedora/hashicorp.repo","sudo dnf -y install vault"],"os":"linux"},{"label":"Amazon Linux","commands":["sudo yum install -y yum-utils","sudo yum-config-manager --add-repo https://rpm.releases.hashicorp.com/AmazonLinux/hashicorp.repo","sudo yum -y install vault"],"os":"linux"},{"label":"Homebrew","commands":["brew tap hashicorp/tap","brew install hashicorp/tap/vault"],"os":"linux"}],"basePaths":["docs","api-docs","tutorials","downloads"],"rootDocsPaths":[{"iconName":"docs","name":"Documentation","path":"docs"},{"iconName":"terminal-screen","name":"CLI","path":"docs/commands"},{"iconName":"api","name":"APIs","path":"api-docs"}],"integrationsConfig":{"description":"A curated collection of official, partner, and community Vault plugins.","sidebarLinks":[{"title":"Plugin system overview","href":"/vault/docs/plugins"},{"title":"Docs: Build Vault plugins","href":"/vault/docs/plugins/plugin-development"},{"title":"Tutorial: Create a custom secrets engine","href":"/vault/tutorials/custom-secrets-engine"}]},"currentRootDocsPath":{"iconName":"docs","name":"Documentation","path":"docs"}},"projectName":null,"versions":null},"__N_SSG":true},"page":"/vault/docs/[...page]","query":{"page":["auth","aws"]},"buildId":"AjZYVPR06bQZX7AVmSQfa","isFallback":false,"gsp":true,"scriptLoader":[]}</script><script nomodule="">window.MSInputMethodContext && document.documentMode && document.write('<script src="/ie-warning.js"><\x2fscript>');</script></body></html>