{"pageProps":{"metadata":{"title":"Naver Cloud | Integrations","description":"The Naver Cloud plugin can be used with HashiCorp Packer to create custom images on the Naver Cloud platform"},"product":{"name":"Packer","slug":"packer","algoliaConfig":{"indexName":"product_PACKER","searchOnlyApiKey":"4e1ea7f4bf4335ac43d9f28463e42148"},"analyticsConfig":{"includedDomains":"packer.io www.packer.io","segmentWriteKey":"AjXdfmTTk1I9q9dfyePuDFHBrz1tCO3l"},"datoToken":"88b4984480dad56295a8aadae6caad","metadata":{"title":"Packer by HashiCorp","description":"Packer helps you create golden images for multiple platforms from a single source configuration.","image":"https://www.packer.io/packer-public/img/og-image.png","icon":[{"href":"/packer-public/_favicon.ico"}]},"alertBannerActive":true,"alertBanner":{"tag":"HashiDays","url":"https://hashicorp.com/conferences/hashidays","text":"One conference. Three cities.","linkText":"Find a city near you","expirationDate":"2024-06-14T00:00:00-08:00"},"version":"1.7.10","basePaths":["docs","guides","intro","downloads"],"rootDocsPaths":[{"iconName":"docs","name":"Documentation","path":"docs"},{"iconName":"guide","name":"Guides","path":"guides"}],"integrationsConfig":{"description":"A curated collection of official, partner, and community Packer Integrations."}},"integration":{"id":"0f644661-d11d-4dec-acbd-464a6967b64e","slug":"ncloud","name":"Naver Cloud","description":"The Naver Cloud plugin can be used with HashiCorp Packer to create custom images on the Naver Cloud platform","license_type":null,"license_url":null,"external_only":false,"external_url":null,"tier":"community","repo_url":"https://github.com/hashicorp/packer-plugin-ncloud","subdirectory":"/.web-docs","created_at":"2023-06-15T19:02:56.660Z","updated_at":"2023-08-08T17:01:12.342Z","hide_versions":false,"organization":{"id":"a4a0551a-1451-4d89-9f56-8031c8350c77","slug":"hashicorp","created_at":"2022-11-09T22:56:32.391Z","updated_at":"2022-11-09T22:56:32.391Z"},"product":{"id":"4c2b00c6-7cc1-4e4c-b596-4ab57e319f21","slug":"packer","name":"Packer","created_at":"2022-11-09T22:56:29.896Z","updated_at":"2022-11-09T22:56:29.896Z"},"versions":["1.1.2","1.1.1","1.0.5"],"components":[{"id":"36076511-3ced-4faf-addf-101fce0405ff","slug":"builder","name":"Builder","plural_name":"Builders"}],"flags":[],"integration_type":null},"activeRelease":{"id":"f52fdd33-de34-47cb-862d-21dfc22ca741","integration_id":"0f644661-d11d-4dec-acbd-464a6967b64e","version":"1.1.2","readme":"The ncloud plugin allows you to create custom images on the NAVER Cloud Platform.\n\n### Installation\n\nTo install this plugin, copy and paste this code into your Packer configuration, then run [`packer init`](https://www.packer.io/docs/commands/init).\n\n```hcl\npacker {\n  required_plugins {\n    ncloud = {\n      source  = \"github.com/hashicorp/ncloud\"\n      version = \"~> 1\"\n    }\n  }\n}\n```\n\nAlternatively, you can use `packer plugins install` to manage installation of this plugin.\n\n```sh\n$ packer plugins install github.com/hashicorp/ncloud\n```\n\n### Components\n\n#### Builders\n\n- [ncloud](/packer/integrations/hashicorp/ncloud/latest/components/builder/ncloud) - The `ncloud` builder allows you to create server images using the\n  [NAVER Cloud Platform](https://www.ncloud.com/).\n","created_at":"2023-11-01T09:23:01.773Z","updated_at":"2023-11-01T09:23:01.773Z","components":[{"id":"613e3f7e-5de5-4c9f-82bf-05f6353ed353","integration_release_id":"f52fdd33-de34-47cb-862d-21dfc22ca741","component_id":"36076511-3ced-4faf-addf-101fce0405ff","readme":"Type: `ncloud`\nArtifact BuilderId: `ncloud.server.image`\n\nThe `ncloud` builder allows you to create server images using the [NAVER Cloud\nPlatform](https://www.ncloud.com/).\n\n## Configuration Reference\n\n### Required:\n\n<!-- Code generated from the comments of the Config struct in builder/ncloud/config.go; DO NOT EDIT MANUALLY -->\n\n- `access_key` (string) - User's access key. Go to [\\[Account Management &gt; Authentication Key\\]](https://www.ncloud.com/mypage/manage/authkey) to create and view your authentication key.\n\n- `secret_key` (string) - User's secret key paired with the access key. Go to [\\[Account Management &gt; Authentication Key\\]](https://www.ncloud.com/mypage/manage/authkey) to create and view your authentication key.\n\n- `server_image_product_code` (string) - Product code of an image to create.\n  (member_server_image_no is required if not specified)\n\n<!-- End of code generated from the comments of the Config struct in builder/ncloud/config.go; -->\n\n\n### Optional:\n\n<!-- Code generated from the comments of the Config struct in builder/ncloud/config.go; DO NOT EDIT MANUALLY -->\n\n- `server_product_code` (string) - Product (spec) code to create.\n\n- `support_vpc` (bool) - Whether to use VPC without specific vpc or subnet. Packer will try find public subnet in entire vpc if you set this value `true`.\n  (You are required to least one three parameters if u want using VPC environment: `support_vpc` or `vpc_no` or `subnet_no`)\n\n- `vpc_no` (string) - The ID of the VPC where you want to place the Server Instance. If this field is left blank, Packer will try to get the VPC ID from the `subnet_no` or exists public subnet.\n  (You are required to least one three parameters if u want using VPC environment: `support_vpc` or `vpc_no` or `subnet_no`)\n\n- `subnet_no` (string) - The ID of the Subnet where you want to place the Server Instance. This field is required if you are using an specific subnets.\n  (You are required to least one three parameters if u want using VPC environment: `support_vpc` or `vpc_no` or `subnet_no`)\n\n- `member_server_image_no` (string) - Previous image code. If there is an\n  image previously created, it can be used to create a new image.\n  (server_image_product_code is required if not specified)\n\n- `server_image_name` (string) - Name of an image to create.\n\n- `server_image_description` (string) - Description of an image to create.\n\n- `block_storage_size` (int) - You can add block storage ranging from 10GB to 2000 GB, in increments of 10 GB.\n\n- `access_control_group_no` (string) - This is used to allow\n  winrm access when you create a Windows server. An ACG that specifies an\n  access source (0.0.0.0/0) and allowed port (5985) must be created in\n  advance if you use CLASSIC env. If this field is left blank,\n  Packer will create temporary ACG for automatically in VPC environment.\n\n- `user_data` (string) - User data to apply when launching the instance. Note\n  that you need to be careful about escaping characters due to the templates\n  being JSON. It is often more convenient to use user_data_file, instead.\n  Packer will not automatically wait for a user script to finish before\n  shutting down the instance this must be handled in a provisioner.\n\n- `user_data_file` (string) - Path to a file that will be used for the user\n  data when launching the instance.\n\n- `region` (string) - The name of the region where you want to create an image. Such as `Korea`. To be deprecated\n\n- `region_code` (string) - The code of the region where you want to create an image. Such as KR.\n  (pub or gov default: KR) (fin default: FKR)\n\n- `site` (string) - The ncloud site. Available sites are public(`www.ncloud.com`), gov(`www.gov-ncloud.com`) and fin(`www.fin-ncloud.com`) (default: public)\n  - values: public / gov / fin\n\n<!-- End of code generated from the comments of the Config struct in builder/ncloud/config.go; -->\n\n\n## Basic Example\n\nHere is a basic example for windows server.\n\n**HCL2**\n\n```hcl\nvariable \"access_key\" {\n  type    = string\n  # default = \"your_access_key\"\n}\n\nvariable \"secret_key\" {\n  type    = string\n  # default = \"your_secret_key\"\n}\n\nlocals {\n  timestamp = regex_replace(timestamp(), \"[- TZ:]\", \"\")\n}\n\nsource \"ncloud\" \"example-windows\" {\n  access_key                            = \"${var.access_key}\"\n  secret_key                            = \"${var.secret_key}\"\n  server_image_product_code             = \"SW.VSVR.OS.WND64.WND.SVR2016EN.B100\" // for VPC environment.\n  # server_image_product_code           = \"SPSW0WINNTEN0016\"  // for CLASSIC environment.\n  server_image_name                     = \"packer-${local.timestamp}\"\n  server_image_description              = \"server image description\"\n  user_data                             = \"CreateObject(\\\"WScript.Shell\\\").run(\\\"cmd.exe /c powershell Set-ExecutionPolicy RemoteSigned & winrm quickconfig -q & sc config WinRM start= auto & winrm set winrm/config/service/auth @{Basic=\\\"\\\"true\\\"\\\"} & winrm set winrm/config/service @{AllowUnencrypted=\\\"\\\"true\\\"\\\"} & winrm get winrm/config/service\\\")\"\n  region_code                           = \"KR\"\n  support_vpc                           = true // Remove this if you use CLASSIC environment.\n  # vpc_no                                = \"{{YOUR_VPC_ID}}\" // Remove this if you use CLASSIC environment.\n  # subnet_no                             = \"{{YOUR_SUBNET_ID}}\" // Remove this if you use CLASSIC environment.\n  communicator                          = \"winrm\"\n  winrm_username                        = \"Administrator\"\n  # access_control_group_no             = \"{{YOUR_ACG_ID}}\" // Specific ACG ID allowed port (5985) if you use CLASSIC environment.\n  # site                                = \"fin\" or \"gov\" // if you use FINANCE or GOVERNMENT environment\n}\n\nbuild {\n  sources = [\"source.ncloud.example-windows\"]\n\n  provisioner \"powershell\" {\n    inline = [\n      \"Write-Output 1,2,3 | Measure-Object\"\n    ]\n  }\n}\n```\n\n**JSON**\n\n```json\n{\n  \"variables\": {\n    \"ncloud_access_key\": \"{{env `NCLOUD_ACCESS_KEY`}}\",\n    \"ncloud_secret_key\": \"{{env `NCLOUD_SECRET_KEY`}}\"\n  },\n  \"builders\": [\n    {\n      \"type\": \"ncloud\",\n      \"access_key\": \"{{user `ncloud_access_key`}}\",\n      \"secret_key\": \"{{user `ncloud_secret_key`}}\",\n      \"server_image_product_code\": \"SPSW0WINNTEN0016\",\n      \"server_image_name\": \"packer-test {{timestamp}}\",\n      \"server_image_description\": \"server description\",\n      \"user_data\": \"CreateObject(\\\"WScript.Shell\\\").run(\\\"cmd.exe /c powershell Set-ExecutionPolicy RemoteSigned & winrm quickconfig -q & sc config WinRM start= auto & winrm set winrm/config/service/auth @{Basic=\\\"\\\"true\\\"\\\"} & winrm set winrm/config/service @{AllowUnencrypted=\\\"\\\"true\\\"\\\"} & winrm get winrm/config/service\\\")\",\n      \"region_code\": \"KR\",\n      \"communicator\": \"winrm\",\n      \"winrm_username\": \"Administrator\"\n    }\n  ],\n  \"provisioners\": [\n    {\n      \"type\": \"powershell\",\n      \"inline\": [\"Write-Output 1,2,3 | Measure-Object\"]\n    }\n  ]\n}\n```\n\n\n-> **Warning:** Please note that if you're setting up WinRM for provisioning, you'll probably want to turn it off or restrict its permissions as part of a shutdown script at the end of Packer's provisioning process. For more details on the why/how, check out this useful blog post and the associated code:\nhttps://cloudywindows.io/post/winrm-for-provisioning-close-the-door-on-the-way-out-eh/\n\nHere is a basic example for linux server.\n\n**HCL2**\n\n```hcl\nvariable \"access_key\" {\n  type    = string\n  # default = \"your_access_key\"\n}\n\nvariable \"secret_key\" {\n  type    = string\n  # default = \"your_secret_key\"\n}\n\nlocals {\n  timestamp = regex_replace(timestamp(), \"[- TZ:]\", \"\")\n}\n\nsource \"ncloud\" \"example-linux\" {\n  access_key                = \"${var.access_key}\"\n  secret_key                = \"${var.secret_key}\"\n  server_image_product_code = \"SW.VSVR.OS.LNX64.CNTOS.0708.B050\" // for VPC environment.\n  # server_image_product_code = \"SPSW0LINUX000044\" // for CLASSIC environment.\n  server_image_name         = \"packer-${local.timestamp}\"\n  server_image_description  = \"server image description\"\n  region_code               = \"KR\"\n  support_vpc               = true // Remove this if you use CLASSIC environment.\n  # vpc_no                    = \"{{YOUR_VPC_ID}}\" // Remove this if you use CLASSIC environment.\n  # subnet_no                 = \"{{YOUR_SUBNET_ID}}\" // Remove this if you use CLASSIC environment.\n  communicator              = \"ssh\"\n  ssh_username              = \"root\"\n  # site                    = \"fin\" or \"gov\" // if you use FINANCE or GOVERNMENT environment\n}\n\nbuild {\n  sources = [\"source.ncloud.example-linux\"]\n\n  provisioner \"shell\" {\n    inline = [\n      \"echo Connected via SSM at '${build.User}@${build.Host}:${build.Port}'\"\n    ]\n  }\n}\n```\n\n**JSON**\n\n```json\n{\n  \"variables\": {\n    \"ncloud_access_key\": \"{{env `NCLOUD_ACCESS_KEY`}}\",\n    \"ncloud_secret_key\": \"{{env `NCLOUD_SECRET_KEY`}}\"\n  },\n  \"builders\": [\n    {\n      \"type\": \"ncloud\",\n      \"access_key\": \"{{user `ncloud_access_key`}}\",\n      \"secret_key\": \"{{user `ncloud_secret_key`}}\",\n      \"server_image_product_code\": \"SPSW0LINUX000044\",\n      \"server_image_name\": \"packer-test {{timestamp}}\",\n      \"server_image_description\": \"server description\",\n      \"region_code\": \"KR\",\n      \"communicator\": \"ssh\",\n      \"ssh_username\": \"root\"\n    }\n  ],\n  \"provisioners\": [\n    {\n      \"type\": \"shell\",\n      \"inline\": [\n        \"echo Connected via SSM at '${build.User}@${build.Host}:${build.Port}'\"\n      ]\n    }\n  ]\n}\n```\n\n\n## Requirements for creating Windows images\n\nYou should include the following code in the Packer configuration file for\nprovision when creating a Windows server.\n\n```json\n  \"builders\": [\n    {\n      \"type\": \"ncloud\",\n      ...\n      \"user_data\":\n        \"CreateObject(\\\"WScript.Shell\\\").run(\\\"cmd.exe /c powershell Set-ExecutionPolicy RemoteSigned & winrm set winrm/config/service/auth @{Basic=\\\"\\\"true\\\"\\\"} & winrm set winrm/config/service @{AllowUnencrypted=\\\"\\\"true\\\"\\\"} & winrm quickconfig -q & sc config WinRM start= auto & winrm get winrm/config/service\\\")\",\n      \"communicator\": \"winrm\",\n      \"winrm_username\": \"Administrator\"\n    }\n  ],\n  \"provisioners\": [\n    {\n      \"type\": \"powershell\",\n      \"inline\": [\n        \"$Env:SystemRoot\\\\System32\\\\Sysprep\\\\Sysprep.exe /oobe /generalize /shutdown /quiet /mode:vm \\\"/unattend:C:\\\\Program Files (x86)\\\\NBP\\\\nserver64.xml\\\" \"\n      ]\n    }\n  ]\n```\n\n## Note\n\n- You can only create as many public IP addresses as the number of server\n  instances you own. Before running Packer, please make sure that the number\n  of public IP addresses previously created is not larger than the number of\n  server instances (including those to be used to create server images).\n- When you forcibly terminate the Packer process or close the terminal\n  (command) window where the process is running, the resources may not be\n  cleaned up as the Packer process no longer runs. In this case, you should\n  manually clean up the resources associated with the process.\n","created_at":"2023-11-01T09:23:02.071Z","updated_at":"2023-11-01T09:23:02.071Z","name":"Naver Cloud Platform","slug":"ncloud","component":{"id":"36076511-3ced-4faf-addf-101fce0405ff","slug":"builder","name":"Builder","plural_name":"Builders","product_id":"4c2b00c6-7cc1-4e4c-b596-4ab57e319f21","created_at":"2022-11-09T22:56:30.937Z","updated_at":"2022-11-09T22:56:30.937Z"},"variable_groups":[]}]},"breadcrumbLinks":[{"title":"Developer","url":"/"},{"title":"Packer","url":"/packer"},{"title":"Integrations","url":"/packer/integrations"},{"title":"Naver Cloud","url":"/packer/integrations/hashicorp/ncloud","isCurrentPage":true}],"anchorLinks":[{"id":"installation","level":3,"title":"Installation"},{"id":"components","level":3,"title":"Components"},{"id":"builders","level":4,"title":"Builders"}],"serializedREADME":{"compiledSource":"const layoutProps={};const MDXLayout=\"wrapper\";function MDXContent({components,...props}){return mdx(MDXLayout,{...layoutProps,...props,components:components,mdxType:\"MDXLayout\"},mdx(\"p\",{\"className\":\"g-type-long-body\"},`The ncloud plugin allows you to create custom images on the NAVER Cloud Platform.`),mdx(\"h3\",{\"id\":\"user-content-installation\",\"data-text-content\":\"Installation\",\"className\":\"g-type-display-4\"},`Installation`),mdx(\"p\",{\"className\":\"g-type-long-body\"},`To install this plugin, copy and paste this code into your Packer configuration, then run `,mdx(\"a\",{parentName:\"p\",\"href\":\"https://www.packer.io/docs/commands/init\"},mdx(\"inlineCode\",{parentName:\"a\"},`packer init`)),`.`),mdx(\"pre\",{\"className\":\"language-hcl\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-hcl\"},mdx(\"span\",{parentName:\"code\",\"className\":\"token keyword\"},`packer`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`{`),`\n`,`  `,mdx(\"span\",{parentName:\"code\",\"className\":\"token keyword\"},`required_plugins`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`{`),`\n`,`    `,mdx(\"span\",{parentName:\"code\",\"className\":\"token property\"},`ncloud`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`=`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`{`),`\n`,`      `,mdx(\"span\",{parentName:\"code\",\"className\":\"token property\"},`source`),`  `,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`=`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token string\"},`\"github.com/hashicorp/ncloud\"`),`\n`,`      `,mdx(\"span\",{parentName:\"code\",\"className\":\"token property\"},`version`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`=`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token string\"},`\"~> 1\"`),`\n`,`    `,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`}`),`\n`,`  `,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`}`),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`}`),`\n`)),mdx(\"p\",{\"className\":\"g-type-long-body\"},`Alternatively, you can use `,mdx(\"inlineCode\",{parentName:\"p\"},`packer plugins install`),` to manage installation of this plugin.`),mdx(\"pre\",{\"className\":\"language-sh\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-sh\"},`$ packer plugins install github.com/hashicorp/ncloud`,`\n`)),mdx(\"h3\",{\"id\":\"user-content-components\",\"data-text-content\":\"Components\",\"className\":\"g-type-display-4\"},`Components`),mdx(\"h4\",{\"id\":\"user-content-builders\",\"data-text-content\":\"Builders\",\"className\":\"g-type-display-5\"},`Builders`),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"href\":\"/packer/integrations/hashicorp/ncloud/latest/components/builder/ncloud\"},`ncloud`),` - The `,mdx(\"inlineCode\",{parentName:\"li\"},`ncloud`),` builder allows you to create server images using the\n`,mdx(\"a\",{parentName:\"li\",\"href\":\"https://www.ncloud.com/\"},`NAVER Cloud Platform`),`.`)))};MDXContent.isMDXComponent=true;","scope":{}}},"__N_SSG":true}