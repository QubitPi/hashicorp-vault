{"pageProps":{"metadata":{"title":"Tencent Cloud Builder | Integrations"},"product":{"name":"Packer","slug":"packer","algoliaConfig":{"indexName":"product_PACKER","searchOnlyApiKey":"4e1ea7f4bf4335ac43d9f28463e42148"},"analyticsConfig":{"includedDomains":"packer.io www.packer.io","segmentWriteKey":"AjXdfmTTk1I9q9dfyePuDFHBrz1tCO3l"},"datoToken":"88b4984480dad56295a8aadae6caad","metadata":{"title":"Packer by HashiCorp","description":"Packer helps you create golden images for multiple platforms from a single source configuration.","image":"https://www.packer.io/packer-public/img/og-image.png","icon":[{"href":"/packer-public/_favicon.ico"}]},"alertBannerActive":true,"alertBanner":{"tag":"HashiDays","url":"https://hashicorp.com/conferences/hashidays","text":"One conference. Three cities.","linkText":"Find a city near you","expirationDate":"2024-06-14T00:00:00-08:00"},"version":"1.7.10","basePaths":["docs","guides","intro","downloads"],"rootDocsPaths":[{"iconName":"docs","name":"Documentation","path":"docs"},{"iconName":"guide","name":"Guides","path":"guides"}],"integrationsConfig":{"description":"A curated collection of official, partner, and community Packer Integrations."}},"integration":{"id":"f5a33c74-3785-47fb-a601-086bac451cf7","slug":"tencentcloud","name":"Tencent Cloud","description":"The Tencent Cloud plugin provides the capability to build customized images based on an existing base images.","license_type":null,"license_url":null,"external_only":false,"external_url":null,"tier":"community","repo_url":"https://github.com/hashicorp/packer-plugin-tencentcloud","subdirectory":"/.web-docs","created_at":"2023-06-15T19:03:05.978Z","updated_at":"2023-08-29T15:03:58.759Z","hide_versions":false,"organization":{"id":"a4a0551a-1451-4d89-9f56-8031c8350c77","slug":"hashicorp","created_at":"2022-11-09T22:56:32.391Z","updated_at":"2022-11-09T22:56:32.391Z"},"product":{"id":"4c2b00c6-7cc1-4e4c-b596-4ab57e319f21","slug":"packer","name":"Packer","created_at":"2022-11-09T22:56:29.896Z","updated_at":"2022-11-09T22:56:29.896Z"},"versions":["1.2.0","1.1.1","1.1.0","1.0.6"],"components":[{"id":"36076511-3ced-4faf-addf-101fce0405ff","slug":"builder","name":"Builder","plural_name":"Builders"}],"flags":[],"integration_type":null},"activeRelease":{"id":"c90714a4-2f30-44e1-924a-b60a0eb86034","integration_id":"f5a33c74-3785-47fb-a601-086bac451cf7","version":"1.2.0","readme":"The Tencent Cloud plugin provides the capability to build customized images based on an existing base images.\n\n### Installation\nTo install this plugin add this code into your Packer configuration and run [packer init](/packer/docs/commands/init)\n```hcl\npacker {\n  required_plugins {\n    tencentcloud = {\n      version = \"~> 1\"\n      source  = \"github.com/hashicorp/tencentcloud\"\n    }\n  }\n}\n```\n\nAlternatively, you can use `packer plugins install` to manage installation of this plugin.\n\n```sh\npacker plugins install github.com/hashicorp/tencentcloud\n```\n\n### Components\n\n#### Builders\n- [tencentcloud-cvm](/packer/integrations/hashicorp/tencentcloud/latest/components/builder/cvm) - The `tencentcloud-cvm` builder plugin provides the capability to build customized images based on an existing base images.\n","created_at":"2024-04-16T14:42:04.769Z","updated_at":"2024-04-16T14:42:04.769Z","components":[{"id":"6d10d1a2-9e63-4e5c-8b71-d0eb4c30e453","integration_release_id":"c90714a4-2f30-44e1-924a-b60a0eb86034","component_id":"36076511-3ced-4faf-addf-101fce0405ff","readme":"Type: `tencentcloud-cvm`\nArtifact BuilderId: `tencent.cloud`\n\nThe `tencentcloud-cvm` Packer builder plugin provide the capability to build\ncustomized images based on an existing base images.\n\n## Configuration Reference\n\nThe following configuration options are available for building Tencentcloud images.\nIn addition to the options listed here,\na [communicator](/packer/docs/templates/legacy_json_templates/communicator) can be configured for this builder.\n\n### Required:\n\n<!-- Code generated from the comments of the TencentCloudAccessConfig struct in builder/tencentcloud/cvm/access_config.go; DO NOT EDIT MANUALLY -->\n\n- `secret_id` (string) - Tencentcloud secret id. You should set it directly,\n  or set the `TENCENTCLOUD_SECRET_ID` environment variable.\n\n- `secret_key` (string) - Tencentcloud secret key. You should set it directly,\n  or set the `TENCENTCLOUD_SECRET_KEY` environment variable.\n\n- `region` (string) - The region where your cvm will be launch. You should\n  reference [Region and Zone](https://intl.cloud.tencent.com/document/product/213/6091)\n  for parameter taking.\n\n- `zone` (string) - The zone where your cvm will be launch. You should\n  reference [Region and Zone](https://intl.cloud.tencent.com/document/product/213/6091)\n  for parameter taking.\n\n<!-- End of code generated from the comments of the TencentCloudAccessConfig struct in builder/tencentcloud/cvm/access_config.go; -->\n\n\n<!-- Code generated from the comments of the TencentCloudRunConfig struct in builder/tencentcloud/cvm/run_config.go; DO NOT EDIT MANUALLY -->\n\n- `instance_type` (string) - The instance type your cvm will be launched by.\n  You should reference [Instance Type](https://intl.cloud.tencent.com/document/product/213/11518)\n  for parameter taking.\n\n<!-- End of code generated from the comments of the TencentCloudRunConfig struct in builder/tencentcloud/cvm/run_config.go; -->\n\n\n<!-- Code generated from the comments of the TencentCloudImageConfig struct in builder/tencentcloud/cvm/image_config.go; DO NOT EDIT MANUALLY -->\n\n- `image_name` (string) - The name you want to create your customize image,\n  it should be composed of no more than 60 characters, of letters, numbers\n  or minus sign.\n\n<!-- End of code generated from the comments of the TencentCloudImageConfig struct in builder/tencentcloud/cvm/image_config.go; -->\n\n\n### Optional:\n\n<!-- Code generated from the comments of the TencentCloudAccessConfig struct in builder/tencentcloud/cvm/access_config.go; DO NOT EDIT MANUALLY -->\n\n- `cvm_endpoint` (string) - The endpoint you want to reach the cloud endpoint,\n  if tce cloud you should set a tce cvm endpoint.\n\n- `vpc_endpoint` (string) - The endpoint you want to reach the cloud endpoint,\n  if tce cloud you should set a tce vpc endpoint.\n\n- `security_token` (string) - STS access token, can be set through template or by exporting\n  as environment variable such as `export TENCENTCLOUD_SECURITY_TOKEN=value`.\n\n- `assume_role` (TencentCloudAccessRole) - The `assume_role` block.\n  If provided, packer will attempt to assume this role using the supplied credentials.\n  - `role_arn` (string) - The ARN of the role to assume.\n    It can be sourced from the `TENCENTCLOUD_ASSUME_ROLE_ARN`.\n  - `session_name` (string) - The session name to use when making the AssumeRole call.\n    It can be sourced from the `TENCENTCLOUD_ASSUME_ROLE_SESSION_NAME`.\n  - `session_duration` (int) - The duration of the session when making the AssumeRole call.\n    Its value ranges from 0 to 43200(seconds), and default is 7200 seconds.\n    It can be sourced from the `TENCENTCLOUD_ASSUME_ROLE_SESSION_DURATION`.\n\n- `profile` (string) - The profile name as set in the shared credentials.\n  It can also be sourced from the `TENCENTCLOUD_PROFILE` environment variable.\n  If not set, the default profile created with `tccli configure` will be used.\n  If not set this defaults to `default`.\n\n- `shared_credentials_dir` (string) - The directory of the shared credentials.\n  It can also be sourced from the `TENCENTCLOUD_SHARED_CREDENTIALS_DIR` environment variable.\n  If not set this defaults to `~/.tccli`.\n\n<!-- End of code generated from the comments of the TencentCloudAccessConfig struct in builder/tencentcloud/cvm/access_config.go; -->\n\n\n<!-- Code generated from the comments of the TencentCloudImageConfig struct in builder/tencentcloud/cvm/image_config.go; DO NOT EDIT MANUALLY -->\n\n- `image_description` (string) - Image description. It should no more than 60 characters.\n\n- `force_poweroff` (bool) - Indicates whether to perform a forced shutdown to\n  create an image when soft shutdown fails. Default value is `false`.\n\n- `sysprep` (bool) - Whether enable Sysprep during creating windows image.\n\n- `image_copy_regions` ([]string) - regions that will be copied to after\n  your image created.\n\n- `image_share_accounts` ([]string) - accounts that will be shared to\n  after your image created.\n\n- `image_tags` (map[string]string) - Key/value pair tags that will be applied to the resulting image.\n\n<!-- End of code generated from the comments of the TencentCloudImageConfig struct in builder/tencentcloud/cvm/image_config.go; -->\n\n\n<!-- Code generated from the comments of the TencentCloudRunConfig struct in builder/tencentcloud/cvm/run_config.go; DO NOT EDIT MANUALLY -->\n\n- `associate_public_ip_address` (bool) - Whether allocate public ip to your cvm.\n  Default value is `false`.\n\n- `source_image_id` (string) - The base image id of Image you want to create\n  your customized image from.\n\n- `source_image_name` (string) - The base image name of Image you want to create your\n  customized image from.Conflict with SourceImageId.\n\n- `instance_charge_type` (string) - Charge type of cvm, values can be `POSTPAID_BY_HOUR` (default) `SPOTPAID`\n\n- `instance_name` (string) - Instance name.\n\n- `disk_type` (string) - Root disk type your cvm will be launched by, default is `CLOUD_PREMIUM`. you could\n  reference [Disk Type](https://intl.cloud.tencent.com/document/product/213/15753#SystemDisk)\n  for parameter taking.\n\n- `disk_size` (int64) - Root disk size your cvm will be launched by. values range(in GB):\n  - LOCAL_BASIC: 50\n  - Other: 50 ~ 1000 (need whitelist if > 50)\n\n- `data_disks` ([]tencentCloudDataDisk) - Add one or more data disks to the instance before creating the image.\n  Note that if the source image has data disk snapshots, this argument\n  will be ignored, and the running instance will use source image data\n  disk settings, in such case, `disk_type` argument will be used as disk\n  type for all data disks, and each data disk size will use the origin\n  value in source image.\n  The data disks allow for the following argument:\n  -  `disk_type` - Type of the data disk. Valid choices: `CLOUD_BASIC`, `CLOUD_PREMIUM` and `CLOUD_SSD`.\n  -  `disk_size` - Size of the data disk.\n  -  `disk_snapshot_id` - Id of the snapshot for a data disk.\n\n- `vpc_id` (string) - Specify vpc your cvm will be launched by.\n\n- `vpc_name` (string) - Specify vpc name you will create. if `vpc_id` is not set, Packer will\n  create a vpc for you named this parameter.\n\n- `subnet_id` (string) - Specify subnet your cvm will be launched by.\n\n- `subnet_name` (string) - Specify subnet name you will create. if `subnet_id` is not set, Packer will\n  create a subnet for you named this parameter.\n\n- `cidr_block` (string) - Specify cider block of the vpc you will create if vpc_id not set\n\n- `subnect_cidr_block` (string) - Specify cider block of the subnet you will create if\n  subnet_id not set\n\n- `internet_charge_type` (string) - Internet charge type of cvm, values can be TRAFFIC_POSTPAID_BY_HOUR, BANDWIDTH_POSTPAID_BY_HOUR, BANDWIDTH_PACKAGE\n\n- `internet_max_bandwidth_out` (int64) - Max bandwidth out your cvm will be launched by(in MB).\n  values can be set between 1 ~ 100.\n\n- `bandwidth_package_id` (string) - When internet_charge_type is BANDWIDTH_PACKAGE, bandwidth_package_id is required\n\n- `security_group_id` (string) - Specify securitygroup your cvm will be launched by.\n\n- `security_group_name` (string) - Specify security name you will create if security_group_id not set.\n\n- `user_data` (string) - userdata.\n\n- `user_data_file` (string) - userdata file.\n\n- `host_name` (string) - host name.\n\n- `cam_role_name` (string) - CAM role name.\n\n- `run_tags` (map[string]string) - Tags to apply to the instance that is _launched_ to create the image.\n  These tags are _not_ applied to the resulting image.\n\n- `run_tag` ([]{key string, value string}) - Same as [`run_tags`](#run_tags) but defined as a singular repeatable\n  block containing a `key` and a `value` field. In HCL2 mode the\n  [`dynamic_block`](/packer/docs/templates/hcl_templates/expressions#dynamic-blocks)\n  will allow you to create those programatically.\n\n- `ssh_private_ip` (bool) - SSH Private Ip\n\n<!-- End of code generated from the comments of the TencentCloudRunConfig struct in builder/tencentcloud/cvm/run_config.go; -->\n\n\n### Communicator Configuration\n\nIn addition to the above options, a communicator can be configured\nfor this builder.\n\n#### Optional:\n\n<!-- Code generated from the comments of the Config struct in communicator/config.go; DO NOT EDIT MANUALLY -->\n\n- `communicator` (string) - Packer currently supports three kinds of communicators:\n  \n  -   `none` - No communicator will be used. If this is set, most\n      provisioners also can't be used.\n  \n  -   `ssh` - An SSH connection will be established to the machine. This\n      is usually the default.\n  \n  -   `winrm` - A WinRM connection will be established.\n  \n  In addition to the above, some builders have custom communicators they\n  can use. For example, the Docker builder has a \"docker\" communicator\n  that uses `docker exec` and `docker cp` to execute scripts and copy\n  files.\n\n- `pause_before_connecting` (duration string | ex: \"1h5m2s\") - We recommend that you enable SSH or WinRM as the very last step in your\n  guest's bootstrap script, but sometimes you may have a race condition\n  where you need Packer to wait before attempting to connect to your\n  guest.\n  \n  If you end up in this situation, you can use the template option\n  `pause_before_connecting`. By default, there is no pause. For example if\n  you set `pause_before_connecting` to `10m` Packer will check whether it\n  can connect, as normal. But once a connection attempt is successful, it\n  will disconnect and then wait 10 minutes before connecting to the guest\n  and beginning provisioning.\n\n<!-- End of code generated from the comments of the Config struct in communicator/config.go; -->\n\n\n<!-- Code generated from the comments of the SSH struct in communicator/config.go; DO NOT EDIT MANUALLY -->\n\n- `ssh_host` (string) - The address to SSH to. This usually is automatically configured by the\n  builder.\n\n- `ssh_port` (int) - The port to connect to SSH. This defaults to `22`.\n\n- `ssh_username` (string) - The username to connect to SSH with. Required if using SSH.\n\n- `ssh_password` (string) - A plaintext password to use to authenticate with SSH.\n\n- `ssh_ciphers` ([]string) - This overrides the value of ciphers supported by default by Golang.\n  The default value is [\n    \"aes128-gcm@openssh.com\",\n    \"chacha20-poly1305@openssh.com\",\n    \"aes128-ctr\", \"aes192-ctr\", \"aes256-ctr\",\n  ]\n  \n  Valid options for ciphers include:\n  \"aes128-ctr\", \"aes192-ctr\", \"aes256-ctr\", \"aes128-gcm@openssh.com\",\n  \"chacha20-poly1305@openssh.com\",\n  \"arcfour256\", \"arcfour128\", \"arcfour\", \"aes128-cbc\", \"3des-cbc\",\n\n- `ssh_clear_authorized_keys` (bool) - If true, Packer will attempt to remove its temporary key from\n  `~/.ssh/authorized_keys` and `/root/.ssh/authorized_keys`. This is a\n  mostly cosmetic option, since Packer will delete the temporary private\n  key from the host system regardless of whether this is set to true\n  (unless the user has set the `-debug` flag). Defaults to \"false\";\n  currently only works on guests with `sed` installed.\n\n- `ssh_key_exchange_algorithms` ([]string) - If set, Packer will override the value of key exchange (kex) algorithms\n  supported by default by Golang. Acceptable values include:\n  \"curve25519-sha256@libssh.org\", \"ecdh-sha2-nistp256\",\n  \"ecdh-sha2-nistp384\", \"ecdh-sha2-nistp521\",\n  \"diffie-hellman-group14-sha1\", and \"diffie-hellman-group1-sha1\".\n\n- `ssh_certificate_file` (string) - Path to user certificate used to authenticate with SSH.\n  The `~` can be used in path and will be expanded to the\n  home directory of current user.\n\n- `ssh_pty` (bool) - If `true`, a PTY will be requested for the SSH connection. This defaults\n  to `false`.\n\n- `ssh_timeout` (duration string | ex: \"1h5m2s\") - The time to wait for SSH to become available. Packer uses this to\n  determine when the machine has booted so this is usually quite long.\n  Example value: `10m`.\n  This defaults to `5m`, unless `ssh_handshake_attempts` is set.\n\n- `ssh_disable_agent_forwarding` (bool) - If true, SSH agent forwarding will be disabled. Defaults to `false`.\n\n- `ssh_handshake_attempts` (int) - The number of handshakes to attempt with SSH once it can connect.\n  This defaults to `10`, unless a `ssh_timeout` is set.\n\n- `ssh_bastion_host` (string) - A bastion host to use for the actual SSH connection.\n\n- `ssh_bastion_port` (int) - The port of the bastion host. Defaults to `22`.\n\n- `ssh_bastion_agent_auth` (bool) - If `true`, the local SSH agent will be used to authenticate with the\n  bastion host. Defaults to `false`.\n\n- `ssh_bastion_username` (string) - The username to connect to the bastion host.\n\n- `ssh_bastion_password` (string) - The password to use to authenticate with the bastion host.\n\n- `ssh_bastion_interactive` (bool) - If `true`, the keyboard-interactive used to authenticate with bastion host.\n\n- `ssh_bastion_private_key_file` (string) - Path to a PEM encoded private key file to use to authenticate with the\n  bastion host. The `~` can be used in path and will be expanded to the\n  home directory of current user.\n\n- `ssh_bastion_certificate_file` (string) - Path to user certificate used to authenticate with bastion host.\n  The `~` can be used in path and will be expanded to the\n  home directory of current user.\n\n- `ssh_file_transfer_method` (string) - `scp` or `sftp` - How to transfer files, Secure copy (default) or SSH\n  File Transfer Protocol.\n  \n  **NOTE**: Guests using Windows with Win32-OpenSSH v9.1.0.0p1-Beta, scp\n  (the default protocol for copying data) returns a a non-zero error code since the MOTW\n  cannot be set, which cause any file transfer to fail. As a workaround you can override the transfer protocol\n  with SFTP instead `ssh_file_transfer_protocol = \"sftp\"`.\n\n- `ssh_proxy_host` (string) - A SOCKS proxy host to use for SSH connection\n\n- `ssh_proxy_port` (int) - A port of the SOCKS proxy. Defaults to `1080`.\n\n- `ssh_proxy_username` (string) - The optional username to authenticate with the proxy server.\n\n- `ssh_proxy_password` (string) - The optional password to use to authenticate with the proxy server.\n\n- `ssh_keep_alive_interval` (duration string | ex: \"1h5m2s\") - How often to send \"keep alive\" messages to the server. Set to a negative\n  value (`-1s`) to disable. Example value: `10s`. Defaults to `5s`.\n\n- `ssh_read_write_timeout` (duration string | ex: \"1h5m2s\") - The amount of time to wait for a remote command to end. This might be\n  useful if, for example, packer hangs on a connection after a reboot.\n  Example: `5m`. Disabled by default.\n\n- `ssh_remote_tunnels` ([]string) - \n\n- `ssh_local_tunnels` ([]string) - \n\n<!-- End of code generated from the comments of the SSH struct in communicator/config.go; -->\n\n\n<!-- Code generated from the comments of the SSHTemporaryKeyPair struct in communicator/config.go; DO NOT EDIT MANUALLY -->\n\n- `temporary_key_pair_type` (string) - `dsa` | `ecdsa` | `ed25519` | `rsa` ( the default )\n  \n  Specifies the type of key to create. The possible values are 'dsa',\n  'ecdsa', 'ed25519', or 'rsa'.\n  \n  NOTE: DSA is deprecated and no longer recognized as secure, please\n  consider other alternatives like RSA or ED25519.\n\n- `temporary_key_pair_bits` (int) - Specifies the number of bits in the key to create. For RSA keys, the\n  minimum size is 1024 bits and the default is 4096 bits. Generally, 3072\n  bits is considered sufficient. DSA keys must be exactly 1024 bits as\n  specified by FIPS 186-2. For ECDSA keys, bits determines the key length\n  by selecting from one of three elliptic curve sizes: 256, 384 or 521\n  bits. Attempting to use bit lengths other than these three values for\n  ECDSA keys will fail. Ed25519 keys have a fixed length and bits will be\n  ignored.\n  \n  NOTE: DSA is deprecated and no longer recognized as secure as specified\n  by FIPS 186-5, please consider other alternatives like RSA or ED25519.\n\n<!-- End of code generated from the comments of the SSHTemporaryKeyPair struct in communicator/config.go; -->\n\n\n- `ssh_keypair_name` (string) - If specified, this is the key that will be used for SSH with the\n  machine. The key must match a key pair name loaded up into the remote.\n  By default, this is blank, and Packer will generate a temporary keypair\n  unless [`ssh_password`](#ssh_password) is used.\n  [`ssh_private_key_file`](#ssh_private_key_file) or\n  [`ssh_agent_auth`](#ssh_agent_auth) must be specified when\n  [`ssh_keypair_name`](#ssh_keypair_name) is utilized.\n\n\n- `ssh_private_key_file` (string) - Path to a PEM encoded private key file to use to authenticate with SSH.\n  The `~` can be used in path and will be expanded to the home directory\n  of current user.\n\n\n- `ssh_agent_auth` (bool) - If true, the local SSH agent will be used to authenticate connections to\n  the source instance. No temporary keypair will be created, and the\n  values of [`ssh_password`](#ssh_password) and\n  [`ssh_private_key_file`](#ssh_private_key_file) will be ignored. The\n  environment variable `SSH_AUTH_SOCK` must be set for this option to work\n  properly.\n\n\n## Basic Example\n\nHere is a basic example for Tencentcloud.\n\n```json\n{\n  \"variables\": {\n    \"secret_id\": \"{{env `TENCENTCLOUD_SECRET_ID`}}\",\n    \"secret_key\": \"{{env `TENCENTCLOUD_SECRET_KEY`}}\"\n  },\n  \"builders\": [\n    {\n      \"type\": \"tencentcloud-cvm\",\n      \"secret_id\": \"{{user `secret_id`}}\",\n      \"secret_key\": \"{{user `secret_key`}}\",\n      \"region\": \"ap-guangzhou\",\n      \"zone\": \"ap-guangzhou-4\",\n      \"instance_type\": \"S4.SMALL1\",\n      \"source_image_id\": \"img-oikl1tzv\",\n      \"ssh_username\": \"root\",\n      \"image_name\": \"PackerTest\",\n      \"disk_type\": \"CLOUD_PREMIUM\",\n      \"packer_debug\": true,\n      \"associate_public_ip_address\": true,\n      \"run_tags\": {\n        \"good\": \"luck\"\n      }\n    }\n  ],\n  \"provisioners\": [\n    {\n      \"type\": \"shell\",\n      \"inline\": [\"sleep 30\", \"yum install redis.x86_64 -y\"]\n    }\n  ]\n}\n```\n\nSee the\n[examples/tencentcloud](https://github.com/hashicorp/packer-plugin-tencentcloud/tree/master/builder/tencentcloud/examples)\nfolder in the Packer project for more examples.\n","created_at":"2024-04-16T14:42:05.601Z","updated_at":"2024-04-16T14:42:05.601Z","name":"Tencent Cloud Builder","slug":"cvm","component":{"id":"36076511-3ced-4faf-addf-101fce0405ff","slug":"builder","name":"Builder","plural_name":"Builders","product_id":"4c2b00c6-7cc1-4e4c-b596-4ab57e319f21","created_at":"2022-11-09T22:56:30.937Z","updated_at":"2022-11-09T22:56:30.937Z"},"variable_groups":[]}]},"component":{"id":"6d10d1a2-9e63-4e5c-8b71-d0eb4c30e453","integration_release_id":"c90714a4-2f30-44e1-924a-b60a0eb86034","component_id":"36076511-3ced-4faf-addf-101fce0405ff","readme":"Type: `tencentcloud-cvm`\nArtifact BuilderId: `tencent.cloud`\n\nThe `tencentcloud-cvm` Packer builder plugin provide the capability to build\ncustomized images based on an existing base images.\n\n## Configuration Reference\n\nThe following configuration options are available for building Tencentcloud images.\nIn addition to the options listed here,\na [communicator](/packer/docs/templates/legacy_json_templates/communicator) can be configured for this builder.\n\n### Required:\n\n<!-- Code generated from the comments of the TencentCloudAccessConfig struct in builder/tencentcloud/cvm/access_config.go; DO NOT EDIT MANUALLY -->\n\n- `secret_id` (string) - Tencentcloud secret id. You should set it directly,\n  or set the `TENCENTCLOUD_SECRET_ID` environment variable.\n\n- `secret_key` (string) - Tencentcloud secret key. You should set it directly,\n  or set the `TENCENTCLOUD_SECRET_KEY` environment variable.\n\n- `region` (string) - The region where your cvm will be launch. You should\n  reference [Region and Zone](https://intl.cloud.tencent.com/document/product/213/6091)\n  for parameter taking.\n\n- `zone` (string) - The zone where your cvm will be launch. You should\n  reference [Region and Zone](https://intl.cloud.tencent.com/document/product/213/6091)\n  for parameter taking.\n\n<!-- End of code generated from the comments of the TencentCloudAccessConfig struct in builder/tencentcloud/cvm/access_config.go; -->\n\n\n<!-- Code generated from the comments of the TencentCloudRunConfig struct in builder/tencentcloud/cvm/run_config.go; DO NOT EDIT MANUALLY -->\n\n- `instance_type` (string) - The instance type your cvm will be launched by.\n  You should reference [Instance Type](https://intl.cloud.tencent.com/document/product/213/11518)\n  for parameter taking.\n\n<!-- End of code generated from the comments of the TencentCloudRunConfig struct in builder/tencentcloud/cvm/run_config.go; -->\n\n\n<!-- Code generated from the comments of the TencentCloudImageConfig struct in builder/tencentcloud/cvm/image_config.go; DO NOT EDIT MANUALLY -->\n\n- `image_name` (string) - The name you want to create your customize image,\n  it should be composed of no more than 60 characters, of letters, numbers\n  or minus sign.\n\n<!-- End of code generated from the comments of the TencentCloudImageConfig struct in builder/tencentcloud/cvm/image_config.go; -->\n\n\n### Optional:\n\n<!-- Code generated from the comments of the TencentCloudAccessConfig struct in builder/tencentcloud/cvm/access_config.go; DO NOT EDIT MANUALLY -->\n\n- `cvm_endpoint` (string) - The endpoint you want to reach the cloud endpoint,\n  if tce cloud you should set a tce cvm endpoint.\n\n- `vpc_endpoint` (string) - The endpoint you want to reach the cloud endpoint,\n  if tce cloud you should set a tce vpc endpoint.\n\n- `security_token` (string) - STS access token, can be set through template or by exporting\n  as environment variable such as `export TENCENTCLOUD_SECURITY_TOKEN=value`.\n\n- `assume_role` (TencentCloudAccessRole) - The `assume_role` block.\n  If provided, packer will attempt to assume this role using the supplied credentials.\n  - `role_arn` (string) - The ARN of the role to assume.\n    It can be sourced from the `TENCENTCLOUD_ASSUME_ROLE_ARN`.\n  - `session_name` (string) - The session name to use when making the AssumeRole call.\n    It can be sourced from the `TENCENTCLOUD_ASSUME_ROLE_SESSION_NAME`.\n  - `session_duration` (int) - The duration of the session when making the AssumeRole call.\n    Its value ranges from 0 to 43200(seconds), and default is 7200 seconds.\n    It can be sourced from the `TENCENTCLOUD_ASSUME_ROLE_SESSION_DURATION`.\n\n- `profile` (string) - The profile name as set in the shared credentials.\n  It can also be sourced from the `TENCENTCLOUD_PROFILE` environment variable.\n  If not set, the default profile created with `tccli configure` will be used.\n  If not set this defaults to `default`.\n\n- `shared_credentials_dir` (string) - The directory of the shared credentials.\n  It can also be sourced from the `TENCENTCLOUD_SHARED_CREDENTIALS_DIR` environment variable.\n  If not set this defaults to `~/.tccli`.\n\n<!-- End of code generated from the comments of the TencentCloudAccessConfig struct in builder/tencentcloud/cvm/access_config.go; -->\n\n\n<!-- Code generated from the comments of the TencentCloudImageConfig struct in builder/tencentcloud/cvm/image_config.go; DO NOT EDIT MANUALLY -->\n\n- `image_description` (string) - Image description. It should no more than 60 characters.\n\n- `force_poweroff` (bool) - Indicates whether to perform a forced shutdown to\n  create an image when soft shutdown fails. Default value is `false`.\n\n- `sysprep` (bool) - Whether enable Sysprep during creating windows image.\n\n- `image_copy_regions` ([]string) - regions that will be copied to after\n  your image created.\n\n- `image_share_accounts` ([]string) - accounts that will be shared to\n  after your image created.\n\n- `image_tags` (map[string]string) - Key/value pair tags that will be applied to the resulting image.\n\n<!-- End of code generated from the comments of the TencentCloudImageConfig struct in builder/tencentcloud/cvm/image_config.go; -->\n\n\n<!-- Code generated from the comments of the TencentCloudRunConfig struct in builder/tencentcloud/cvm/run_config.go; DO NOT EDIT MANUALLY -->\n\n- `associate_public_ip_address` (bool) - Whether allocate public ip to your cvm.\n  Default value is `false`.\n\n- `source_image_id` (string) - The base image id of Image you want to create\n  your customized image from.\n\n- `source_image_name` (string) - The base image name of Image you want to create your\n  customized image from.Conflict with SourceImageId.\n\n- `instance_charge_type` (string) - Charge type of cvm, values can be `POSTPAID_BY_HOUR` (default) `SPOTPAID`\n\n- `instance_name` (string) - Instance name.\n\n- `disk_type` (string) - Root disk type your cvm will be launched by, default is `CLOUD_PREMIUM`. you could\n  reference [Disk Type](https://intl.cloud.tencent.com/document/product/213/15753#SystemDisk)\n  for parameter taking.\n\n- `disk_size` (int64) - Root disk size your cvm will be launched by. values range(in GB):\n  - LOCAL_BASIC: 50\n  - Other: 50 ~ 1000 (need whitelist if > 50)\n\n- `data_disks` ([]tencentCloudDataDisk) - Add one or more data disks to the instance before creating the image.\n  Note that if the source image has data disk snapshots, this argument\n  will be ignored, and the running instance will use source image data\n  disk settings, in such case, `disk_type` argument will be used as disk\n  type for all data disks, and each data disk size will use the origin\n  value in source image.\n  The data disks allow for the following argument:\n  -  `disk_type` - Type of the data disk. Valid choices: `CLOUD_BASIC`, `CLOUD_PREMIUM` and `CLOUD_SSD`.\n  -  `disk_size` - Size of the data disk.\n  -  `disk_snapshot_id` - Id of the snapshot for a data disk.\n\n- `vpc_id` (string) - Specify vpc your cvm will be launched by.\n\n- `vpc_name` (string) - Specify vpc name you will create. if `vpc_id` is not set, Packer will\n  create a vpc for you named this parameter.\n\n- `subnet_id` (string) - Specify subnet your cvm will be launched by.\n\n- `subnet_name` (string) - Specify subnet name you will create. if `subnet_id` is not set, Packer will\n  create a subnet for you named this parameter.\n\n- `cidr_block` (string) - Specify cider block of the vpc you will create if vpc_id not set\n\n- `subnect_cidr_block` (string) - Specify cider block of the subnet you will create if\n  subnet_id not set\n\n- `internet_charge_type` (string) - Internet charge type of cvm, values can be TRAFFIC_POSTPAID_BY_HOUR, BANDWIDTH_POSTPAID_BY_HOUR, BANDWIDTH_PACKAGE\n\n- `internet_max_bandwidth_out` (int64) - Max bandwidth out your cvm will be launched by(in MB).\n  values can be set between 1 ~ 100.\n\n- `bandwidth_package_id` (string) - When internet_charge_type is BANDWIDTH_PACKAGE, bandwidth_package_id is required\n\n- `security_group_id` (string) - Specify securitygroup your cvm will be launched by.\n\n- `security_group_name` (string) - Specify security name you will create if security_group_id not set.\n\n- `user_data` (string) - userdata.\n\n- `user_data_file` (string) - userdata file.\n\n- `host_name` (string) - host name.\n\n- `cam_role_name` (string) - CAM role name.\n\n- `run_tags` (map[string]string) - Tags to apply to the instance that is _launched_ to create the image.\n  These tags are _not_ applied to the resulting image.\n\n- `run_tag` ([]{key string, value string}) - Same as [`run_tags`](#run_tags) but defined as a singular repeatable\n  block containing a `key` and a `value` field. In HCL2 mode the\n  [`dynamic_block`](/packer/docs/templates/hcl_templates/expressions#dynamic-blocks)\n  will allow you to create those programatically.\n\n- `ssh_private_ip` (bool) - SSH Private Ip\n\n<!-- End of code generated from the comments of the TencentCloudRunConfig struct in builder/tencentcloud/cvm/run_config.go; -->\n\n\n### Communicator Configuration\n\nIn addition to the above options, a communicator can be configured\nfor this builder.\n\n#### Optional:\n\n<!-- Code generated from the comments of the Config struct in communicator/config.go; DO NOT EDIT MANUALLY -->\n\n- `communicator` (string) - Packer currently supports three kinds of communicators:\n  \n  -   `none` - No communicator will be used. If this is set, most\n      provisioners also can't be used.\n  \n  -   `ssh` - An SSH connection will be established to the machine. This\n      is usually the default.\n  \n  -   `winrm` - A WinRM connection will be established.\n  \n  In addition to the above, some builders have custom communicators they\n  can use. For example, the Docker builder has a \"docker\" communicator\n  that uses `docker exec` and `docker cp` to execute scripts and copy\n  files.\n\n- `pause_before_connecting` (duration string | ex: \"1h5m2s\") - We recommend that you enable SSH or WinRM as the very last step in your\n  guest's bootstrap script, but sometimes you may have a race condition\n  where you need Packer to wait before attempting to connect to your\n  guest.\n  \n  If you end up in this situation, you can use the template option\n  `pause_before_connecting`. By default, there is no pause. For example if\n  you set `pause_before_connecting` to `10m` Packer will check whether it\n  can connect, as normal. But once a connection attempt is successful, it\n  will disconnect and then wait 10 minutes before connecting to the guest\n  and beginning provisioning.\n\n<!-- End of code generated from the comments of the Config struct in communicator/config.go; -->\n\n\n<!-- Code generated from the comments of the SSH struct in communicator/config.go; DO NOT EDIT MANUALLY -->\n\n- `ssh_host` (string) - The address to SSH to. This usually is automatically configured by the\n  builder.\n\n- `ssh_port` (int) - The port to connect to SSH. This defaults to `22`.\n\n- `ssh_username` (string) - The username to connect to SSH with. Required if using SSH.\n\n- `ssh_password` (string) - A plaintext password to use to authenticate with SSH.\n\n- `ssh_ciphers` ([]string) - This overrides the value of ciphers supported by default by Golang.\n  The default value is [\n    \"aes128-gcm@openssh.com\",\n    \"chacha20-poly1305@openssh.com\",\n    \"aes128-ctr\", \"aes192-ctr\", \"aes256-ctr\",\n  ]\n  \n  Valid options for ciphers include:\n  \"aes128-ctr\", \"aes192-ctr\", \"aes256-ctr\", \"aes128-gcm@openssh.com\",\n  \"chacha20-poly1305@openssh.com\",\n  \"arcfour256\", \"arcfour128\", \"arcfour\", \"aes128-cbc\", \"3des-cbc\",\n\n- `ssh_clear_authorized_keys` (bool) - If true, Packer will attempt to remove its temporary key from\n  `~/.ssh/authorized_keys` and `/root/.ssh/authorized_keys`. This is a\n  mostly cosmetic option, since Packer will delete the temporary private\n  key from the host system regardless of whether this is set to true\n  (unless the user has set the `-debug` flag). Defaults to \"false\";\n  currently only works on guests with `sed` installed.\n\n- `ssh_key_exchange_algorithms` ([]string) - If set, Packer will override the value of key exchange (kex) algorithms\n  supported by default by Golang. Acceptable values include:\n  \"curve25519-sha256@libssh.org\", \"ecdh-sha2-nistp256\",\n  \"ecdh-sha2-nistp384\", \"ecdh-sha2-nistp521\",\n  \"diffie-hellman-group14-sha1\", and \"diffie-hellman-group1-sha1\".\n\n- `ssh_certificate_file` (string) - Path to user certificate used to authenticate with SSH.\n  The `~` can be used in path and will be expanded to the\n  home directory of current user.\n\n- `ssh_pty` (bool) - If `true`, a PTY will be requested for the SSH connection. This defaults\n  to `false`.\n\n- `ssh_timeout` (duration string | ex: \"1h5m2s\") - The time to wait for SSH to become available. Packer uses this to\n  determine when the machine has booted so this is usually quite long.\n  Example value: `10m`.\n  This defaults to `5m`, unless `ssh_handshake_attempts` is set.\n\n- `ssh_disable_agent_forwarding` (bool) - If true, SSH agent forwarding will be disabled. Defaults to `false`.\n\n- `ssh_handshake_attempts` (int) - The number of handshakes to attempt with SSH once it can connect.\n  This defaults to `10`, unless a `ssh_timeout` is set.\n\n- `ssh_bastion_host` (string) - A bastion host to use for the actual SSH connection.\n\n- `ssh_bastion_port` (int) - The port of the bastion host. Defaults to `22`.\n\n- `ssh_bastion_agent_auth` (bool) - If `true`, the local SSH agent will be used to authenticate with the\n  bastion host. Defaults to `false`.\n\n- `ssh_bastion_username` (string) - The username to connect to the bastion host.\n\n- `ssh_bastion_password` (string) - The password to use to authenticate with the bastion host.\n\n- `ssh_bastion_interactive` (bool) - If `true`, the keyboard-interactive used to authenticate with bastion host.\n\n- `ssh_bastion_private_key_file` (string) - Path to a PEM encoded private key file to use to authenticate with the\n  bastion host. The `~` can be used in path and will be expanded to the\n  home directory of current user.\n\n- `ssh_bastion_certificate_file` (string) - Path to user certificate used to authenticate with bastion host.\n  The `~` can be used in path and will be expanded to the\n  home directory of current user.\n\n- `ssh_file_transfer_method` (string) - `scp` or `sftp` - How to transfer files, Secure copy (default) or SSH\n  File Transfer Protocol.\n  \n  **NOTE**: Guests using Windows with Win32-OpenSSH v9.1.0.0p1-Beta, scp\n  (the default protocol for copying data) returns a a non-zero error code since the MOTW\n  cannot be set, which cause any file transfer to fail. As a workaround you can override the transfer protocol\n  with SFTP instead `ssh_file_transfer_protocol = \"sftp\"`.\n\n- `ssh_proxy_host` (string) - A SOCKS proxy host to use for SSH connection\n\n- `ssh_proxy_port` (int) - A port of the SOCKS proxy. Defaults to `1080`.\n\n- `ssh_proxy_username` (string) - The optional username to authenticate with the proxy server.\n\n- `ssh_proxy_password` (string) - The optional password to use to authenticate with the proxy server.\n\n- `ssh_keep_alive_interval` (duration string | ex: \"1h5m2s\") - How often to send \"keep alive\" messages to the server. Set to a negative\n  value (`-1s`) to disable. Example value: `10s`. Defaults to `5s`.\n\n- `ssh_read_write_timeout` (duration string | ex: \"1h5m2s\") - The amount of time to wait for a remote command to end. This might be\n  useful if, for example, packer hangs on a connection after a reboot.\n  Example: `5m`. Disabled by default.\n\n- `ssh_remote_tunnels` ([]string) - \n\n- `ssh_local_tunnels` ([]string) - \n\n<!-- End of code generated from the comments of the SSH struct in communicator/config.go; -->\n\n\n<!-- Code generated from the comments of the SSHTemporaryKeyPair struct in communicator/config.go; DO NOT EDIT MANUALLY -->\n\n- `temporary_key_pair_type` (string) - `dsa` | `ecdsa` | `ed25519` | `rsa` ( the default )\n  \n  Specifies the type of key to create. The possible values are 'dsa',\n  'ecdsa', 'ed25519', or 'rsa'.\n  \n  NOTE: DSA is deprecated and no longer recognized as secure, please\n  consider other alternatives like RSA or ED25519.\n\n- `temporary_key_pair_bits` (int) - Specifies the number of bits in the key to create. For RSA keys, the\n  minimum size is 1024 bits and the default is 4096 bits. Generally, 3072\n  bits is considered sufficient. DSA keys must be exactly 1024 bits as\n  specified by FIPS 186-2. For ECDSA keys, bits determines the key length\n  by selecting from one of three elliptic curve sizes: 256, 384 or 521\n  bits. Attempting to use bit lengths other than these three values for\n  ECDSA keys will fail. Ed25519 keys have a fixed length and bits will be\n  ignored.\n  \n  NOTE: DSA is deprecated and no longer recognized as secure as specified\n  by FIPS 186-5, please consider other alternatives like RSA or ED25519.\n\n<!-- End of code generated from the comments of the SSHTemporaryKeyPair struct in communicator/config.go; -->\n\n\n- `ssh_keypair_name` (string) - If specified, this is the key that will be used for SSH with the\n  machine. The key must match a key pair name loaded up into the remote.\n  By default, this is blank, and Packer will generate a temporary keypair\n  unless [`ssh_password`](#ssh_password) is used.\n  [`ssh_private_key_file`](#ssh_private_key_file) or\n  [`ssh_agent_auth`](#ssh_agent_auth) must be specified when\n  [`ssh_keypair_name`](#ssh_keypair_name) is utilized.\n\n\n- `ssh_private_key_file` (string) - Path to a PEM encoded private key file to use to authenticate with SSH.\n  The `~` can be used in path and will be expanded to the home directory\n  of current user.\n\n\n- `ssh_agent_auth` (bool) - If true, the local SSH agent will be used to authenticate connections to\n  the source instance. No temporary keypair will be created, and the\n  values of [`ssh_password`](#ssh_password) and\n  [`ssh_private_key_file`](#ssh_private_key_file) will be ignored. The\n  environment variable `SSH_AUTH_SOCK` must be set for this option to work\n  properly.\n\n\n## Basic Example\n\nHere is a basic example for Tencentcloud.\n\n```json\n{\n  \"variables\": {\n    \"secret_id\": \"{{env `TENCENTCLOUD_SECRET_ID`}}\",\n    \"secret_key\": \"{{env `TENCENTCLOUD_SECRET_KEY`}}\"\n  },\n  \"builders\": [\n    {\n      \"type\": \"tencentcloud-cvm\",\n      \"secret_id\": \"{{user `secret_id`}}\",\n      \"secret_key\": \"{{user `secret_key`}}\",\n      \"region\": \"ap-guangzhou\",\n      \"zone\": \"ap-guangzhou-4\",\n      \"instance_type\": \"S4.SMALL1\",\n      \"source_image_id\": \"img-oikl1tzv\",\n      \"ssh_username\": \"root\",\n      \"image_name\": \"PackerTest\",\n      \"disk_type\": \"CLOUD_PREMIUM\",\n      \"packer_debug\": true,\n      \"associate_public_ip_address\": true,\n      \"run_tags\": {\n        \"good\": \"luck\"\n      }\n    }\n  ],\n  \"provisioners\": [\n    {\n      \"type\": \"shell\",\n      \"inline\": [\"sleep 30\", \"yum install redis.x86_64 -y\"]\n    }\n  ]\n}\n```\n\nSee the\n[examples/tencentcloud](https://github.com/hashicorp/packer-plugin-tencentcloud/tree/master/builder/tencentcloud/examples)\nfolder in the Packer project for more examples.\n","created_at":"2024-04-16T14:42:05.601Z","updated_at":"2024-04-16T14:42:05.601Z","name":"Tencent Cloud Builder","slug":"cvm","component":{"id":"36076511-3ced-4faf-addf-101fce0405ff","slug":"builder","name":"Builder","plural_name":"Builders","product_id":"4c2b00c6-7cc1-4e4c-b596-4ab57e319f21","created_at":"2022-11-09T22:56:30.937Z","updated_at":"2022-11-09T22:56:30.937Z"},"variable_groups":[]},"processedVariablesMarkdown":{},"anchorLinks":[{"id":"configuration-reference","level":2,"title":"Configuration Reference"},{"id":"required:","level":3,"title":"Required:"},{"id":"optional:","level":3,"title":"Optional:"},{"id":"communicator-configuration","level":3,"title":"Communicator Configuration"},{"id":"optional:","level":4,"title":"Optional:"},{"id":"basic-example","level":2,"title":"Basic Example"}],"serializedREADME":{"compiledSource":"const layoutProps={};const MDXLayout=\"wrapper\";function MDXContent({components,...props}){return mdx(MDXLayout,{...layoutProps,...props,components:components,mdxType:\"MDXLayout\"},mdx(\"p\",{\"className\":\"g-type-long-body\"},`Type: `,mdx(\"inlineCode\",{parentName:\"p\"},`tencentcloud-cvm`),`\nArtifact BuilderId: `,mdx(\"inlineCode\",{parentName:\"p\"},`tencent.cloud`)),mdx(\"p\",{\"className\":\"g-type-long-body\"},`The `,mdx(\"inlineCode\",{parentName:\"p\"},`tencentcloud-cvm`),` Packer builder plugin provide the capability to build\ncustomized images based on an existing base images.`),mdx(\"h2\",{\"id\":\"user-content-configuration-reference\",\"data-text-content\":\"Configuration Reference\",\"className\":\"g-type-display-3\"},`Configuration Reference`),mdx(\"p\",{\"className\":\"g-type-long-body\"},`The following configuration options are available for building Tencentcloud images.\nIn addition to the options listed here,\na `,mdx(\"a\",{parentName:\"p\",\"href\":\"/packer/docs/templates/legacy_json_templates/communicator\"},`communicator`),` can be configured for this builder.`),mdx(\"h3\",{\"id\":\"user-content-required:\",\"data-text-content\":\"Required\",\"className\":\"g-type-display-4\"},`Required:`),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`secret_id`),` (string) - Tencentcloud secret id. You should set it directly,\nor set the `,mdx(\"inlineCode\",{parentName:\"p\"},`TENCENTCLOUD_SECRET_ID`),` environment variable.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`secret_key`),` (string) - Tencentcloud secret key. You should set it directly,\nor set the `,mdx(\"inlineCode\",{parentName:\"p\"},`TENCENTCLOUD_SECRET_KEY`),` environment variable.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`region`),` (string) - The region where your cvm will be launch. You should\nreference `,mdx(\"a\",{parentName:\"p\",\"href\":\"https://intl.cloud.tencent.com/document/product/213/6091\"},`Region and Zone`),`\nfor parameter taking.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`zone`),` (string) - The zone where your cvm will be launch. You should\nreference `,mdx(\"a\",{parentName:\"p\",\"href\":\"https://intl.cloud.tencent.com/document/product/213/6091\"},`Region and Zone`),`\nfor parameter taking.`))),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"inlineCode\",{parentName:\"li\"},`instance_type`),` (string) - The instance type your cvm will be launched by.\nYou should reference `,mdx(\"a\",{parentName:\"li\",\"href\":\"https://intl.cloud.tencent.com/document/product/213/11518\"},`Instance Type`),`\nfor parameter taking.`)),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"inlineCode\",{parentName:\"li\"},`image_name`),` (string) - The name you want to create your customize image,\nit should be composed of no more than 60 characters, of letters, numbers\nor minus sign.`)),mdx(\"h3\",{\"id\":\"user-content-optional:\",\"data-text-content\":\"Optional\",\"className\":\"g-type-display-4\"},`Optional:`),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`cvm_endpoint`),` (string) - The endpoint you want to reach the cloud endpoint,\nif tce cloud you should set a tce cvm endpoint.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`vpc_endpoint`),` (string) - The endpoint you want to reach the cloud endpoint,\nif tce cloud you should set a tce vpc endpoint.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`security_token`),` (string) - STS access token, can be set through template or by exporting\nas environment variable such as `,mdx(\"inlineCode\",{parentName:\"p\"},`export TENCENTCLOUD_SECURITY_TOKEN=value`),`.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`assume_role`),` (TencentCloudAccessRole) - The `,mdx(\"inlineCode\",{parentName:\"p\"},`assume_role`),` block.\nIf provided, packer will attempt to assume this role using the supplied credentials.`),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"inlineCode\",{parentName:\"li\"},`role_arn`),` (string) - The ARN of the role to assume.\nIt can be sourced from the `,mdx(\"inlineCode\",{parentName:\"li\"},`TENCENTCLOUD_ASSUME_ROLE_ARN`),`.`),mdx(\"li\",{parentName:\"ul\"},mdx(\"inlineCode\",{parentName:\"li\"},`session_name`),` (string) - The session name to use when making the AssumeRole call.\nIt can be sourced from the `,mdx(\"inlineCode\",{parentName:\"li\"},`TENCENTCLOUD_ASSUME_ROLE_SESSION_NAME`),`.`),mdx(\"li\",{parentName:\"ul\"},mdx(\"inlineCode\",{parentName:\"li\"},`session_duration`),` (int) - The duration of the session when making the AssumeRole call.\nIts value ranges from 0 to 43200(seconds), and default is 7200 seconds.\nIt can be sourced from the `,mdx(\"inlineCode\",{parentName:\"li\"},`TENCENTCLOUD_ASSUME_ROLE_SESSION_DURATION`),`.`))),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`profile`),` (string) - The profile name as set in the shared credentials.\nIt can also be sourced from the `,mdx(\"inlineCode\",{parentName:\"p\"},`TENCENTCLOUD_PROFILE`),` environment variable.\nIf not set, the default profile created with `,mdx(\"inlineCode\",{parentName:\"p\"},`tccli configure`),` will be used.\nIf not set this defaults to `,mdx(\"inlineCode\",{parentName:\"p\"},`default`),`.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`shared_credentials_dir`),` (string) - The directory of the shared credentials.\nIt can also be sourced from the `,mdx(\"inlineCode\",{parentName:\"p\"},`TENCENTCLOUD_SHARED_CREDENTIALS_DIR`),` environment variable.\nIf not set this defaults to `,mdx(\"inlineCode\",{parentName:\"p\"},`~/.tccli`),`.`))),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`image_description`),` (string) - Image description. It should no more than 60 characters.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`force_poweroff`),` (bool) - Indicates whether to perform a forced shutdown to\ncreate an image when soft shutdown fails. Default value is `,mdx(\"inlineCode\",{parentName:\"p\"},`false`),`.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`sysprep`),` (bool) - Whether enable Sysprep during creating windows image.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`image_copy_regions`),` ([]string) - regions that will be copied to after\nyour image created.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`image_share_accounts`),` ([]string) - accounts that will be shared to\nafter your image created.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`image_tags`),` (map`,`[string]`,`string) - Key/value pair tags that will be applied to the resulting image.`))),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`associate_public_ip_address`),` (bool) - Whether allocate public ip to your cvm.\nDefault value is `,mdx(\"inlineCode\",{parentName:\"p\"},`false`),`.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`source_image_id`),` (string) - The base image id of Image you want to create\nyour customized image from.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`source_image_name`),` (string) - The base image name of Image you want to create your\ncustomized image from.Conflict with SourceImageId.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`instance_charge_type`),` (string) - Charge type of cvm, values can be `,mdx(\"inlineCode\",{parentName:\"p\"},`POSTPAID_BY_HOUR`),` (default) `,mdx(\"inlineCode\",{parentName:\"p\"},`SPOTPAID`))),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`instance_name`),` (string) - Instance name.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`disk_type`),` (string) - Root disk type your cvm will be launched by, default is `,mdx(\"inlineCode\",{parentName:\"p\"},`CLOUD_PREMIUM`),`. you could\nreference `,mdx(\"a\",{parentName:\"p\",\"href\":\"https://intl.cloud.tencent.com/document/product/213/15753#SystemDisk\"},`Disk Type`),`\nfor parameter taking.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`disk_size`),` (int64) - Root disk size your cvm will be launched by. values range(in GB):`),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},`LOCAL_BASIC: 50`),mdx(\"li\",{parentName:\"ul\"},`Other: 50 ~ 1000 (need whitelist if > 50)`))),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`data_disks`),` ([]tencentCloudDataDisk) - Add one or more data disks to the instance before creating the image.\nNote that if the source image has data disk snapshots, this argument\nwill be ignored, and the running instance will use source image data\ndisk settings, in such case, `,mdx(\"inlineCode\",{parentName:\"p\"},`disk_type`),` argument will be used as disk\ntype for all data disks, and each data disk size will use the origin\nvalue in source image.\nThe data disks allow for the following argument:`),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"inlineCode\",{parentName:\"li\"},`disk_type`),` - Type of the data disk. Valid choices: `,mdx(\"inlineCode\",{parentName:\"li\"},`CLOUD_BASIC`),`, `,mdx(\"inlineCode\",{parentName:\"li\"},`CLOUD_PREMIUM`),` and `,mdx(\"inlineCode\",{parentName:\"li\"},`CLOUD_SSD`),`.`),mdx(\"li\",{parentName:\"ul\"},mdx(\"inlineCode\",{parentName:\"li\"},`disk_size`),` - Size of the data disk.`),mdx(\"li\",{parentName:\"ul\"},mdx(\"inlineCode\",{parentName:\"li\"},`disk_snapshot_id`),` - Id of the snapshot for a data disk.`))),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`vpc_id`),` (string) - Specify vpc your cvm will be launched by.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`vpc_name`),` (string) - Specify vpc name you will create. if `,mdx(\"inlineCode\",{parentName:\"p\"},`vpc_id`),` is not set, Packer will\ncreate a vpc for you named this parameter.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`subnet_id`),` (string) - Specify subnet your cvm will be launched by.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`subnet_name`),` (string) - Specify subnet name you will create. if `,mdx(\"inlineCode\",{parentName:\"p\"},`subnet_id`),` is not set, Packer will\ncreate a subnet for you named this parameter.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`cidr_block`),` (string) - Specify cider block of the vpc you will create if vpc_id not set`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`subnect_cidr_block`),` (string) - Specify cider block of the subnet you will create if\nsubnet_id not set`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`internet_charge_type`),` (string) - Internet charge type of cvm, values can be TRAFFIC_POSTPAID_BY_HOUR, BANDWIDTH_POSTPAID_BY_HOUR, BANDWIDTH_PACKAGE`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`internet_max_bandwidth_out`),` (int64) - Max bandwidth out your cvm will be launched by(in MB).\nvalues can be set between 1 ~ 100.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`bandwidth_package_id`),` (string) - When internet_charge_type is BANDWIDTH_PACKAGE, bandwidth_package_id is required`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`security_group_id`),` (string) - Specify securitygroup your cvm will be launched by.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`security_group_name`),` (string) - Specify security name you will create if security_group_id not set.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`user_data`),` (string) - userdata.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`user_data_file`),` (string) - userdata file.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`host_name`),` (string) - host name.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`cam_role_name`),` (string) - CAM role name.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`run_tags`),` (map`,`[string]`,`string) - Tags to apply to the instance that is `,mdx(\"em\",{parentName:\"p\"},`launched`),` to create the image.\nThese tags are `,mdx(\"em\",{parentName:\"p\"},`not`),` applied to the resulting image.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`run_tag`),` ([]{key string, value string}) - Same as `,mdx(\"a\",{parentName:\"p\",\"href\":\"#run_tags\"},mdx(\"inlineCode\",{parentName:\"a\"},`run_tags`)),` but defined as a singular repeatable\nblock containing a `,mdx(\"inlineCode\",{parentName:\"p\"},`key`),` and a `,mdx(\"inlineCode\",{parentName:\"p\"},`value`),` field. In HCL2 mode the\n`,mdx(\"a\",{parentName:\"p\",\"href\":\"/packer/docs/templates/hcl_templates/expressions#dynamic-blocks\"},mdx(\"inlineCode\",{parentName:\"a\"},`dynamic_block`)),`\nwill allow you to create those programatically.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`ssh_private_ip`),` (bool) - SSH Private Ip`))),mdx(\"h3\",{\"id\":\"user-content-communicator-configuration\",\"data-text-content\":\"Communicator Configuration\",\"className\":\"g-type-display-4\"},`Communicator Configuration`),mdx(\"p\",{\"className\":\"g-type-long-body\"},`In addition to the above options, a communicator can be configured\nfor this builder.`),mdx(\"h4\",{\"id\":\"user-content-optional:\",\"data-text-content\":\"Optional\",\"className\":\"g-type-display-5\"},`Optional:`),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`communicator`),` (string) - Packer currently supports three kinds of communicators:`),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`none`),` - No communicator will be used. If this is set, most\nprovisioners also can't be used.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`ssh`),` - An SSH connection will be established to the machine. This\nis usually the default.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`winrm`),` - A WinRM connection will be established.`))),mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},`In addition to the above, some builders have custom communicators they\ncan use. For example, the Docker builder has a \"docker\" communicator\nthat uses `,mdx(\"inlineCode\",{parentName:\"p\"},`docker exec`),` and `,mdx(\"inlineCode\",{parentName:\"p\"},`docker cp`),` to execute scripts and copy\nfiles.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`pause_before_connecting`),` (duration string | ex: \"1h5m2s\") - We recommend that you enable SSH or WinRM as the very last step in your\nguest's bootstrap script, but sometimes you may have a race condition\nwhere you need Packer to wait before attempting to connect to your\nguest.`),mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},`If you end up in this situation, you can use the template option\n`,mdx(\"inlineCode\",{parentName:\"p\"},`pause_before_connecting`),`. By default, there is no pause. For example if\nyou set `,mdx(\"inlineCode\",{parentName:\"p\"},`pause_before_connecting`),` to `,mdx(\"inlineCode\",{parentName:\"p\"},`10m`),` Packer will check whether it\ncan connect, as normal. But once a connection attempt is successful, it\nwill disconnect and then wait 10 minutes before connecting to the guest\nand beginning provisioning.`))),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`ssh_host`),` (string) - The address to SSH to. This usually is automatically configured by the\nbuilder.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`ssh_port`),` (int) - The port to connect to SSH. This defaults to `,mdx(\"inlineCode\",{parentName:\"p\"},`22`),`.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`ssh_username`),` (string) - The username to connect to SSH with. Required if using SSH.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`ssh_password`),` (string) - A plaintext password to use to authenticate with SSH.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`ssh_ciphers`),` ([]string) - This overrides the value of ciphers supported by default by Golang.\nThe default value is `,`[\n\"aes128-gcm@openssh.com\",\n\"chacha20-poly1305@openssh.com\",\n\"aes128-ctr\", \"aes192-ctr\", \"aes256-ctr\",\n]`),mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},`Valid options for ciphers include:\n\"aes128-ctr\", \"aes192-ctr\", \"aes256-ctr\", \"`,mdx(\"a\",{parentName:\"p\",\"href\":\"mailto:aes128-gcm@openssh.com\"},`aes128-gcm@openssh.com`),`\",\n\"`,mdx(\"a\",{parentName:\"p\",\"href\":\"mailto:chacha20-poly1305@openssh.com\"},`chacha20-poly1305@openssh.com`),`\",\n\"arcfour256\", \"arcfour128\", \"arcfour\", \"aes128-cbc\", \"3des-cbc\",`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`ssh_clear_authorized_keys`),` (bool) - If true, Packer will attempt to remove its temporary key from\n`,mdx(\"inlineCode\",{parentName:\"p\"},`~/.ssh/authorized_keys`),` and `,mdx(\"inlineCode\",{parentName:\"p\"},`/root/.ssh/authorized_keys`),`. This is a\nmostly cosmetic option, since Packer will delete the temporary private\nkey from the host system regardless of whether this is set to true\n(unless the user has set the `,mdx(\"inlineCode\",{parentName:\"p\"},`-debug`),` flag). Defaults to \"false\";\ncurrently only works on guests with `,mdx(\"inlineCode\",{parentName:\"p\"},`sed`),` installed.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`ssh_key_exchange_algorithms`),` ([]string) - If set, Packer will override the value of key exchange (kex) algorithms\nsupported by default by Golang. Acceptable values include:\n\"`,mdx(\"a\",{parentName:\"p\",\"href\":\"mailto:curve25519-sha256@libssh.org\"},`curve25519-sha256@libssh.org`),`\", \"ecdh-sha2-nistp256\",\n\"ecdh-sha2-nistp384\", \"ecdh-sha2-nistp521\",\n\"diffie-hellman-group14-sha1\", and \"diffie-hellman-group1-sha1\".`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`ssh_certificate_file`),` (string) - Path to user certificate used to authenticate with SSH.\nThe `,mdx(\"inlineCode\",{parentName:\"p\"},`~`),` can be used in path and will be expanded to the\nhome directory of current user.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`ssh_pty`),` (bool) - If `,mdx(\"inlineCode\",{parentName:\"p\"},`true`),`, a PTY will be requested for the SSH connection. This defaults\nto `,mdx(\"inlineCode\",{parentName:\"p\"},`false`),`.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`ssh_timeout`),` (duration string | ex: \"1h5m2s\") - The time to wait for SSH to become available. Packer uses this to\ndetermine when the machine has booted so this is usually quite long.\nExample value: `,mdx(\"inlineCode\",{parentName:\"p\"},`10m`),`.\nThis defaults to `,mdx(\"inlineCode\",{parentName:\"p\"},`5m`),`, unless `,mdx(\"inlineCode\",{parentName:\"p\"},`ssh_handshake_attempts`),` is set.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`ssh_disable_agent_forwarding`),` (bool) - If true, SSH agent forwarding will be disabled. Defaults to `,mdx(\"inlineCode\",{parentName:\"p\"},`false`),`.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`ssh_handshake_attempts`),` (int) - The number of handshakes to attempt with SSH once it can connect.\nThis defaults to `,mdx(\"inlineCode\",{parentName:\"p\"},`10`),`, unless a `,mdx(\"inlineCode\",{parentName:\"p\"},`ssh_timeout`),` is set.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`ssh_bastion_host`),` (string) - A bastion host to use for the actual SSH connection.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`ssh_bastion_port`),` (int) - The port of the bastion host. Defaults to `,mdx(\"inlineCode\",{parentName:\"p\"},`22`),`.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`ssh_bastion_agent_auth`),` (bool) - If `,mdx(\"inlineCode\",{parentName:\"p\"},`true`),`, the local SSH agent will be used to authenticate with the\nbastion host. Defaults to `,mdx(\"inlineCode\",{parentName:\"p\"},`false`),`.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`ssh_bastion_username`),` (string) - The username to connect to the bastion host.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`ssh_bastion_password`),` (string) - The password to use to authenticate with the bastion host.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`ssh_bastion_interactive`),` (bool) - If `,mdx(\"inlineCode\",{parentName:\"p\"},`true`),`, the keyboard-interactive used to authenticate with bastion host.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`ssh_bastion_private_key_file`),` (string) - Path to a PEM encoded private key file to use to authenticate with the\nbastion host. The `,mdx(\"inlineCode\",{parentName:\"p\"},`~`),` can be used in path and will be expanded to the\nhome directory of current user.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`ssh_bastion_certificate_file`),` (string) - Path to user certificate used to authenticate with bastion host.\nThe `,mdx(\"inlineCode\",{parentName:\"p\"},`~`),` can be used in path and will be expanded to the\nhome directory of current user.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`ssh_file_transfer_method`),` (string) - `,mdx(\"inlineCode\",{parentName:\"p\"},`scp`),` or `,mdx(\"inlineCode\",{parentName:\"p\"},`sftp`),` - How to transfer files, Secure copy (default) or SSH\nFile Transfer Protocol.`),mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"strong\",{parentName:\"p\"},`NOTE`),`: Guests using Windows with Win32-OpenSSH v9.1.0.0p1-Beta, scp\n(the default protocol for copying data) returns a a non-zero error code since the MOTW\ncannot be set, which cause any file transfer to fail. As a workaround you can override the transfer protocol\nwith SFTP instead `,mdx(\"inlineCode\",{parentName:\"p\"},`ssh_file_transfer_protocol = \"sftp\"`),`.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`ssh_proxy_host`),` (string) - A SOCKS proxy host to use for SSH connection`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`ssh_proxy_port`),` (int) - A port of the SOCKS proxy. Defaults to `,mdx(\"inlineCode\",{parentName:\"p\"},`1080`),`.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`ssh_proxy_username`),` (string) - The optional username to authenticate with the proxy server.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`ssh_proxy_password`),` (string) - The optional password to use to authenticate with the proxy server.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`ssh_keep_alive_interval`),` (duration string | ex: \"1h5m2s\") - How often to send \"keep alive\" messages to the server. Set to a negative\nvalue (`,mdx(\"inlineCode\",{parentName:\"p\"},`-1s`),`) to disable. Example value: `,mdx(\"inlineCode\",{parentName:\"p\"},`10s`),`. Defaults to `,mdx(\"inlineCode\",{parentName:\"p\"},`5s`),`.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`ssh_read_write_timeout`),` (duration string | ex: \"1h5m2s\") - The amount of time to wait for a remote command to end. This might be\nuseful if, for example, packer hangs on a connection after a reboot.\nExample: `,mdx(\"inlineCode\",{parentName:\"p\"},`5m`),`. Disabled by default.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`ssh_remote_tunnels`),` ([]string) - `)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`ssh_local_tunnels`),` ([]string) - `))),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`temporary_key_pair_type`),` (string) - `,mdx(\"inlineCode\",{parentName:\"p\"},`dsa`),` | `,mdx(\"inlineCode\",{parentName:\"p\"},`ecdsa`),` | `,mdx(\"inlineCode\",{parentName:\"p\"},`ed25519`),` | `,mdx(\"inlineCode\",{parentName:\"p\"},`rsa`),` ( the default )`),mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},`Specifies the type of key to create. The possible values are 'dsa',\n'ecdsa', 'ed25519', or 'rsa'.`),mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},`NOTE: DSA is deprecated and no longer recognized as secure, please\nconsider other alternatives like RSA or ED25519.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`temporary_key_pair_bits`),` (int) - Specifies the number of bits in the key to create. For RSA keys, the\nminimum size is 1024 bits and the default is 4096 bits. Generally, 3072\nbits is considered sufficient. DSA keys must be exactly 1024 bits as\nspecified by FIPS 186-2. For ECDSA keys, bits determines the key length\nby selecting from one of three elliptic curve sizes: 256, 384 or 521\nbits. Attempting to use bit lengths other than these three values for\nECDSA keys will fail. Ed25519 keys have a fixed length and bits will be\nignored.`),mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},`NOTE: DSA is deprecated and no longer recognized as secure as specified\nby FIPS 186-5, please consider other alternatives like RSA or ED25519.`))),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"inlineCode\",{parentName:\"li\"},`ssh_keypair_name`),` (string) - If specified, this is the key that will be used for SSH with the\nmachine. The key must match a key pair name loaded up into the remote.\nBy default, this is blank, and Packer will generate a temporary keypair\nunless `,mdx(\"a\",{parentName:\"li\",\"href\":\"#ssh_password\"},mdx(\"inlineCode\",{parentName:\"a\"},`ssh_password`)),` is used.\n`,mdx(\"a\",{parentName:\"li\",\"href\":\"#ssh_private_key_file\"},mdx(\"inlineCode\",{parentName:\"a\"},`ssh_private_key_file`)),` or\n`,mdx(\"a\",{parentName:\"li\",\"href\":\"#ssh_agent_auth\"},mdx(\"inlineCode\",{parentName:\"a\"},`ssh_agent_auth`)),` must be specified when\n`,mdx(\"a\",{parentName:\"li\",\"href\":\"#ssh_keypair_name\"},mdx(\"inlineCode\",{parentName:\"a\"},`ssh_keypair_name`)),` is utilized.`)),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"inlineCode\",{parentName:\"li\"},`ssh_private_key_file`),` (string) - Path to a PEM encoded private key file to use to authenticate with SSH.\nThe `,mdx(\"inlineCode\",{parentName:\"li\"},`~`),` can be used in path and will be expanded to the home directory\nof current user.`)),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"inlineCode\",{parentName:\"li\"},`ssh_agent_auth`),` (bool) - If true, the local SSH agent will be used to authenticate connections to\nthe source instance. No temporary keypair will be created, and the\nvalues of `,mdx(\"a\",{parentName:\"li\",\"href\":\"#ssh_password\"},mdx(\"inlineCode\",{parentName:\"a\"},`ssh_password`)),` and\n`,mdx(\"a\",{parentName:\"li\",\"href\":\"#ssh_private_key_file\"},mdx(\"inlineCode\",{parentName:\"a\"},`ssh_private_key_file`)),` will be ignored. The\nenvironment variable `,mdx(\"inlineCode\",{parentName:\"li\"},`SSH_AUTH_SOCK`),` must be set for this option to work\nproperly.`)),mdx(\"h2\",{\"id\":\"user-content-basic-example\",\"data-text-content\":\"Basic Example\",\"className\":\"g-type-display-3\"},`Basic Example`),mdx(\"p\",{\"className\":\"g-type-long-body\"},`Here is a basic example for Tencentcloud.`),mdx(\"pre\",{\"className\":\"language-json\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-json\"},mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`{`),`\n`,`  `,mdx(\"span\",{parentName:\"code\",\"className\":\"token property\"},`\"variables\"`),mdx(\"span\",{parentName:\"code\",\"className\":\"token operator\"},`:`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`{`),`\n`,`    `,mdx(\"span\",{parentName:\"code\",\"className\":\"token property\"},`\"secret_id\"`),mdx(\"span\",{parentName:\"code\",\"className\":\"token operator\"},`:`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token string\"},`\"{{env \\`TENCENTCLOUD_SECRET_ID\\`}}\"`),mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`,`),`\n`,`    `,mdx(\"span\",{parentName:\"code\",\"className\":\"token property\"},`\"secret_key\"`),mdx(\"span\",{parentName:\"code\",\"className\":\"token operator\"},`:`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token string\"},`\"{{env \\`TENCENTCLOUD_SECRET_KEY\\`}}\"`),`\n`,`  `,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`}`),mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`,`),`\n`,`  `,mdx(\"span\",{parentName:\"code\",\"className\":\"token property\"},`\"builders\"`),mdx(\"span\",{parentName:\"code\",\"className\":\"token operator\"},`:`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`[`),`\n`,`    `,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`{`),`\n`,`      `,mdx(\"span\",{parentName:\"code\",\"className\":\"token property\"},`\"type\"`),mdx(\"span\",{parentName:\"code\",\"className\":\"token operator\"},`:`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token string\"},`\"tencentcloud-cvm\"`),mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`,`),`\n`,`      `,mdx(\"span\",{parentName:\"code\",\"className\":\"token property\"},`\"secret_id\"`),mdx(\"span\",{parentName:\"code\",\"className\":\"token operator\"},`:`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token string\"},`\"{{user \\`secret_id\\`}}\"`),mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`,`),`\n`,`      `,mdx(\"span\",{parentName:\"code\",\"className\":\"token property\"},`\"secret_key\"`),mdx(\"span\",{parentName:\"code\",\"className\":\"token operator\"},`:`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token string\"},`\"{{user \\`secret_key\\`}}\"`),mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`,`),`\n`,`      `,mdx(\"span\",{parentName:\"code\",\"className\":\"token property\"},`\"region\"`),mdx(\"span\",{parentName:\"code\",\"className\":\"token operator\"},`:`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token string\"},`\"ap-guangzhou\"`),mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`,`),`\n`,`      `,mdx(\"span\",{parentName:\"code\",\"className\":\"token property\"},`\"zone\"`),mdx(\"span\",{parentName:\"code\",\"className\":\"token operator\"},`:`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token string\"},`\"ap-guangzhou-4\"`),mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`,`),`\n`,`      `,mdx(\"span\",{parentName:\"code\",\"className\":\"token property\"},`\"instance_type\"`),mdx(\"span\",{parentName:\"code\",\"className\":\"token operator\"},`:`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token string\"},`\"S4.SMALL1\"`),mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`,`),`\n`,`      `,mdx(\"span\",{parentName:\"code\",\"className\":\"token property\"},`\"source_image_id\"`),mdx(\"span\",{parentName:\"code\",\"className\":\"token operator\"},`:`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token string\"},`\"img-oikl1tzv\"`),mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`,`),`\n`,`      `,mdx(\"span\",{parentName:\"code\",\"className\":\"token property\"},`\"ssh_username\"`),mdx(\"span\",{parentName:\"code\",\"className\":\"token operator\"},`:`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token string\"},`\"root\"`),mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`,`),`\n`,`      `,mdx(\"span\",{parentName:\"code\",\"className\":\"token property\"},`\"image_name\"`),mdx(\"span\",{parentName:\"code\",\"className\":\"token operator\"},`:`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token string\"},`\"PackerTest\"`),mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`,`),`\n`,`      `,mdx(\"span\",{parentName:\"code\",\"className\":\"token property\"},`\"disk_type\"`),mdx(\"span\",{parentName:\"code\",\"className\":\"token operator\"},`:`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token string\"},`\"CLOUD_PREMIUM\"`),mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`,`),`\n`,`      `,mdx(\"span\",{parentName:\"code\",\"className\":\"token property\"},`\"packer_debug\"`),mdx(\"span\",{parentName:\"code\",\"className\":\"token operator\"},`:`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token boolean\"},`true`),mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`,`),`\n`,`      `,mdx(\"span\",{parentName:\"code\",\"className\":\"token property\"},`\"associate_public_ip_address\"`),mdx(\"span\",{parentName:\"code\",\"className\":\"token operator\"},`:`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token boolean\"},`true`),mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`,`),`\n`,`      `,mdx(\"span\",{parentName:\"code\",\"className\":\"token property\"},`\"run_tags\"`),mdx(\"span\",{parentName:\"code\",\"className\":\"token operator\"},`:`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`{`),`\n`,`        `,mdx(\"span\",{parentName:\"code\",\"className\":\"token property\"},`\"good\"`),mdx(\"span\",{parentName:\"code\",\"className\":\"token operator\"},`:`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token string\"},`\"luck\"`),`\n`,`      `,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`}`),`\n`,`    `,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`}`),`\n`,`  `,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`]`),mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`,`),`\n`,`  `,mdx(\"span\",{parentName:\"code\",\"className\":\"token property\"},`\"provisioners\"`),mdx(\"span\",{parentName:\"code\",\"className\":\"token operator\"},`:`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`[`),`\n`,`    `,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`{`),`\n`,`      `,mdx(\"span\",{parentName:\"code\",\"className\":\"token property\"},`\"type\"`),mdx(\"span\",{parentName:\"code\",\"className\":\"token operator\"},`:`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token string\"},`\"shell\"`),mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`,`),`\n`,`      `,mdx(\"span\",{parentName:\"code\",\"className\":\"token property\"},`\"inline\"`),mdx(\"span\",{parentName:\"code\",\"className\":\"token operator\"},`:`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`[`),mdx(\"span\",{parentName:\"code\",\"className\":\"token string\"},`\"sleep 30\"`),mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`,`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token string\"},`\"yum install redis.x86_64 -y\"`),mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`]`),`\n`,`    `,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`}`),`\n`,`  `,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`]`),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`}`),`\n`)),mdx(\"p\",{\"className\":\"g-type-long-body\"},`See the\n`,mdx(\"a\",{parentName:\"p\",\"href\":\"https://github.com/hashicorp/packer-plugin-tencentcloud/tree/master/builder/tencentcloud/examples\"},`examples/tencentcloud`),`\nfolder in the Packer project for more examples.`))};MDXContent.isMDXComponent=true;","scope":{}},"breadcrumbLinks":[{"title":"Developer","url":"/"},{"title":"Packer","url":"/packer"},{"title":"Integrations","url":"/packer/integrations"},{"title":"Tencent Cloud","url":"/packer/integrations/hashicorp/tencentcloud","isCurrentPage":false},{"title":"v1.2.0","url":"/packer/integrations/hashicorp/tencentcloud/v1.2.0","isCurrentPage":false},{"title":"Components"},{"title":"Builder"},{"title":"Tencent Cloud Builder","url":"/packer/integrations/hashicorp/tencentcloud/latest/components/builder/cvm","isCurrentPage":true}]},"__N_SSG":true}