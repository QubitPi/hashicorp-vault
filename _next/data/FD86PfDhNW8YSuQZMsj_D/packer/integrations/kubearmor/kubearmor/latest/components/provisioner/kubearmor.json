{"pageProps":{"metadata":{"title":"KubeArmor Provisioner | Integrations"},"product":{"name":"Packer","slug":"packer","algoliaConfig":{"indexName":"product_PACKER","searchOnlyApiKey":"4e1ea7f4bf4335ac43d9f28463e42148"},"analyticsConfig":{"includedDomains":"packer.io www.packer.io","segmentWriteKey":"AjXdfmTTk1I9q9dfyePuDFHBrz1tCO3l"},"datoToken":"88b4984480dad56295a8aadae6caad","metadata":{"title":"Packer by HashiCorp","description":"Packer helps you create golden images for multiple platforms from a single source configuration.","image":"https://www.packer.io/packer-public/img/og-image.png","icon":[{"href":"/packer-public/_favicon.ico"}]},"alertBannerActive":true,"alertBanner":{"tag":"HashiDays","url":"https://hashicorp.com/conferences/hashidays","text":"One conference. Three cities.","linkText":"Find a city near you","expirationDate":"2024-06-14T00:00:00-08:00"},"version":"1.7.10","basePaths":["docs","guides","intro","downloads"],"rootDocsPaths":[{"iconName":"docs","name":"Documentation","path":"docs"},{"iconName":"guide","name":"Guides","path":"guides"}],"integrationsConfig":{"description":"A curated collection of official, partner, and community Packer Integrations."}},"integration":{"id":"7902dbbe-a4a5-4ac1-a808-51f2924561e0","slug":"kubearmor","name":"KubeArmor","description":"The KubeArmor plugin which provides kubearmor hardening security policies for the build workloads","license_type":null,"license_url":null,"external_only":false,"external_url":null,"tier":"community","repo_url":"https://github.com/kubearmor/packer-plugin-kubearmor","subdirectory":"/.web-docs","created_at":"2024-02-21T18:21:59.325Z","updated_at":"2024-03-15T19:00:09.044Z","hide_versions":false,"organization":{"id":"be91e3c4-f6e6-4a74-914d-1aa8b1779855","slug":"kubearmor","created_at":"2024-02-21T18:21:58.604Z","updated_at":"2024-02-21T18:21:58.604Z"},"product":{"id":"4c2b00c6-7cc1-4e4c-b596-4ab57e319f21","slug":"packer","name":"Packer","created_at":"2022-11-09T22:56:29.896Z","updated_at":"2022-11-09T22:56:29.896Z"},"versions":["0.0.1"],"components":[{"id":"418417de-2c71-46a1-8dbc-7e9ae777a22e","slug":"provisioner","name":"Provisioner","plural_name":"Provisioners"}],"flags":[],"integration_type":null},"activeRelease":{"id":"9ce4a765-6a29-427f-82c2-a6095c6cb9af","integration_id":"7902dbbe-a4a5-4ac1-a808-51f2924561e0","version":"0.0.1","readme":"A plugin for Packer which provides [KubeArmor Hardening Host Security policies](https://docs.kubearmor.io/kubearmor/use-cases/hardening_guide) for the build workloads.\n\n> [KubeArmor](https://docs.kubearmor.io/kubearmor/) is a security solution for the Kubernetes and cloud native platforms that helps protect your workloads from attacks and threats. It does this by providing a set of hardening policies that are based on industry-leading compliance and attack frameworks such as CIS, MITRE, NIST-800-53, and STIGs. These policies are designed to help you secure your workloads in a way that is compliant with these frameworks and recommended best practices.\n\nThe KubeArmor provisioner will configure the build and provide the [KubeArmor Hardening Host Security Policies](https://docs.kubearmor.io/kubearmor/use-cases/hardening_guide). These hardening policies will be in the context of your workload, so you can see how they will be applied and what impact they will have on your system. This allows you to make informed decisions about which policies to apply, and helps you understand the trade-offs between security and functionality.\n\n<!--\n  Include a short overview about the plugin.\n\n  This document is a great location for creating a table of contents for each\n  of the components the plugin may provide. This document should load automatically\n  when navigating to the docs directory for a plugin.\n\n-->\n\n## Installation\n\nTo install this plugin, copy and paste this code into your Packer configuration, then run [`packer init`](https://www.packer.io/docs/commands/init).\n\n```hcl\npacker {\n  required_plugins {\n    kubearmor = {\n      version = \">= 0.0.1\"\n      source  = \"github.com/kubearmor/kubearmor\"\n    }\n  }\n}\n```\n\nAlternatively, you can use `packer plugins install` to manage installation of this plugin.\n\n```sh\n$ packer plugins install github.com/kubearmor/kubearmor\n```\n\n\n### From Source\n\nIf you prefer to build the plugin from its source code, clone the GitHub\nrepository locally and run the command `go build` from the root\ndirectory. Upon successful compilation, a `packer-plugin-kubearmor` plugin\nbinary file can be found in the root directory.\n\nTo install the compiled plugin, please follow the official Packer documentation\non [installing a plugin](https://developer.hashicorp.com/packer/docs/plugins/install-plugins).\n\n## Components\n\n### Provisioners:\n\n- [kubearmor](/packer/integrations/kubearmor/kubearmor/latest/components/provisioner/kubearmor) - The kubearmor provisioner is used to provisioner\n  Packer builds and provide the packer builds KubeArmor Host Security Policies.\n","created_at":"2024-03-15T12:30:42.834Z","updated_at":"2024-04-01T21:28:23.873Z","components":[{"id":"9335ae0b-b5ca-4b7d-9a60-eedf2cc1ff75","integration_release_id":"9ce4a765-6a29-427f-82c2-a6095c6cb9af","component_id":"418417de-2c71-46a1-8dbc-7e9ae777a22e","readme":"Type: `kubearmor`\n\n  The KubeArmor provisioner will configure the build and provide the [KubeArmor Hardening Host Security Policies](https://docs.kubearmor.io/kubearmor/use-cases/hardening_guide). These hardening policies will be in the context of your workload, so you can see how they will be applied and what impact they will have on your system. This allows you to make informed decisions about which policies to apply, and helps you understand the trade-offs between security and functionality.\n\n\n<!-- Provisioner Configuration Fields -->\n\n### Required\n\n- `policyPath` (string) - directory where security policies will be stored the inside the build (Please use the path where the user has access to read, write and create).\n\n\n### Example Usage\n\nWith docker uase case :\n\n```hcl\npacker {\n  required_plugins {\n    docker = {\n      version = \">= 0.0.7\"\n      source = \"github.com/hashicorp/docker\"\n    }\n    kubearmor = {\n      version = \">= 0.0.1\"\n      source = \"github.com/kubearmor/kubearmor\"\n    }\n  }\n}\n\nsource \"docker\" \"ubuntu\" {\n  image  = \"ubuntu:xenial\"\n  commit = true\n}\n\nbuild {\n  name = \"learn-packer\"\n  sources = [\n    \"source.docker.ubuntu\"\n  ]\n\n  provisioner \"kubearmor\" {\n    policyPath = \"/policies\"\n  }\n}\n\n```\n\nWith virtualbox use case :\n\n```\npacker {\n  required_plugins {\n    virtualbox-ovf = {\n      source  = \"github.com/hashicorp/virtualbox\"\n      version = \"~> 1\"\n    }\n    ansible = {\n      source  = \"github.com/hashicorp/ansible\"\n      version = \"~> 1\"\n    }\n    kubearmor = {\n      version = \">= 0.0.1\"\n      source = \"github.com/kubearmor/kubearmor\"\n    }\n  }\n}\n\nsource \"virtualbox-ovf\" \"basic-example\" {\n  source_path = \"ubuntu20.ova\"\n  ssh_username = \"\"\n  ssh_password = \"\"\n  shutdown_command = \"echo 'packer' | sudo -S shutdown -P now\"\n}\n\nbuild {\n  name = \"learn-packer\"\n  sources = [\"sources.virtualbox-ovf.basic-example\"]\n  \n \n  provisioner \"ansible\" {\n    playbook_file = \"./ansible/conf.yml\"\n  }\n\n  provisioner \"kubearmor\" {\n    policyPath = \"/home/prateek/policies\"\n  }\n}\n```\n","created_at":"2024-03-31T23:40:52.349Z","updated_at":"2024-04-01T21:28:24.198Z","name":"KubeArmor","slug":"kubearmor","component":{"id":"418417de-2c71-46a1-8dbc-7e9ae777a22e","slug":"provisioner","name":"Provisioner","plural_name":"Provisioners","product_id":"4c2b00c6-7cc1-4e4c-b596-4ab57e319f21","created_at":"2022-11-09T22:56:31.054Z","updated_at":"2022-11-09T22:56:31.054Z"},"variable_groups":[]}]},"component":{"id":"9335ae0b-b5ca-4b7d-9a60-eedf2cc1ff75","integration_release_id":"9ce4a765-6a29-427f-82c2-a6095c6cb9af","component_id":"418417de-2c71-46a1-8dbc-7e9ae777a22e","readme":"Type: `kubearmor`\n\n  The KubeArmor provisioner will configure the build and provide the [KubeArmor Hardening Host Security Policies](https://docs.kubearmor.io/kubearmor/use-cases/hardening_guide). These hardening policies will be in the context of your workload, so you can see how they will be applied and what impact they will have on your system. This allows you to make informed decisions about which policies to apply, and helps you understand the trade-offs between security and functionality.\n\n\n<!-- Provisioner Configuration Fields -->\n\n### Required\n\n- `policyPath` (string) - directory where security policies will be stored the inside the build (Please use the path where the user has access to read, write and create).\n\n\n### Example Usage\n\nWith docker uase case :\n\n```hcl\npacker {\n  required_plugins {\n    docker = {\n      version = \">= 0.0.7\"\n      source = \"github.com/hashicorp/docker\"\n    }\n    kubearmor = {\n      version = \">= 0.0.1\"\n      source = \"github.com/kubearmor/kubearmor\"\n    }\n  }\n}\n\nsource \"docker\" \"ubuntu\" {\n  image  = \"ubuntu:xenial\"\n  commit = true\n}\n\nbuild {\n  name = \"learn-packer\"\n  sources = [\n    \"source.docker.ubuntu\"\n  ]\n\n  provisioner \"kubearmor\" {\n    policyPath = \"/policies\"\n  }\n}\n\n```\n\nWith virtualbox use case :\n\n```\npacker {\n  required_plugins {\n    virtualbox-ovf = {\n      source  = \"github.com/hashicorp/virtualbox\"\n      version = \"~> 1\"\n    }\n    ansible = {\n      source  = \"github.com/hashicorp/ansible\"\n      version = \"~> 1\"\n    }\n    kubearmor = {\n      version = \">= 0.0.1\"\n      source = \"github.com/kubearmor/kubearmor\"\n    }\n  }\n}\n\nsource \"virtualbox-ovf\" \"basic-example\" {\n  source_path = \"ubuntu20.ova\"\n  ssh_username = \"\"\n  ssh_password = \"\"\n  shutdown_command = \"echo 'packer' | sudo -S shutdown -P now\"\n}\n\nbuild {\n  name = \"learn-packer\"\n  sources = [\"sources.virtualbox-ovf.basic-example\"]\n  \n \n  provisioner \"ansible\" {\n    playbook_file = \"./ansible/conf.yml\"\n  }\n\n  provisioner \"kubearmor\" {\n    policyPath = \"/home/prateek/policies\"\n  }\n}\n```\n","created_at":"2024-03-31T23:40:52.349Z","updated_at":"2024-04-01T21:28:24.198Z","name":"KubeArmor","slug":"kubearmor","component":{"id":"418417de-2c71-46a1-8dbc-7e9ae777a22e","slug":"provisioner","name":"Provisioner","plural_name":"Provisioners","product_id":"4c2b00c6-7cc1-4e4c-b596-4ab57e319f21","created_at":"2022-11-09T22:56:31.054Z","updated_at":"2022-11-09T22:56:31.054Z"},"variable_groups":[]},"processedVariablesMarkdown":{},"anchorLinks":[{"id":"required","level":3,"title":"Required"},{"id":"example-usage","level":3,"title":"Example Usage"}],"serializedREADME":{"compiledSource":"const layoutProps={};const MDXLayout=\"wrapper\";function MDXContent({components,...props}){return mdx(MDXLayout,{...layoutProps,...props,components:components,mdxType:\"MDXLayout\"},mdx(\"p\",{\"className\":\"g-type-long-body\"},`Type: `,mdx(\"inlineCode\",{parentName:\"p\"},`kubearmor`)),mdx(\"p\",{\"className\":\"g-type-long-body\"},`  The KubeArmor provisioner will configure the build and provide the `,mdx(\"a\",{parentName:\"p\",\"href\":\"https://docs.kubearmor.io/kubearmor/use-cases/hardening_guide\"},`KubeArmor Hardening Host Security Policies`),`. These hardening policies will be in the context of your workload, so you can see how they will be applied and what impact they will have on your system. This allows you to make informed decisions about which policies to apply, and helps you understand the trade-offs between security and functionality.`),mdx(\"h3\",{\"id\":\"user-content-required\",\"data-text-content\":\"Required\",\"className\":\"g-type-display-4\"},`Required`),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"inlineCode\",{parentName:\"li\"},`policyPath`),` (string) - directory where security policies will be stored the inside the build (Please use the path where the user has access to read, write and create).`)),mdx(\"h3\",{\"id\":\"user-content-example-usage\",\"data-text-content\":\"Example Usage\",\"className\":\"g-type-display-4\"},`Example Usage`),mdx(\"p\",{\"className\":\"g-type-long-body\"},`With docker uase case :`),mdx(\"pre\",{\"className\":\"language-hcl\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-hcl\"},mdx(\"span\",{parentName:\"code\",\"className\":\"token keyword\"},`packer`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`{`),`\n`,`  `,mdx(\"span\",{parentName:\"code\",\"className\":\"token keyword\"},`required_plugins`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`{`),`\n`,`    `,mdx(\"span\",{parentName:\"code\",\"className\":\"token property\"},`docker`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`=`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`{`),`\n`,`      `,mdx(\"span\",{parentName:\"code\",\"className\":\"token property\"},`version`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`=`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token string\"},`\">= 0.0.7\"`),`\n`,`      `,mdx(\"span\",{parentName:\"code\",\"className\":\"token property\"},`source`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`=`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token string\"},`\"github.com/hashicorp/docker\"`),`\n`,`    `,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`}`),`\n`,`    `,mdx(\"span\",{parentName:\"code\",\"className\":\"token property\"},`kubearmor`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`=`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`{`),`\n`,`      `,mdx(\"span\",{parentName:\"code\",\"className\":\"token property\"},`version`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`=`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token string\"},`\">= 0.0.1\"`),`\n`,`      `,mdx(\"span\",{parentName:\"code\",\"className\":\"token property\"},`source`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`=`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token string\"},`\"github.com/kubearmor/kubearmor\"`),`\n`,`    `,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`}`),`\n`,`  `,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`}`),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`}`),`\n`,`\n`,`source `,mdx(\"span\",{parentName:\"code\",\"className\":\"token string\"},`\"docker\"`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token string\"},`\"ubuntu\"`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`{`),`\n`,`  `,mdx(\"span\",{parentName:\"code\",\"className\":\"token property\"},`image`),`  `,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`=`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token string\"},`\"ubuntu:xenial\"`),`\n`,`  `,mdx(\"span\",{parentName:\"code\",\"className\":\"token property\"},`commit`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`=`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token boolean\"},`true`),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`}`),`\n`,`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"token keyword\"},`build`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`{`),`\n`,`  `,mdx(\"span\",{parentName:\"code\",\"className\":\"token property\"},`name`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`=`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token string\"},`\"learn-packer\"`),`\n`,`  `,mdx(\"span\",{parentName:\"code\",\"className\":\"token property\"},`sources`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`=`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`[`),`\n`,`    `,mdx(\"span\",{parentName:\"code\",\"className\":\"token string\"},`\"source.docker.ubuntu\"`),`\n`,`  `,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`]`),`\n`,`\n`,`  `,mdx(\"span\",{parentName:\"code\",\"className\":\"token keyword\"},`provisioner`,mdx(\"span\",{parentName:\"span\",\"className\":\"token type variable\"},` \"kubearmor\" `)),mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`{`),`\n`,`    `,mdx(\"span\",{parentName:\"code\",\"className\":\"token property\"},`policyPath`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`=`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token string\"},`\"/policies\"`),`\n`,`  `,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`}`),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`}`),`\n`,`\n`)),mdx(\"p\",{\"className\":\"g-type-long-body\"},`With virtualbox use case :`),mdx(\"pre\",null,mdx(\"code\",{parentName:\"pre\"},`packer {`,`\n`,`  required_plugins {`,`\n`,`    virtualbox-ovf = {`,`\n`,`      source  = \"github.com/hashicorp/virtualbox\"`,`\n`,`      version = \"~> 1\"`,`\n`,`    }`,`\n`,`    ansible = {`,`\n`,`      source  = \"github.com/hashicorp/ansible\"`,`\n`,`      version = \"~> 1\"`,`\n`,`    }`,`\n`,`    kubearmor = {`,`\n`,`      version = \">= 0.0.1\"`,`\n`,`      source = \"github.com/kubearmor/kubearmor\"`,`\n`,`    }`,`\n`,`  }`,`\n`,`}`,`\n`,`\n`,`source \"virtualbox-ovf\" \"basic-example\" {`,`\n`,`  source_path = \"ubuntu20.ova\"`,`\n`,`  ssh_username = \"\"`,`\n`,`  ssh_password = \"\"`,`\n`,`  shutdown_command = \"echo 'packer' | sudo -S shutdown -P now\"`,`\n`,`}`,`\n`,`\n`,`build {`,`\n`,`  name = \"learn-packer\"`,`\n`,`  sources = [\"sources.virtualbox-ovf.basic-example\"]`,`\n`,`  `,`\n`,` `,`\n`,`  provisioner \"ansible\" {`,`\n`,`    playbook_file = \"./ansible/conf.yml\"`,`\n`,`  }`,`\n`,`\n`,`  provisioner \"kubearmor\" {`,`\n`,`    policyPath = \"/home/prateek/policies\"`,`\n`,`  }`,`\n`,`}`,`\n`)))};MDXContent.isMDXComponent=true;","scope":{}},"breadcrumbLinks":[{"title":"Developer","url":"/"},{"title":"Packer","url":"/packer"},{"title":"Integrations","url":"/packer/integrations"},{"title":"KubeArmor","url":"/packer/integrations/kubearmor/kubearmor","isCurrentPage":false},{"title":"v0.0.1","url":"/packer/integrations/kubearmor/kubearmor/v0.0.1","isCurrentPage":false},{"title":"Components"},{"title":"Provisioner"},{"title":"KubeArmor","url":"/packer/integrations/kubearmor/kubearmor/latest/components/provisioner/kubearmor","isCurrentPage":true}]},"__N_SSG":true}