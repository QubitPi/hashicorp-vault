<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><title>PKI secrets engine considerations | Vault | HashiCorp Developer</title><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta property="og:locale" content="en_US"/><meta property="og:type" content="website"/><meta property="article:publisher" content="https://www.facebook.com/HashiCorp/"/><meta name="twitter:site" content="@HashiCorp"/><meta name="twitter:card" content="summary_large_image"/><meta name="theme-color" content="#000"/><meta name="description" property="og:description" content="Understand the important considerations and guidance before using the PKI secrets engine to generate certificates before using the PKI secrets engine."/><meta name="twitter:description" content="Understand the important considerations and guidance before using the PKI secrets engine to generate certificates before using the PKI secrets engine."/><meta property="og:site_name" content="PKI secrets engine considerations | Vault | HashiCorp Developer"/><meta property="og:title" content="PKI secrets engine considerations | Vault | HashiCorp Developer"/><meta property="og:image" content="https://developer.hashicorp.com/og-image/vault.jpg"/><link rel="canonical" href="https://developer.hashicorp.com/vault/docs/secrets/pki/considerations"/><link rel="icon" href="/favicon.ico" sizes="48x48"/><link rel="icon" href="/favicon.svg" sizes="any" type="image/svg+xml"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta name="google-site-verification" content="zRQZqfAsOX-ypXfU0mzAIzb5rUvj5fA4Zw2jWJRN-JI"/><meta name="ahrefs-site-verification" content="9d739b21c466a84dae91df1c79396081a9072152e64f765c9390fed6f249fb84"/><meta name="zd-site-verification" content="xnvnvv1i0wl4tf0pzaymb" data-product="hcp"/><meta name="zd-site-verification" content="36fp2i1pj67d8cjtzf4fi9" data-product="terraform"/><meta name="zd-site-verification" content="nbe87kfyp1sck7b13vj1i" data-product="packer"/><meta name="zd-site-verification" content="wvsmmqa1cfb9am9zlwfj" data-product="consul"/><meta name="zd-site-verification" content="cw22oopfwr68ujj0n5pn9i" data-product="boundary"/><meta name="zd-site-verification" content="lkslvganwfgfqfwpdeicgh" data-product="vault"/><meta name="zd-site-verification" content="jl2wp2hoej9rz6c8rmqdns" data-product="nomad"/><meta name="zd-site-verification" content="2eb0cu6xceo73t0038m0tb" data-product="waypoint"/><meta name="zd-site-verification" content="n52xisxdf3higs2q9kuogd" data-product="vagrant"/><meta name="twitter:image" content="https://developer.hashicorp.com/og-image/vault.jpg"/><link rel="prefetch" href="https://www.datadoghq-browser-agent.com/datadog-rum-v4.js"/><script type="application/ld+json">[{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Developer","item":"https://developer.hashicorp.com/"},{"@type":"ListItem","position":2,"name":"Vault","item":"https://developer.hashicorp.com/vault"},{"@type":"ListItem","position":3,"name":"Documentation","item":"https://developer.hashicorp.com/vault/docs"},{"@type":"ListItem","position":4,"name":"Secrets Engines","item":"https://developer.hashicorp.com/vault/docs/secrets"},{"@type":"ListItem","position":5,"name":"PKI (Certificates)","item":"https://developer.hashicorp.com/vault/docs/secrets/pki"},{"@type":"ListItem","position":6,"name":"Considerations","item":"https://developer.hashicorp.com/vault/docs/secrets/pki/considerations"}]}]</script><meta name="next-head-count" content="32"/><link data-next-font="" rel="preconnect" href="/" crossorigin="anonymous"/><link rel="preload" href="/_next/static/css/f49486d3b4c819d0.css" as="style"/><link rel="stylesheet" href="/_next/static/css/f49486d3b4c819d0.css" data-n-g=""/><link rel="preload" href="/_next/static/css/a3fdbf75d77eb323.css" as="style"/><link rel="stylesheet" href="/_next/static/css/a3fdbf75d77eb323.css" data-n-p=""/><link rel="preload" href="/_next/static/css/a23a4d5b8f64c49d.css" as="style"/><link rel="stylesheet" href="/_next/static/css/a23a4d5b8f64c49d.css" data-n-p=""/><link rel="preload" href="/_next/static/css/686380cdcb9bba8b.css" as="style"/><link rel="stylesheet" href="/_next/static/css/686380cdcb9bba8b.css" data-n-p=""/><link rel="preload" href="/_next/static/css/7c3fb308d5c63fc7.css" as="style"/><link rel="stylesheet" href="/_next/static/css/7c3fb308d5c63fc7.css" data-n-p=""/><link rel="preload" href="/_next/static/css/ae09c8e2a5e8a685.css" as="style"/><link rel="stylesheet" href="/_next/static/css/ae09c8e2a5e8a685.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-78c92fac7aa8fdd8.js"></script><script src="/_next/static/chunks/webpack-842277f4ad2b003f.js" defer=""></script><script src="/_next/static/chunks/framework-7063787c3be570d0.js" defer=""></script><script src="/_next/static/chunks/main-7bf85f85b965ad61.js" defer=""></script><script src="/_next/static/chunks/pages/_app-b46a58c37365ba78.js" defer=""></script><script src="/_next/static/chunks/7166-70084e7c41a66411.js" defer=""></script><script src="/_next/static/chunks/1395-1eb65df04043100c.js" defer=""></script><script src="/_next/static/chunks/2273-6dfd48e8418afcdf.js" defer=""></script><script src="/_next/static/chunks/5675-7108b5e9113ea2a3.js" defer=""></script><script src="/_next/static/chunks/8604-305dcb3c7664513e.js" defer=""></script><script src="/_next/static/chunks/4491-4f141de99aaf30e2.js" defer=""></script><script src="/_next/static/chunks/9554-d740b5e666a16cc0.js" defer=""></script><script src="/_next/static/chunks/7427-61de0b9ecdc61a14.js" defer=""></script><script src="/_next/static/chunks/5261-c0c32f534b764eb3.js" defer=""></script><script src="/_next/static/chunks/6787-5406eb82ed1c8857.js" defer=""></script><script src="/_next/static/chunks/3786-bfb5477c5f7f7c76.js" defer=""></script><script src="/_next/static/chunks/8018-fcd135b5fa02ed8d.js" defer=""></script><script src="/_next/static/chunks/8577-a3048bd869a84460.js" defer=""></script><script src="/_next/static/chunks/pages/vault/docs/%5B...page%5D-92f9587c5d6b4de2.js" defer=""></script><script src="/_next/static/NDtsAYqVYjIWJg8hDtZ2I/_buildManifest.js" defer=""></script><script src="/_next/static/NDtsAYqVYjIWJg8hDtZ2I/_ssgManifest.js" defer=""></script></head><body><div id="__next"><div class="style_root__dZhZu"><a href="https://www.hashicorp.com/en/blog/hashicorp-officially-joins-the-ibm-family" class="style_linkElem__hCESK"><span class="style_textContainer__6CuI7 g-grid-container"><span class="style_tag__jbHGz g-type-body-small-x-strong">Acquisition complete<!-- --> </span><span class="style_text__rwS0u g-type-body-small">HashiCorp officially joins the IBM family.<span class="style_linkText__E8GJf g-type-body-small-x-strong"> <!-- -->Learn more</span></span></span></a><button class="style_closeButton__57J9w"><div><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 20 20"><path stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M15 5 5 15M5 5l10 10"/></svg></div><span style="position:absolute;border:0;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;word-wrap:normal">Dismiss alert</span></button></div><script type="text/javascript">
(function checkDismissAlertBanner() {
  try {
    if (document.cookie.includes('banner_hashicorp-officially-joins-the-ibm-family.=1')) {
      const element = document.querySelector('.style_root__dZhZu')
      element.classList.remove('style_isShown__D4mb6')
    }
  } catch (_) {
    // do nothing
  }
})()
</script><script>!function(){try{var d=document.documentElement,n='data-theme',s='setAttribute';var e=localStorage.getItem('theme');if('system'===e||(!e&&true)){var t='(prefers-color-scheme: dark)',m=window.matchMedia(t);if(m.media!==t||m.matches){d.style.colorScheme = 'dark';d[s](n,'dark')}else{d.style.colorScheme = 'light';d[s](n,'light')}}else if(e){d[s](n,e|| '')}if(e==='light'||e==='dark')d.style.colorScheme=e}catch(e){}}()</script><div class="core-dev-dot-layout_root__MT1PZ"><div class="base-layout_root___qiZs" data-layout="base-new"><div class="base-layout_header__XhkxS"><header class="navigation-header_root__oE_HT"><div class="navigation-header_leftSide__V0xlc"><div class="product-page-content_productsDropdown__haUyw"><nav aria-label="Main" data-orientation="horizontal" dir="ltr"><div class="dropdown-menu_root__Hwy5S"><div class="dropdown-menu_activatorWrapper__LxPRt"><button aria-controls="navigation-header-menu-react-aria-1" aria-expanded="false" aria-label="Main menu" class="dropdown-menu_activator__xXb00 g-focus-ring-from-box-shadow-dark product-page-content_productsDropdownButton__bnKKs"><span class="dropdown-menu_activatorLeadingIcon__YQQlH"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24" aria-hidden="true" class="product-page-content_productsDropdownIcon__gXtly"><g fill="currentColor"><path d="M10.336 1.5L2 6.268v11.456l3.131 1.793V8.061l5.205-2.979V1.5z"></path><path d="M13.664 1.5v9.123h-3.328V7.219L7.203 9.012V20.7l3.133 1.796V13.4h3.328v3.381l3.131-1.793V3.293L13.664 1.5z"></path><path d="M22 17.732L13.664 22.5v-3.582l5.203-2.98V4.484L22 6.276v11.456z"></path></g></svg></span><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="dropdown-menu_activatorTrailingIcon__r_cCd"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></button></div><div class="dropdown-menu_dropdownContainer__AZWxN" id="navigation-header-menu-react-aria-1" style="display:none"><div class="style_root__z3EwE style_productPanel__Z4UFi style_hasSide__15FV8 style_hasSide__ecwjD"><div class="style_mainPanel__MpQn1"><div class="style_column__9is2G style_hasSide__A3F31"><ul class="style_productCategories__j1h4T"><li class="style_productCategory__9UHKG"><span class="hds-text hdsplus-typography-body-300 style_eyebrow__OCUlS">Infrastructure Lifecycle Management</span><ul class="style_productList__uPlTj"><li><a aria-label="Terraform - Manage infrastructure as code" class="style_focusIndicator__uTVwt" data-radix-collection-item="" href="/terraform"><div class="style_productWrapper__ACHaw"><div class="style_productLogo__cTxLO"><svg class="flight-icon flight-icon-terraform-fill flight-icon-display-inline style_terraform__nU44i" aria-hidden="true" fill="currentColor" id=":R9imld6j6:" width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-terraform-fill-16"></use></svg></div><div class="style_productTextContent__o8DJ6"><span>Terraform</span><span class="style_productDesc__bi44f">Manage infrastructure as code</span></div></div></a></li><li><a aria-label="Packer - Build machine images" class="style_focusIndicator__uTVwt" data-radix-collection-item="" href="/packer"><div class="style_productWrapper__ACHaw"><div class="style_productLogo__cTxLO"><svg class="flight-icon flight-icon-packer-fill-color flight-icon-display-inline" aria-hidden="true" fill="currentColor" id=":Raimld6j6:" width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-packer-fill-color-16"></use></svg></div><div class="style_productTextContent__o8DJ6"><span>Packer</span><span class="style_productDesc__bi44f">Build machine images</span></div></div></a></li><li><a aria-label="Nomad - Orchestrate workloads" class="style_focusIndicator__uTVwt" data-radix-collection-item="" href="/nomad"><div class="style_productWrapper__ACHaw"><div class="style_productLogo__cTxLO"><svg class="flight-icon flight-icon-nomad-fill-color flight-icon-display-inline" aria-hidden="true" fill="currentColor" id=":Rbimld6j6:" width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-nomad-fill-color-16"></use></svg></div><div class="style_productTextContent__o8DJ6"><span>Nomad</span><span class="style_productDesc__bi44f">Orchestrate workloads</span></div></div></a></li><li><a aria-label="Waypoint - Standardize application patterns" class="style_focusIndicator__uTVwt" data-radix-collection-item="" href="/waypoint"><div class="style_productWrapper__ACHaw"><div class="style_productLogo__cTxLO"><svg class="flight-icon flight-icon-waypoint-fill-color flight-icon-display-inline" aria-hidden="true" fill="currentColor" id=":Rcimld6j6:" width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-waypoint-fill-color-16"></use></svg></div><div class="style_productTextContent__o8DJ6"><span>Waypoint</span><span class="style_productDesc__bi44f">Standardize application patterns</span></div></div></a></li><li><a aria-label="Vagrant - Build developer environments" class="style_focusIndicator__uTVwt" data-radix-collection-item="" href="/vagrant"><div class="style_productWrapper__ACHaw"><div class="style_productLogo__cTxLO"><svg class="flight-icon flight-icon-vagrant-fill-color flight-icon-display-inline" aria-hidden="true" fill="currentColor" id=":Rdimld6j6:" width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-vagrant-fill-color-16"></use></svg></div><div class="style_productTextContent__o8DJ6"><span>Vagrant</span><span class="style_productDesc__bi44f">Build developer environments</span></div></div></a></li></ul></li><li class="style_productCategory__9UHKG"><span class="hds-text hdsplus-typography-body-300 style_eyebrow__OCUlS">Security Lifecycle Management</span><ul class="style_productList__uPlTj"><li><a aria-label="Vault - Centrally manage secrets" class="style_focusIndicator__uTVwt" data-radix-collection-item="" href="/vault"><div class="style_productWrapper__ACHaw"><div class="style_productLogo__cTxLO"><svg class="flight-icon flight-icon-vault-fill-color flight-icon-display-inline" aria-hidden="true" fill="currentColor" id=":R9kmld6j6:" width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-vault-fill-color-16"></use></svg></div><div class="style_productTextContent__o8DJ6"><span>Vault</span><span class="style_productDesc__bi44f">Centrally manage secrets</span></div></div></a></li><li><a aria-label="Boundary - Secure remote access" class="style_focusIndicator__uTVwt" data-radix-collection-item="" href="/boundary"><div class="style_productWrapper__ACHaw"><div class="style_productLogo__cTxLO"><svg class="flight-icon flight-icon-boundary-fill-color flight-icon-display-inline" aria-hidden="true" fill="currentColor" id=":Rakmld6j6:" width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-boundary-fill-color-16"></use></svg></div><div class="style_productTextContent__o8DJ6"><span>Boundary</span><span class="style_productDesc__bi44f">Secure remote access</span></div></div></a></li><li><a aria-label="HCP Vault Secrets - Manage secrets as a service" class="style_focusIndicator__uTVwt" data-radix-collection-item="" href="/hcp/docs/vault-secrets"><div class="style_productWrapper__ACHaw"><div class="style_productLogo__cTxLO"><svg class="flight-icon flight-icon-vault-secrets flight-icon-display-inline style_hcpVaultSecrets__11wgG" aria-hidden="true" fill="currentColor" id=":Rbkmld6j6:" width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-vault-secrets-16"></use></svg></div><div class="style_productTextContent__o8DJ6"><span>HCP Vault Secrets</span><span class="style_productDesc__bi44f">Manage secrets as a service</span></div></div></a></li><li><a aria-label="Consul - Secure network services" class="style_focusIndicator__uTVwt" data-radix-collection-item="" href="/consul"><div class="style_productWrapper__ACHaw"><div class="style_productLogo__cTxLO"><svg class="flight-icon flight-icon-consul-fill-color flight-icon-display-inline" aria-hidden="true" fill="currentColor" id=":Rckmld6j6:" width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-consul-fill-color-16"></use></svg></div><div class="style_productTextContent__o8DJ6"><span>Consul</span><span class="style_productDesc__bi44f">Secure network services</span></div></div></a></li><li><a aria-label="HCP Vault Radar - Scan for embedded secrets" class="style_focusIndicator__uTVwt" data-radix-collection-item="" href="/hcp/docs/vault-radar"><div class="style_productWrapper__ACHaw"><div class="style_productLogo__cTxLO"><svg class="flight-icon flight-icon-vault-radar flight-icon-display-inline style_hcpVaultRadar__nukMV" aria-hidden="true" fill="currentColor" id=":Rdkmld6j6:" width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-vault-radar-16"></use></svg></div><div class="style_productTextContent__o8DJ6"><span>HCP Vault Radar</span><span class="style_productDesc__bi44f">Scan for embedded secrets</span></div></div></a></li></ul></li></ul></div><div class="style_promo__e6yXp style_hasSide__635Xt"><div class="style_icon__rYEcI"><svg class="flight-icon flight-icon-hashicorp flight-icon-display-inline" aria-hidden="true" fill="currentColor" id=":R36ld6j6:" width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-hashicorp-16"></use></svg></div><div class="style_rightContent__zvciM"><div><div class="style_title__eEtAF">HashiCorp Cloud Platform</div><div class="style_description__ATQzz">Get started in minutes with our cloud products</div></div><a class="style_link__U4Sfy" data-radix-collection-item="" href="/hcp">All HCP Products<svg class="flight-icon flight-icon-external-link flight-icon-display-inline" aria-hidden="true" fill="currentColor" id=":R2l6ld6j6:" width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-external-link-16"></use></svg></a></div></div></div><div class="style_column__9is2G style_sidePanel__qxYNB"><span class="hds-text hdsplus-typography-body-200 hds-font-weight-semibold">Learn</span><ul class="style_sidePanelItems__i8_HV"><li><a aria-label="Certifications - Get HashiCorp certified" class="style_sidePanelItem__j0j0G style_focusIndicator__uTVwt" href="/certifications"><div class="style_iconBackground__fn5_s"><svg class="flight-icon flight-icon-award flight-icon-display-inline" aria-hidden="true" fill="var(--token-color-foreground-faint)" id=":Rjald6j6:" width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-award-16"></use></svg></div><div class="style_sidePanelItemContent__xFcSA"><span class="hds-text hdsplus-typography-body-200 hds-font-weight-semibold">Certifications</span><span class="style_sidePanelItemDesc__UrOLh">Get HashiCorp certified</span></div></a></li><li><a aria-label="Tutorials - Learn HashiCorp products" class="style_sidePanelItem__j0j0G style_focusIndicator__uTVwt" href="/tutorials"><div class="style_iconBackground__fn5_s"><svg class="flight-icon flight-icon-learn flight-icon-display-inline" aria-hidden="true" fill="var(--token-color-foreground-faint)" id=":Rlald6j6:" width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-learn-16"></use></svg></div><div class="style_sidePanelItemContent__xFcSA"><span class="hds-text hdsplus-typography-body-200 hds-font-weight-semibold">Tutorials</span><span class="style_sidePanelItemDesc__UrOLh">Learn HashiCorp products</span></div></a></li><li><a aria-label="Validated Patterns - Field-tested patterns for using HashiCorp products" class="style_sidePanelItem__j0j0G style_focusIndicator__uTVwt" href="/validated-patterns"><div class="style_iconBackground__fn5_s"><svg class="flight-icon flight-icon-check-circle flight-icon-display-inline" aria-hidden="true" fill="var(--token-color-foreground-faint)" id=":Rnald6j6:" width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-check-circle-16"></use></svg></div><div class="style_sidePanelItemContent__xFcSA"><span class="hds-text hdsplus-typography-body-200 hds-font-weight-semibold">Validated Patterns</span><span class="style_sidePanelItemDesc__UrOLh">Field-tested patterns for using HashiCorp products</span></div></a></li><li><a aria-label="Well-Architected Framework - Adopt HashiCorp best practices" class="style_sidePanelItem__j0j0G style_focusIndicator__uTVwt" href="/well-architected-framework"><div class="style_iconBackground__fn5_s"><svg class="flight-icon flight-icon-layers flight-icon-display-inline" aria-hidden="true" fill="var(--token-color-foreground-faint)" id=":Rpald6j6:" width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-layers-16"></use></svg></div><div class="style_sidePanelItemContent__xFcSA"><span class="hds-text hdsplus-typography-body-200 hds-font-weight-semibold">Well-Architected Framework</span><span class="style_sidePanelItemDesc__UrOLh">Adopt HashiCorp best practices</span></div></a></li></ul></div></div></div></div></nav></div><div class="product-page-content_productLinkAndNav__YTzcr"><a aria-label="Vault home" class="product-icon-text-link_root__bNTSz g-focus-ring-from-box-shadow-dark" href="/vault"><div class="product-icon-text-lockup_root__358wV"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="product-icon-text-lockup_icon__Zp_5o"><path fill="var(--token-color-vault-brand)" d="M0 0l7.971 15.516L16 0H0zm6.732 6.16h-1.27V4.89h1.27v1.27zm0-1.906h-1.27V2.985h1.27v1.269zm1.904 3.81h-1.27v-1.27h1.27v1.27zm0-1.905h-1.27V4.89h1.27v1.27zm0-1.905h-1.27V2.985h1.27v1.269zm1.894 1.905H9.26V4.89h1.27v1.27zM9.26 4.254V2.985h1.27v1.269H9.26z"></path></svg><span class="product-icon-text-lockup_text__nHTL7 hds-typography-body-200">Vault</span></div></a><nav aria-label="Main" data-orientation="horizontal" dir="ltr" class="nav-bar-list-container_nav__C_i0_"><div style="position:relative"><ul data-orientation="horizontal" class="nav-bar-list-container_ul___04HI" dir="ltr"><li><a aria-label="Vault Install" class="primary-nav-link_root__RXZIC g-focus-ring-from-box-shadow-dark" href="/vault/install"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-medium primary-nav-link_linkText__58O0C">Install</span></a></li><li><a aria-label="Vault Tutorials" class="primary-nav-link_root__RXZIC g-focus-ring-from-box-shadow-dark" href="/vault/tutorials"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-medium primary-nav-link_linkText__58O0C">Tutorials</span></a></li><li><a aria-label="Vault Documentation" class="primary-nav-link_root__RXZIC g-focus-ring-from-box-shadow-dark" href="/vault/docs"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-medium primary-nav-link_linkText__58O0C">Documentation</span></a></li><li><a aria-label="Vault CLI" class="primary-nav-link_root__RXZIC g-focus-ring-from-box-shadow-dark" href="/vault/docs/commands"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-medium primary-nav-link_linkText__58O0C">CLI</span></a></li><li><a aria-label="Vault APIs" class="primary-nav-link_root__RXZIC g-focus-ring-from-box-shadow-dark" href="/vault/api-docs"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-medium primary-nav-link_linkText__58O0C">APIs</span></a></li><li><a aria-label="Vault Integrations" class="primary-nav-link_root__RXZIC g-focus-ring-from-box-shadow-dark" href="/vault/integrations"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-medium primary-nav-link_linkText__58O0C">Integrations</span></a></li><li><a aria-label="Vault Try Cloud" class="primary-nav-link_root__RXZIC g-focus-ring-from-box-shadow-dark" aria-describedby="opens-in-new-tab-label-react-aria-9" target="_blank" href="https://portal.cloud.hashicorp.com/sign-up"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-medium primary-nav-link_linkText__58O0C">Try Cloud</span><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><g fill="currentColor"><path d="M9 .75A.75.75 0 019.75 0h4.5c.206 0 .393.083.529.218l.001.002.002.001A.748.748 0 0115 .75v4.5a.75.75 0 01-1.5 0V2.56L7.28 8.78a.75.75 0 01-1.06-1.06l6.22-6.22H9.75A.75.75 0 019 .75z"></path><path d="M3.25 3.5a.75.75 0 00-.75.75v7.5c0 .414.336.75.75.75h7.5a.75.75 0 00.75-.75v-4a.75.75 0 011.5 0v4A2.25 2.25 0 0110.75 14h-7.5A2.25 2.25 0 011 11.75v-7.5A2.25 2.25 0 013.25 2h4a.75.75 0 010 1.5h-4z"></path></g></svg></a><span class="g-screen-reader-only" id="opens-in-new-tab-label-react-aria-9">(opens in new tab)</span></li></ul></div></nav></div></div><div class="navigation-header_rightSide___Vvh_"><button aria-label="Search" class="command-bar-activator_root__qgVMy g-focus-ring-from-box-shadow-dark"><span class="command-bar-activator_left__ATQTg"><span class="command-bar-activator_leadingIcon__jECP5"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M6.344.969a5.375 5.375 0 103.233 9.669l4.174 4.174a.75.75 0 001.06-1.061l-4.173-4.174A5.375 5.375 0 006.344.97zM2.469 6.344a3.875 3.875 0 117.75 0 3.875 3.875 0 01-7.75 0z" clip-rule="evenodd"></path></svg></span><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular command-bar-activator_text__pTZN_">Search</span></span><span class="command-bar-activator_right__XejfJ"><span class="g-screen-reader-only">Command or control key</span><span aria-hidden="true" class="badge_root___Z7Nt badge_small__GI0Zk badge_filled-neutral-dark-mode__VC3Ba command-bar-activator_keyBadge__xnKpi"><div class="cmd-ctrl-icon_root___TToz"><svg xmlns="http://www.w3.org/2000/svg" width="41" height="11" fill="none" viewBox="0 0 41 11"><path fill="#fff" fill-rule="evenodd" d="M4.125 2.063V3h2.25v-.937a2.062 2.062 0 1 1 2.063 2.062H7.5v2.25h.938a2.062 2.062 0 1 1-2.063 2.063V7.5h-2.25v.938a2.062 2.062 0 1 1-2.062-2.063H3v-2.25h-.937a2.062 2.062 0 1 1 2.062-2.062m-2.062-.938a.937.937 0 1 0 0 1.875H3v-.937a.937.937 0 0 0-.937-.938M7.5 7.5v.938a.937.937 0 1 0 .938-.938zM6.375 6.375v-2.25h-2.25v2.25zM2.063 7.5H3v.938a.937.937 0 1 1-.937-.938M7.5 3h.938a.937.937 0 1 0-.938-.937z" clip-rule="evenodd"/><path fill="#fff" d="M15.09 10.5 18.085 0h-1.097L14 10.5zM26.387 5.308c-.183-1.445-1.263-2.534-3.05-2.534C21.264 2.774 20 4.247 20 6.61c0 2.41 1.27 3.89 3.344 3.89 1.76 0 2.86-1.034 3.043-2.5H25.02c-.184.808-.792 1.247-1.682 1.247-1.172 0-1.898-.994-1.898-2.637 0-1.61.72-2.583 1.898-2.583.942 0 1.518.555 1.681 1.281zM28.6 1.041v1.897h-1.133v1.178H28.6v4.281c0 1.432.622 2.007 2.186 2.007.275 0 .537-.034.766-.075V9.158c-.196.02-.32.034-.537.034-.7 0-1.008-.35-1.008-1.15V4.115h1.545V2.938h-1.545V1.041zM33.207 10.356h1.407V5.911c0-1.048.752-1.767 1.819-1.767.249 0 .667.048.785.082V2.842a3.372 3.372 0 0 0-.628-.054c-.93 0-1.721.527-1.924 1.26h-.105v-1.13h-1.354zM38.638 10.356h1.407V0h-1.407z"/></svg></div></span><span class="g-screen-reader-only">K key</span><span aria-hidden="true" class="badge_root___Z7Nt badge_small__GI0Zk badge_filled-neutral-dark-mode__VC3Ba command-bar-activator_keyBadge__xnKpi"><div class="k-icon_root__a_5pR"><svg xmlns="http://www.w3.org/2000/svg" width="8" height="10" fill="none" viewBox="0 0 8 10"><path fill="#fff" d="M1.512 9.84v-3l.986-1.147L5.445 9.84h1.704L3.46 4.745 6.857.84H5.244L1.61 5.094h-.098V.84H.15v9z"/></svg></div></span></span></button><div class="navigation-header_authenticationControls__EP1LY"><div class="disclosure_root__rcBaW dropdown-disclosure_root__pzZlN dropdown-disclosure_list-position--right__WP_Kj"><button aria-controls="disclosure-react-aria-10-content" aria-expanded="false" aria-label="User menu" class="disclosure_activator__pORI0 activator_root__pOfAQ dropdown-disclosure_activator__nGgNo navigation-header_userDropdownDisclosureActivator__RayIV g-focus-ring-from-box-shadow-dark activator_hasIcon__5HO6W g-focus-ring-from-box-shadow"><span class="activator_childrenWrapper__kaK0w"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24" aria-hidden="true"><g fill="currentColor"><path fill-rule="evenodd" d="M12 3a5 5 0 100 10 5 5 0 000-10zM8.5 8a3.5 3.5 0 117 0 3.5 3.5 0 01-7 0z" clip-rule="evenodd"></path><path d="M7.75 14.5A4.75 4.75 0 003 19.25v1a.75.75 0 001.5 0v-1A3.25 3.25 0 017.75 16h8.5a3.25 3.25 0 013.25 3.25v1a.75.75 0 001.5 0v-1a4.75 4.75 0 00-4.75-4.75h-8.5z"></path></g></svg></span><span class="activator_chevronWrapper__4_AVG"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></span></button><div class="disclosure_contentContainer__QQ4kt dropdown-disclosure_content__ZZRPG undefined" id="disclosure-react-aria-10-content"><ul class="dropdown-disclosure_list__urBXU"><li class="list-item_root__ZdUej"><button class="list-item_button__nXy5K g-focus-ring-from-box-shadow"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-medium">Sign in</span></button></li><li class="list-item_root__ZdUej"><a class="list-item_link__l6lDd g-focus-ring-from-box-shadow" href="/sign-up"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-medium">Sign up</span></a></li><li class="list-item_root__ZdUej"><hr class="list-item_separator__cBVLs"/></li><li class="list-item_root__ZdUej user-dropdown-switcher_listItem__Q_GIj hds-font-weight-medium"><label class="theme-switcher_label__7Boh2 hds-typography-body-200" for="react-aria-12">Theme</label></li></ul></div></div></div><button aria-label="Open navigation menu" class="navigation-header_mobileMenuButton__74S4w"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24" aria-hidden="true"><g fill="currentColor"><path d="M2 5.75A.75.75 0 012.75 5h18.5a.75.75 0 010 1.5H2.75A.75.75 0 012 5.75zM2 11.75a.75.75 0 01.75-.75h18.5a.75.75 0 010 1.5H2.75a.75.75 0 01-.75-.75zM2.75 17a.75.75 0 000 1.5h18.5a.75.75 0 000-1.5H2.75z"></path></g></svg></button></div></header></div><div class="base-layout_contentArea__BMvQn"><div class="sidebar-sidecar-layout_root__h5rD8 sidebar-sidecar-layout_mainWidth-narrow__FhCbs"><div class="mobile-menu-container_root__fPUFu sidebar-sidecar-layout_sidebarContainer__4fcF8"><div class="sidebar-sidecar-layout_sidebarContentWrapper__ftn5q"><div class="sidebar-sidecar-layout_sidePadding__iwNw_"><div class="sidebar_sidebar___fTlC"><div class="sidebar_backToLinkWrapper__F6iLs"><div class="sidebar-back-to-link_root__z_Hj1"><a class="standalone-link_standaloneLink__ahuej g-focus-ring-from-box-shadow standalone-link_primary__ESNCA" href="/vault"><div class="standalone-link_standaloneLinkContents__4I2XN standalone-link_medium__J2yVM"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M10.795 3.235a.75.75 0 01-.03 1.06L6.842 8l3.923 3.705a.75.75 0 01-1.03 1.09l-4.5-4.25a.75.75 0 010-1.09l4.5-4.25a.75.75 0 011.06.03z" clip-rule="evenodd"></path></svg><span class="standalone-link_text__7GEyG">Vault Home</span></div></a></div></div><div class="sidebar_filterInputWrapper__0_l_Y"><div class="filter-input_filterInputContainer__thZt3"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="filter-input_filterIcon__UET0p filter-input_sharedIconColorAndPositioning__hXPit"><g fill="currentColor"><path d="M1 3.75A.75.75 0 011.75 3h12.5a.75.75 0 010 1.5H1.75A.75.75 0 011 3.75zM3.5 7.75A.75.75 0 014.25 7h7.5a.75.75 0 010 1.5h-7.5a.75.75 0 01-.75-.75zM6.75 11a.75.75 0 000 1.5h2.5a.75.75 0 000-1.5h-2.5z"></path></g></svg><input class="filter-input_filterInput__hga4N g-focus-ring-from-box-shadow" placeholder="Filter sidebar" autoComplete="off" autoCorrect="off" autoCapitalize="none" spellcheck="false" value=""/></div></div><nav aria-labelledby="sidebar-label" class="sidebar_nav__IworY" id="sidebar-nav"><div class="g-screen-reader-only"><h2 class="sidebar-headings_root__tGfxC" id="sidebar-label">Documentation</h2></div><ul class="sidebar_navList__4Rg4g"><li><a class="sidebar-nav-highlight-item_root___pPhp g-focus-ring-from-box-shadow sidebar-nav-highlight-item_theme-vault__GzzUx" href="/vault/docs"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="sidebar-nav-highlight-item_icon__G8JxG"><path fill="var(--token-color-vault-brand)" d="M0 0l7.971 15.516L16 0H0zm6.732 6.16h-1.27V4.89h1.27v1.27zm0-1.906h-1.27V2.985h1.27v1.269zm1.904 3.81h-1.27v-1.27h1.27v1.27zm0-1.905h-1.27V4.89h1.27v1.27zm0-1.905h-1.27V2.985h1.27v1.269zm1.894 1.905H9.26V4.89h1.27v1.27zM9.26 4.254V2.985h1.27v1.269H9.26z"></path></svg><span class="sidebar-nav-highlight-item_text__VORFJ hds-typography-body-200">Documentation</span></a></li><li id="sidebar-nav-item-0"><button class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" id="sidebar-nav-item-0-button"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">About Vault</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></div></button></li><li id="sidebar-nav-item-11"><button class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" id="sidebar-nav-item-11-button"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Partnerships</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></div></button></li><li id="sidebar-nav-item-17"><button class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" id="sidebar-nav-item-17-button"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Key concepts</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></div></button></li><li id="sidebar-nav-item-59"><button class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" id="sidebar-nav-item-59-button"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Quickstarts</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></div></button></li><li id="sidebar-nav-item-64"><hr class="sidebar-horizontal-rule_root__UY7oh"/></li><li id="sidebar-nav-item-65"><h3 class="sidebar-headings_root__tGfxC">OPERATIONS</h3></li><li id="sidebar-nav-item-66"><button class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" id="sidebar-nav-item-66-button"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Get Vault</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></div></button></li><li id="sidebar-nav-item-73"><button class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" id="sidebar-nav-item-73-button"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">License Vault</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></div></button></li><li id="sidebar-nav-item-81"><button class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" id="sidebar-nav-item-81-button"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Configure Vault</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></div></button></li><li id="sidebar-nav-item-148"><button class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" id="sidebar-nav-item-148-button"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Deploy Vault</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></div></button></li><li id="sidebar-nav-item-211"><button class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" id="sidebar-nav-item-211-button"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Upgrade Vault</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></div></button></li><li id="sidebar-nav-item-216"><button class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" id="sidebar-nav-item-216-button"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Recent updates</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></div></button></li><li id="sidebar-nav-item-221"><hr class="sidebar-horizontal-rule_root__UY7oh"/></li><li id="sidebar-nav-item-222"><button class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" id="sidebar-nav-item-222-button"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Internals</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></div></button></li><li id="sidebar-nav-item-252"><button class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" id="sidebar-nav-item-252-button"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Vault CLI</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></div></button></li><li id="sidebar-nav-item-380"><button class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" id="sidebar-nav-item-380-button"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Vault GUI</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></div></button></li><li id="sidebar-nav-item-385"><button class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" id="sidebar-nav-item-385-button"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Vault tools: Agent and Proxy</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></div></button></li><li id="sidebar-nav-item-429"><hr class="sidebar-horizontal-rule_root__UY7oh"/></li><li id="sidebar-nav-item-430"><button aria-controls="sidebar-nav-item-430-list" aria-expanded="true" class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" id="sidebar-nav-item-430-button"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Secrets Engines</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></div></button><ul id="sidebar-nav-item-430-list"><li id="sidebar-nav-item-431"><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" href="/vault/docs/secrets"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Overview</span></a></li><li id="sidebar-nav-item-432"><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" href="/vault/docs/secrets/alicloud"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">AliCloud</span></a></li><li id="sidebar-nav-item-433"><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" href="/vault/docs/secrets/aws"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">AWS</span></a></li><li id="sidebar-nav-item-434"><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" href="/vault/docs/secrets/azure"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Azure</span></a></li><li id="sidebar-nav-item-435"><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" href="/vault/docs/secrets/consul"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Consul</span></a></li><li id="sidebar-nav-item-436"><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" href="/vault/docs/secrets/cubbyhole"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Cubbyhole</span></a></li><li id="sidebar-nav-item-437"><button class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" id="sidebar-nav-item-437-button"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Databases</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></div></button></li><li id="sidebar-nav-item-456"><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" href="/vault/docs/secrets/gcp"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Google Cloud</span></a></li><li id="sidebar-nav-item-457"><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" href="/vault/docs/secrets/gcpkms"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Google Cloud KMS</span></a></li><li id="sidebar-nav-item-458"><button class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" id="sidebar-nav-item-458-button"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Identity</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></div></button></li><li id="sidebar-nav-item-468"><button class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" id="sidebar-nav-item-468-button"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Key Management</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><span class="g-screen-reader-only">ENT</span><span aria-hidden="true" class="badge_root___Z7Nt badge_small__GI0Zk badge_filled-neutral__NhUW0"><span>ENT</span></span><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></div></button></li><li id="sidebar-nav-item-477"><button class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" id="sidebar-nav-item-477-button"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Key/Value</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></div></button></li><li id="sidebar-nav-item-495"><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" href="/vault/docs/secrets/kmip"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">KMIP</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><span class="g-screen-reader-only">ENT</span><span aria-hidden="true" class="badge_root___Z7Nt badge_small__GI0Zk badge_filled-neutral__NhUW0"><span>ENT</span></span></div></a></li><li id="sidebar-nav-item-496"><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" href="/vault/docs/secrets/kubernetes"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Kubernetes</span></a></li><li id="sidebar-nav-item-497"><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" href="/vault/docs/secrets/mongodbatlas"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">MongoDB Atlas</span></a></li><li id="sidebar-nav-item-498"><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" href="/vault/docs/secrets/nomad"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Nomad</span></a></li><li id="sidebar-nav-item-499"><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" href="/vault/docs/secrets/ldap"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">LDAP</span></a></li><li id="sidebar-nav-item-500"><button aria-controls="sidebar-nav-item-500-list" aria-expanded="true" class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" id="sidebar-nav-item-500-button"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">PKI (Certificates)</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></div></button><ul id="sidebar-nav-item-500-list"><li id="sidebar-nav-item-501"><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" href="/vault/docs/secrets/pki"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Overview</span></a></li><li id="sidebar-nav-item-502"><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" href="/vault/docs/secrets/pki/setup"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Setup and Usage</span></a></li><li id="sidebar-nav-item-503"><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" href="/vault/docs/secrets/pki/quick-start-root-ca"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Quick Start - Root CA Setup</span></a></li><li id="sidebar-nav-item-504"><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" href="/vault/docs/secrets/pki/quick-start-intermediate-ca"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Quick Start - Intermediate CA Setup</span></a></li><li id="sidebar-nav-item-505"><a aria-current="page" class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" href="/vault/docs/secrets/pki/considerations"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Considerations</span></a></li><li id="sidebar-nav-item-506"><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" href="/vault/docs/secrets/pki/rotation-primitives"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Rotation Primitives</span></a></li><li id="sidebar-nav-item-507"><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" href="/vault/docs/secrets/pki/cieps"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Certificate Issuance External Policy Service (CIEPS)</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><span class="g-screen-reader-only">ENT</span><span aria-hidden="true" class="badge_root___Z7Nt badge_small__GI0Zk badge_filled-neutral__NhUW0"><span>ENT</span></span></div></a></li><li id="sidebar-nav-item-508"><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" href="/vault/docs/secrets/pki/est"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Enrollment over Secure Transport (EST)</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><span class="g-screen-reader-only">ENT</span><span aria-hidden="true" class="badge_root___Z7Nt badge_small__GI0Zk badge_filled-neutral__NhUW0"><span>ENT</span></span></div></a></li><li id="sidebar-nav-item-509"><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" href="/vault/docs/secrets/pki/cmpv2"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Certificate Management Protocol (CMPv2)</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><span class="g-screen-reader-only">ENT</span><span aria-hidden="true" class="badge_root___Z7Nt badge_small__GI0Zk badge_filled-neutral__NhUW0"><span>ENT</span></span></div></a></li><li id="sidebar-nav-item-510"><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" href="/vault/docs/secrets/pki/troubleshooting-acme"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Troubleshooting ACME</span></a></li></ul></li><li id="sidebar-nav-item-511"><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" href="/vault/docs/secrets/rabbitmq"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">RabbitMQ</span></a></li><li id="sidebar-nav-item-512"><button class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" id="sidebar-nav-item-512-button"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">SSH</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></div></button></li><li id="sidebar-nav-item-516"><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" href="/vault/docs/secrets/terraform"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">HCP Terraform</span></a></li><li id="sidebar-nav-item-517"><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" href="/vault/docs/secrets/totp"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">TOTP</span></a></li><li id="sidebar-nav-item-518"><button class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" id="sidebar-nav-item-518-button"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Transform</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><span class="g-screen-reader-only">ENT</span><span aria-hidden="true" class="badge_root___Z7Nt badge_small__GI0Zk badge_filled-neutral__NhUW0"><span>ENT</span></span><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></div></button></li><li id="sidebar-nav-item-522"><button class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" id="sidebar-nav-item-522-button"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Transit</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></div></button></li></ul></li><li id="sidebar-nav-item-525"><button class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" id="sidebar-nav-item-525-button"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Secrets Sync</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><span class="g-screen-reader-only">ENT</span><span aria-hidden="true" class="badge_root___Z7Nt badge_small__GI0Zk badge_filled-neutral__NhUW0"><span>ENT</span></span><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></div></button></li><li id="sidebar-nav-item-532"><button class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" id="sidebar-nav-item-532-button"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Secrets Import</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><span class="g-screen-reader-only">ENT</span><span aria-hidden="true" class="badge_root___Z7Nt badge_small__GI0Zk badge_filled-neutral__NhUW0"><span>ENT</span></span><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></div></button></li><li id="sidebar-nav-item-536"><button class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" id="sidebar-nav-item-536-button"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">AuthN methods</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></div></button></li><li id="sidebar-nav-item-584"><button class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" id="sidebar-nav-item-584-button"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Audit Devices</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></div></button></li><li id="sidebar-nav-item-589"><button class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" id="sidebar-nav-item-589-button"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Plugins</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></div></button></li><li id="sidebar-nav-item-602"><button class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" id="sidebar-nav-item-602-button"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Troubleshoot Vault</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></div></button></li><li id="sidebar-nav-item-607"><hr class="sidebar-horizontal-rule_root__UY7oh"/></li><li id="sidebar-nav-item-608"><button class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" id="sidebar-nav-item-608-button"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Platforms</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></div></button></li><li id="sidebar-nav-item-624"><hr class="sidebar-horizontal-rule_root__UY7oh"/></li><li id="sidebar-nav-item-625"><button class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" id="sidebar-nav-item-625-button"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Vault Enterprise</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></div></button></li><li id="sidebar-nav-item-674"><hr class="sidebar-horizontal-rule_root__UY7oh"/></li><li id="sidebar-nav-item-675"><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" href="/vault/docs/glossary"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Glossary</span></a></li></ul><hr class="sidebar-horizontal-rule_root__UY7oh"/><ul class="sidebar_navList__4Rg4g"><li><h3 class="sidebar-headings_root__tGfxC">Resources</h3></li><li><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" href="/tutorials/library?product=vault"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Tutorial Library</span></a></li><li><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" href="/certifications/security-automation"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Certifications</span></a></li><li><a aria-label="Community Forum. Opens in a new tab." class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" rel="noreferrer noopener" aria-describedby="opens-in-new-tab-label-react-aria-44" target="_blank" href="https://discuss.hashicorp.com/c/vault/30"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Community Forum</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><g fill="currentColor"><path d="M9 .75A.75.75 0 019.75 0h4.5c.206 0 .393.083.529.218l.001.002.002.001A.748.748 0 0115 .75v4.5a.75.75 0 01-1.5 0V2.56L7.28 8.78a.75.75 0 01-1.06-1.06l6.22-6.22H9.75A.75.75 0 019 .75z"></path><path d="M3.25 3.5a.75.75 0 00-.75.75v7.5c0 .414.336.75.75.75h7.5a.75.75 0 00.75-.75v-4a.75.75 0 011.5 0v4A2.25 2.25 0 0110.75 14h-7.5A2.25 2.25 0 011 11.75v-7.5A2.25 2.25 0 013.25 2h4a.75.75 0 010 1.5h-4z"></path></g></svg></div></a><span class="g-screen-reader-only" id="opens-in-new-tab-label-react-aria-44">(opens in new tab)</span></li><li><a aria-label="Support. Opens in a new tab." class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" rel="noreferrer noopener" aria-describedby="opens-in-new-tab-label-react-aria-45" target="_blank" href="https://www.hashicorp.com/customer-success"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Support</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><g fill="currentColor"><path d="M9 .75A.75.75 0 019.75 0h4.5c.206 0 .393.083.529.218l.001.002.002.001A.748.748 0 0115 .75v4.5a.75.75 0 01-1.5 0V2.56L7.28 8.78a.75.75 0 01-1.06-1.06l6.22-6.22H9.75A.75.75 0 019 .75z"></path><path d="M3.25 3.5a.75.75 0 00-.75.75v7.5c0 .414.336.75.75.75h7.5a.75.75 0 00.75-.75v-4a.75.75 0 011.5 0v4A2.25 2.25 0 0110.75 14h-7.5A2.25 2.25 0 011 11.75v-7.5A2.25 2.25 0 013.25 2h4a.75.75 0 010 1.5h-4z"></path></g></svg></div></a><span class="g-screen-reader-only" id="opens-in-new-tab-label-react-aria-45">(opens in new tab)</span></li><li><a aria-label="GitHub. Opens in a new tab." class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" rel="noreferrer noopener" aria-describedby="opens-in-new-tab-label-react-aria-46" target="_blank" href="https://github.com/hashicorp/vault"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">GitHub</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><g fill="currentColor"><path d="M9 .75A.75.75 0 019.75 0h4.5c.206 0 .393.083.529.218l.001.002.002.001A.748.748 0 0115 .75v4.5a.75.75 0 01-1.5 0V2.56L7.28 8.78a.75.75 0 01-1.06-1.06l6.22-6.22H9.75A.75.75 0 019 .75z"></path><path d="M3.25 3.5a.75.75 0 00-.75.75v7.5c0 .414.336.75.75.75h7.5a.75.75 0 00.75-.75v-4a.75.75 0 011.5 0v4A2.25 2.25 0 0110.75 14h-7.5A2.25 2.25 0 011 11.75v-7.5A2.25 2.25 0 013.25 2h4a.75.75 0 010 1.5h-4z"></path></g></svg></div></a><span class="g-screen-reader-only" id="opens-in-new-tab-label-react-aria-46">(opens in new tab)</span></li></ul></nav></div></div></div></div><div class="sidebar-sidecar-layout_contentWrapper__Z5BK4"><div class="sidebar-sidecar-layout_paddedAreaWrapper___S_Ff"><div class="sidebar-sidecar-layout_breadcrumbContainer__3uz7P"><div class="sidebar-sidecar-layout_breadcrumbMaxWidth__coOcu"><nav aria-label="Breadcrumb" class="breadcrumb-bar_root__wd_C5"><ol class="breadcrumb-bar_listRoot__8eupO"><li class="text_root__r0DFB hds-typography-body-100 hds-font-weight-medium breadcrumb-bar_listItem__2sevd"><a class="breadcrumb-bar_breadcrumbText__JvOrd g-focus-ring-from-box-shadow" href="/">Developer</a></li><li class="text_root__r0DFB hds-typography-body-100 hds-font-weight-medium breadcrumb-bar_listItem__2sevd"><a class="breadcrumb-bar_breadcrumbText__JvOrd g-focus-ring-from-box-shadow" href="/vault">Vault</a></li><li class="text_root__r0DFB hds-typography-body-100 hds-font-weight-medium breadcrumb-bar_listItem__2sevd"><a class="breadcrumb-bar_breadcrumbText__JvOrd g-focus-ring-from-box-shadow" href="/vault/docs">Documentation</a></li><li class="text_root__r0DFB hds-typography-body-100 hds-font-weight-medium breadcrumb-bar_listItem__2sevd"><a class="breadcrumb-bar_breadcrumbText__JvOrd g-focus-ring-from-box-shadow" href="/vault/docs/secrets">Secrets Engines</a></li><li class="text_root__r0DFB hds-typography-body-100 hds-font-weight-medium breadcrumb-bar_listItem__2sevd"><a class="breadcrumb-bar_breadcrumbText__JvOrd g-focus-ring-from-box-shadow" href="/vault/docs/secrets/pki">PKI (Certificates)</a></li><li class="text_root__r0DFB hds-typography-body-100 hds-font-weight-medium breadcrumb-bar_listItem__2sevd"><span class="breadcrumb-bar_breadcrumbText__JvOrd g-focus-ring-from-box-shadow" aria-current="page">Considerations</span></li></ol></nav></div></div><div class="sidebar-sidecar-layout_mainAndSidecar__UDm3Z"><main id="main" class="sidebar-sidecar-layout_main__0SN51"><div class="docs-page-heading_root__QuBg_ docs-view_docsPageHeading___xkrK"><div class="docs-page-heading_pageHeadingWrapper__LEMQ7"><h1 class="hds-typography-display-600 hds-font-weight-bold docs-plain-page-heading_root__HzRuX g-offset-scroll-margin-top" id="pki-secrets-engine-considerations">PKI secrets engine considerations</h1></div></div><div class="dev-dot-content_root__UJDct hds-typography-body-300"><div class="docs-view_mdxContent___uMnx"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">To successfully deploy this secrets engine, there are a number of important
considerations to be aware of, as well as some preparatory steps that should be
undertaken. You should read all of these <em>before</em> using this secrets engine or
generating the CA to use with this secrets engine.</p><h2 id="table-of-contents" class="hds-typography-display-500 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h2__9ZcX_"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h2__CA9g8" aria-label="table of contents permalink" href="/vault/docs/secrets/pki/considerations#table-of-contents"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Table of contents</h2><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/vault/docs/secrets/pki/considerations#be-careful-with-root-cas">Be Careful with Root CAs</a><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/vault/docs/secrets/pki/considerations#managed-keys">Managed Keys</a></li></ul></li><li class="mdx-lists_listItem__nkqhg"><a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/vault/docs/secrets/pki/considerations#one-ca-certificate-one-secrets-engine">One CA Certificate, One Secrets Engine</a><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/vault/docs/secrets/pki/considerations#always-configure-a-default-issuer">Always Configure a Default Issuer</a></li></ul></li><li class="mdx-lists_listItem__nkqhg"><a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/vault/docs/secrets/pki/considerations#key-types-matter">Key Types Matter</a><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/vault/docs/secrets/pki/considerations#cluster-performance-and-key-types">Cluster Performance and Key Types</a></li></ul></li><li class="mdx-lists_listItem__nkqhg"><a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/vault/docs/secrets/pki/considerations#use-a-ca-hierarchy">Use a CA Hierarchy</a><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/vault/docs/secrets/pki/considerations#cross-signed-intermediates">Cross-Signed Intermediates</a></li></ul></li><li class="mdx-lists_listItem__nkqhg"><a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/vault/docs/secrets/pki/considerations#cluster-urls-are-important">Cluster URLs are Important</a></li><li class="mdx-lists_listItem__nkqhg"><a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/vault/docs/secrets/pki/considerations#automate-rotation-with-acme">Automate Rotation with ACME</a><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/vault/docs/secrets/pki/considerations#acme-stores-certificates">ACME Stores Certificates</a></li><li class="mdx-lists_listItem__nkqhg"><a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/vault/docs/secrets/pki/considerations#acme-role-restrictions-require-eab">ACME Role Restrictions Require EAB</a></li><li class="mdx-lists_listItem__nkqhg"><a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/vault/docs/secrets/pki/considerations#acme-and-the-public-internet">ACME and the Public Internet</a></li><li class="mdx-lists_listItem__nkqhg"><a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/vault/docs/secrets/pki/considerations#acme-errors-are-in-server-logs">ACME Errors are in Server Logs</a></li><li class="mdx-lists_listItem__nkqhg"><a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/vault/docs/secrets/pki/considerations#acme-security-considerations">ACME Security Considerations</a></li><li class="mdx-lists_listItem__nkqhg"><a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/vault/docs/secrets/pki/considerations#acme-and-client-counting">ACME and Client Counting</a></li></ul></li><li class="mdx-lists_listItem__nkqhg"><a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/vault/docs/secrets/pki/considerations#keep-certificate-lifetimes-short-for-crls-sake">Keep Certificate Lifetimes Short, For CRL&#x27;s Sake</a><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/vault/docs/secrets/pki/considerations#notafter-behavior-on-leaf-certificates">NotAfter Behavior on Leaf Certificates</a></li><li class="mdx-lists_listItem__nkqhg"><a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/vault/docs/secrets/pki/considerations#cluster-performance-and-quantity-of-leaf-certificates">Cluster Performance and Quantity of Leaf Certificates</a></li></ul></li><li class="mdx-lists_listItem__nkqhg"><a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/vault/docs/secrets/pki/considerations#you-must-configure-issuingcrlocsp-information-_in-advance_">You must configure issuing/CRL/OCSP information <em>in advance</em></a></li><li class="mdx-lists_listItem__nkqhg"><a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/vault/docs/secrets/pki/considerations#distribution-of-crls-and-ocsp">Distribution of CRLs and OCSP</a></li><li class="mdx-lists_listItem__nkqhg"><a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/vault/docs/secrets/pki/considerations#automate-crl-building-and-tidying">Automate CRL Building and Tidying</a></li><li class="mdx-lists_listItem__nkqhg"><a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/vault/docs/secrets/pki/considerations#spectrum-of-revocation-support">Spectrum of Revocation Support</a><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/vault/docs/secrets/pki/considerations#what-are-cross-cluster-crls">What Are Cross-Cluster CRLs?</a></li></ul></li><li class="mdx-lists_listItem__nkqhg"><a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/vault/docs/secrets/pki/considerations#issuer-subjects-and-crls">Issuer Subjects and CRLs</a></li><li class="mdx-lists_listItem__nkqhg"><a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/vault/docs/secrets/pki/considerations#automate-leaf-certificate-renewal">Automate Leaf Certificate Renewal</a></li><li class="mdx-lists_listItem__nkqhg"><a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/vault/docs/secrets/pki/considerations#safe-minimums">Safe Minimums</a></li><li class="mdx-lists_listItem__nkqhg"><a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/vault/docs/secrets/pki/considerations#token-lifetimes-and-revocation">Token Lifetimes and Revocation</a></li><li class="mdx-lists_listItem__nkqhg"><a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/vault/docs/secrets/pki/considerations#safe-usage-of-roles">Safe Usage of Roles</a></li><li class="mdx-lists_listItem__nkqhg"><a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/vault/docs/secrets/pki/considerations#telemetry">Telemetry</a></li><li class="mdx-lists_listItem__nkqhg"><a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/vault/docs/secrets/pki/considerations#auditing">Auditing</a></li><li class="mdx-lists_listItem__nkqhg"><a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/vault/docs/secrets/pki/considerations#role-based-access">Role-Based Access</a></li><li class="mdx-lists_listItem__nkqhg"><a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/vault/docs/secrets/pki/considerations#replicated-datasets">Replicated DataSets</a></li><li class="mdx-lists_listItem__nkqhg"><a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/vault/docs/secrets/pki/considerations#cluster-scalability">Cluster Scalability</a></li><li class="mdx-lists_listItem__nkqhg"><a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/vault/docs/secrets/pki/considerations#pss-support">PSS Support</a></li><li class="mdx-lists_listItem__nkqhg"><a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/vault/docs/secrets/pki/considerations#issuer-storage-migration-issues">Issuer Storage Migration Issues</a></li><li class="mdx-lists_listItem__nkqhg"><a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/vault/docs/secrets/pki/considerations#issuer-constraints-enforcement">Issuer Constraints Enforcement</a></li><li class="mdx-lists_listItem__nkqhg"><a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/vault/docs/secrets/pki/considerations#tutorial">Tutorial</a></li><li class="mdx-lists_listItem__nkqhg"><a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/vault/docs/secrets/pki/considerations#api">API</a></li></ul><h2 id="be-careful-with-root-cas" class="hds-typography-display-500 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h2__9ZcX_"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h2__CA9g8" aria-label="be careful with root cas permalink" href="/vault/docs/secrets/pki/considerations#be-careful-with-root-cas"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Be careful with root CAs</h2><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Vault storage is secure, but not as secure as a piece of paper in a bank vault.
It is, after all, networked software. If your root CA is hosted outside of
Vault, don&#x27;t put it in Vault as well; instead, issue a shorter-lived
intermediate CA certificate and put this into Vault. This aligns with industry
best practices.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Since 0.4, the secrets engine supports generating self-signed root CAs and
creating and signing CSRs for intermediate CAs. In each instance, for security
reasons, the private key can <em>only</em> be exported at generation time, and the
ability to do so is part of the command path (so it can be put into ACL
policies).</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">If you plan on using intermediate CAs with Vault, it is suggested that you let
Vault create CSRs and do not export the private key, then sign those with your
root CA (which may be a second mount of the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">pki</code> secrets engine).</p><h3 id="managed-keys" class="hds-typography-display-400 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h3__xmS_z"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h3__SkrrS" aria-label="managed keys permalink" href="/vault/docs/secrets/pki/considerations#managed-keys"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Managed keys</h3><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Since 1.10, Vault Enterprise can access private key material in a
<a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/vault/docs/enterprise/managed-keys"><em>managed key</em></a>.  In this case, Vault never sees the
private key, and the external KMS or HSM performs certificate signing operations.
Managed keys are configured by selecting the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">kms</code> type when generating a root
or intermediate.</p><h2 id="one-ca-certificate-one-secrets-engine" class="hds-typography-display-500 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h2__9ZcX_"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h2__CA9g8" aria-label="one ca certificate one secrets engine permalink" href="/vault/docs/secrets/pki/considerations#one-ca-certificate-one-secrets-engine"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>One CA certificate, one secrets engine</h2><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Since Vault 1.11.0, the PKI Secrets Engine supports multiple issuers in a single
mount. However, in order to simplify the configuration, it is <em>strongly</em>
recommended that operators limit a mount to a single issuer. If you want to issue
certificates from multiple disparate CAs, mount the PKI secrets engine at multiple
mount points with separate CA certificates in each.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">The rationale for separating mounts is to simplify permissions management:
very few individuals need access to perform operations with the root, but
many need access to create leaves. The operations on a root should generally
be limited to issuing and revoking intermediate CAs, which is a highly
privileged operation; it becomes much easier to audit these operations when
they&#x27;re in a separate mount than if they&#x27;re mixed in with day-to-day leaf
issuance.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">A common pattern is to have one mount act as your root CA and to use this CA
only to sign intermediate CA CSRs from other PKI secrets engines.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">To keep old CAs active, there&#x27;s two approaches to achieving rotation:</p><ol class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg">Use multiple secrets engines. This allows a fresh start, preserving the
old issuer and CRL. Vault ACL policy can be updated to deny new issuance
under the old mount point and roles can be re-evaluated before being
imported into the new mount point.</li><li class="mdx-lists_listItem__nkqhg">Use multiple issuers in the same mount point. The usage of the old issuer
can be restricted to CRL signing, and existing roles and ACL policy can be
kept as-is. This allows cross-signing within the same mount, and consumers
of the mount won&#x27;t have to update their configuration. Once the transitional
period for this rotation has completed and all past issued certificate have
expired, it is encouraged to fully remove the old issuer and any unnecessary
cross-signed issuers from the mount point.</li></ol><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Another suggested use case for multiple issuers in the same mount is splitting
issuance by TTL lifetime. For short-lived certificates, an intermediate
stored in Vault will often out-perform a HSM-backed intermediate. For
longer-lived certificates, however, it is often important to have the
intermediate key material secured throughout the lifetime of the end-entity
certificate. This means that two intermediates in the same mount -- one backed
by the HSM and one backed by Vault -- can satisfy both use cases. Operators
can make roles setting maximum TTLs for each issuer and consumers of the
mount can decide which to use.</p><h3 id="always-configure-a-default-issuer" class="hds-typography-display-400 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h3__xmS_z"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h3__SkrrS" aria-label="always configure a default issuer permalink" href="/vault/docs/secrets/pki/considerations#always-configure-a-default-issuer"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Always configure a default issuer</h3><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">For backwards compatibility, <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/vault/api-docs/secret/pki#read-issuers-configuration">the default issuer</a>
is used to service PKI endpoints without an explicit issuer (either via path
selection or role-based selection). When certificates are revoked and their
issuer is no longer part of this PKI mount, Vault places them on the default
issuer&#x27;s CRL. This means maintaining a default issuer is important for both
backwards compatibility for issuing certificates and for ensuring revoked
certificates land on a CRL.</p><h2 id="key-types-matter" class="hds-typography-display-500 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h2__9ZcX_"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h2__CA9g8" aria-label="key types matter permalink" href="/vault/docs/secrets/pki/considerations#key-types-matter"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Key types matter</h2><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Certain key types have impacts on performance. Signing certificates from a RSA
key will be slower than issuing from an ECDSA or Ed25519 key. Key generation
(using <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">/issue/:role</code> endpoints) using RSA keys will also be slow: RSA key
generation involves finding suitable random primes, whereas Ed25519 keys can
be random data. As the number of bits goes up (RSA 2048 -&gt; 4096 or ECDSA
P-256 -&gt; P-521), signature times also increases.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">This matters in both directions: not only is issuance more expensive,
but validation of the corresponding signature (in say, TLS handshakes) will
also be more expensive. Careful consideration of both issuer and issued key
types can have meaningful impacts on performance of not only Vault, but
systems using these certificates.</p><h3 id="cluster-performance-and-key-types" class="hds-typography-display-400 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h3__xmS_z"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h3__SkrrS" aria-label="cluster performance and key types permalink" href="/vault/docs/secrets/pki/considerations#cluster-performance-and-key-types"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Cluster performance and key types</h3><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">The <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="https://github.com/hashicorp/vault-benchmark">benchmark-vault</a> project
can be used to measure the performance of a Vault PKI instance. In general,
some considerations to be aware of:</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">RSA key generation is much slower and highly variable than EC key
generation. If performance and throughput are a necessity, consider using
EC keys (including NIST P-curves and Ed25519) instead of RSA.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Key signing requests (via <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">/pki/sign</code>) will be faster than (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">/pki/issue</code>),
especially for RSA keys: this removes the necessity for Vault to generate
key material and can sign the key material provided by the client. This
signing step is common between both endpoints, so key generation is pure
overhead if the client has a sufficiently secure source of entropy.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">The CA&#x27;s key type matters as well: using a RSA CA will result in a RSA
signature and takes longer than a ECDSA or Ed25519 CA.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Storage is an important factor: with <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/vault/api-docs/secret/pki#revoke-certificate">BYOC Revocation</a>,
using <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">no_store=true</code> still gives you the ability to revoke certificates
and audit logs can be used to track issuance. Clusters using a remote
storage (like Consul) over a slow network and using <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">no_store=false</code>
or <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">no_store_cert_metadata=false</code> along with specifying metadata on issuance, will
result in additional latency on issuance. Adding leases for every issued
certificate compounds the problem.</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg">Storing too many certificates results in longer <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">LIST /pki/certs</code> time,
including the time to tidy the instance. As such, for large scale
deployments (&gt;= 250k active certificates) it is recommended to use audit
logs to track certificates outside of Vault.</li></ul></li></ul><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">As a general comparison on unspecified hardware, using <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">benchmark-vault</code> for
<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">30s</code> on a local, single node, raft-backed Vault instance:</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Vault can issue 300k certificates using EC P-256 for CA &amp; leaf keys and
without storage.</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg">But switching to storing these leaves drops that number to 65k, and only
20k with leases.</li></ul></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Using large, expensive RSA-4096 bit keys, Vault can only issue 160 leaves,
regardless of whether or not storage or leases were used. The 95% key
generation time is above 10s.</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg">In comparison, using P-521 keys, Vault can issue closer to 30k leaves
without leases and 18k with leases.</li></ul></li></ul><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">These numbers are for example only, to represent the impact different key types
can have on PKI cluster performance.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">The use of ACME adds additional latency into these numbers, both because
certificates need to be stored and because challenge validation needs to
be performed.</p><h2 id="use-a-ca-hierarchy" class="hds-typography-display-500 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h2__9ZcX_"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h2__CA9g8" aria-label="use a ca hierarchy permalink" href="/vault/docs/secrets/pki/considerations#use-a-ca-hierarchy"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Use a CA hierarchy</h2><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">It is generally recommended to use a hierarchical CA setup, with a root
certificate which issues one or more intermediates (based on usage), which
in turn issue the leaf certificates.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">This allows stronger storage or policy guarantees around <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/vault/docs/secrets/pki/considerations#be-careful-with-root-cas">protection of the
root CA</a>, while letting Vault manage the
intermediate CAs and issuance of leaves. Different intermediates might be
issued for different usage, such as VPN signing, Email signing, or testing
versus production TLS services. This helps to keep CRLs limited to specific
purposes: for example, VPN services don&#x27;t care about the revoked set of
email signing certificates if they&#x27;re using separate certificates and
different intermediates, and thus don&#x27;t need both CRL contents. Additionally,
this allows higher risk intermediates (such as those issuing longer-lived
email signing certificates) to have HSM-backing without impacting the
performance of easier-to-rotate intermediates and certificates (such as
TLS intermediates).</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Vault supports the use of both the <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/vault/api-docs/secret/pki#allowed_domains"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">allowed_domains</code> parameter on
Roles</a> and the sef of parameters for
permitted and excluded DNS domains, IP ranges, email addresses and URI domains
to set the <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/vault/api-docs/secret/pki#permitted_dns_domains">Name Constraints extension</a>
on root and intermediate generation. This allows for several layers of separation of
concerns between TLS-based services.</p><h3 id="cross-signed-intermediates" class="hds-typography-display-400 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h3__xmS_z"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h3__SkrrS" aria-label="cross signed intermediates permalink" href="/vault/docs/secrets/pki/considerations#cross-signed-intermediates"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Cross-Signed intermediates</h3><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">When cross-signing intermediates from two separate roots, two separate
intermediate issuers will exist within the Vault PKI mount. In order to
correctly serve the cross-signed chain on issuance requests, the
<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">manual_chain</code> override is required on either or both intermediates. This
can be constructed in the following order:</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg">this issuer (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">self</code>)</li><li class="mdx-lists_listItem__nkqhg">this root</li><li class="mdx-lists_listItem__nkqhg">the other copy of this intermediate</li><li class="mdx-lists_listItem__nkqhg">the other root</li></ul><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">All requests to this issuer for signing will now present the full cross-signed
chain.</p><h2 id="cluster-urls-are-important" class="hds-typography-display-500 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h2__9ZcX_"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h2__CA9g8" aria-label="cluster urls are important permalink" href="/vault/docs/secrets/pki/considerations#cluster-urls-are-important"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Cluster URLs are important</h2><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">In Vault 1.13, support for <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/vault/api-docs/secret/pki#enable_aia_url_templating-1">templated AIA
URLs</a>
was added. With the <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/vault/api-docs/secret/pki#set-cluster-configuration">per-cluster URL
configuration</a> pointing
to this Performance Replication cluster, AIA information will point to the
cluster that issued this certificate automatically.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">In Vault 1.14, with ACME support, the same configuration is used for allowing
ACME clients to discover the URL of this cluster.</p><div class="alert alert-warning g-type-body"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><strong>Warning</strong>: It is important to ensure that this configuration is
up to date and maintained correctly, always pointing to the node&#x27;s
PR cluster address (which may be a Load Balanced or a DNS Round-Robbin
address). If this configuration is not set on every Performance Replication
cluster, certificate issuance (via REST and/or via ACME) will fail.</p></div><h2 id="automate-rotation-with-acme" class="hds-typography-display-500 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h2__9ZcX_"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h2__CA9g8" aria-label="automate rotation with acme permalink" href="/vault/docs/secrets/pki/considerations#automate-rotation-with-acme"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Automate rotation with ACME</h2><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">In Vault 1.14, support for the <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="https://datatracker.ietf.org/doc/html/rfc8555">Automatic Certificate Management Environment
(ACME)</a> protocol has been
added to the PKI Engine. This is a standardized way to handle validation,
issuance, rotation, and revocation of server certificates.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Many ecosystems, from web servers like Caddy, Nginx, and Apache, to
orchestration environments like Kubernetes (via cert-manager) natively
support issuance via the ACME protocol. For deployments without native
support, stand-alone tools like certbot support fetching and renewing
certificates on behalf of consumers. Vault&#x27;s PKI Engine only includes server
support for ACME; no client functionality has been included.</p><div class="alert alert-warning g-type-body"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Note: Vault&#x27;s PKI ACME server caps the certificate&#x27;s validity at 90 days
maximum by default, overridable using the ACME config max_ttl parameter.
Shorter validity durations can be set via limiting the role&#x27;s TTL to
be under the global ACME configured limit.
Aligning with Let&#x27;s Encrypt, we do not support the optional <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">NotBefore</code>
and <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">NotAfter</code> order request parameters.</p></div><h3 id="acme-stores-certificates" class="hds-typography-display-400 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h3__xmS_z"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h3__SkrrS" aria-label="acme stores certificates permalink" href="/vault/docs/secrets/pki/considerations#acme-stores-certificates"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>ACME stores certificates</h3><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Because ACME requires stored certificates in order to function, the notes
<a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/vault/docs/secrets/pki/considerations#automate-crl-building-and-tidying">below about automating tidy</a> are
especially important for the long-term health of the PKI cluster. ACME also
introduces additional resource types (accounts, orders, authorizations, and
challenges) that must be tidied via <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/vault/api-docs/secret/pki#tidy">the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">tidy_acme=true</code>
option</a>. Orders, authorizations, and
challenges are <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/vault/api-docs/secret/pki#safety_buffer">cleaned up based on the
<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">safety_buffer</code></a>
parameter, but accounts can live longer past their last issued certificate
by controlling the <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/vault/api-docs/secret/pki#acme_account_safety_buffer"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">acme_account_safety_buffer</code>
parameter</a>.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">As a consequence of the above, and like the discussions in the <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/vault/docs/secrets/pki/considerations#cluster-scalability">Cluster
Scalability</a> section, because these roles have
<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">no_store=false</code> set, ACME can only issue certificates on the active nodes
of PR clusters; standby nodes, if contacted, will transparently forward
all requests to the active node.</p><h3 id="acme-role-restrictions-require-eab" class="hds-typography-display-400 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h3__xmS_z"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h3__SkrrS" aria-label="acme role restrictions require eab permalink" href="/vault/docs/secrets/pki/considerations#acme-role-restrictions-require-eab"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>ACME role restrictions require EAB</h3><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Because ACME by default has no external authorization engine and is
unauthenticated from a Vault perspective, the use of roles with ACME
in the default configuration are of limited value as any ACME client
can request certificates under any role by proving possession of the
requested certificate identifiers.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">To solve this issue, there are two possible approaches:</p><ol class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg">Use a restrictive <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/vault/api-docs/secret/pki#set-acme-configuration"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">allowed_roles</code>, <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">allowed_issuers</code>, and
<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">default_directory_policy</code> ACME
configuration</a>
to let only a single role and issuer be used. This prevents user
choice, allowing some global restrictions to be placed on issuance
and avoids requiring ACME clients to have (at initial setup) access
to a Vault token other mechanism for acquiring a Vault EAB ACME token.</li><li class="mdx-lists_listItem__nkqhg">Use a more permissive <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/vault/api-docs/secret/pki#eab_policy">configuration with
<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">eab_policy=always-required</code></a>
to allow more roles and users to select the roles, but bind ACME clients
to a Vault token which can be suitably ACL&#x27;d to particular sets of
approved ACME directories.</li></ol><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">The choice of approach depends on the policies of the organization wishing
to use ACME.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Another consequence of the Vault unauthenticated nature of ACME requests
are that role templating, based on entity information, cannot be used as
there is no token and thus no entity associated with the request, even when
EAB binding is used.</p><h3 id="acme-and-the-public-internet" class="hds-typography-display-400 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h3__xmS_z"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h3__SkrrS" aria-label="acme and the public internet permalink" href="/vault/docs/secrets/pki/considerations#acme-and-the-public-internet"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>ACME and the public internet</h3><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Using ACME is possible over the public internet; public CAs like Let&#x27;s Encrypt
offer this as a service. Similarly, organizations running internal PKI
infrastructure might wish to issue server certificates to pieces of
infrastructure outside of their internal network boundaries, from a publicly
accessible Vault instance. By default, without enforcing a restrictive
<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">eab_policy</code>, this results in a complicated threat model: <em>any</em> external
client which can prove possession of a domain can issue a certificate under
this CA, which might be considered more trusted by this organization.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">As such, we strongly recommend publicly facing Vault instances (such as HCP
Vault) enforce that PKI mount operators have required a <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/vault/api-docs/secret/pki#eab_policy">restrictive
<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">eab_policy=always-required</code> configuration</a>.
System administrators of Vault instances can enforce this by <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/vault/api-docs/secret/pki#acme-external-account-bindings">setting the
<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">VAULT_DISABLE_PUBLIC_ACME=true</code> environment
variable</a>.</p><h3 id="acme-errors-are-in-server-logs" class="hds-typography-display-400 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h3__xmS_z"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h3__SkrrS" aria-label="acme errors are in server logs permalink" href="/vault/docs/secrets/pki/considerations#acme-errors-are-in-server-logs"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>ACME errors are in server logs</h3><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Because the ACME client is not necessarily trusted (as account registration
may not be tied to a valid Vault token when EAB is not used), many error
messages end up in the Vault server logs out of security necessity. When
troubleshooting issues with clients requesting certificates, first check
the client&#x27;s logs, if any, (e.g., certbot will state the log location on
errors), and then correlate with Vault server logs to identify the failure
reason.</p><h3 id="acme-security-considerations" class="hds-typography-display-400 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h3__xmS_z"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h3__SkrrS" aria-label="acme security considerations permalink" href="/vault/docs/secrets/pki/considerations#acme-security-considerations"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>ACME security considerations</h3><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">ACME allows any client to use Vault to make some sort of external call;
while the design of ACME attempts to minimize this scope and will prohibit
issuance if incorrect servers are contacted, it cannot account for all
possible remote server implementations. Vault&#x27;s ACME server makes three
types of requests:</p><ol class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg">DNS requests for <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">_acme-challenge.&lt;domain&gt;</code>, which should be least
invasive and most safe.</li><li class="mdx-lists_listItem__nkqhg">TLS ALPN requests for the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">acme-tls/1</code> protocol, which should be
safely handled by the TLS before any application code is invoked.</li><li class="mdx-lists_listItem__nkqhg">HTTP requests to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">http://&lt;domain&gt;/.well-known/acme-challenge/&lt;token&gt;</code>,
which could be problematic based on server design; if all requests,
regardless of path, are treated the same and assumed to be trusted,
this could result in Vault being used to make (invalid) requests.
Ideally, any such server implementations should be updated to ignore
such ACME validation requests or to block access originating from Vault
to this service.</li></ol><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">In all cases, no information about the response presented by the remote
server is returned to the ACME client.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">When running Vault on multiple networks, note that Vault&#x27;s ACME server
places no restrictions on requesting client/destination identifier
validations paths; a client could use a HTTP challenge to force Vault to
reach out to a server on a network it could otherwise not access.</p><h3 id="acme-and-client-counting" class="hds-typography-display-400 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h3__xmS_z"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h3__SkrrS" aria-label="acme and client counting permalink" href="/vault/docs/secrets/pki/considerations#acme-and-client-counting"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>ACME and client counting</h3><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">In Vault 1.14, ACME contributes differently to usage metrics than other
interactions with the PKI Secrets Engine. Due to its use of unauthenticated
requests (which do not generate Vault tokens), it would not be counted in
the traditional <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/vault/api-docs/system/internal-counters#activity-export">activity log APIs</a>.
Instead, certificates issued via ACME will be counted via their unique
certificate identifiers (the combination of CN, DNS SANs, and IP SANs).
These will create a stable identifier that will be consistent across
renewals, other ACME clients, mounts, and namespaces, contributing to
the activity log presently as a non-entity token attributed to the first
mount which created that request.</p><h2 id="keep-certificate-lifetimes-short-for-crl-s-sake" class="hds-typography-display-500 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h2__9ZcX_"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h2__CA9g8" aria-label="keep certificate lifetimes short for crl s sake permalink" href="/vault/docs/secrets/pki/considerations#keep-certificate-lifetimes-short-for-crl-s-sake"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Keep certificate lifetimes short, for CRL&#x27;s sake</h2><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">This secrets engine aligns with Vault&#x27;s philosophy of short-lived secrets. As
such it is not expected that CRLs will grow large; the only place a private key
is ever returned is to the requesting client (this secrets engine does <em>not</em>
store generated private keys, except for CA certificates). In most cases, if the
key is lost, the certificate can simply be ignored, as it will expire shortly.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">If a certificate must truly be revoked, the normal Vault revocation function can
be used, and any revocation action will cause the CRL to be regenerated. When
the CRL is regenerated, any expired certificates are removed from the CRL (and
any revoked, expired certificate are removed from secrets engine storage). This
is an expensive operation! Due to the structure of the CRL standard, Vault must
read <strong>all</strong> revoked certificates into memory in order to rebuild the CRL and
clients must fetch the regenerated CRL.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">This secrets engine does not support multiple CRL endpoints with sliding date
windows; often such mechanisms will have the transition point a few days apart,
but this gets into the expected realm of the actual certificate validity periods
issued from this secrets engine. A good rule of thumb for this secrets engine
would be to simply not issue certificates with a validity period greater than
your maximum comfortable CRL lifetime. Alternately, you can control CRL caching
behavior on the client to ensure that checks happen more often.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Often multiple endpoints are used in case a single CRL endpoint is down so that
clients don&#x27;t have to figure out what to do with a lack of response. Run Vault
in HA mode, and the CRL endpoint should be available even if a particular node
is down.</p><div class="alert alert-warning g-type-body"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Note: Since Vault 1.11.0, with multiple issuers in the same mount point,
different issuers may have different CRLs (depending on subject and key
material). This means that Vault may need to regenerate multiple CRLs.
This is again a rationale for keeping TTLs short and avoiding revocation
if possible.</p></div><div class="alert alert-warning g-type-body"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Note: Since Vault 1.12.0, we support two complementary revocation
mechanisms: Delta CRLs, which allow for rebuilds of smaller, incremental
additions to the last complete CRL, and OCSP, which allows responding to
revocation status requests for individual certificates. When coupled with
the new CRL auto-rebuild functionality, this means that the revoking step
isn&#x27;t as costly (as the CRL isn&#x27;t always rebuilt on each revocation),
outside of storage considerations. However, while the rebuild operation
still can be expensive with lots of certificates, it will be done on a
schedule rather than on demand.</p></div><h3 id="notafter-behavior-on-leaf-certificates" class="hds-typography-display-400 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h3__xmS_z"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h3__SkrrS" aria-label="notafter behavior on leaf certificates permalink" href="/vault/docs/secrets/pki/considerations#notafter-behavior-on-leaf-certificates"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>NotAfter behavior on leaf certificates</h3><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">In Vault 1.11.0, the PKI Secrets Engine has introduced a new
<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">leaf_not_after_behavior</code> <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/vault/api-docs/secret/pki#leaf_not_after_behavior">parameter on
issuers</a>.
This allows modification of the issuance behavior: should Vault <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">err</code>,
preventing issuance of a longer-lived leaf cert than issuer, silently
<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">truncate</code> to that of the issuer&#x27;s <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">NotAfter</code> value, or <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">permit</code> longer
expirations.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">It is strongly suggested to use <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">err</code> or <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">truncate</code> for intermediates;
<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">permit</code> is only useful for root certificates, as intermediate&#x27;s NotAfter
expiration are checked when validating presented chains.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">In combination with a cascading expiration with longer lived roots (perhaps
on the range of 2-10 years), shorter lived intermediates (perhaps on the
range of 6 months to 2 years), and short-lived leaf certificates (on the
range of 30 to 90 days), and the <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/vault/docs/secrets/pki/rotation-primitives">rotation strategies discussed in other
sections</a>, this should keep the
CRLs adequately small.</p><h3 id="cluster-performance-and-quantity-of-leaf-certificates" class="hds-typography-display-400 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h3__xmS_z"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h3__SkrrS" aria-label="cluster performance and quantity of leaf certificates permalink" href="/vault/docs/secrets/pki/considerations#cluster-performance-and-quantity-of-leaf-certificates"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Cluster performance and quantity of leaf certificates</h3><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">As mentioned above, keeping TTLs short (or using <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">no_store=true</code> and
<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">no_store_cert_metadata=true</code>) and avoiding
leases is important for a healthy cluster. However it is important to note
this is a scale problem: 10-1000 long-lived, stored certificates are probably
fine, but 50k-100k become a problem and 500k+ stored, unexpired certificates
can negatively impact even large Vault clusters--even with short TTLs!</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">However, once these certificates are expired, a <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/vault/api-docs/secret/pki#tidy">tidy operation</a>
will clean up CRLs and Vault cluster storage.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Note that organizational risk assessments for certificate compromise might
mean certain certificate types should always be issued with <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">no_store=false</code>;
even short-lived broad wildcard certificates (say, <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">*.example.com</code>) might be
important enough to have precise control over revocation. However, an internal
service with a well-scoped certificate (say, <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">service.example.com</code>) might be
of low enough risk to issue a 90-day TTL with <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">no_store=true</code>, preventing
the need for revocation in the unlikely case of compromise.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Having a shorter TTL decreases the likelihood of needing to revoke a cert
(but cannot prevent it entirely) and decrease the impact of any such
compromise.</p><div class="alert alert-warning g-type-body"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Note: As of Vault 1.12, the PKI Secret Engine&#x27;s <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/vault/api-docs/secret/pki#revoke-certificate">Bring-Your-Own-Cert
(BYOC)</a>
functionality allows revocation of certificates not previously stored
(e.g., issued via a role with <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">no_store=true</code>). This means that setting
<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">no_store=true</code> <em>is now</em> safe to be used globally, regardless of importance
of issued certificates (and their likelihood for revocation).</p></div><h2 id="you-must-configure-issuing-crl-ocsp-information-in-advance" class="hds-typography-display-500 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h2__9ZcX_"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h2__CA9g8" aria-label="you must configure issuing crl ocsp information in advance permalink" href="/vault/docs/secrets/pki/considerations#you-must-configure-issuing-crl-ocsp-information-in-advance"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>You must configure issuing/CRL/OCSP information <em>in advance</em></h2><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">This secrets engine serves CRLs from a predictable location, but it is not
possible for the secrets engine to know where it is running. Therefore, you must
configure desired URLs for the issuing certificate, CRL distribution points, and
OCSP servers manually using the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">config/urls</code> endpoint. It is supported to have
more than one of each of these by passing in the multiple URLs as a
comma-separated string parameter.</p><div class="alert alert-warning g-type-body"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Note: when using Vault Enterprise&#x27;s Performance Replication features with a
PKI Secrets Engine mount, each cluster will have its own CRL; this means
each cluster&#x27;s unique CRL address should be included in the <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="https://datatracker.ietf.org/doc/html/rfc5280#section-5.2.7">AIA
information</a>
field separately, or the CRLs should be consolidated and served outside of
Vault.</p></div><div class="alert alert-warning g-type-body"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Note: When using multiple issuers in the same mount, it is suggested to use
the per-issuer AIA fields rather than the global (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">/config/urls</code>) variant.
This is for correctness: these fields are used for chain building and
automatic CRL detection in certain applications. If they point to the wrong
issuer&#x27;s information, these applications may break.</p></div><h2 id="distribution-of-crls-and-ocsp" class="hds-typography-display-500 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h2__9ZcX_"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h2__CA9g8" aria-label="distribution of crls and ocsp permalink" href="/vault/docs/secrets/pki/considerations#distribution-of-crls-and-ocsp"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Distribution of CRLs and OCSP</h2><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Both CRLs and OCSP allow interrogating revocation status of certificates. Both
of these methods include internal security and authenticity (both CRLs and
OCSP responses are signed by the issuing CA within Vault). This means both are
fine to distribute over non-secure and non-authenticated channels, such as
HTTP.</p><div class="alert alert-warning g-type-body"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Note: The OCSP implementation for GET requests can lead to intermittent
400 errors when an encoded OCSP request contains consecutive &#x27;/&#x27; characters.
Until this is resolved it is recommended to use POST based OCSP requests.</p></div><h2 id="automate-crl-building-and-tidying" class="hds-typography-display-500 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h2__9ZcX_"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h2__CA9g8" aria-label="automate crl building and tidying permalink" href="/vault/docs/secrets/pki/considerations#automate-crl-building-and-tidying"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Automate CRL building and tidying</h2><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Since Vault 1.12, the PKI Secrets Engine supports automated CRL rebuilding
(including optional Delta CRLs which can be built more frequently than
complete CRLs) via the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">/config/crl</code> endpoint. Additionally, tidying of
revoked and expired certificates can be configured automatically via the
<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">/config/auto-tidy</code> endpoint. Both of these should be enabled to ensure
compatibility with the wider PKIX ecosystem and performance of the cluster.</p><h2 id="spectrum-of-revocation-support" class="hds-typography-display-500 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h2__9ZcX_"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h2__CA9g8" aria-label="spectrum of revocation support permalink" href="/vault/docs/secrets/pki/considerations#spectrum-of-revocation-support"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Spectrum of revocation support</h2><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Starting with Vault 1.13, the PKI secrets engine has the ability to support a
spectrum of cluster sizes and certificate revocation quantities.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">For users with few revocations or who want a unified view and have the
inter-cluster bandwidth to support it, we recommend turning on auto
rebuilding of CRLs, cross-cluster revocation queues, and cross-cluster CRLs.
This allows all consumers of the CRLs to have the most accurate picture of
revocations, regardless of which cluster they talk to.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">If the unified CRL becomes too big for the underlying storage mechanism or
for a single host to build, we recommend relying on OCSP instead of CRLs.
These have much smaller storage entries, and the CRL <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">disabled</code> flag is
independent of <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">unified_crls</code>, allowing unified OCSP to remain.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">However, when cross-cluster traffic becomes too high (or if CRLs are still
necessary in addition to OCSP), we recommend sharding the CRL between
different clusters. This has been the default behavior of Vault, but with
the introduction of per-cluster, templated AIA information, the leaf
certificate&#x27;s Authority Information Access (AIA) info will point directly
to the cluster which issued it, allowing the correct CRL for this cert to
be identified by the application. This more correctly mimics the behavior
of <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="https://letsencrypt.org/2022/09/07/new-life-for-crls.html">Let&#x27;s Encrypt&#x27;s CRL sharding</a>.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">This sharding behavior can also be used for OCSP, if the cross-cluster
traffic for revocation entries becomes too high.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">For users who wish to manage revocation manually, using the audit logs to
track certificate issuance would allow an external system to identify which
certificates were issued. These can be manually tracked for revocation, and
a <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/vault/api-docs/secret/pki#combine-crls-from-the-same-issuer">custom CRL can be built</a>
using externally tracked revocations. This would allow usage of roles set to
<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">no_store=true</code>, so Vault is strictly used as an issuing authority and isn&#x27;t
storing any certificates, issued or revoked. For the highest of revocation
volumes, this could be the best option.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Notably, this last approach can either be used for the creation of externally
stored unified or sharded CRLs. If a single external unified CRL becomes
unreasonably large, each cluster&#x27;s certificates could have AIA info point
to an externally stored and maintained, sharded CRL. However,
Vault has no mechanism to sign OCSP requests at this time.</p><h3 id="what-are-cross-cluster-crls" class="hds-typography-display-400 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h3__xmS_z"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h3__SkrrS" aria-label="what are cross cluster crls permalink" href="/vault/docs/secrets/pki/considerations#what-are-cross-cluster-crls"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>What are Cross-Cluster CRLs?</h3><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Vault Enterprise supports a clustering mode called <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/vault/docs/enterprise/replication#performance-replication">Performance
Replication</a>. In
a replicated PKI Secrets Engine mount, issuer and role information is synced
between the Performance Primary and all Performance Secondary clusters.
However, each Performance Secondary cluster has its own local storage of
issued certificates and revocations which is not synced. In Vault versions
before 1.13, this meant that each of these clusters had its own CRL and
OCSP data, and any revocation requests needed to be processed on the
cluster that issued it (or BYOC used).</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Starting with Vault 1.13, we&#x27;ve added <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/vault/api-docs/secret/pki#read-crl-configuration">two
features</a> to Vault
Enterprise to help manage this setup more correctly and easily: revocation
request queues (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">cross_cluster_revocation=true</code> in <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">config/crl</code>) and unified
revocation entries (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">unified_crl=true</code> in <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">config/crl</code>).</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">The former allows operators (revoking by serial number) to request a
certificate be revoked regardless of which cluster it was issued on. For
example, if a request goes into the Performance Primary, but it didn&#x27;t
issue the certificate, it&#x27;ll write a cross-cluster revocation request,
and mark the results as pending. If another cluster already has this
certificate in storage, it will revoke it and confirm the revocation back
to the main cluster. An operator can <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/vault/api-docs/secret/pki#list-revocation-requests">list pending
revocations</a> to see
the status of these requests. To clean up invalid requests (e.g., if the
cluster which had that certificate disappeared, if that certificate was
issued with <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">no_store=true</code> on the role, or if it was an invalid serial
number), an operator can <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/vault/api-docs/secret/pki#tidy">use tidy</a> with
<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">tidy_revocation_queue=true</code>, optionally shortening
<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">revocation_queue_safety_buffer</code> to remove them quicker.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">The latter allows all clusters to have a unified view of revocations,
that is, to have access to a list of revocations performed by other clusters.
While the configuration parameter includes <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">crl</code> in the description, this
applies to <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/vault/api-docs/secret/pki#read-issuer-crl">both CRLs</a> and the
<a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/vault/api-docs/secret/pki#ocsp-request">OCSP responder</a>. When this
revocation replication occurs, if any cluster considers a cert revoked when
another doesn&#x27;t (e.g., via BYOC revocation of a <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">no_store=false</code> certificate),
all clusters will now consider it revoked assuming it hasn&#x27;t expired. Notably,
the active node of the primary cluster will be used to rebuild the CRL; as
this can grow large if many clusters have lots of revoked certs, an operator
might need to disable CRL building (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">disabled=true</code> in <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">config/crl</code>) or
increase the <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/vault/docs/configuration/storage/raft#max_entry_size">storage size</a>.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">As an aside, all new cross-cluster writes (from Performance Secondary up to
the Performance Primary) are performed synchronously. This gives the caller
confidence that the request actually went through, at the expense of incurring
a bit higher overhead for revoking certificates. When a node loses its GRPC
connection (e.g., during leadership election or being otherwise unable to
contact the active primary), errors will occur though the local portion of the
write (if any) will still succeed. For cross-cluster revocation requests, due
to there being no local write, this means that the operation will need to be
retried, but in the event of an issue writing a cross-cluster revocation entry
when the cert existed locally, the revocation will eventually be synced across
clusters when the connection comes back.</p><h2 id="issuer-subjects-and-crls" class="hds-typography-display-500 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h2__9ZcX_"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h2__CA9g8" aria-label="issuer subjects and crls permalink" href="/vault/docs/secrets/pki/considerations#issuer-subjects-and-crls"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Issuer subjects and CRLs</h2><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">As noted on several <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="https://github.com/hashicorp/vault/issues/10176">GitHub issues</a>,
Go&#x27;s x509 library has an opinionated parsing and structuring mechanism for
certificate&#x27;s Subjects. Issuers created within Vault are fine, but when using
externally created CA certificates, these may not be parsed
correctly throughout all parts of the PKI. In particular, CRLs embed a
(modified) copy of the issuer name. This can be avoided by using OCSP to
track revocation, but note that performance characteristics are different
between OCSP and CRLs.</p><div class="alert alert-warning g-type-body"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Note: As of Go 1.20 and Vault 1.13, Go correctly formats the CRL&#x27;s issuer
name and this notice <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="https://github.com/golang/go/commit/a367981b4c8e3ae955eca9cc597d9622201155f3">does not apply</a>.</p></div><h2 id="automate-leaf-certificate-renewal" class="hds-typography-display-500 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h2__9ZcX_"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h2__CA9g8" aria-label="automate leaf certificate renewal permalink" href="/vault/docs/secrets/pki/considerations#automate-leaf-certificate-renewal"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Automate leaf certificate renewal</h2><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">To manage certificates for services at scale, it is best to automate the
certificate renewal as much as possible. Vault Agent <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/vault/docs/agent-and-proxy/agent/template#certificates">has support for
automatically renewing requested certificates</a>
based on the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">validTo</code> field. Other solutions might involve using
<a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="https://cert-manager.io/">cert-manager</a> in Kubernetes or OpenShift, backed
by the Vault CA.</p><h2 id="safe-minimums" class="hds-typography-display-500 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h2__9ZcX_"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h2__CA9g8" aria-label="safe minimums permalink" href="/vault/docs/secrets/pki/considerations#safe-minimums"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Safe minimums</h2><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Since its inception, this secrets engine has enforced SHA256 for signature
hashes rather than SHA1. As of 0.5.1, a minimum of 2048 bits for RSA keys is
also enforced. Software that can handle SHA256 signatures should also be able to
handle 2048-bit keys, and 1024-bit keys are considered unsafe and are disallowed
in the Internet PKI.</p><h2 id="token-lifetimes-and-revocation" class="hds-typography-display-500 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h2__9ZcX_"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h2__CA9g8" aria-label="token lifetimes and revocation permalink" href="/vault/docs/secrets/pki/considerations#token-lifetimes-and-revocation"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Token lifetimes and revocation</h2><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">When a token expires, it revokes all leases associated with it. This means that
long-lived CA certs need correspondingly long-lived tokens, something that is
easy to forget. Starting with 0.6, root and intermediate CA certs no longer have
associated leases, to prevent unintended revocation when not using a token with
a long enough lifetime. To revoke these certificates, use the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">pki/revoke</code>
endpoint.</p><h2 id="safe-usage-of-roles" class="hds-typography-display-500 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h2__9ZcX_"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h2__CA9g8" aria-label="safe usage of roles permalink" href="/vault/docs/secrets/pki/considerations#safe-usage-of-roles"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Safe usage of roles</h2><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">The Vault PKI Secrets Engine supports many options to limit issuance via
<a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/vault/api-docs/secret/pki#create-update-role">Roles</a>.
Careful consideration of construction is necessary to ensure that more
permissions are not given than necessary. Additionally, roles should generally
do <em>one</em> thing; multiple roles should be preferable over having too permissive
roles that allow arbitrary issuance (e.g., <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">allow_any_name</code> should generally
be used sparingly, if at all).</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="allow_any_name" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/vault/docs/secrets/pki/considerations#"></a><a aria-label="allow_any_name permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/vault/docs/secrets/pki/considerations#allow_any_name"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">allow_any_name</code></a> should generally be set to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">false</code>; this is the default.</li><li class="mdx-lists_listItem__nkqhg"><a id="allow_localhost" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/vault/docs/secrets/pki/considerations#"></a><a aria-label="allow_localhost permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/vault/docs/secrets/pki/considerations#allow_localhost"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">allow_localhost</code></a> should generally be set to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">false</code> for production
services, unless listening on <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">localhost</code> is expected.</li><li class="mdx-lists_listItem__nkqhg">Unless necessary, <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">allow_wildcard_certificates</code> should generally be set to
<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">false</code>. This is <strong>not</strong> the default due to backwards compatibility
concerns.<ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg">This is especially necessary when <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">allow_subdomains</code> or <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">allow_glob_domains</code>
are enabled.</li></ul></li><li class="mdx-lists_listItem__nkqhg"><a id="enforce_hostnames" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/vault/docs/secrets/pki/considerations#"></a><a aria-label="enforce_hostnames permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/vault/docs/secrets/pki/considerations#enforce_hostnames"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">enforce_hostnames</code></a> should generally be enabled for TLS services; this is
the default.</li><li class="mdx-lists_listItem__nkqhg"><a id="allow_ip_sans" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/vault/docs/secrets/pki/considerations#"></a><a aria-label="allow_ip_sans permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/vault/docs/secrets/pki/considerations#allow_ip_sans"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">allow_ip_sans</code></a> should generally be set to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">false</code> (but defaults to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">true</code>),
unless IP address certificates are explicitly required.</li><li class="mdx-lists_listItem__nkqhg">When using short TTLs (&lt; 30 days) or with high issuance volume, it is
generally recommend to set <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">no_store</code> to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">true</code> (defaults to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">false</code>).
This prevents serial number based revocation, but allows higher throughput
as Vault no longer needs to store every issued certificate. This is discussed
more in the <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/vault/docs/secrets/pki/considerations#replicated-datasets">Replicated Datasets</a> section below.</li><li class="mdx-lists_listItem__nkqhg">Do not use roles with root certificates (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">issuer_ref</code>). Root certificates
should generally only issue intermediates (see the section on <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/vault/docs/secrets/pki/considerations#use-a-ca-hierarchy">CA hierarchy
above</a>), which doesn&#x27;t rely on roles.</li><li class="mdx-lists_listItem__nkqhg">Limit <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">key_usage</code> and <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ext_key_usage</code>; don&#x27;t attempt to allow all usages
for all purposes. Generally the default values are useful for client and
server TLS authentication.</li></ul><h2 id="telemetry" class="hds-typography-display-500 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h2__9ZcX_"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h2__CA9g8" aria-label="telemetry permalink" href="/vault/docs/secrets/pki/considerations#telemetry"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Telemetry</h2><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Beyond Vault&#x27;s default telemetry around request processing, PKI exposes count and
duration metrics for the issue, sign, sign-verbatim, and revoke calls. The
metrics keys take the form <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">mount-path,operation,[failure]</code> with labels for
namespace and role name.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Note that these metrics are per-node and thus would need to be aggregated across
nodes and clusters.</p><h2 id="auditing" class="hds-typography-display-500 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h2__9ZcX_"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h2__CA9g8" aria-label="auditing permalink" href="/vault/docs/secrets/pki/considerations#auditing"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Auditing</h2><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Because Vault HMACs audit string keys by default, it is necessary to tune
PKI secrets mounts to get an accurate view of issuance that is occurring under
this mount.</p><div class="alert alert-warning g-type-body"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Note: Depending on usage of Vault, CRLs (and rarely, CA chains) can grow to
be rather large. We don&#x27;t recommend un-HMACing the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">crl</code> field for this
reason, but note that the recommendations below suggest to un-HMAC the
<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">certificate</code> response parameter, which the CRL can be served in via
the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">/pki/cert/crl</code> API endpoint. Additionally, the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">http_raw_body</code> can
be used to return CRL both in PEM and raw binary DER form, so it is
suggested not to un-HMAC that field to not corrupt the log format.<br/><br/>
If this is done with only a <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/vault/docs/audit/syslog">syslog</a> audit device,
Vault can deny requests (with an opaque <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">500 Internal Error</code> message)
after the action has been performed on the server, because it was
unable to log the message.<br/><br/>
The suggested workaround is to either leave the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">certificate</code> and <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">crl</code>
response fields HMACed and/or to also enable the <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/vault/docs/audit/file"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">file</code></a>
audit log type.</p></div><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Some suggested keys to un-HMAC for requests are as follows:</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="csr" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/vault/docs/secrets/pki/considerations#"></a><a aria-label="csr permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/vault/docs/secrets/pki/considerations#csr"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">csr</code></a> - the requested CSR to sign,</li><li class="mdx-lists_listItem__nkqhg"><a id="certificate" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/vault/docs/secrets/pki/considerations#"></a><a aria-label="certificate permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/vault/docs/secrets/pki/considerations#certificate"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">certificate</code></a> - the requested self-signed certificate to re-sign or
when importing issuers,</li><li class="mdx-lists_listItem__nkqhg">Various issuance-related overriding parameters, such as:<ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="issuer_ref" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/vault/docs/secrets/pki/considerations#"></a><a aria-label="issuer_ref permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/vault/docs/secrets/pki/considerations#issuer_ref"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">issuer_ref</code></a> - the issuer requested to sign this certificate,</li><li class="mdx-lists_listItem__nkqhg"><a id="common_name" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/vault/docs/secrets/pki/considerations#"></a><a aria-label="common_name permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/vault/docs/secrets/pki/considerations#common_name"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">common_name</code></a> - the requested common name,</li><li class="mdx-lists_listItem__nkqhg"><a id="alt_names" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/vault/docs/secrets/pki/considerations#"></a><a aria-label="alt_names permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/vault/docs/secrets/pki/considerations#alt_names"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">alt_names</code></a> - alternative requested DNS-type SANs for this certificate,</li><li class="mdx-lists_listItem__nkqhg"><a id="other_sans" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/vault/docs/secrets/pki/considerations#"></a><a aria-label="other_sans permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/vault/docs/secrets/pki/considerations#other_sans"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">other_sans</code></a> - other (non-DNS, non-Email, non-IP, non-URI) requested SANs for this certificate,</li><li class="mdx-lists_listItem__nkqhg"><a id="ip_sans" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/vault/docs/secrets/pki/considerations#"></a><a aria-label="ip_sans permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/vault/docs/secrets/pki/considerations#ip_sans"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ip_sans</code></a> - requested IP-type SANs for this certificate,</li><li class="mdx-lists_listItem__nkqhg"><a id="uri_sans" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/vault/docs/secrets/pki/considerations#"></a><a aria-label="uri_sans permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/vault/docs/secrets/pki/considerations#uri_sans"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">uri_sans</code></a> - requested URI-type SANs for this certificate,</li><li class="mdx-lists_listItem__nkqhg"><a id="ttl" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/vault/docs/secrets/pki/considerations#"></a><a aria-label="ttl permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/vault/docs/secrets/pki/considerations#ttl"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ttl</code></a> - requested expiration date of this certificate,</li><li class="mdx-lists_listItem__nkqhg"><a id="not_after" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/vault/docs/secrets/pki/considerations#"></a><a aria-label="not_after permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/vault/docs/secrets/pki/considerations#not_after"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">not_after</code></a> - requested expiration date of this certificate,</li><li class="mdx-lists_listItem__nkqhg"><a id="serial_number" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/vault/docs/secrets/pki/considerations#"></a><a aria-label="serial_number permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/vault/docs/secrets/pki/considerations#serial_number"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">serial_number</code></a> - the subject&#x27;s requested serial number,</li><li class="mdx-lists_listItem__nkqhg"><a id="key_type" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/vault/docs/secrets/pki/considerations#"></a><a aria-label="key_type permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/vault/docs/secrets/pki/considerations#key_type"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">key_type</code></a> - the requested key type,</li><li class="mdx-lists_listItem__nkqhg"><a id="private_key_format" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/vault/docs/secrets/pki/considerations#"></a><a aria-label="private_key_format permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/vault/docs/secrets/pki/considerations#private_key_format"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">private_key_format</code></a> - the requested key format which is also
used for the public certificate format as well,</li></ul></li><li class="mdx-lists_listItem__nkqhg">Various role- or issuer-related generation parameters, such as:<ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="managed_key_name" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/vault/docs/secrets/pki/considerations#"></a><a aria-label="managed_key_name permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/vault/docs/secrets/pki/considerations#managed_key_name"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">managed_key_name</code></a> - when creating an issuer, the requested managed
key name,</li><li class="mdx-lists_listItem__nkqhg"><a id="managed_key_id" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/vault/docs/secrets/pki/considerations#"></a><a aria-label="managed_key_id permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/vault/docs/secrets/pki/considerations#managed_key_id"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">managed_key_id</code></a> -  when creating an issuer, the requested managed
key identifier,</li><li class="mdx-lists_listItem__nkqhg"><a id="ou" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/vault/docs/secrets/pki/considerations#"></a><a aria-label="ou permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/vault/docs/secrets/pki/considerations#ou"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ou</code></a> - the subject&#x27;s organizational unit,</li><li class="mdx-lists_listItem__nkqhg"><a id="organization" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/vault/docs/secrets/pki/considerations#"></a><a aria-label="organization permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/vault/docs/secrets/pki/considerations#organization"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">organization</code></a> - the subject&#x27;s organization,</li><li class="mdx-lists_listItem__nkqhg"><a id="country" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/vault/docs/secrets/pki/considerations#"></a><a aria-label="country permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/vault/docs/secrets/pki/considerations#country"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">country</code></a> - the subject&#x27;s country code,</li><li class="mdx-lists_listItem__nkqhg"><a id="locality" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/vault/docs/secrets/pki/considerations#"></a><a aria-label="locality permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/vault/docs/secrets/pki/considerations#locality"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">locality</code></a> - the subject&#x27;s locality,</li><li class="mdx-lists_listItem__nkqhg"><a id="province" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/vault/docs/secrets/pki/considerations#"></a><a aria-label="province permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/vault/docs/secrets/pki/considerations#province"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">province</code></a> - the subject&#x27;s province,</li><li class="mdx-lists_listItem__nkqhg"><a id="street_address" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/vault/docs/secrets/pki/considerations#"></a><a aria-label="street_address permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/vault/docs/secrets/pki/considerations#street_address"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">street_address</code></a> - the subject&#x27;s street address,</li><li class="mdx-lists_listItem__nkqhg"><a id="postal_code" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/vault/docs/secrets/pki/considerations#"></a><a aria-label="postal_code permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/vault/docs/secrets/pki/considerations#postal_code"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">postal_code</code></a> - the subject&#x27;s postal code,</li><li class="mdx-lists_listItem__nkqhg"><a id="permitted_dns_domains" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/vault/docs/secrets/pki/considerations#"></a><a aria-label="permitted_dns_domains permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/vault/docs/secrets/pki/considerations#permitted_dns_domains"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">permitted_dns_domains</code></a> - permitted DNS domains,</li><li class="mdx-lists_listItem__nkqhg"><a id="permitted_ip_ranges" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/vault/docs/secrets/pki/considerations#"></a><a aria-label="permitted_ip_ranges permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/vault/docs/secrets/pki/considerations#permitted_ip_ranges"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">permitted_ip_ranges</code></a> - permitted IP ranges,</li><li class="mdx-lists_listItem__nkqhg"><a id="permitted_email_addresses" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/vault/docs/secrets/pki/considerations#"></a><a aria-label="permitted_email_addresses permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/vault/docs/secrets/pki/considerations#permitted_email_addresses"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">permitted_email_addresses</code></a> - permitted email addresses,</li><li class="mdx-lists_listItem__nkqhg"><a id="permitted_uri_domains" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/vault/docs/secrets/pki/considerations#"></a><a aria-label="permitted_uri_domains permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/vault/docs/secrets/pki/considerations#permitted_uri_domains"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">permitted_uri_domains</code></a> - permitted URI domains,</li><li class="mdx-lists_listItem__nkqhg"><a id="excluded_dns_domains" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/vault/docs/secrets/pki/considerations#"></a><a aria-label="excluded_dns_domains permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/vault/docs/secrets/pki/considerations#excluded_dns_domains"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">excluded_dns_domains</code></a> - excluded DNS domains,</li><li class="mdx-lists_listItem__nkqhg"><a id="excluded_email_addresses" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/vault/docs/secrets/pki/considerations#"></a><a aria-label="excluded_email_addresses permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/vault/docs/secrets/pki/considerations#excluded_email_addresses"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">excluded_email_addresses</code></a> - excluded email addresses,</li><li class="mdx-lists_listItem__nkqhg"><a id="excluded_ip_ranges" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/vault/docs/secrets/pki/considerations#"></a><a aria-label="excluded_ip_ranges permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/vault/docs/secrets/pki/considerations#excluded_ip_ranges"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">excluded_ip_ranges</code></a> - excluded IP ranges,</li><li class="mdx-lists_listItem__nkqhg"><a id="excluded_uri_domains" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/vault/docs/secrets/pki/considerations#"></a><a aria-label="excluded_uri_domains permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/vault/docs/secrets/pki/considerations#excluded_uri_domains"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">excluded_uri_domains</code></a> - excluded URI domains,</li><li class="mdx-lists_listItem__nkqhg"><a id="policy_identifiers" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/vault/docs/secrets/pki/considerations#"></a><a aria-label="policy_identifiers permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/vault/docs/secrets/pki/considerations#policy_identifiers"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">policy_identifiers</code></a> - the requested policy identifiers when creating a role, and</li><li class="mdx-lists_listItem__nkqhg"><a id="ext_key_usage_oids" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/vault/docs/secrets/pki/considerations#"></a><a aria-label="ext_key_usage_oids permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/vault/docs/secrets/pki/considerations#ext_key_usage_oids"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ext_key_usage_oids</code></a> - the extended key usage OIDs for the requested certificate.</li></ul></li></ul><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Some suggested keys to un-HMAC for responses are as follows:</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="certificate-1" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/vault/docs/secrets/pki/considerations#"></a><a aria-label="certificate permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/vault/docs/secrets/pki/considerations#certificate-1"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">certificate</code></a> - the certificate that was issued,</li><li class="mdx-lists_listItem__nkqhg"><a id="issuing_ca" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/vault/docs/secrets/pki/considerations#"></a><a aria-label="issuing_ca permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/vault/docs/secrets/pki/considerations#issuing_ca"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">issuing_ca</code></a> - the certificate of the CA which issued the requested
certificate,</li><li class="mdx-lists_listItem__nkqhg"><a id="serial_number-1" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/vault/docs/secrets/pki/considerations#"></a><a aria-label="serial_number permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/vault/docs/secrets/pki/considerations#serial_number-1"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">serial_number</code></a> - the serial number of the certificate that was issued,</li><li class="mdx-lists_listItem__nkqhg"><a id="error" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/vault/docs/secrets/pki/considerations#"></a><a aria-label="error permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/vault/docs/secrets/pki/considerations#error"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">error</code></a> - to show errors associated with the request, and</li><li class="mdx-lists_listItem__nkqhg"><a id="ca_chain" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/vault/docs/secrets/pki/considerations#"></a><a aria-label="ca_chain permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/vault/docs/secrets/pki/considerations#ca_chain"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ca_chain</code></a> - optional due to noise; the full CA chain of the issuer of
the requested certificate.</li></ul><div class="alert alert-warning g-type-body"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Note: These list of parameters to un-HMAC are provided as a suggestion and
may not be exhaustive.</p></div><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">The following keys are suggested <strong>NOT</strong> to un-HMAC, due to their sensitive
nature:</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="private_key" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/vault/docs/secrets/pki/considerations#"></a><a aria-label="private_key permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/vault/docs/secrets/pki/considerations#private_key"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">private_key</code></a> - this response parameter contains the private keys
generated by Vault during issuance, and</li><li class="mdx-lists_listItem__nkqhg"><a id="pem_bundle" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/vault/docs/secrets/pki/considerations#"></a><a aria-label="pem_bundle permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/vault/docs/secrets/pki/considerations#pem_bundle"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">pem_bundle</code></a> this request parameter is only used on the issuer-import
paths and may contain sensitive private key material.</li></ul><h2 id="role-based-access" class="hds-typography-display-500 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h2__9ZcX_"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h2__CA9g8" aria-label="role based access permalink" href="/vault/docs/secrets/pki/considerations#role-based-access"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Role-Based access</h2><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Vault supports <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/vault/tutorials/getting-started/getting-started-policies">path-based ACL Policies</a>
for limiting access to various paths within Vault.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">The following is a condensed example reference of ACLing the PKI Secrets
Engine. These are just a suggestion; other personas and policy approaches
may also be valid.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">We suggest the following personas:</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><em>Operator</em>;  a privileged user who manages the health of the PKI
subsystem; manages issuers and key material.</li><li class="mdx-lists_listItem__nkqhg"><em>Agent</em>; a semi-privileged user that manages roles and handles
revocation on behalf of an operator; may also handle delegated
issuance. This may also be called an <em>administrator</em> or <em>role
manager</em>.</li><li class="mdx-lists_listItem__nkqhg"><em>Advanced</em>; potentially a power-user or service that has access to
additional issuance APIs.</li><li class="mdx-lists_listItem__nkqhg"><em>Requester</em>; a low-level user or service that simply requests certificates.</li><li class="mdx-lists_listItem__nkqhg"><em>Unauthed</em>; any arbitrary user or service that lacks a Vault token.</li></ul><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">For these personas, we suggest the following ACLs, in condensed, tabular form:</p><div class="mdx-table_root__adKqa"><div class="mdx-table_tableWrapper__81O9J"><table><thead><tr><th align="left">Path</th><th align="left">Operations</th><th align="left">Operator</th><th align="left">Agent</th><th align="left">Advanced</th><th align="left">Requester</th><th align="left">Unauthed</th></tr></thead><tbody><tr><td align="left"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">/ca(/pem)?</code></td><td align="left">Read</td><td align="left">Yes</td><td align="left">Yes</td><td align="left">Yes</td><td align="left">Yes</td><td align="left">Yes</td></tr><tr><td align="left"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">/ca_chain</code></td><td align="left">Read</td><td align="left">Yes</td><td align="left">Yes</td><td align="left">Yes</td><td align="left">Yes</td><td align="left">Yes</td></tr><tr><td align="left"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">/crl(/pem)?</code></td><td align="left">Read</td><td align="left">Yes</td><td align="left">Yes</td><td align="left">Yes</td><td align="left">Yes</td><td align="left">Yes</td></tr><tr><td align="left"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">/crl/delta(/pem)?</code></td><td align="left">Read</td><td align="left">Yes</td><td align="left">Yes</td><td align="left">Yes</td><td align="left">Yes</td><td align="left">Yes</td></tr><tr><td align="left"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">/cert/:serial(/raw(/pem)?)?</code></td><td align="left">Read</td><td align="left">Yes</td><td align="left">Yes</td><td align="left">Yes</td><td align="left">Yes</td><td align="left">Yes</td></tr><tr><td align="left"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">/issuers</code></td><td align="left">List</td><td align="left">Yes</td><td align="left">Yes</td><td align="left">Yes</td><td align="left">Yes</td><td align="left">Yes</td></tr><tr><td align="left"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">/issuer/:issuer_ref/(jsonderpem)</code></td><td align="left">Read</td><td align="left">Yes</td><td align="left">Yes</td><td align="left">Yes</td><td align="left">Yes</td><td align="left">Yes</td></tr><tr><td align="left"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">/issuer/:issuer_ref/crl(/der/pem)?</code></td><td align="left">Read</td><td align="left">Yes</td><td align="left">Yes</td><td align="left">Yes</td><td align="left">Yes</td><td align="left">Yes</td></tr><tr><td align="left"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">/issuer/:issuer_ref/crl/delta(/der/pem)?</code></td><td align="left">Read</td><td align="left">Yes</td><td align="left">Yes</td><td align="left">Yes</td><td align="left">Yes</td><td align="left">Yes</td></tr><tr><td align="left"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">/ocsp/&lt;request&gt;</code></td><td align="left">Read</td><td align="left">Yes</td><td align="left">Yes</td><td align="left">Yes</td><td align="left">Yes</td><td align="left">Yes</td></tr><tr><td align="left"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">/ocsp</code></td><td align="left">Write</td><td align="left">Yes</td><td align="left">Yes</td><td align="left">Yes</td><td align="left">Yes</td><td align="left">Yes</td></tr><tr><td align="left"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">/certs</code></td><td align="left">List</td><td align="left">Yes</td><td align="left">Yes</td><td align="left">Yes</td><td align="left">Yes</td><td align="left"></td></tr><tr><td align="left"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">/revoke-with-key</code></td><td align="left">Write</td><td align="left">Yes</td><td align="left">Yes</td><td align="left">Yes</td><td align="left">Yes</td><td align="left"></td></tr><tr><td align="left"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">/roles</code></td><td align="left">List</td><td align="left">Yes</td><td align="left">Yes</td><td align="left">Yes</td><td align="left">Yes</td><td align="left"></td></tr><tr><td align="left"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">/roles/:role</code></td><td align="left">Read</td><td align="left">Yes</td><td align="left">Yes</td><td align="left">Yes</td><td align="left">Yes</td><td align="left"></td></tr><tr><td align="left"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">/(issuesign)/:role</code></td><td align="left">Write</td><td align="left">Yes</td><td align="left">Yes</td><td align="left">Yes</td><td align="left">Yes</td><td align="left"></td></tr><tr><td align="left"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">/issuer/:issuer_ref/(issuesign)/:role</code></td><td align="left">Write</td><td align="left">Yes</td><td align="left">Yes</td><td align="left">Yes</td><td align="left"></td><td align="left"></td></tr><tr><td align="left"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">/config/auto-tidy</code></td><td align="left">Read</td><td align="left">Yes</td><td align="left">Yes</td><td align="left"></td><td align="left"></td><td align="left"></td></tr><tr><td align="left"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">/config/ca</code></td><td align="left">Read</td><td align="left">Yes</td><td align="left">Yes</td><td align="left"></td><td align="left"></td><td align="left"></td></tr><tr><td align="left"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">/config/crl</code></td><td align="left">Read</td><td align="left">Yes</td><td align="left">Yes</td><td align="left"></td><td align="left"></td><td align="left"></td></tr><tr><td align="left"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">/config/issuers</code></td><td align="left">Read</td><td align="left">Yes</td><td align="left">Yes</td><td align="left"></td><td align="left"></td><td align="left"></td></tr><tr><td align="left"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">/crl/rotate</code></td><td align="left">Read</td><td align="left">Yes</td><td align="left">Yes</td><td align="left"></td><td align="left"></td><td align="left"></td></tr><tr><td align="left"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">/crl/rotate-delta</code></td><td align="left">Read</td><td align="left">Yes</td><td align="left">Yes</td><td align="left"></td><td align="left"></td><td align="left"></td></tr><tr><td align="left"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">/roles/:role</code></td><td align="left">Write</td><td align="left">Yes</td><td align="left">Yes</td><td align="left"></td><td align="left"></td><td align="left"></td></tr><tr><td align="left"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">/issuer/:issuer_ref</code></td><td align="left">Read</td><td align="left">Yes</td><td align="left">Yes</td><td align="left"></td><td align="left"></td><td align="left"></td></tr><tr><td align="left"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">/sign-verbatim(/:role)?</code></td><td align="left">Write</td><td align="left">Yes</td><td align="left">Yes</td><td align="left"></td><td align="left"></td><td align="left"></td></tr><tr><td align="left"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">/issuer/:issuer_ref/sign-verbatim(/:role)?</code></td><td align="left">Write</td><td align="left">Yes</td><td align="left">Yes</td><td align="left"></td><td align="left"></td><td align="left"></td></tr><tr><td align="left"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">/revoke</code></td><td align="left">Write</td><td align="left">Yes</td><td align="left">Yes</td><td align="left"></td><td align="left"></td><td align="left"></td></tr><tr><td align="left"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">/tidy</code></td><td align="left">Write</td><td align="left">Yes</td><td align="left">Yes</td><td align="left"></td><td align="left"></td><td align="left"></td></tr><tr><td align="left"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">/tidy-cancel</code></td><td align="left">Write</td><td align="left">Yes</td><td align="left">Yes</td><td align="left"></td><td align="left"></td><td align="left"></td></tr><tr><td align="left"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">/tidy-status</code></td><td align="left">Read</td><td align="left">Yes</td><td align="left">Yes</td><td align="left"></td><td align="left"></td><td align="left"></td></tr><tr><td align="left"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">/config/auto-tidy</code></td><td align="left">Write</td><td align="left">Yes</td><td align="left"></td><td align="left"></td><td align="left"></td><td align="left"></td></tr><tr><td align="left"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">/config/ca</code></td><td align="left">Write</td><td align="left">Yes</td><td align="left"></td><td align="left"></td><td align="left"></td><td align="left"></td></tr><tr><td align="left"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">/config/crl</code></td><td align="left">Write</td><td align="left">Yes</td><td align="left"></td><td align="left"></td><td align="left"></td><td align="left"></td></tr><tr><td align="left"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">/config/issuers</code></td><td align="left">Write</td><td align="left">Yes</td><td align="left"></td><td align="left"></td><td align="left"></td><td align="left"></td></tr><tr><td align="left"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">/config/keys</code></td><td align="left">Read, Write</td><td align="left">Yes</td><td align="left"></td><td align="left"></td><td align="left"></td><td align="left"></td></tr><tr><td align="left"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">/config/urls</code></td><td align="left">Read, Write</td><td align="left">Yes</td><td align="left"></td><td align="left"></td><td align="left"></td><td align="left"></td></tr><tr><td align="left"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">/issuer/:issuer_ref</code></td><td align="left">Write</td><td align="left">Yes</td><td align="left"></td><td align="left"></td><td align="left"></td><td align="left"></td></tr><tr><td align="left"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">/issuer/:issuer_ref/revoke</code></td><td align="left">Write</td><td align="left">Yes</td><td align="left"></td><td align="left"></td><td align="left"></td><td align="left"></td></tr><tr><td align="left"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">/issuer/:issuer_ref/sign-intermediate</code></td><td align="left">Write</td><td align="left">Yes</td><td align="left"></td><td align="left"></td><td align="left"></td><td align="left"></td></tr><tr><td align="left"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">/issuer/issuer_ref/sign-self-issued</code></td><td align="left">Write</td><td align="left">Yes</td><td align="left"></td><td align="left"></td><td align="left"></td><td align="left"></td></tr><tr><td align="left"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">/issuers/generate/+/+</code></td><td align="left">Write</td><td align="left">Yes</td><td align="left"></td><td align="left"></td><td align="left"></td><td align="left"></td></tr><tr><td align="left"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">/issuers/import/+</code></td><td align="left">Write</td><td align="left">Yes</td><td align="left"></td><td align="left"></td><td align="left"></td><td align="left"></td></tr><tr><td align="left"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">/intermediate/generate/+</code></td><td align="left">Write</td><td align="left">Yes</td><td align="left"></td><td align="left"></td><td align="left"></td><td align="left"></td></tr><tr><td align="left"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">/intermediate/cross-sign</code></td><td align="left">Write</td><td align="left">Yes</td><td align="left"></td><td align="left"></td><td align="left"></td><td align="left"></td></tr><tr><td align="left"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">/intermediate/set-signed</code></td><td align="left">Write</td><td align="left">Yes</td><td align="left"></td><td align="left"></td><td align="left"></td><td align="left"></td></tr><tr><td align="left"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">/keys</code></td><td align="left">List</td><td align="left">Yes</td><td align="left"></td><td align="left"></td><td align="left"></td><td align="left"></td></tr><tr><td align="left"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">/key/:key_ref</code></td><td align="left">Read, Write</td><td align="left">Yes</td><td align="left"></td><td align="left"></td><td align="left"></td><td align="left"></td></tr><tr><td align="left"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">/keys/generate/+</code></td><td align="left">Write</td><td align="left">Yes</td><td align="left"></td><td align="left"></td><td align="left"></td><td align="left"></td></tr><tr><td align="left"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">/keys/import</code></td><td align="left">Write</td><td align="left">Yes</td><td align="left"></td><td align="left"></td><td align="left"></td><td align="left"></td></tr><tr><td align="left"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">/root/generate/+</code></td><td align="left">Write</td><td align="left">Yes</td><td align="left"></td><td align="left"></td><td align="left"></td><td align="left"></td></tr><tr><td align="left"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">/root/sign-intermediate</code></td><td align="left">Write</td><td align="left">Yes</td><td align="left"></td><td align="left"></td><td align="left"></td><td align="left"></td></tr><tr><td align="left"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">/root/sign-self-issued</code></td><td align="left">Write</td><td align="left">Yes</td><td align="left"></td><td align="left"></td><td align="left"></td><td align="left"></td></tr><tr><td align="left"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">/root/rotate/+</code></td><td align="left">Write</td><td align="left">Yes</td><td align="left"></td><td align="left"></td><td align="left"></td><td align="left"></td></tr><tr><td align="left"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">/root/replace</code></td><td align="left">Write</td><td align="left">Yes</td><td align="left"></td><td align="left"></td><td align="left"></td><td align="left"></td></tr></tbody></table></div><div class="mdx-table_tableFocusRing__qNrYf"></div><div><div class="mdx-table_leftScrim__mYsmq mdx-table_scrim__VtktE"></div><div class="mdx-table_rightScrim__Ikt63 mdx-table_scrim__VtktE"></div></div></div><div class="alert alert-warning g-type-body"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Note: With managed keys, operators might need access to <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/vault/api-docs/system/mounts">read the mount
point&#x27;s tunable data</a> (Read on <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">/sys/mounts</code>) and
may need access <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/vault/api-docs/system/managed-keys">to use or manage managed keys</a>.</p></div><h2 id="replicated-datasets" class="hds-typography-display-500 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h2__9ZcX_"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h2__CA9g8" aria-label="replicated datasets permalink" href="/vault/docs/secrets/pki/considerations#replicated-datasets"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Replicated DataSets</h2><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">When operating with <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/vault/docs/enterprise/replication#architecture">Performance Secondary</a>
clusters, certain data-sets are maintained across all clusters, while others for performance
and scalability reasons are kept within a given cluster.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">The following table breaks down by data type what data sets will cross the cluster boundaries.
For data-types that do not cross a cluster boundary, read requests for that data will need to be
sent to the appropriate cluster that the data was generated on.</p><div class="mdx-table_root__adKqa"><div class="mdx-table_tableWrapper__81O9J"><table><thead><tr><th>Data Set</th><th>Replicated Across Clusters</th></tr></thead><tbody><tr><td>Issuers &amp; Keys</td><td>Yes</td></tr><tr><td>Roles</td><td>Yes</td></tr><tr><td>CRL Config</td><td>Yes</td></tr><tr><td>URL Config</td><td>Yes</td></tr><tr><td>Issuer Config</td><td>Yes</td></tr><tr><td>Key Config</td><td>Yes</td></tr><tr><td>CRL</td><td>No</td></tr><tr><td>Revoked Certificates</td><td>No</td></tr><tr><td>Leaf/Issued Certificates</td><td>No</td></tr><tr><td>Certificate Metadata</td><td>No</td></tr></tbody></table></div><div class="mdx-table_tableFocusRing__qNrYf"></div><div><div class="mdx-table_leftScrim__mYsmq mdx-table_scrim__VtktE"></div><div class="mdx-table_rightScrim__Ikt63 mdx-table_scrim__VtktE"></div></div></div><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">The main effect is that within the PKI secrets engine leaf certificates
issued with <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">no_store</code> set to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">false</code> are stored local to the cluster that issued them.
This allows for both primary and <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/vault/docs/enterprise/replication#architecture">Performance Secondary</a>
clusters&#x27; active node to issue certificates for greater scalability. As a
result, these certificates, metadata and any revocations are visible only on the issuing
cluster. This additionally means each cluster has its own set of CRLs, distinct
from other clusters. These CRLs should either be unified into a single CRL for
distribution from a single URI, or server operators should know to fetch all
CRLs from all clusters.</p><h2 id="cluster-scalability" class="hds-typography-display-500 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h2__9ZcX_"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h2__CA9g8" aria-label="cluster scalability permalink" href="/vault/docs/secrets/pki/considerations#cluster-scalability"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Cluster scalability</h2><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Most non-introspection operations in the PKI secrets engine require a write to
storage, and so are forwarded to the cluster&#x27;s active node for execution.
This table outlines which operations can be executed on performance standby nodes
and thus scale horizontally across all nodes within a cluster.</p><div class="mdx-table_root__adKqa"><div class="mdx-table_tableWrapper__81O9J"><table><thead><tr><th>Path</th><th>Operations</th></tr></thead><tbody><tr><td>ca<!-- -->[/pem]</td><td>Read</td></tr><tr><td>cert/<em>serial-number</em></td><td>Read</td></tr><tr><td>cert/ca_chain</td><td>Read</td></tr><tr><td>config/crl</td><td>Read</td></tr><tr><td>certs</td><td>List</td></tr><tr><td>ca_chain</td><td>Read</td></tr><tr><td>crl<!-- -->[/pem]</td><td>Read</td></tr><tr><td>issue</td><td>Update <sup>*</sup></td></tr><tr><td>revoke/<em>serial-number</em></td><td>Read</td></tr><tr><td>sign</td><td>Update <sup>*</sup></td></tr><tr><td>sign-verbatim</td><td>Update <sup>*</sup></td></tr></tbody></table></div><div class="mdx-table_tableFocusRing__qNrYf"></div><div><div class="mdx-table_leftScrim__mYsmq mdx-table_scrim__VtktE"></div><div class="mdx-table_rightScrim__Ikt63 mdx-table_scrim__VtktE"></div></div></div><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">*<!-- --> Only if the corresponding role has <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">no_store</code> set to true, <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">generate_lease</code>
set to false and no metadata is being written. If <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">generate_lease</code> is true the
lease creation will be forwarded to the active node; if <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">no_store</code> is false
the entire request will be forwarded to the active node.
If <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">no_store_cert_metadata=false</code> and <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">metadata</code> argument is provided the entire
request will be forwarded to the active node.</p><h2 id="pss-support" class="hds-typography-display-500 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h2__9ZcX_"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h2__CA9g8" aria-label="pss support permalink" href="/vault/docs/secrets/pki/considerations#pss-support"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>PSS support</h2><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Go lacks support for PSS certificates, keys, and CSRs using the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">rsaPSS</code> OID
(<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">1.2.840.113549.1.1.10</code>). It requires all RSA certificates, keys, and CSRs
to use the alternative <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">rsaEncryption</code> OID (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">1.2.840.113549.1.1.1</code>).</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">When using OpenSSL to generate CAs or CSRs from PKCS8-encoded PSS keys, the
resulting CAs and CSRs will have the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">rsaPSS</code> OID. Go and Vault will reject
them. Instead, use OpenSSL to generate or convert to a PKCS#1v1.5 private
key file and use this to generate the CSR. Vault will, depending on the role
and the signing mechanism, still use a PSS signature despite the
<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">rsaEncryption</code> OID on the request as the SubjectPublicKeyInfo and
SignatureAlgorithm fields are orthogonal. When creating an external CA and
importing it into Vault, ensure that the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">rsaEncryption</code> OID is present on
the SubjectPublicKeyInfo field even if the SignatureAlgorithm is PSS-based.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">These certificates generated by Go (with <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">rsaEncryption</code> OID but PSS-based
signatures) are otherwise compatible with the fully PSS-based certificates.
OpenSSL and NSS support parsing and verifying chains using this type of
certificate. Note that some TLS implementations may not support these types
of certificates if they do not support <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">rsa_pss_rsae_*</code> signature schemes.
Additionally, some implementations allow rsaPSS OID certificates to contain
restrictions on signature parameters allowed by this certificate, but Go and
Vault do not support adding such restrictions.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">At this time Go lacks support for signing CSRs with the PSS signature
algorithm. If using a managed key that requires a RSA PSS algorithm (such as GCP or
a PKCS#11 HSM) as a backing for an intermediate CA key, attempting to generate
a CSR (via <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">pki/intermediate/generate/kms</code>) will fail signature verification.
In this case, the CSR will need to be generated outside of Vault and the
signed final certificate can be imported into the mount.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Go additionally lacks support for creating OCSP responses with the PSS
signature algorithm. Vault will automatically downgrade issuers with
PSS-based revocation signature algorithms to PKCS#1v1.5, but note that
certain KMS devices (like HSMs and GCP) may not support this with the
same key. As a result, the OCSP responder may fail to sign responses,
returning an internal error.</p><h2 id="issuer-storage-migration-issues" class="hds-typography-display-500 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h2__9ZcX_"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h2__CA9g8" aria-label="issuer storage migration issues permalink" href="/vault/docs/secrets/pki/considerations#issuer-storage-migration-issues"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Issuer storage migration issues</h2><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">When Vault migrates to the new multi-issuer storage layout on releases prior
to 1.11.6, 1.12.2, and 1.13, and storage write errors occur during the mount
initialization and storage migration process, the default issuer <em>may</em> not
have the correct <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ca_chain</code> value and may only have the self-reference. These
write errors most commonly manifest in logs as a message like
<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">failed to persist issuer ... chain to disk: &lt;cause&gt;</code> and indicate that Vault
was not stable at the time of migration. Note that this only occurs when more
than one issuer exists within the mount (such as an intermediate with root).</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">To fix this manually (until a new version of Vault automatically rebuilds the
issuer chain), a rebuild of the chains can be performed:</p><div class="hds-code-block hds-code-block--theme-dark hds-code-block--is-standalone mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":R2etdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span>curl -X PATCH -H "Content-Type: application/merge-patch+json" -H "X-Vault-Request: true" -H "X-Vault-Token: $(vault print token)" -d '{"manual_chain":"self"}' https://.../issuer/default</span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span>curl -X PATCH -H "Content-Type: application/merge-patch+json" -H "X-Vault-Request: true" -H "X-Vault-Token: $(vault print token)" -d '{"manual_chain":""}' https://.../issuer/default</span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary-white hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":R2etdal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":R3metdal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">This temporarily sets the manual chain on the default issuer to a self-chain
only, before reverting it back to automatic chain building. This triggers a
refresh of the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ca_chain</code> field on the issuer, and can be verified with:</p><div class="hds-code-block hds-code-block--theme-dark hds-code-block--is-standalone mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":R2ftdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span>vault read pki/issuer/default</span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary-white hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":R2ftdal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":R3mftdal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div><h2 id="issuer-constraints-enforcement" class="hds-typography-display-500 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h2__9ZcX_"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h2__CA9g8" aria-label="issuer constraints enforcement permalink" href="/vault/docs/secrets/pki/considerations#issuer-constraints-enforcement"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Issuer Constraints Enforcement</h2><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Starting with versions 1.18.3, 1.18.3+ent, 1.17.10+ent and 1.16.14+ent, Vault
performs additional verifications when creating or signing leaf certificates for
issuers that have constraints extensions. This verification includes validating
extended key usage, name constraints, and correct copying of the issuer name
onto the certificate. Certificates issued without this verification might not be
accepted by end user applications.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Problems with issuance arising from this validation should be fixed by changing
the issuer certificate itself, to avoid more problems down the line.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">It is possible to completely disable verification by setting environment
variable <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">VAULT_DISABLE_PKI_CONSTRAINTS_VERIFICATION</code> to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">true</code>.</p><div class="alert alert-warning g-type-body"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><strong>Warning</strong>: The use of environment variable <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">VAULT_DISABLE_PKI_CONSTRAINTS_VERIFICATION</code>
should be considered as a last resort.</p></div><h2 id="tutorial" class="hds-typography-display-500 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h2__9ZcX_"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h2__CA9g8" aria-label="tutorial permalink" href="/vault/docs/secrets/pki/considerations#tutorial"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Tutorial</h2><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Refer to the <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/vault/tutorials/secrets-management/pki-engine">Build Your Own Certificate Authority (CA)</a>
guide for a step-by-step tutorial.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Have a look at the <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/vault/tutorials/enterprise/managed-key-pki">PKI Secrets Engine with Managed Keys</a>
for more about how to use externally managed keys with PKI.</p><h2 id="api" class="hds-typography-display-500 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h2__9ZcX_"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h2__CA9g8" aria-label="api permalink" href="/vault/docs/secrets/pki/considerations#api"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>API</h2><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">The PKI secrets engine has a full HTTP API. Please see the
<a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/vault/api-docs/secret/pki">PKI secrets engine API</a> for more
details.</p></div></div><a href="https://github.com/hashicorp/vault/blob/main/website/../content/docs/secrets/pki/considerations.mdx" target="_blank" class="edit-on-github-link_editLink__AsG8Z sidebar-sidecar-layout_editOnGithubLink__SDraB" rel="noreferrer"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="edit-on-github-link_editLinkIcon__wMtY9"><path fill="currentColor" fill-rule="evenodd" d="M8 1C4.133 1 1 4.13 1 7.993c0 3.09 2.006 5.71 4.787 6.635.35.064.478-.152.478-.337 0-.166-.006-.606-.01-1.19-1.947.423-2.357-.937-2.357-.937-.319-.808-.778-1.023-.778-1.023-.635-.434.048-.425.048-.425.703.05 1.073.72 1.073.72.624 1.07 1.638.76 2.037.582.063-.452.244-.76.444-.935-1.554-.176-3.188-.776-3.188-3.456 0-.763.273-1.388.72-1.876-.072-.177-.312-.888.07-1.85 0 0 .586-.189 1.924.716A6.711 6.711 0 018 4.381c.595.003 1.194.08 1.753.236 1.336-.905 1.923-.717 1.923-.717.382.963.142 1.674.07 1.85.448.49.72 1.114.72 1.877 0 2.686-1.638 3.278-3.197 3.45.251.216.475.643.475 1.296 0 .934-.009 1.688-.009 1.918 0 .187.127.404.482.336A6.996 6.996 0 0015 7.993 6.997 6.997 0 008 1z" clip-rule="evenodd"></path></svg>Edit this page on GitHub</a></main><div class="sidebar-sidecar-layout_sidecarPosition__WtTq0"><div class="sidebar-sidecar-layout_sidecarTopSlot__qRAEI"></div><div class="sidecar-scroll-container_root__a8nIj"><div class="sidecar-scroll-container_scrollContainer__Dw9id"><div><nav aria-labelledby="react-aria-228"><p id="react-aria-228" class="outline-nav_navLabel__HrjQb hds-typography-body-100">On this page:</p><ol class="outline-nav_listRoot__Sm1fr"><li><a class="outline-link_root__S7fQg hds-typography-body-200 g-focus-ring-from-box-shadow" href="/vault/docs/secrets/pki/considerations#pki-secrets-engine-considerations">PKI secrets engine considerations</a></li><li><a class="outline-link_root__S7fQg hds-typography-body-200 g-focus-ring-from-box-shadow" href="/vault/docs/secrets/pki/considerations#table-of-contents">Table of contents</a></li><li><a class="outline-link_root__S7fQg hds-typography-body-200 g-focus-ring-from-box-shadow" href="/vault/docs/secrets/pki/considerations#be-careful-with-root-cas">Be careful with root CAs</a></li><li><a class="outline-link_root__S7fQg hds-typography-body-200 g-focus-ring-from-box-shadow" href="/vault/docs/secrets/pki/considerations#one-ca-certificate-one-secrets-engine">One CA certificate, one secrets engine</a></li><li><a class="outline-link_root__S7fQg hds-typography-body-200 g-focus-ring-from-box-shadow" href="/vault/docs/secrets/pki/considerations#key-types-matter">Key types matter</a></li><li><a class="outline-link_root__S7fQg hds-typography-body-200 g-focus-ring-from-box-shadow" href="/vault/docs/secrets/pki/considerations#use-a-ca-hierarchy">Use a CA hierarchy</a></li><li><a class="outline-link_root__S7fQg hds-typography-body-200 g-focus-ring-from-box-shadow" href="/vault/docs/secrets/pki/considerations#cluster-urls-are-important">Cluster URLs are important</a></li><li><a class="outline-link_root__S7fQg hds-typography-body-200 g-focus-ring-from-box-shadow" href="/vault/docs/secrets/pki/considerations#automate-rotation-with-acme">Automate rotation with ACME</a></li><li><a class="outline-link_root__S7fQg hds-typography-body-200 g-focus-ring-from-box-shadow" href="/vault/docs/secrets/pki/considerations#keep-certificate-lifetimes-short-for-crl-s-sake">Keep certificate lifetimes short, for CRL&#x27;s sake</a></li><li><a class="outline-link_root__S7fQg hds-typography-body-200 g-focus-ring-from-box-shadow" href="/vault/docs/secrets/pki/considerations#you-must-configure-issuing-crl-ocsp-information-in-advance">You must configure issuing/CRL/OCSP information in advance</a></li><li><a class="outline-link_root__S7fQg hds-typography-body-200 g-focus-ring-from-box-shadow" href="/vault/docs/secrets/pki/considerations#distribution-of-crls-and-ocsp">Distribution of CRLs and OCSP</a></li><li><a class="outline-link_root__S7fQg hds-typography-body-200 g-focus-ring-from-box-shadow" href="/vault/docs/secrets/pki/considerations#automate-crl-building-and-tidying">Automate CRL building and tidying</a></li><li><a class="outline-link_root__S7fQg hds-typography-body-200 g-focus-ring-from-box-shadow" href="/vault/docs/secrets/pki/considerations#spectrum-of-revocation-support">Spectrum of revocation support</a></li><li><a class="outline-link_root__S7fQg hds-typography-body-200 g-focus-ring-from-box-shadow" href="/vault/docs/secrets/pki/considerations#issuer-subjects-and-crls">Issuer subjects and CRLs</a></li><li><a class="outline-link_root__S7fQg hds-typography-body-200 g-focus-ring-from-box-shadow" href="/vault/docs/secrets/pki/considerations#automate-leaf-certificate-renewal">Automate leaf certificate renewal</a></li><li><a class="outline-link_root__S7fQg hds-typography-body-200 g-focus-ring-from-box-shadow" href="/vault/docs/secrets/pki/considerations#safe-minimums">Safe minimums</a></li><li><a class="outline-link_root__S7fQg hds-typography-body-200 g-focus-ring-from-box-shadow" href="/vault/docs/secrets/pki/considerations#token-lifetimes-and-revocation">Token lifetimes and revocation</a></li><li><a class="outline-link_root__S7fQg hds-typography-body-200 g-focus-ring-from-box-shadow" href="/vault/docs/secrets/pki/considerations#safe-usage-of-roles">Safe usage of roles</a></li><li><a class="outline-link_root__S7fQg hds-typography-body-200 g-focus-ring-from-box-shadow" href="/vault/docs/secrets/pki/considerations#telemetry">Telemetry</a></li><li><a class="outline-link_root__S7fQg hds-typography-body-200 g-focus-ring-from-box-shadow" href="/vault/docs/secrets/pki/considerations#auditing">Auditing</a></li><li><a class="outline-link_root__S7fQg hds-typography-body-200 g-focus-ring-from-box-shadow" href="/vault/docs/secrets/pki/considerations#role-based-access">Role-Based access</a></li><li><a class="outline-link_root__S7fQg hds-typography-body-200 g-focus-ring-from-box-shadow" href="/vault/docs/secrets/pki/considerations#replicated-datasets">Replicated DataSets</a></li><li><a class="outline-link_root__S7fQg hds-typography-body-200 g-focus-ring-from-box-shadow" href="/vault/docs/secrets/pki/considerations#cluster-scalability">Cluster scalability</a></li><li><a class="outline-link_root__S7fQg hds-typography-body-200 g-focus-ring-from-box-shadow" href="/vault/docs/secrets/pki/considerations#pss-support">PSS support</a></li><li><a class="outline-link_root__S7fQg hds-typography-body-200 g-focus-ring-from-box-shadow" href="/vault/docs/secrets/pki/considerations#issuer-storage-migration-issues">Issuer storage migration issues</a></li><li><a class="outline-link_root__S7fQg hds-typography-body-200 g-focus-ring-from-box-shadow" href="/vault/docs/secrets/pki/considerations#issuer-constraints-enforcement">Issuer Constraints Enforcement</a></li><li><a class="outline-link_root__S7fQg hds-typography-body-200 g-focus-ring-from-box-shadow" href="/vault/docs/secrets/pki/considerations#tutorial">Tutorial</a></li><li><a class="outline-link_root__S7fQg hds-typography-body-200 g-focus-ring-from-box-shadow" href="/vault/docs/secrets/pki/considerations#api">API</a></li></ol></nav></div></div></div></div></div></div></div></div></div><div class="base-layout_footer__HGqK8 base-layout_showFooterTopBorder__4_CwH"><footer class="footer_root__qJO_k"><span class="footer_logoAndSwitcher__CJkN3"><a href="https://www.hashicorp.com/" aria-label="Go to HashiCorp home page" class="footer_logo__pe9i3 g-focus-ring-from-box-shadow"><div><svg xmlns="http://www.w3.org/2000/svg" width="266" height="65" fill="none" viewBox="0 0 266 65"><path fill="#000" d="M71.823 62.023c-.817 0-1.171-.519-1.253-1.174h-.081c-.3.874-1.09 1.365-2.097 1.365-1.524 0-2.423-.846-2.423-2.185 0-1.338.98-2.13 3.077-2.13h1.443v-.71c0-1.038-.572-1.584-1.716-1.584-1.143 0-1.443.41-1.851 1.093l-.68-.629c.38-.764 1.252-1.42 2.559-1.42 1.306 0 2.777.929 2.777 2.458v3.987h.816v.984h-.626zm-1.307-2.103v-1.202h-1.498c-1.28 0-1.85.383-1.85 1.093v.3c0 .71.57 1.12 1.442 1.12.871 0 1.906-.573 1.906-1.31M74.137 62.023v-7.265h1.116v1.175h.055c.354-.82.98-1.366 2.042-1.366 1.062 0 2.423 1.01 2.423 2.786v4.67h-1.117v-4.452c0-1.283-.571-1.966-1.633-1.966s-1.77.464-1.77 1.393v5.052h-1.116zM84.646 62.023v-.983h1.389v-7.866h-1.389v-.983h3.92v.983h-1.388v7.866h1.389v.983zM90.8 52.191h4.029c1.606 0 2.614 1.01 2.614 2.54s-.953 1.994-1.58 2.076v.082c.708.054 1.934.655 1.934 2.294 0 1.638-1.09 2.84-2.532 2.84h-4.466zm1.17 4.26h2.723c.925 0 1.497-.49 1.497-1.365v-.492c0-.873-.572-1.365-1.497-1.365H91.97zm0 4.534h2.913c1.008 0 1.634-.546 1.634-1.53v-.49c0-.984-.626-1.53-1.634-1.53H91.97v3.523zM100.056 52.191h1.579l2.805 5.298h.081l2.832-5.298h1.525v9.832h-1.144v-8.275h-.082l-.816 1.639-2.342 4.287-2.341-4.287-.817-1.64h-.082v8.276h-1.143v-9.832zM113.86 57.162c0-3.278 1.47-5.135 3.948-5.135 2.477 0 2.75.792 3.376 2.158l-.953.573c-.381-1.01-1.198-1.666-2.423-1.666s-2.696 1.339-2.696 3.36v1.474c0 2.021 1.008 3.25 2.696 3.25 1.688 0 2.096-.71 2.505-1.775l.953.601c-.627 1.393-1.825 2.24-3.431 2.24-2.478 0-3.948-1.748-3.948-5.026zM122.491 58.39c0-2.32 1.334-3.796 3.267-3.796 1.933 0 3.267 1.503 3.267 3.797 0 2.294-1.334 3.796-3.267 3.796-1.933 0-3.267-1.502-3.267-3.796m5.336.52v-1.038c0-1.53-.844-2.294-2.069-2.294s-2.069.737-2.069 2.294v1.038c0 1.53.844 2.294 2.069 2.294s2.069-.738 2.069-2.294M130.958 62.023v-7.265h1.116v1.175h.055c.327-.738.817-1.366 1.96-1.366 1.144 0 1.824.437 2.205 1.475h.028c.272-.792.98-1.475 2.205-1.475s2.369 1.01 2.369 2.786v4.67h-1.117v-4.452c0-1.283-.49-1.966-1.579-1.966s-1.688.464-1.688 1.393v5.052h-1.116V57.6c0-1.284-.49-1.967-1.552-1.967s-1.715.465-1.715 1.393v5.053h-1.116zM143.292 54.758h1.116v1.175h.054c.381-.929 1.117-1.366 2.124-1.366 1.824 0 2.94 1.475 2.94 3.796 0 2.322-1.143 3.797-2.94 3.797s-1.688-.465-2.124-1.366h-.054v3.987h-1.116V54.704zm5.036 4.26V57.79c0-1.284-.789-2.158-2.042-2.158-1.252 0-1.878.601-1.878 1.393v2.704c0 .956.844 1.475 1.878 1.475 1.035 0 2.042-.874 2.042-2.158zM156.768 62.023c-.816 0-1.17-.519-1.252-1.174h-.082c-.299.874-1.089 1.365-2.096 1.365-1.525 0-2.423-.846-2.423-2.185 0-1.338.98-2.13 3.076-2.13h1.443v-.71c0-1.038-.571-1.584-1.715-1.584-1.143 0-1.443.41-1.851 1.093l-.681-.629c.381-.764 1.253-1.42 2.559-1.42 1.307 0 2.777.929 2.777 2.458v3.987h.817v.984h-.626zm-1.334-2.103v-1.202h-1.497c-1.28 0-1.851.383-1.851 1.093v.3c0 .71.571 1.12 1.443 1.12.871 0 1.905-.573 1.905-1.31M159.056 62.023v-7.265h1.116v1.175h.054c.354-.82.98-1.366 2.042-1.366 1.062 0 2.423 1.01 2.423 2.786v4.67h-1.116v-4.452c0-1.283-.572-1.966-1.633-1.966-1.062 0-1.77.464-1.77 1.393v5.052h-1.116zM171.471 54.758h1.116l-3.24 8.958c-.327.874-.626 1.12-1.688 1.12h-.572v-.983h1.144l.544-1.557-2.722-7.538h1.116l1.742 4.944.327 1.174h.082l.381-1.174 1.742-4.944zM66.132 12.863h5.582v12.045H84.51V12.863h5.636V42.36H84.51V29.96H71.714v12.4h-5.582zM93.74 36.651c0-4.424 3.104-5.899 6.888-6.8l6.398-1.475v-.519c0-2.157-1.388-3.496-3.621-3.496-2.232 0-3.54 1.23-3.948 3.25l-4.791-.546c.707-4.042 4.11-6.664 8.957-6.664 4.846 0 8.821 3.387 8.821 8.303v8.63c0 .546.164.71.545.71h1.17v4.288h-3.267c-2.069 0-2.995-.683-2.995-2.349 0-1.666.082-1.092.3-1.857l-.463-.164c-1.525 3.277-3.73 4.725-6.888 4.725s-7.106-2.403-7.106-6.063zm8.549 2.103c2.777 0 4.737-2.02 4.737-5.216v-1.693l-4.574 1.092c-2.314.546-3.267 1.338-3.267 3.113 0 1.776 1.225 2.704 3.104 2.704M116.147 36.542l5.119-1.01c.544 2.266 2.341 3.413 4.737 3.413s3.73-.983 3.73-2.621c0-1.64-1.606-1.994-4.629-2.54-3.811-.601-8.766-1.311-8.766-6.61 0-5.298 3.403-6.8 8.957-6.8s8.74 2.076 9.611 6.227l-5.173.847c-.463-2.104-2.178-3.196-4.465-3.196s-3.649 1.065-3.649 2.485 1.634 1.994 4.656 2.54c3.785.601 8.74 1.311 8.74 6.61 0 5.298-3.376 6.964-9.039 6.964s-8.958-2.103-9.883-6.336zM143.836 42.387h-5.472V12.044h5.472v9.45c0 1.092-.218 2.157-.517 3.714l.517.164c1.307-3.114 3.267-4.943 6.943-4.943 3.675 0 7.133 2.95 7.133 7.974v13.984h-5.473v-13.82c0-2.458-1.225-3.796-3.648-3.796s-4.955 2.103-4.955 5.817zM169.129 36.924c0 .847.3 1.093.926 1.093h2.396v4.342h-4.955c-2.478 0-3.812-1.393-3.812-3.96V25.263h-3.022V20.92h8.494v16.004zm-6.207-21.74c0-1.856 1.524-3.386 3.321-3.386 1.797 0 3.322 1.53 3.322 3.387a3.305 3.305 0 0 1-3.322 3.332 3.305 3.305 0 0 1-3.321-3.332M174.248 27.639c0-8.85 5.799-15.24 14.185-15.24 8.385 0 11.897 4.097 13.177 9.64l-5.554 1.34c-1.062-3.879-3.621-6.064-7.651-6.064-4.029 0-8.358 4.26-8.358 10.324 0 6.063 3.376 10.323 8.576 10.323 5.2 0 6.643-2.24 7.705-6.363l5.255.6c-1.253 6.61-6.126 10.707-13.014 10.707-6.889 0-14.321-6.419-14.321-15.24zM203.87 31.626c0-6.527 4.574-11.197 10.918-11.197 6.343 0 10.917 4.67 10.917 11.197 0 6.527-4.574 11.252-10.917 11.252-6.344 0-10.918-4.725-10.918-11.252m16.39 0c0-4.042-2.151-6.746-5.472-6.746-3.322 0-5.473 2.704-5.473 6.746s2.178 6.8 5.473 6.8c3.294 0 5.472-2.703 5.472-6.8M229.163 20.92h5.037v.847c0 1.147-.055 2.075-.381 3.796l.517.137c.79-2.813 2.26-4.752 5.717-4.752h1.552v5.325h-2.232c-3.077 0-4.738 1.857-4.738 5.271v10.87h-5.472v-21.44zM244.165 20.92h5.39v.983c0 .984-.081 1.72-.381 3.469l.517.136c1.307-3.413 3.73-5.052 6.889-5.052 5.2 0 9.338 4.288 9.338 11.197 0 6.91-4.111 11.253-9.338 11.253-5.228 0-5.473-1.64-6.807-5.108l-.463.164c.245 1.694.327 2.485.327 3.414v9.64h-5.472zm16.308 10.706c0-4.178-2.26-6.746-5.472-6.746-3.213 0-5.473 2.568-5.473 6.746 0 4.179 2.26 6.8 5.473 6.8 3.212 0 5.472-2.567 5.472-6.8M21.781 0 0 12.618v30.26l8.168 4.725v-30.26L21.78 9.476z"/><path fill="#000" d="M30.466 0v24.116h-8.685v-9.013l-8.195 4.752v30.889l8.195 4.724V31.435h8.685v8.958l8.195-4.752V4.752z"/><path fill="#000" d="m30.466 55.496 21.781-12.618v-30.26l-8.195-4.725v30.26L30.466 46.02z"/></svg></div></a><span class="footer_themeSwitcher__CPJxw hds-font-weight-regular"><label class="theme-switcher_label__7Boh2 hds-typography-body-200" for="react-aria-257">Theme</label></span></span><ul class="footer_links__t81SU"><li><a class="footer_linkAction__bR3OW g-focus-ring-from-box-shadow" href="/certifications"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular">Certifications</span></a></li><li><a class="footer_linkAction__bR3OW g-focus-ring-from-box-shadow" href="https://status.hashicorp.com"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular">System Status</span></a></li><li><button class="footer_linkAction__bR3OW g-focus-ring-from-box-shadow"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular">Cookie Manager</span></button></li><li><a class="footer_linkAction__bR3OW g-focus-ring-from-box-shadow" href="https://www.hashicorp.com/terms-of-service"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular">Terms of Use</span></a></li><li><a class="footer_linkAction__bR3OW g-focus-ring-from-box-shadow" href="https://www.hashicorp.com/trust/security"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular">Security</span></a></li><li><a class="footer_linkAction__bR3OW g-focus-ring-from-box-shadow" href="https://www.hashicorp.com/privacy"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular">Privacy</span></a></li><li><a class="footer_linkAction__bR3OW g-focus-ring-from-box-shadow" href="https://www.hashicorp.com/trademark-policy"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular">Trademark Policy</span></a></li><li><a class="footer_linkAction__bR3OW g-focus-ring-from-box-shadow" href="https://www.hashicorp.com/trade-controls"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular">Trade Controls</span></a></li><li><a class="footer_linkAction__bR3OW g-focus-ring-from-box-shadow" href="https://www.hashicorp.com/trust/accessibility"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular">Accessibility</span></a></li><li><a class="footer_linkAction__bR3OW g-focus-ring-from-box-shadow" aria-describedby="opens-in-new-tab-label-react-aria-266" target="_blank" href="https://forms.gle/fnHLuNahLEhjuKvE6"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular">Give Feedback</span><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><g fill="currentColor"><path d="M9 .75A.75.75 0 019.75 0h4.5c.206 0 .393.083.529.218l.001.002.002.001A.748.748 0 0115 .75v4.5a.75.75 0 01-1.5 0V2.56L7.28 8.78a.75.75 0 01-1.06-1.06l6.22-6.22H9.75A.75.75 0 019 .75z"></path><path d="M3.25 3.5a.75.75 0 00-.75.75v7.5c0 .414.336.75.75.75h7.5a.75.75 0 00.75-.75v-4a.75.75 0 011.5 0v4A2.25 2.25 0 0110.75 14h-7.5A2.25 2.25 0 011 11.75v-7.5A2.25 2.25 0 013.25 2h4a.75.75 0 010 1.5h-4z"></path></g></svg></a><span class="g-screen-reader-only" id="opens-in-new-tab-label-react-aria-266">(opens in new tab)</span></li></ul></footer></div></div></div><div style="position:fixed;z-index:99;top:16px;left:16px;right:16px;bottom:16px;pointer-events:none;inset:24px"></div><!--$--><!--/$--></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"layoutProps":{"breadcrumbLinks":[{"title":"Developer","url":"/"},{"title":"Vault","url":"/vault"},{"title":"Documentation","url":"/vault/docs","isCurrentPage":false},{"title":"Secrets Engines","url":"/vault/docs/secrets"},{"title":"PKI (Certificates)","url":"/vault/docs/secrets/pki"},{"title":"Considerations","url":"/vault/docs/secrets/pki/considerations","isCurrentPage":true}],"sidebarNavDataLevels":[{"levelButtonProps":{"levelDownButtonText":"Vault Home"},"menuItems":[{"leadingIconName":"home","title":"HashiCorp Developer","href":"/"},{"leadingIconName":"guide","title":"Tutorials","href":"/tutorials"},{"divider":true},{"heading":"Products"},{"leadingIconName":"hcp","title":"HashiCorp Cloud Platform","href":"/hcp"},{"leadingIconName":"terraform","title":"Terraform","href":"/terraform"},{"leadingIconName":"packer","title":"Packer","href":"/packer"},{"leadingIconName":"consul","title":"Consul","href":"/consul"},{"leadingIconName":"vault","title":"Vault","href":"/vault"},{"leadingIconName":"boundary","title":"Boundary","href":"/boundary"},{"leadingIconName":"nomad","title":"Nomad","href":"/nomad"},{"leadingIconName":"waypoint","title":"Waypoint","href":"/waypoint"},{"leadingIconName":"vagrant","title":"Vagrant","href":"/vagrant"}],"showFilterInput":false,"title":"Main Menu"},{"levelButtonProps":{"levelUpButtonText":"Main Menu","levelDownButtonText":"Previous"},"menuItems":[{"title":"Vault","fullPath":"/vault","theme":"vault"},{"title":"Install","fullPath":"/vault/install"},{"title":"Tutorials","fullPath":"/vault/tutorials"},{"title":"Documentation","fullPath":"/vault/docs"},{"title":"CLI","fullPath":"/vault/docs/commands"},{"title":"APIs","fullPath":"/vault/api-docs"},{"title":"Integrations","fullPath":"/vault/integrations"}],"showFilterInput":false,"title":"Vault","visuallyHideTitle":true},{"backToLinkProps":{"text":"Vault Home","href":"/vault"},"levelButtonProps":{"levelUpButtonText":"Vault Home"},"menuItems":[{"title":"Documentation","fullPath":"/vault/docs","theme":"vault"},{"title":"About Vault","routes":[{"title":"What is Vault?","path":"about-vault/what-is-vault","filePath":"../content/docs/about-vault/what-is-vault.mdx","fullPath":"/vault/docs/about-vault/what-is-vault","id":"sidebar-nav-item-1"},{"title":"Why use Vault?","routes":[{"title":"Solve security problems","path":"about-vault/why-use-vault","filePath":"../content/docs/about-vault/why-use-vault/index.mdx","fullPath":"/vault/docs/about-vault/why-use-vault","id":"sidebar-nav-item-3"},{"title":"Manage 3rd-party secrets","path":"about-vault/why-use-vault/3rd-party-secrets","filePath":"../content/docs/about-vault/why-use-vault/3rd-party-secrets.mdx","fullPath":"/vault/docs/about-vault/why-use-vault/3rd-party-secrets","id":"sidebar-nav-item-4"},{"title":"Manage certificates","path":"about-vault/why-use-vault/certificates","filePath":"../content/docs/about-vault/why-use-vault/certificates.mdx","fullPath":"/vault/docs/about-vault/why-use-vault/certificates","id":"sidebar-nav-item-5"},{"title":"Manage identities","path":"about-vault/why-use-vault/identities","filePath":"../content/docs/about-vault/why-use-vault/identities.mdx","fullPath":"/vault/docs/about-vault/why-use-vault/identities","id":"sidebar-nav-item-6"},{"title":"Manage static secrets","path":"about-vault/why-use-vault/static-secrets","filePath":"../content/docs/about-vault/why-use-vault/static-secrets.mdx","fullPath":"/vault/docs/about-vault/why-use-vault/static-secrets","id":"sidebar-nav-item-7"},{"title":"Secure sensitive data","path":"about-vault/why-use-vault/sensitive-data","filePath":"../content/docs/about-vault/why-use-vault/sensitive-data.mdx","fullPath":"/vault/docs/about-vault/why-use-vault/sensitive-data","id":"sidebar-nav-item-8"},{"title":"Support regulatory compliance","path":"about-vault/why-use-vault/regulatory-compliance","filePath":"../content/docs/about-vault/why-use-vault/regulatory-compliance.mdx","fullPath":"/vault/docs/about-vault/why-use-vault/regulatory-compliance","id":"sidebar-nav-item-9"}],"id":"sidebar-nav-item-2"},{"title":"How Vault works","path":"about-vault/how-vault-works","filePath":"../content/docs/about-vault/how-vault-works.mdx","fullPath":"/vault/docs/about-vault/how-vault-works","id":"sidebar-nav-item-10"}],"id":"sidebar-nav-item-0"},{"title":"Partnerships","routes":[{"title":"Verification and validation","path":"partners","filePath":"../content/docs/partners/index.mdx","fullPath":"/vault/docs/partners","id":"sidebar-nav-item-12"},{"title":"Verified protocols","path":"partners/protocols","filePath":"../content/docs/partners/protocols.mdx","fullPath":"/vault/docs/partners/protocols","id":"sidebar-nav-item-13"},{"title":"HSM partners","path":"partners/hsm","filePath":"../content/docs/partners/hsm.mdx","fullPath":"/vault/docs/partners/hsm","id":"sidebar-nav-item-14"},{"title":"External key partners","path":"partners/external-keys","filePath":"../content/docs/partners/external-keys.mdx","fullPath":"/vault/docs/partners/external-keys","id":"sidebar-nav-item-15"},{"title":"Partner program","path":"partners/program","filePath":"../content/docs/partners/program.mdx","fullPath":"/vault/docs/partners/program","id":"sidebar-nav-item-16"}],"id":"sidebar-nav-item-11"},{"title":"Key concepts","routes":[{"title":"Overview","path":"concepts","filePath":"../content/docs/concepts/index.mdx","fullPath":"/vault/docs/concepts","id":"sidebar-nav-item-18"},{"title":"'Dev' Server","path":"concepts/dev-server","filePath":"../content/docs/concepts/dev-server.mdx","fullPath":"/vault/docs/concepts/dev-server","id":"sidebar-nav-item-19"},{"title":"Seal/Unseal","path":"concepts/seal","filePath":"../content/docs/concepts/seal.mdx","fullPath":"/vault/docs/concepts/seal","id":"sidebar-nav-item-20"},{"title":"Namespace API Lock","path":"concepts/namespace-api-lock","filePath":"../content/docs/concepts/namespace-api-lock.mdx","fullPath":"/vault/docs/concepts/namespace-api-lock","id":"sidebar-nav-item-21"},{"title":"Lease, Renew, and Revoke","path":"concepts/lease","filePath":"../content/docs/concepts/lease.mdx","fullPath":"/vault/docs/concepts/lease","id":"sidebar-nav-item-22"},{"title":"Authentication","path":"concepts/auth","filePath":"../content/docs/concepts/auth.mdx","fullPath":"/vault/docs/concepts/auth","id":"sidebar-nav-item-23"},{"title":"Tokens","path":"concepts/tokens","filePath":"../content/docs/concepts/tokens.mdx","fullPath":"/vault/docs/concepts/tokens","id":"sidebar-nav-item-24"},{"title":"Identity","path":"concepts/identity","filePath":"../content/docs/concepts/identity.mdx","fullPath":"/vault/docs/concepts/identity","id":"sidebar-nav-item-25"},{"title":"OIDC Provider","path":"concepts/oidc-provider","filePath":"../content/docs/concepts/oidc-provider.mdx","fullPath":"/vault/docs/concepts/oidc-provider","id":"sidebar-nav-item-26"},{"title":"Response Wrapping","path":"concepts/response-wrapping","filePath":"../content/docs/concepts/response-wrapping.mdx","fullPath":"/vault/docs/concepts/response-wrapping","id":"sidebar-nav-item-27"},{"title":"Policies","path":"concepts/policies","filePath":"../content/docs/concepts/policies.mdx","fullPath":"/vault/docs/concepts/policies","id":"sidebar-nav-item-28"},{"title":"Password Policies","path":"concepts/password-policies","filePath":"../content/docs/concepts/password-policies.mdx","fullPath":"/vault/docs/concepts/password-policies","id":"sidebar-nav-item-29"},{"title":"Username Templating","path":"concepts/username-templating","filePath":"../content/docs/concepts/username-templating.mdx","fullPath":"/vault/docs/concepts/username-templating","id":"sidebar-nav-item-30"},{"title":"High Availability","path":"concepts/ha","filePath":"../content/docs/concepts/ha.mdx","fullPath":"/vault/docs/concepts/ha","id":"sidebar-nav-item-31"},{"title":"Production hardening","path":"concepts/production-hardening","filePath":"../content/docs/concepts/production-hardening.mdx","fullPath":"/vault/docs/concepts/production-hardening","id":"sidebar-nav-item-32"},{"title":"Storage","path":"concepts/storage","filePath":"../content/docs/concepts/storage.mdx","fullPath":"/vault/docs/concepts/storage","id":"sidebar-nav-item-33"},{"title":"Tune server performance","path":"concepts/tune-server-performance","filePath":"../content/docs/concepts/tune-server-performance.mdx","fullPath":"/vault/docs/concepts/tune-server-performance","id":"sidebar-nav-item-34"},{"title":"Cloud access management","path":"concepts/cloud-access-management","filePath":"../content/docs/concepts/cloud-access-management.mdx","fullPath":"/vault/docs/concepts/cloud-access-management","id":"sidebar-nav-item-35"},{"title":"Integrated Storage","routes":[{"title":"Overview","path":"concepts/integrated-storage","filePath":"../content/docs/concepts/integrated-storage/index.mdx","fullPath":"/vault/docs/concepts/integrated-storage","id":"sidebar-nav-item-37"},{"title":"Autopilot","path":"concepts/integrated-storage/autopilot","filePath":"../content/docs/concepts/integrated-storage/autopilot.mdx","fullPath":"/vault/docs/concepts/integrated-storage/autopilot","id":"sidebar-nav-item-38"},{"title":"Migration checklist","path":"concepts/integrated-storage/migration-checklist","filePath":"../content/docs/concepts/integrated-storage/migration-checklist.mdx","fullPath":"/vault/docs/concepts/integrated-storage/migration-checklist","id":"sidebar-nav-item-39"},{"title":"Migrate Consul storage","path":"concepts/integrated-storage/migrate-consul-storage","filePath":"../content/docs/concepts/integrated-storage/migrate-consul-storage.mdx","fullPath":"/vault/docs/concepts/integrated-storage/migrate-consul-storage","id":"sidebar-nav-item-40"}],"id":"sidebar-nav-item-36"},{"title":"PGP, GnuPG, and Keybase","path":"concepts/pgp-gpg-keybase","filePath":"../content/docs/concepts/pgp-gpg-keybase.mdx","fullPath":"/vault/docs/concepts/pgp-gpg-keybase","id":"sidebar-nav-item-41"},{"title":"Recovery Mode","path":"concepts/recovery-mode","filePath":"../content/docs/concepts/recovery-mode.mdx","fullPath":"/vault/docs/concepts/recovery-mode","id":"sidebar-nav-item-42"},{"title":"Resource Quotas","path":"concepts/resource-quotas","filePath":"../content/docs/concepts/resource-quotas.mdx","fullPath":"/vault/docs/concepts/resource-quotas","id":"sidebar-nav-item-43"},{"title":"Billing Start Date","path":"concepts/billing-start-date","filePath":"../content/docs/concepts/billing-start-date.mdx","fullPath":"/vault/docs/concepts/billing-start-date","id":"sidebar-nav-item-44"},{"title":"Client count","routes":[{"title":"Clients and entities","path":"concepts/client-count","filePath":"../content/docs/concepts/client-count/index.mdx","fullPath":"/vault/docs/concepts/client-count","id":"sidebar-nav-item-46"},{"title":"Client count calculation","path":"concepts/client-count/counting","filePath":"../content/docs/concepts/client-count/counting.mdx","fullPath":"/vault/docs/concepts/client-count/counting","id":"sidebar-nav-item-47"},{"title":"Usage metrics","path":"concepts/client-count/usage-metrics","filePath":"../content/docs/concepts/client-count/usage-metrics.mdx","fullPath":"/vault/docs/concepts/client-count/usage-metrics","id":"sidebar-nav-item-48"},{"title":"FAQ","path":"concepts/client-count/faq","filePath":"../content/docs/concepts/client-count/faq.mdx","fullPath":"/vault/docs/concepts/client-count/faq","id":"sidebar-nav-item-49"}],"id":"sidebar-nav-item-45"},{"title":"Transform","path":"concepts/transform","filePath":"../content/docs/concepts/transform.mdx","fullPath":"/vault/docs/concepts/transform","id":"sidebar-nav-item-50"},{"title":"Mount Migration","path":"concepts/mount-migration","filePath":"../content/docs/concepts/mount-migration.mdx","fullPath":"/vault/docs/concepts/mount-migration","id":"sidebar-nav-item-51"},{"title":"Duration String Format","path":"concepts/duration-format","filePath":"../content/docs/concepts/duration-format.mdx","fullPath":"/vault/docs/concepts/duration-format","id":"sidebar-nav-item-52"},{"title":"User lockout","path":"concepts/user-lockout","filePath":"../content/docs/concepts/user-lockout.mdx","fullPath":"/vault/docs/concepts/user-lockout","id":"sidebar-nav-item-53"},{"title":"Events","path":"concepts/events","badge":{"text":"ENT","type":"filled","color":"neutral"},"filePath":"../content/docs/concepts/events.mdx","fullPath":"/vault/docs/concepts/events","id":"sidebar-nav-item-54"},{"title":"Filtering","path":"concepts/filtering","badge":{"text":"ENT","type":"filled","color":"neutral"},"filePath":"../content/docs/concepts/filtering.mdx","fullPath":"/vault/docs/concepts/filtering","id":"sidebar-nav-item-55"},{"title":"Adaptive overload protection","badge":{"text":"ENT","type":"filled","color":"neutral"},"routes":[{"title":"Overview","path":"concepts/adaptive-overload-protection","filePath":"../content/docs/concepts/adaptive-overload-protection/index.mdx","fullPath":"/vault/docs/concepts/adaptive-overload-protection","id":"sidebar-nav-item-57"},{"title":"Vault server temporarily overloaded","path":"concepts/adaptive-overload-protection/vault-server-temporarily-overloaded","filePath":"../content/docs/concepts/adaptive-overload-protection/vault-server-temporarily-overloaded.mdx","fullPath":"/vault/docs/concepts/adaptive-overload-protection/vault-server-temporarily-overloaded","id":"sidebar-nav-item-58"}],"id":"sidebar-nav-item-56"}],"id":"sidebar-nav-item-17"},{"title":"Quickstarts","routes":[{"title":"Developer quick start","path":"get-started/developer-qs","filePath":"../content/docs/get-started/developer-qs.mdx","fullPath":"/vault/docs/get-started/developer-qs","id":"sidebar-nav-item-60"},{"title":"Operations quick start","path":"get-started/operations-qs","filePath":"../content/docs/get-started/operations-qs.mdx","fullPath":"/vault/docs/get-started/operations-qs","id":"sidebar-nav-item-61"},{"title":"Vault foundations tutorials","href":"https://developer.hashicorp.com/vault/tutorials/get-started","id":"sidebar-nav-item-62"},{"title":"HCP Vault Dedicated tutorials","href":"https://developer.hashicorp.com/vault/tutorials/get-started-hcp-vault-dedicated","id":"sidebar-nav-item-63"}],"id":"sidebar-nav-item-59"},{"divider":true,"id":"sidebar-nav-item-64"},{"heading":"OPERATIONS","id":"sidebar-nav-item-65"},{"title":"Get Vault","routes":[{"title":"Install options","path":"get-vault","filePath":"../content/docs/get-vault/index.mdx","fullPath":"/vault/docs/get-vault","id":"sidebar-nav-item-67"},{"title":"Build from code","path":"get-vault/build-from-code","filePath":"../content/docs/get-vault/build-from-code.mdx","fullPath":"/vault/docs/get-vault/build-from-code","id":"sidebar-nav-item-68"},{"title":"Package manager installs","href":"https://developer.hashicorp.com/vault/install","badge":{"text":"COMMUNITY","type":"filled","color":"neutral"},"id":"sidebar-nav-item-69"},{"title":"Package manager installs","href":"https://developer.hashicorp.com/vault/install/enterprise","badge":{"text":"ENT","type":"filled","color":"neutral"},"id":"sidebar-nav-item-70"},{"title":"All Vault binaries","href":"https://releases.hashicorp.com/vault/","id":"sidebar-nav-item-71"},{"title":"Manually install a binary","path":"get-vault/install-binary","filePath":"../content/docs/get-vault/install-binary.mdx","fullPath":"/vault/docs/get-vault/install-binary","id":"sidebar-nav-item-72"}],"id":"sidebar-nav-item-66"},{"title":"License Vault","routes":[{"title":"Overview","path":"license","filePath":"../content/docs/license/index.mdx","fullPath":"/vault/docs/license","id":"sidebar-nav-item-74"},{"title":"Autoload a license","path":"license/autoloading","filePath":"../content/docs/license/autoloading.mdx","fullPath":"/vault/docs/license/autoloading","id":"sidebar-nav-item-75"},{"title":"Change licenses","path":"license/change-license","filePath":"../content/docs/license/change-license.mdx","fullPath":"/vault/docs/license/change-license","id":"sidebar-nav-item-76"},{"title":"Anonymized usage reporting","path":"license/product-usage-reporting","filePath":"../content/docs/license/product-usage-reporting.mdx","fullPath":"/vault/docs/license/product-usage-reporting","id":"sidebar-nav-item-77"},{"title":"Utilization reporting","routes":[{"title":"Automatic ","path":"license/utilization/auto-reporting","filePath":"../content/docs/license/utilization/auto-reporting.mdx","fullPath":"/vault/docs/license/utilization/auto-reporting","id":"sidebar-nav-item-79"},{"title":"Manual","path":"license/utilization/manual-reporting","filePath":"../content/docs/license/utilization/manual-reporting.mdx","fullPath":"/vault/docs/license/utilization/manual-reporting","id":"sidebar-nav-item-80"}],"id":"sidebar-nav-item-78"}],"id":"sidebar-nav-item-73"},{"title":"Configure Vault","routes":[{"title":"Parameter overview ","path":"configuration","filePath":"../content/docs/configuration/index.mdx","fullPath":"/vault/docs/configuration","id":"sidebar-nav-item-82"},{"title":"GUI configuration","path":"configuration/ui","filePath":"../content/docs/configuration/ui.mdx","fullPath":"/vault/docs/configuration/ui","id":"sidebar-nav-item-83"},{"title":"Programmatic best practices","path":"configuration/programmatic-best-practices","filePath":"../content/docs/configuration/programmatic-best-practices.mdx","fullPath":"/vault/docs/configuration/programmatic-best-practices","id":"sidebar-nav-item-84"},{"title":"Manage resources programmatically","path":"configuration/programmatic-management","filePath":"../content/docs/configuration/programmatic-management.mdx","fullPath":"/vault/docs/configuration/programmatic-management","id":"sidebar-nav-item-85"},{"title":"Prevent lease explosions","path":"configuration/prevent-lease-explosions","filePath":"../content/docs/configuration/prevent-lease-explosions.mdx","fullPath":"/vault/docs/configuration/prevent-lease-explosions","id":"sidebar-nav-item-86"},{"title":"Create a lease count quota","path":"configuration/create-lease-count-quota","filePath":"../content/docs/configuration/create-lease-count-quota.mdx","fullPath":"/vault/docs/configuration/create-lease-count-quota","id":"sidebar-nav-item-87"},{"title":"Configure completed request logging","path":"configuration/log-requests-level","filePath":"../content/docs/configuration/log-requests-level.mdx","fullPath":"/vault/docs/configuration/log-requests-level","id":"sidebar-nav-item-88"},{"title":"Configure entropy augmentation","badge":{"text":"ENT","type":"filled","color":"neutral"},"path":"configuration/entropy-augmentation","filePath":"../content/docs/configuration/entropy-augmentation.mdx","fullPath":"/vault/docs/configuration/entropy-augmentation","id":"sidebar-nav-item-89"},{"heading":"Configuration stanzas","id":"sidebar-nav-item-90"},{"title":"\u003ccode\u003eadaptive_overload_protection\u003c/code\u003e","badge":{"text":"ENT","type":"filled","color":"neutral"},"path":"configuration/adaptive-overload-protection","filePath":"../content/docs/configuration/adaptive-overload-protection.mdx","fullPath":"/vault/docs/configuration/adaptive-overload-protection","id":"sidebar-nav-item-91"},{"title":"\u003ccode\u003ekms_library\u003c/code\u003e","badge":{"text":"ENT","type":"filled","color":"neutral"},"path":"configuration/kms-library","filePath":"../content/docs/configuration/kms-library.mdx","fullPath":"/vault/docs/configuration/kms-library","id":"sidebar-nav-item-92"},{"title":"\u003ccode\u003elistener\u003c/code\u003e","routes":[{"title":"Overview","path":"configuration/listener","filePath":"../content/docs/configuration/listener/index.mdx","fullPath":"/vault/docs/configuration/listener","id":"sidebar-nav-item-94"},{"title":"TCP listener configuration","routes":[{"title":"Basic configuration","path":"configuration/listener/tcp","filePath":"../content/docs/configuration/listener/tcp/index.mdx","fullPath":"/vault/docs/configuration/listener/tcp","id":"sidebar-nav-item-96"},{"title":"Configure TLS","path":"configuration/listener/tcp/tcp-tls","filePath":"../content/docs/configuration/listener/tcp/tcp-tls.mdx","fullPath":"/vault/docs/configuration/listener/tcp/tcp-tls","id":"sidebar-nav-item-97"}],"id":"sidebar-nav-item-95"},{"title":"Unix listener configuration","path":"configuration/listener/unix","filePath":"../content/docs/configuration/listener/unix.mdx","fullPath":"/vault/docs/configuration/listener/unix","id":"sidebar-nav-item-98"}],"id":"sidebar-nav-item-93"},{"title":"\u003ccode\u003ereplication\u003c/code\u003e","badge":{"text":"ENT","type":"filled","color":"neutral"},"path":"configuration/replication","filePath":"../content/docs/configuration/replication.mdx","fullPath":"/vault/docs/configuration/replication","id":"sidebar-nav-item-99"},{"title":"\u003ccode\u003ereporting\u003c/code\u003e","badge":{"text":"ENT","type":"filled","color":"neutral"},"path":"configuration/reporting","filePath":"../content/docs/configuration/reporting.mdx","fullPath":"/vault/docs/configuration/reporting","id":"sidebar-nav-item-100"},{"title":"\u003ccode\u003eseal\u003c/code\u003e","routes":[{"title":"Overview","path":"configuration/seal","filePath":"../content/docs/configuration/seal/index.mdx","fullPath":"/vault/docs/configuration/seal","id":"sidebar-nav-item-102"},{"title":"Sealing best practices","path":"configuration/seal/seal-best-practices","filePath":"../content/docs/configuration/seal/seal-best-practices.mdx","fullPath":"/vault/docs/configuration/seal/seal-best-practices","id":"sidebar-nav-item-103"},{"title":"Configure HA for seals","badge":{"text":"ENT","type":"filled","color":"neutral"},"path":"configuration/seal/seal-ha","filePath":"../content/docs/configuration/seal/seal-ha.mdx","fullPath":"/vault/docs/configuration/seal/seal-ha","id":"sidebar-nav-item-104"},{"heading":"Seal wrapper options","id":"sidebar-nav-item-105"},{"title":"AliCloud KMS","path":"configuration/seal/alicloudkms","filePath":"../content/docs/configuration/seal/alicloudkms.mdx","fullPath":"/vault/docs/configuration/seal/alicloudkms","id":"sidebar-nav-item-106"},{"title":"AWS KMS","path":"configuration/seal/awskms","filePath":"../content/docs/configuration/seal/awskms.mdx","fullPath":"/vault/docs/configuration/seal/awskms","id":"sidebar-nav-item-107"},{"title":"Azure Key Vault","path":"configuration/seal/azurekeyvault","filePath":"../content/docs/configuration/seal/azurekeyvault.mdx","fullPath":"/vault/docs/configuration/seal/azurekeyvault","id":"sidebar-nav-item-108"},{"title":"GCP Cloud KMS","path":"configuration/seal/gcpckms","filePath":"../content/docs/configuration/seal/gcpckms.mdx","fullPath":"/vault/docs/configuration/seal/gcpckms","id":"sidebar-nav-item-109"},{"title":"OCI KMS","path":"configuration/seal/ocikms","filePath":"../content/docs/configuration/seal/ocikms.mdx","fullPath":"/vault/docs/configuration/seal/ocikms","id":"sidebar-nav-item-110"},{"title":"HSM PKCS11","badge":{"text":"ENT","type":"filled","color":"neutral"},"path":"configuration/seal/pkcs11","filePath":"../content/docs/configuration/seal/pkcs11.mdx","fullPath":"/vault/docs/configuration/seal/pkcs11","id":"sidebar-nav-item-111"},{"title":"Transit plugin","path":"configuration/seal/transit","filePath":"../content/docs/configuration/seal/transit.mdx","fullPath":"/vault/docs/configuration/seal/transit","id":"sidebar-nav-item-112"},{"title":"Auto-unseal best practices for Transit","path":"configuration/seal/transit-best-practices","filePath":"../content/docs/configuration/seal/transit-best-practices.mdx","fullPath":"/vault/docs/configuration/seal/transit-best-practices","id":"sidebar-nav-item-113"}],"id":"sidebar-nav-item-101"},{"title":"\u003ccode\u003esentinel\u003c/code\u003e","badge":{"text":"ENT","type":"filled","color":"neutral"},"path":"configuration/sentinel","filePath":"../content/docs/configuration/sentinel.mdx","fullPath":"/vault/docs/configuration/sentinel","id":"sidebar-nav-item-114"},{"title":"\u003ccode\u003eservice_registration\u003c/code\u003e","routes":[{"title":"Overview","path":"configuration/service-registration","filePath":"../content/docs/configuration/service-registration/index.mdx","fullPath":"/vault/docs/configuration/service-registration","id":"sidebar-nav-item-116"},{"heading":"Service registration options","id":"sidebar-nav-item-117"},{"title":"Consul","path":"configuration/service-registration/consul","filePath":"../content/docs/configuration/service-registration/consul.mdx","fullPath":"/vault/docs/configuration/service-registration/consul","id":"sidebar-nav-item-118"},{"title":"Kubernetes","path":"configuration/service-registration/kubernetes","filePath":"../content/docs/configuration/service-registration/kubernetes.mdx","fullPath":"/vault/docs/configuration/service-registration/kubernetes","id":"sidebar-nav-item-119"}],"id":"sidebar-nav-item-115"},{"title":"\u003ccode\u003estorage\u003c/code\u003e","routes":[{"title":"Backend storage for Vault","path":"configuration/storage","filePath":"../content/docs/configuration/storage/index.mdx","fullPath":"/vault/docs/configuration/storage","id":"sidebar-nav-item-121"},{"heading":"Storage options","id":"sidebar-nav-item-122"},{"title":"Aerospike","path":"configuration/storage/aerospike","filePath":"../content/docs/configuration/storage/aerospike.mdx","fullPath":"/vault/docs/configuration/storage/aerospike","id":"sidebar-nav-item-123"},{"title":"Alicloud OSS","path":"configuration/storage/alicloudoss","filePath":"../content/docs/configuration/storage/alicloudoss.mdx","fullPath":"/vault/docs/configuration/storage/alicloudoss","id":"sidebar-nav-item-124"},{"title":"Azure","path":"configuration/storage/azure","filePath":"../content/docs/configuration/storage/azure.mdx","fullPath":"/vault/docs/configuration/storage/azure","id":"sidebar-nav-item-125"},{"title":"Cassandra","path":"configuration/storage/cassandra","filePath":"../content/docs/configuration/storage/cassandra.mdx","fullPath":"/vault/docs/configuration/storage/cassandra","id":"sidebar-nav-item-126"},{"title":"CockroachDB","path":"configuration/storage/cockroachdb","filePath":"../content/docs/configuration/storage/cockroachdb.mdx","fullPath":"/vault/docs/configuration/storage/cockroachdb","id":"sidebar-nav-item-127"},{"title":"Consul","path":"configuration/storage/consul","filePath":"../content/docs/configuration/storage/consul.mdx","fullPath":"/vault/docs/configuration/storage/consul","id":"sidebar-nav-item-128"},{"title":"CouchDB","path":"configuration/storage/couchdb","filePath":"../content/docs/configuration/storage/couchdb.mdx","fullPath":"/vault/docs/configuration/storage/couchdb","id":"sidebar-nav-item-129"},{"title":"DynamoDB","path":"configuration/storage/dynamodb","filePath":"../content/docs/configuration/storage/dynamodb.mdx","fullPath":"/vault/docs/configuration/storage/dynamodb","id":"sidebar-nav-item-130"},{"title":"Etcd","path":"configuration/storage/etcd","filePath":"../content/docs/configuration/storage/etcd.mdx","fullPath":"/vault/docs/configuration/storage/etcd","id":"sidebar-nav-item-131"},{"title":"File system","path":"configuration/storage/filesystem","filePath":"../content/docs/configuration/storage/filesystem.mdx","fullPath":"/vault/docs/configuration/storage/filesystem","id":"sidebar-nav-item-132"},{"title":"FoundationDB","path":"configuration/storage/foundationdb","filePath":"../content/docs/configuration/storage/foundationdb.mdx","fullPath":"/vault/docs/configuration/storage/foundationdb","id":"sidebar-nav-item-133"},{"title":"Google Cloud Spanner","path":"configuration/storage/google-cloud-spanner","filePath":"../content/docs/configuration/storage/google-cloud-spanner.mdx","fullPath":"/vault/docs/configuration/storage/google-cloud-spanner","id":"sidebar-nav-item-134"},{"title":"Google Cloud Storage","path":"configuration/storage/google-cloud-storage","filePath":"../content/docs/configuration/storage/google-cloud-storage.mdx","fullPath":"/vault/docs/configuration/storage/google-cloud-storage","id":"sidebar-nav-item-135"},{"title":"In-memory storage","path":"configuration/storage/in-memory","filePath":"../content/docs/configuration/storage/in-memory.mdx","fullPath":"/vault/docs/configuration/storage/in-memory","id":"sidebar-nav-item-136"},{"title":"Integrated storage (Raft)","path":"configuration/storage/raft","filePath":"../content/docs/configuration/storage/raft.mdx","fullPath":"/vault/docs/configuration/storage/raft","id":"sidebar-nav-item-137"},{"title":"Manta","path":"configuration/storage/manta","filePath":"../content/docs/configuration/storage/manta.mdx","fullPath":"/vault/docs/configuration/storage/manta","id":"sidebar-nav-item-138"},{"title":"MSSQL","path":"configuration/storage/mssql","filePath":"../content/docs/configuration/storage/mssql.mdx","fullPath":"/vault/docs/configuration/storage/mssql","id":"sidebar-nav-item-139"},{"title":"MySQL","path":"configuration/storage/mysql","filePath":"../content/docs/configuration/storage/mysql.mdx","fullPath":"/vault/docs/configuration/storage/mysql","id":"sidebar-nav-item-140"},{"title":"OCI Object Storage","path":"configuration/storage/oci-object-storage","filePath":"../content/docs/configuration/storage/oci-object-storage.mdx","fullPath":"/vault/docs/configuration/storage/oci-object-storage","id":"sidebar-nav-item-141"},{"title":"PostgreSQL","path":"configuration/storage/postgresql","filePath":"../content/docs/configuration/storage/postgresql.mdx","fullPath":"/vault/docs/configuration/storage/postgresql","id":"sidebar-nav-item-142"},{"title":"S3","path":"configuration/storage/s3","filePath":"../content/docs/configuration/storage/s3.mdx","fullPath":"/vault/docs/configuration/storage/s3","id":"sidebar-nav-item-143"},{"title":"Swift","path":"configuration/storage/swift","filePath":"../content/docs/configuration/storage/swift.mdx","fullPath":"/vault/docs/configuration/storage/swift","id":"sidebar-nav-item-144"},{"title":"Zookeeper","path":"configuration/storage/zookeeper","filePath":"../content/docs/configuration/storage/zookeeper.mdx","fullPath":"/vault/docs/configuration/storage/zookeeper","id":"sidebar-nav-item-145"}],"id":"sidebar-nav-item-120"},{"title":"\u003ccode\u003etelemetry\u003c/code\u003e","path":"configuration/telemetry","filePath":"../content/docs/configuration/telemetry.mdx","fullPath":"/vault/docs/configuration/telemetry","id":"sidebar-nav-item-146"},{"title":"\u003ccode\u003euser_lockout\u003c/code\u003e","path":"configuration/user-lockout","filePath":"../content/docs/configuration/user-lockout.mdx","fullPath":"/vault/docs/configuration/user-lockout","id":"sidebar-nav-item-147"}],"id":"sidebar-nav-item-81"},{"title":"Deploy Vault","routes":[{"title":"Run as a service","path":"deploy/run-as-service","filePath":"../content/docs/deploy/run-as-service.mdx","fullPath":"/vault/docs/deploy/run-as-service","id":"sidebar-nav-item-149"},{"title":"Run on AWS","routes":[{"title":"Overview","path":"deploy/aws","filePath":"../content/docs/deploy/aws/index.mdx","fullPath":"/vault/docs/deploy/aws","id":"sidebar-nav-item-151"},{"title":"Vault Lambda Extension","path":"deploy/aws/lambda-extension","filePath":"../content/docs/deploy/aws/lambda-extension.mdx","fullPath":"/vault/docs/deploy/aws/lambda-extension","id":"sidebar-nav-item-152"},{"title":"Running Vault","path":"deploy/aws/run","filePath":"../content/docs/deploy/aws/run.mdx","fullPath":"/vault/docs/deploy/aws/run","id":"sidebar-nav-item-153"}],"id":"sidebar-nav-item-150"},{"title":"Run on Kubernetes","routes":[{"title":"Overview","path":"deploy/kubernetes","filePath":"../content/docs/deploy/kubernetes/index.mdx","fullPath":"/vault/docs/deploy/kubernetes","id":"sidebar-nav-item-155"},{"title":"Agent Injector vs. Vault CSI Provider","path":"deploy/kubernetes/injector-csi","filePath":"../content/docs/deploy/kubernetes/injector-csi.mdx","fullPath":"/vault/docs/deploy/kubernetes/injector-csi","id":"sidebar-nav-item-156"},{"title":"Migrate Consul to Raft storage","path":"deploy/kubernetes/consul-to-raft","filePath":"../content/docs/deploy/kubernetes/consul-to-raft.mdx","fullPath":"/vault/docs/deploy/kubernetes/consul-to-raft","id":"sidebar-nav-item-157"},{"title":"Helm Chart","routes":[{"title":"Overview","path":"deploy/kubernetes/helm","filePath":"../content/docs/deploy/kubernetes/helm/index.mdx","fullPath":"/vault/docs/deploy/kubernetes/helm","id":"sidebar-nav-item-159"},{"title":"Running Vault","path":"deploy/kubernetes/helm/run","filePath":"../content/docs/deploy/kubernetes/helm/run.mdx","fullPath":"/vault/docs/deploy/kubernetes/helm/run","id":"sidebar-nav-item-160"},{"title":"Enterprise Licensing","path":"deploy/kubernetes/helm/enterprise","filePath":"../content/docs/deploy/kubernetes/helm/enterprise.mdx","fullPath":"/vault/docs/deploy/kubernetes/helm/enterprise","id":"sidebar-nav-item-161"},{"title":"Running Vault on OpenShift","path":"deploy/kubernetes/helm/openshift","filePath":"../content/docs/deploy/kubernetes/helm/openshift.mdx","fullPath":"/vault/docs/deploy/kubernetes/helm/openshift","id":"sidebar-nav-item-162"},{"title":"Configuration","path":"deploy/kubernetes/helm/configuration","filePath":"../content/docs/deploy/kubernetes/helm/configuration.mdx","fullPath":"/vault/docs/deploy/kubernetes/helm/configuration","id":"sidebar-nav-item-163"},{"title":"Terraform","path":"deploy/kubernetes/helm/terraform","filePath":"../content/docs/deploy/kubernetes/helm/terraform.mdx","fullPath":"/vault/docs/deploy/kubernetes/helm/terraform","id":"sidebar-nav-item-164"},{"title":"Examples","routes":[{"title":"Overview","path":"deploy/kubernetes/helm/examples","filePath":"../content/docs/deploy/kubernetes/helm/examples/index.mdx","fullPath":"/vault/docs/deploy/kubernetes/helm/examples","id":"sidebar-nav-item-166"},{"title":"Development","path":"deploy/kubernetes/helm/examples/development","filePath":"../content/docs/deploy/kubernetes/helm/examples/development.mdx","fullPath":"/vault/docs/deploy/kubernetes/helm/examples/development","id":"sidebar-nav-item-167"},{"title":"Standalone with Load Balanced UI","path":"deploy/kubernetes/helm/examples/standalone-load-balanced-ui","filePath":"../content/docs/deploy/kubernetes/helm/examples/standalone-load-balanced-ui.mdx","fullPath":"/vault/docs/deploy/kubernetes/helm/examples/standalone-load-balanced-ui","id":"sidebar-nav-item-168"},{"title":"Standalone with TLS","path":"deploy/kubernetes/helm/examples/standalone-tls","filePath":"../content/docs/deploy/kubernetes/helm/examples/standalone-tls.mdx","fullPath":"/vault/docs/deploy/kubernetes/helm/examples/standalone-tls","id":"sidebar-nav-item-169"},{"title":"Standalone with Audit Storage","path":"deploy/kubernetes/helm/examples/standalone-audit","filePath":"../content/docs/deploy/kubernetes/helm/examples/standalone-audit.mdx","fullPath":"/vault/docs/deploy/kubernetes/helm/examples/standalone-audit","id":"sidebar-nav-item-170"},{"title":"External Vault","path":"deploy/kubernetes/helm/examples/external","filePath":"../content/docs/deploy/kubernetes/helm/examples/external.mdx","fullPath":"/vault/docs/deploy/kubernetes/helm/examples/external","id":"sidebar-nav-item-171"},{"title":"Using Kubernetes Auth Method","path":"deploy/kubernetes/helm/examples/kubernetes-auth","filePath":"../content/docs/deploy/kubernetes/helm/examples/kubernetes-auth.mdx","fullPath":"/vault/docs/deploy/kubernetes/helm/examples/kubernetes-auth","id":"sidebar-nav-item-172"},{"title":"HA Cluster with Consul","path":"deploy/kubernetes/helm/examples/ha-with-consul","filePath":"../content/docs/deploy/kubernetes/helm/examples/ha-with-consul.mdx","fullPath":"/vault/docs/deploy/kubernetes/helm/examples/ha-with-consul","id":"sidebar-nav-item-173"},{"title":"HA Cluster with Raft","path":"deploy/kubernetes/helm/examples/ha-with-raft","filePath":"../content/docs/deploy/kubernetes/helm/examples/ha-with-raft.mdx","fullPath":"/vault/docs/deploy/kubernetes/helm/examples/ha-with-raft","id":"sidebar-nav-item-174"},{"title":"HA Cluster with Raft and TLS","path":"deploy/kubernetes/helm/examples/ha-tls","filePath":"../content/docs/deploy/kubernetes/helm/examples/ha-tls.mdx","fullPath":"/vault/docs/deploy/kubernetes/helm/examples/ha-tls","id":"sidebar-nav-item-175"},{"title":"HA Enterprise Cluster with Raft","path":"deploy/kubernetes/helm/examples/enterprise-with-raft","filePath":"../content/docs/deploy/kubernetes/helm/examples/enterprise-with-raft.mdx","fullPath":"/vault/docs/deploy/kubernetes/helm/examples/enterprise-with-raft","id":"sidebar-nav-item-176"},{"title":"HA Enterprise DR Clusters with Raft","path":"deploy/kubernetes/helm/examples/enterprise-dr-with-raft","filePath":"../content/docs/deploy/kubernetes/helm/examples/enterprise-dr-with-raft.mdx","fullPath":"/vault/docs/deploy/kubernetes/helm/examples/enterprise-dr-with-raft","id":"sidebar-nav-item-177"},{"title":"HA Enterprise Performance Clusters with Raft","path":"deploy/kubernetes/helm/examples/enterprise-perf-with-raft","filePath":"../content/docs/deploy/kubernetes/helm/examples/enterprise-perf-with-raft.mdx","fullPath":"/vault/docs/deploy/kubernetes/helm/examples/enterprise-perf-with-raft","id":"sidebar-nav-item-178"},{"title":"Vault Agent Injector TLS Configuration","path":"deploy/kubernetes/helm/examples/injector-tls","filePath":"../content/docs/deploy/kubernetes/helm/examples/injector-tls.mdx","fullPath":"/vault/docs/deploy/kubernetes/helm/examples/injector-tls","id":"sidebar-nav-item-179"},{"title":"Vault Agent Injector TLS with Cert-Manager","path":"deploy/kubernetes/helm/examples/injector-tls-cert-manager","filePath":"../content/docs/deploy/kubernetes/helm/examples/injector-tls-cert-manager.mdx","fullPath":"/vault/docs/deploy/kubernetes/helm/examples/injector-tls-cert-manager","id":"sidebar-nav-item-180"}],"id":"sidebar-nav-item-165"}],"id":"sidebar-nav-item-158"},{"title":"Agent Injector","routes":[{"title":"Overview","path":"deploy/kubernetes/injector","filePath":"../content/docs/deploy/kubernetes/injector/index.mdx","fullPath":"/vault/docs/deploy/kubernetes/injector","id":"sidebar-nav-item-182"},{"title":"Annotations","path":"deploy/kubernetes/injector/annotations","filePath":"../content/docs/deploy/kubernetes/injector/annotations.mdx","fullPath":"/vault/docs/deploy/kubernetes/injector/annotations","id":"sidebar-nav-item-183"},{"title":"Installation","path":"deploy/kubernetes/injector/installation","filePath":"../content/docs/deploy/kubernetes/injector/installation.mdx","fullPath":"/vault/docs/deploy/kubernetes/injector/installation","id":"sidebar-nav-item-184"},{"title":"Examples","path":"deploy/kubernetes/injector/examples","filePath":"../content/docs/deploy/kubernetes/injector/examples.mdx","fullPath":"/vault/docs/deploy/kubernetes/injector/examples","id":"sidebar-nav-item-185"}],"id":"sidebar-nav-item-181"},{"title":"Vault CSI Provider","routes":[{"title":"Overview","path":"deploy/kubernetes/csi","filePath":"../content/docs/deploy/kubernetes/csi/index.mdx","fullPath":"/vault/docs/deploy/kubernetes/csi","id":"sidebar-nav-item-187"},{"title":"Installation","path":"deploy/kubernetes/csi/installation","filePath":"../content/docs/deploy/kubernetes/csi/installation.mdx","fullPath":"/vault/docs/deploy/kubernetes/csi/installation","id":"sidebar-nav-item-188"},{"title":"Configurations","path":"deploy/kubernetes/csi/configurations","filePath":"../content/docs/deploy/kubernetes/csi/configurations.mdx","fullPath":"/vault/docs/deploy/kubernetes/csi/configurations","id":"sidebar-nav-item-189"},{"title":"Examples","path":"deploy/kubernetes/csi/examples","filePath":"../content/docs/deploy/kubernetes/csi/examples.mdx","fullPath":"/vault/docs/deploy/kubernetes/csi/examples","id":"sidebar-nav-item-190"}],"id":"sidebar-nav-item-186"},{"title":"Vault Secrets Operator","routes":[{"title":"Overview","path":"deploy/kubernetes/vso","filePath":"../content/docs/deploy/kubernetes/vso/index.mdx","fullPath":"/vault/docs/deploy/kubernetes/vso","id":"sidebar-nav-item-192"},{"title":"Installation","path":"deploy/kubernetes/vso/installation","filePath":"../content/docs/deploy/kubernetes/vso/installation.mdx","fullPath":"/vault/docs/deploy/kubernetes/vso/installation","id":"sidebar-nav-item-193"},{"title":"Secret Sources","routes":[{"title":"Overview","path":"deploy/kubernetes/vso/sources","filePath":"../content/docs/deploy/kubernetes/vso/sources/index.mdx","fullPath":"/vault/docs/deploy/kubernetes/vso/sources","id":"sidebar-nav-item-195"},{"title":"Vault","routes":[{"title":"Overview","path":"deploy/kubernetes/vso/sources/vault","filePath":"../content/docs/deploy/kubernetes/vso/sources/vault/index.mdx","fullPath":"/vault/docs/deploy/kubernetes/vso/sources/vault","id":"sidebar-nav-item-197"},{"title":"Authentication","routes":[{"title":"Overview","path":"deploy/kubernetes/vso/sources/vault/auth","filePath":"../content/docs/deploy/kubernetes/vso/sources/vault/auth/index.mdx","fullPath":"/vault/docs/deploy/kubernetes/vso/sources/vault/auth","id":"sidebar-nav-item-199"},{"title":"AWS","path":"deploy/kubernetes/vso/sources/vault/auth/aws","filePath":"../content/docs/deploy/kubernetes/vso/sources/vault/auth/aws.mdx","fullPath":"/vault/docs/deploy/kubernetes/vso/sources/vault/auth/aws","id":"sidebar-nav-item-200"},{"title":"GCP","path":"deploy/kubernetes/vso/sources/vault/auth/gcp","filePath":"../content/docs/deploy/kubernetes/vso/sources/vault/auth/gcp.mdx","fullPath":"/vault/docs/deploy/kubernetes/vso/sources/vault/auth/gcp","id":"sidebar-nav-item-201"}],"id":"sidebar-nav-item-198"},{"title":"Encrypted client cache","path":"deploy/kubernetes/vso/sources/vault/client-cache","filePath":"../content/docs/deploy/kubernetes/vso/sources/vault/client-cache.mdx","fullPath":"/vault/docs/deploy/kubernetes/vso/sources/vault/client-cache","id":"sidebar-nav-item-202"},{"title":"Instant updates","path":"deploy/kubernetes/vso/sources/vault/instant-updates","filePath":"../content/docs/deploy/kubernetes/vso/sources/vault/instant-updates.mdx","fullPath":"/vault/docs/deploy/kubernetes/vso/sources/vault/instant-updates","id":"sidebar-nav-item-203"}],"id":"sidebar-nav-item-196"},{"title":"HCP Vault Secrets","path":"deploy/kubernetes/vso/sources/hvs","filePath":"../content/docs/deploy/kubernetes/vso/sources/hvs.mdx","fullPath":"/vault/docs/deploy/kubernetes/vso/sources/hvs","id":"sidebar-nav-item-204"}],"id":"sidebar-nav-item-194"},{"title":"Secret Data Transformation","path":"deploy/kubernetes/vso/secret-transformation","filePath":"../content/docs/deploy/kubernetes/vso/secret-transformation.mdx","fullPath":"/vault/docs/deploy/kubernetes/vso/secret-transformation","id":"sidebar-nav-item-205"},{"title":"Helm Chart","path":"deploy/kubernetes/vso/helm","filePath":"../content/docs/deploy/kubernetes/vso/helm.mdx","fullPath":"/vault/docs/deploy/kubernetes/vso/helm","id":"sidebar-nav-item-206"},{"title":"Examples","path":"deploy/kubernetes/vso/examples","filePath":"../content/docs/deploy/kubernetes/vso/examples.mdx","fullPath":"/vault/docs/deploy/kubernetes/vso/examples","id":"sidebar-nav-item-207"},{"title":"Telemetry","path":"deploy/kubernetes/vso/telemetry","filePath":"../content/docs/deploy/kubernetes/vso/telemetry.mdx","fullPath":"/vault/docs/deploy/kubernetes/vso/telemetry","id":"sidebar-nav-item-208"},{"title":"API Reference","path":"deploy/kubernetes/vso/api-reference","filePath":"../content/docs/deploy/kubernetes/vso/api-reference.mdx","fullPath":"/vault/docs/deploy/kubernetes/vso/api-reference","id":"sidebar-nav-item-209"},{"title":"OpenShift","path":"deploy/kubernetes/vso/openshift","filePath":"../content/docs/deploy/kubernetes/vso/openshift.mdx","fullPath":"/vault/docs/deploy/kubernetes/vso/openshift","id":"sidebar-nav-item-210"}],"id":"sidebar-nav-item-191"}],"id":"sidebar-nav-item-154"}],"id":"sidebar-nav-item-148"},{"title":"Upgrade Vault","routes":[{"title":"Single-instance","path":"upgrade","filePath":"../content/docs/upgrade/index.mdx","fullPath":"/vault/docs/upgrade","id":"sidebar-nav-item-212"},{"title":"Replicated deployments","path":"upgrade/replicated-deployment","filePath":"../content/docs/upgrade/replicated-deployment.mdx","fullPath":"/vault/docs/upgrade/replicated-deployment","id":"sidebar-nav-item-213"},{"title":"Rollback an upgrade","path":"upgrade/rollback","filePath":"../content/docs/upgrade/rollback.mdx","fullPath":"/vault/docs/upgrade/rollback","id":"sidebar-nav-item-214"},{"title":"Update to Raft WAL","path":"upgrade/raft-wal","badge":{"text":"EXPERIMENTAL","type":"outlined","color":"neutral"},"filePath":"../content/docs/upgrade/raft-wal.mdx","fullPath":"/vault/docs/upgrade/raft-wal","id":"sidebar-nav-item-215"}],"id":"sidebar-nav-item-211"},{"title":"Recent updates","routes":[{"title":"Release notes","path":"updates/release-notes","filePath":"../content/docs/updates/release-notes.mdx","fullPath":"/vault/docs/updates/release-notes","id":"sidebar-nav-item-217"},{"title":"Important changes","path":"updates/important-changes","filePath":"../content/docs/updates/important-changes.mdx","fullPath":"/vault/docs/updates/important-changes","id":"sidebar-nav-item-218"},{"title":"Deprecation notices","path":"updates/deprecation","filePath":"../content/docs/updates/deprecation.mdx","fullPath":"/vault/docs/updates/deprecation","id":"sidebar-nav-item-219"},{"title":"Full changelog","href":"https://raw.githubusercontent.com/hashicorp/vault/refs/heads/main/CHANGELOG.md","id":"sidebar-nav-item-220"}],"id":"sidebar-nav-item-216"},{"divider":true,"id":"sidebar-nav-item-221"},{"title":"Internals","routes":[{"title":"Overview","path":"internals","filePath":"../content/docs/internals/index.mdx","fullPath":"/vault/docs/internals","id":"sidebar-nav-item-223"},{"title":"Architecture","path":"internals/architecture","filePath":"../content/docs/internals/architecture.mdx","fullPath":"/vault/docs/internals/architecture","id":"sidebar-nav-item-224"},{"title":"High Availability","path":"internals/high-availability","filePath":"../content/docs/internals/high-availability.mdx","fullPath":"/vault/docs/internals/high-availability","id":"sidebar-nav-item-225"},{"title":"Integrated Storage","path":"internals/integrated-storage","filePath":"../content/docs/internals/integrated-storage.mdx","fullPath":"/vault/docs/internals/integrated-storage","id":"sidebar-nav-item-226"},{"title":"Recommended patterns","path":"internals/recommended-patterns","filePath":"../content/docs/internals/recommended-patterns.mdx","fullPath":"/vault/docs/internals/recommended-patterns","id":"sidebar-nav-item-227"},{"title":"Security Model","path":"internals/security","filePath":"../content/docs/internals/security.mdx","fullPath":"/vault/docs/internals/security","id":"sidebar-nav-item-228"},{"title":"Telemetry","routes":[{"title":"Overview","path":"internals/telemetry","filePath":"../content/docs/internals/telemetry/index.mdx","fullPath":"/vault/docs/internals/telemetry","id":"sidebar-nav-item-230"},{"title":"Enable telemetry gathering","path":"internals/telemetry/enable-telemetry","filePath":"../content/docs/internals/telemetry/enable-telemetry.mdx","fullPath":"/vault/docs/internals/telemetry/enable-telemetry","id":"sidebar-nav-item-231"},{"title":"Key metrics","path":"internals/telemetry/key-metrics","filePath":"../content/docs/internals/telemetry/key-metrics.mdx","fullPath":"/vault/docs/internals/telemetry/key-metrics","id":"sidebar-nav-item-232"},{"title":"Metric reference","routes":[{"title":"Overview","path":"internals/telemetry/metrics","filePath":"../content/docs/internals/telemetry/metrics/index.mdx","fullPath":"/vault/docs/internals/telemetry/metrics","id":"sidebar-nav-item-234"},{"title":"Activity metrics","path":"internals/telemetry/metrics/activity","filePath":"../content/docs/internals/telemetry/metrics/activity.mdx","fullPath":"/vault/docs/internals/telemetry/metrics/activity","id":"sidebar-nav-item-235"},{"title":"Audit log metrics","path":"internals/telemetry/metrics/audit","filePath":"../content/docs/internals/telemetry/metrics/audit.mdx","fullPath":"/vault/docs/internals/telemetry/metrics/audit","id":"sidebar-nav-item-236"},{"title":"Authentication metrics","path":"internals/telemetry/metrics/authn","filePath":"../content/docs/internals/telemetry/metrics/authn.mdx","fullPath":"/vault/docs/internals/telemetry/metrics/authn","id":"sidebar-nav-item-237"},{"title":"Auto-snapshot metrics","path":"internals/telemetry/metrics/autosnap","filePath":"../content/docs/internals/telemetry/metrics/autosnap.mdx","fullPath":"/vault/docs/internals/telemetry/metrics/autosnap","id":"sidebar-nav-item-238"},{"title":"Availability metrics","path":"internals/telemetry/metrics/availability","filePath":"../content/docs/internals/telemetry/metrics/availability.mdx","fullPath":"/vault/docs/internals/telemetry/metrics/availability","id":"sidebar-nav-item-239"},{"title":"Core system metrics","path":"internals/telemetry/metrics/core-system","filePath":"../content/docs/internals/telemetry/metrics/core-system.mdx","fullPath":"/vault/docs/internals/telemetry/metrics/core-system","id":"sidebar-nav-item-240"},{"title":"Database metrics","path":"internals/telemetry/metrics/database","filePath":"../content/docs/internals/telemetry/metrics/database.mdx","fullPath":"/vault/docs/internals/telemetry/metrics/database","id":"sidebar-nav-item-241"},{"title":"Policy metrics","path":"internals/telemetry/metrics/policy","filePath":"../content/docs/internals/telemetry/metrics/policy.mdx","fullPath":"/vault/docs/internals/telemetry/metrics/policy","id":"sidebar-nav-item-242"},{"title":"Raft metrics","path":"internals/telemetry/metrics/raft","filePath":"../content/docs/internals/telemetry/metrics/raft.mdx","fullPath":"/vault/docs/internals/telemetry/metrics/raft","id":"sidebar-nav-item-243"},{"title":"Secrets Sync metrics","path":"internals/telemetry/metrics/secrets-sync","filePath":"../content/docs/internals/telemetry/metrics/secrets-sync.mdx","fullPath":"/vault/docs/internals/telemetry/metrics/secrets-sync","id":"sidebar-nav-item-244"},{"title":"Secrets metrics","path":"internals/telemetry/metrics/secrets","filePath":"../content/docs/internals/telemetry/metrics/secrets.mdx","fullPath":"/vault/docs/internals/telemetry/metrics/secrets","id":"sidebar-nav-item-245"},{"title":"Storage plugin metrics","path":"internals/telemetry/metrics/storage","filePath":"../content/docs/internals/telemetry/metrics/storage.mdx","fullPath":"/vault/docs/internals/telemetry/metrics/storage","id":"sidebar-nav-item-246"},{"title":"Full metrics list","path":"internals/telemetry/metrics/all","filePath":"../content/docs/internals/telemetry/metrics/all.mdx","fullPath":"/vault/docs/internals/telemetry/metrics/all","id":"sidebar-nav-item-247"}],"id":"sidebar-nav-item-233"}],"id":"sidebar-nav-item-229"},{"title":"Token Authentication","path":"internals/token","filePath":"../content/docs/internals/token.mdx","fullPath":"/vault/docs/internals/token","id":"sidebar-nav-item-248"},{"title":"Key Rotation","path":"internals/rotation","filePath":"../content/docs/internals/rotation.mdx","fullPath":"/vault/docs/internals/rotation","id":"sidebar-nav-item-249"},{"title":"Replication","path":"internals/replication","filePath":"../content/docs/internals/replication.mdx","fullPath":"/vault/docs/internals/replication","id":"sidebar-nav-item-250"},{"title":"Limits and Maximums","path":"internals/limits","filePath":"../content/docs/internals/limits.mdx","fullPath":"/vault/docs/internals/limits","id":"sidebar-nav-item-251"}],"id":"sidebar-nav-item-222"},{"title":"Vault CLI","routes":[{"title":"Usage","path":"commands","filePath":"../content/docs/commands/index.mdx","fullPath":"/vault/docs/commands","id":"sidebar-nav-item-253"},{"title":"Use a custom token helper","path":"commands/token-helper","filePath":"../content/docs/commands/token-helper.mdx","fullPath":"/vault/docs/commands/token-helper","id":"sidebar-nav-item-254"},{"divider":true,"id":"sidebar-nav-item-255"},{"heading":"CLI commands","id":"sidebar-nav-item-256"},{"title":"Vault Agent","routes":[{"title":"\u003ccode\u003eagent\u003c/code\u003e","path":"commands/agent","filePath":"../content/docs/commands/agent/index.mdx","fullPath":"/vault/docs/commands/agent","id":"sidebar-nav-item-258"},{"title":"\u003ccode\u003egenerate-config\u003c/code\u003e","path":"commands/agent/generate-config","filePath":"../content/docs/commands/agent/generate-config.mdx","fullPath":"/vault/docs/commands/agent/generate-config","id":"sidebar-nav-item-259"}],"id":"sidebar-nav-item-257"},{"title":"\u003ccode\u003eaudit\u003c/code\u003e","routes":[{"title":"\u003ccode\u003edisable\u003c/code\u003e","path":"commands/audit/disable","filePath":"../content/docs/commands/audit/disable.mdx","fullPath":"/vault/docs/commands/audit/disable","id":"sidebar-nav-item-261"},{"title":"\u003ccode\u003eenable\u003c/code\u003e","path":"commands/audit/enable","filePath":"../content/docs/commands/audit/enable.mdx","fullPath":"/vault/docs/commands/audit/enable","id":"sidebar-nav-item-262"},{"title":"\u003ccode\u003elist\u003c/code\u003e","path":"commands/audit/list","filePath":"../content/docs/commands/audit/list.mdx","fullPath":"/vault/docs/commands/audit/list","id":"sidebar-nav-item-263"}],"id":"sidebar-nav-item-260"},{"title":"\u003ccode\u003eauth\u003c/code\u003e","routes":[{"title":"Overview","path":"commands/auth","filePath":"../content/docs/commands/auth/index.mdx","fullPath":"/vault/docs/commands/auth","id":"sidebar-nav-item-265"},{"title":"\u003ccode\u003edisable\u003c/code\u003e","path":"commands/auth/disable","filePath":"../content/docs/commands/auth/disable.mdx","fullPath":"/vault/docs/commands/auth/disable","id":"sidebar-nav-item-266"},{"title":"\u003ccode\u003eenable\u003c/code\u003e","path":"commands/auth/enable","filePath":"../content/docs/commands/auth/enable.mdx","fullPath":"/vault/docs/commands/auth/enable","id":"sidebar-nav-item-267"},{"title":"\u003ccode\u003ehelp\u003c/code\u003e","path":"commands/auth/help","filePath":"../content/docs/commands/auth/help.mdx","fullPath":"/vault/docs/commands/auth/help","id":"sidebar-nav-item-268"},{"title":"\u003ccode\u003elist\u003c/code\u003e","path":"commands/auth/list","filePath":"../content/docs/commands/auth/list.mdx","fullPath":"/vault/docs/commands/auth/list","id":"sidebar-nav-item-269"},{"title":"\u003ccode\u003emove\u003c/code\u003e","path":"commands/auth/move","filePath":"../content/docs/commands/auth/move.mdx","fullPath":"/vault/docs/commands/auth/move","id":"sidebar-nav-item-270"},{"title":"\u003ccode\u003etune\u003c/code\u003e","path":"commands/auth/tune","filePath":"../content/docs/commands/auth/tune.mdx","fullPath":"/vault/docs/commands/auth/tune","id":"sidebar-nav-item-271"}],"id":"sidebar-nav-item-264"},{"title":"\u003ccode\u003edebug\u003c/code\u003e","path":"commands/debug","filePath":"../content/docs/commands/debug.mdx","fullPath":"/vault/docs/commands/debug","id":"sidebar-nav-item-272"},{"title":"\u003ccode\u003edelete\u003c/code\u003e","path":"commands/delete","filePath":"../content/docs/commands/delete.mdx","fullPath":"/vault/docs/commands/delete","id":"sidebar-nav-item-273"},{"title":"\u003ccode\u003eevents\u003c/code\u003e","path":"commands/events","filePath":"../content/docs/commands/events.mdx","fullPath":"/vault/docs/commands/events","id":"sidebar-nav-item-274"},{"title":"\u003ccode\u003ehcp\u003c/code\u003e","routes":[{"title":"Overview","path":"commands/hcp","filePath":"../content/docs/commands/hcp/index.mdx","fullPath":"/vault/docs/commands/hcp","id":"sidebar-nav-item-276"},{"title":"\u003ccode\u003econnect\u003c/code\u003e","path":"commands/hcp/connect","filePath":"../content/docs/commands/hcp/connect.mdx","fullPath":"/vault/docs/commands/hcp/connect","id":"sidebar-nav-item-277"},{"title":"\u003ccode\u003edisconnect\u003c/code\u003e","path":"commands/hcp/disconnect","filePath":"../content/docs/commands/hcp/disconnect.mdx","fullPath":"/vault/docs/commands/hcp/disconnect","id":"sidebar-nav-item-278"}],"id":"sidebar-nav-item-275"},{"title":"\u003ccode\u003ekv\u003c/code\u003e","routes":[{"title":"Overview","path":"commands/kv","filePath":"../content/docs/commands/kv/index.mdx","fullPath":"/vault/docs/commands/kv","id":"sidebar-nav-item-280"},{"title":"\u003ccode\u003edelete\u003c/code\u003e","path":"commands/kv/delete","filePath":"../content/docs/commands/kv/delete.mdx","fullPath":"/vault/docs/commands/kv/delete","id":"sidebar-nav-item-281"},{"title":"\u003ccode\u003edestroy\u003c/code\u003e","path":"commands/kv/destroy","filePath":"../content/docs/commands/kv/destroy.mdx","fullPath":"/vault/docs/commands/kv/destroy","id":"sidebar-nav-item-282"},{"title":"\u003ccode\u003eenable-versioning\u003c/code\u003e","path":"commands/kv/enable-versioning","filePath":"../content/docs/commands/kv/enable-versioning.mdx","fullPath":"/vault/docs/commands/kv/enable-versioning","id":"sidebar-nav-item-283"},{"title":"\u003ccode\u003eget\u003c/code\u003e","path":"commands/kv/get","filePath":"../content/docs/commands/kv/get.mdx","fullPath":"/vault/docs/commands/kv/get","id":"sidebar-nav-item-284"},{"title":"\u003ccode\u003elist\u003c/code\u003e","path":"commands/kv/list","filePath":"../content/docs/commands/kv/list.mdx","fullPath":"/vault/docs/commands/kv/list","id":"sidebar-nav-item-285"},{"title":"\u003ccode\u003emetadata\u003c/code\u003e","path":"commands/kv/metadata","filePath":"../content/docs/commands/kv/metadata.mdx","fullPath":"/vault/docs/commands/kv/metadata","id":"sidebar-nav-item-286"},{"title":"\u003ccode\u003epatch\u003c/code\u003e","path":"commands/kv/patch","filePath":"../content/docs/commands/kv/patch.mdx","fullPath":"/vault/docs/commands/kv/patch","id":"sidebar-nav-item-287"},{"title":"\u003ccode\u003eput\u003c/code\u003e","path":"commands/kv/put","filePath":"../content/docs/commands/kv/put.mdx","fullPath":"/vault/docs/commands/kv/put","id":"sidebar-nav-item-288"},{"title":"\u003ccode\u003erollback\u003c/code\u003e","path":"commands/kv/rollback","filePath":"../content/docs/commands/kv/rollback.mdx","fullPath":"/vault/docs/commands/kv/rollback","id":"sidebar-nav-item-289"},{"title":"\u003ccode\u003eundelete\u003c/code\u003e","path":"commands/kv/undelete","filePath":"../content/docs/commands/kv/undelete.mdx","fullPath":"/vault/docs/commands/kv/undelete","id":"sidebar-nav-item-290"}],"id":"sidebar-nav-item-279"},{"title":"\u003ccode\u003elease\u003c/code\u003e","routes":[{"title":"Overview","path":"commands/lease","filePath":"../content/docs/commands/lease/index.mdx","fullPath":"/vault/docs/commands/lease","id":"sidebar-nav-item-292"},{"title":"\u003ccode\u003elookup\u003c/code\u003e","path":"commands/lease/lookup","filePath":"../content/docs/commands/lease/lookup.mdx","fullPath":"/vault/docs/commands/lease/lookup","id":"sidebar-nav-item-293"},{"title":"\u003ccode\u003erenew\u003c/code\u003e","path":"commands/lease/renew","filePath":"../content/docs/commands/lease/renew.mdx","fullPath":"/vault/docs/commands/lease/renew","id":"sidebar-nav-item-294"},{"title":"\u003ccode\u003erevoke\u003c/code\u003e","path":"commands/lease/revoke","filePath":"../content/docs/commands/lease/revoke.mdx","fullPath":"/vault/docs/commands/lease/revoke","id":"sidebar-nav-item-295"}],"id":"sidebar-nav-item-291"},{"title":"\u003ccode\u003elicense\u003c/code\u003e","routes":[{"title":"Overview","path":"commands/license","filePath":"../content/docs/commands/license/index.mdx","fullPath":"/vault/docs/commands/license","id":"sidebar-nav-item-297"},{"title":"\u003ccode\u003eget\u003c/code\u003e","path":"commands/license/get","filePath":"../content/docs/commands/license/get.mdx","fullPath":"/vault/docs/commands/license/get","id":"sidebar-nav-item-298"},{"title":"\u003ccode\u003einspect\u003c/code\u003e","path":"commands/license/inspect","filePath":"../content/docs/commands/license/inspect.mdx","fullPath":"/vault/docs/commands/license/inspect","id":"sidebar-nav-item-299"}],"id":"sidebar-nav-item-296"},{"title":"\u003ccode\u003elist\u003c/code\u003e","path":"commands/list","filePath":"../content/docs/commands/list.mdx","fullPath":"/vault/docs/commands/list","id":"sidebar-nav-item-300"},{"title":"\u003ccode\u003elogin\u003c/code\u003e","path":"commands/login","filePath":"../content/docs/commands/login.mdx","fullPath":"/vault/docs/commands/login","id":"sidebar-nav-item-301"},{"title":"\u003ccode\u003emonitor\u003c/code\u003e","path":"commands/monitor","filePath":"../content/docs/commands/monitor.mdx","fullPath":"/vault/docs/commands/monitor","id":"sidebar-nav-item-302"},{"title":"\u003ccode\u003enamespace\u003c/code\u003e","path":"commands/namespace","filePath":"../content/docs/commands/namespace.mdx","fullPath":"/vault/docs/commands/namespace","id":"sidebar-nav-item-303"},{"title":"\u003ccode\u003eoperator\u003c/code\u003e","routes":[{"title":"Overview","path":"commands/operator","filePath":"../content/docs/commands/operator/index.mdx","fullPath":"/vault/docs/commands/operator","id":"sidebar-nav-item-305"},{"title":"\u003ccode\u003ediagnose\u003c/code\u003e","path":"commands/operator/diagnose","filePath":"../content/docs/commands/operator/diagnose.mdx","fullPath":"/vault/docs/commands/operator/diagnose","id":"sidebar-nav-item-306"},{"title":"\u003ccode\u003egenerate-root\u003c/code\u003e","path":"commands/operator/generate-root","filePath":"../content/docs/commands/operator/generate-root.mdx","fullPath":"/vault/docs/commands/operator/generate-root","id":"sidebar-nav-item-307"},{"title":"\u003ccode\u003eimport\u003c/code\u003e","path":"commands/operator/import","filePath":"../content/docs/commands/operator/import.mdx","fullPath":"/vault/docs/commands/operator/import","id":"sidebar-nav-item-308"},{"title":"\u003ccode\u003einit\u003c/code\u003e","path":"commands/operator/init","filePath":"../content/docs/commands/operator/init.mdx","fullPath":"/vault/docs/commands/operator/init","id":"sidebar-nav-item-309"},{"title":"\u003ccode\u003ekey-status\u003c/code\u003e","path":"commands/operator/key-status","filePath":"../content/docs/commands/operator/key-status.mdx","fullPath":"/vault/docs/commands/operator/key-status","id":"sidebar-nav-item-310"},{"title":"\u003ccode\u003emembers\u003c/code\u003e","path":"commands/operator/members","filePath":"../content/docs/commands/operator/members.mdx","fullPath":"/vault/docs/commands/operator/members","id":"sidebar-nav-item-311"},{"title":"\u003ccode\u003emigrate\u003c/code\u003e","path":"commands/operator/migrate","filePath":"../content/docs/commands/operator/migrate.mdx","fullPath":"/vault/docs/commands/operator/migrate","id":"sidebar-nav-item-312"},{"title":"\u003ccode\u003eraft\u003c/code\u003e","path":"commands/operator/raft","filePath":"../content/docs/commands/operator/raft.mdx","fullPath":"/vault/docs/commands/operator/raft","id":"sidebar-nav-item-313"},{"title":"\u003ccode\u003erekey\u003c/code\u003e","path":"commands/operator/rekey","filePath":"../content/docs/commands/operator/rekey.mdx","fullPath":"/vault/docs/commands/operator/rekey","id":"sidebar-nav-item-314"},{"title":"\u003ccode\u003erotate\u003c/code\u003e","path":"commands/operator/rotate","filePath":"../content/docs/commands/operator/rotate.mdx","fullPath":"/vault/docs/commands/operator/rotate","id":"sidebar-nav-item-315"},{"title":"\u003ccode\u003eseal\u003c/code\u003e","path":"commands/operator/seal","filePath":"../content/docs/commands/operator/seal.mdx","fullPath":"/vault/docs/commands/operator/seal","id":"sidebar-nav-item-316"},{"title":"\u003ccode\u003estep-down\u003c/code\u003e","path":"commands/operator/step-down","filePath":"../content/docs/commands/operator/step-down.mdx","fullPath":"/vault/docs/commands/operator/step-down","id":"sidebar-nav-item-317"},{"title":"\u003ccode\u003eunseal\u003c/code\u003e","path":"commands/operator/unseal","filePath":"../content/docs/commands/operator/unseal.mdx","fullPath":"/vault/docs/commands/operator/unseal","id":"sidebar-nav-item-318"},{"title":"\u003ccode\u003eusage\u003c/code\u003e","path":"commands/operator/usage","filePath":"../content/docs/commands/operator/usage.mdx","fullPath":"/vault/docs/commands/operator/usage","id":"sidebar-nav-item-319"},{"title":"\u003ccode\u003eutilization\u003c/code\u003e","path":"commands/operator/utilization","filePath":"../content/docs/commands/operator/utilization.mdx","fullPath":"/vault/docs/commands/operator/utilization","id":"sidebar-nav-item-320"}],"id":"sidebar-nav-item-304"},{"title":"\u003ccode\u003epatch\u003c/code\u003e","path":"commands/patch","filePath":"../content/docs/commands/patch.mdx","fullPath":"/vault/docs/commands/patch","id":"sidebar-nav-item-321"},{"title":"\u003ccode\u003epath-help\u003c/code\u003e","path":"commands/path-help","filePath":"../content/docs/commands/path-help.mdx","fullPath":"/vault/docs/commands/path-help","id":"sidebar-nav-item-322"},{"title":"\u003ccode\u003epki\u003c/code\u003e","routes":[{"title":"Overview","path":"commands/pki","filePath":"../content/docs/commands/pki/index.mdx","fullPath":"/vault/docs/commands/pki","id":"sidebar-nav-item-324"},{"title":"\u003ccode\u003ehealth-check\u003c/code\u003e","path":"commands/pki/health-check","filePath":"../content/docs/commands/pki/health-check.mdx","fullPath":"/vault/docs/commands/pki/health-check","id":"sidebar-nav-item-325"},{"title":"\u003ccode\u003everify-sign\u003c/code\u003e","path":"commands/pki/verify-sign","filePath":"../content/docs/commands/pki/verify-sign.mdx","fullPath":"/vault/docs/commands/pki/verify-sign","id":"sidebar-nav-item-326"},{"title":"\u003ccode\u003elist-intermediates\u003c/code\u003e","path":"commands/pki/list-intermediates","filePath":"../content/docs/commands/pki/list-intermediates.mdx","fullPath":"/vault/docs/commands/pki/list-intermediates","id":"sidebar-nav-item-327"},{"title":"\u003ccode\u003eissue\u003c/code\u003e","path":"commands/pki/issue","filePath":"../content/docs/commands/pki/issue.mdx","fullPath":"/vault/docs/commands/pki/issue","id":"sidebar-nav-item-328"},{"title":"\u003ccode\u003ereissue\u003c/code\u003e","path":"commands/pki/reissue","filePath":"../content/docs/commands/pki/reissue.mdx","fullPath":"/vault/docs/commands/pki/reissue","id":"sidebar-nav-item-329"}],"id":"sidebar-nav-item-323"},{"title":"\u003ccode\u003eplugin\u003c/code\u003e","routes":[{"title":"Overview","path":"commands/plugin","filePath":"../content/docs/commands/plugin/index.mdx","fullPath":"/vault/docs/commands/plugin","id":"sidebar-nav-item-331"},{"title":"\u003ccode\u003ederegister\u003c/code\u003e","path":"commands/plugin/deregister","filePath":"../content/docs/commands/plugin/deregister.mdx","fullPath":"/vault/docs/commands/plugin/deregister","id":"sidebar-nav-item-332"},{"title":"\u003ccode\u003einfo\u003c/code\u003e","path":"commands/plugin/info","filePath":"../content/docs/commands/plugin/info.mdx","fullPath":"/vault/docs/commands/plugin/info","id":"sidebar-nav-item-333"},{"title":"\u003ccode\u003elist\u003c/code\u003e","path":"commands/plugin/list","filePath":"../content/docs/commands/plugin/list.mdx","fullPath":"/vault/docs/commands/plugin/list","id":"sidebar-nav-item-334"},{"title":"\u003ccode\u003eregister\u003c/code\u003e","path":"commands/plugin/register","filePath":"../content/docs/commands/plugin/register.mdx","fullPath":"/vault/docs/commands/plugin/register","id":"sidebar-nav-item-335"},{"title":"\u003ccode\u003ereload\u003c/code\u003e","path":"commands/plugin/reload","filePath":"../content/docs/commands/plugin/reload.mdx","fullPath":"/vault/docs/commands/plugin/reload","id":"sidebar-nav-item-336"},{"title":"\u003ccode\u003eruntime\u003c/code\u003e","routes":[{"title":"Overview","path":"commands/plugin/runtime","filePath":"../content/docs/commands/plugin/runtime/index.mdx","fullPath":"/vault/docs/commands/plugin/runtime","id":"sidebar-nav-item-338"},{"title":"\u003ccode\u003ederegister\u003c/code\u003e","path":"commands/plugin/runtime/deregister","filePath":"../content/docs/commands/plugin/runtime/deregister.mdx","fullPath":"/vault/docs/commands/plugin/runtime/deregister","id":"sidebar-nav-item-339"},{"title":"\u003ccode\u003einfo\u003c/code\u003e","path":"commands/plugin/runtime/info","filePath":"../content/docs/commands/plugin/runtime/info.mdx","fullPath":"/vault/docs/commands/plugin/runtime/info","id":"sidebar-nav-item-340"},{"title":"\u003ccode\u003elist\u003c/code\u003e","path":"commands/plugin/runtime/list","filePath":"../content/docs/commands/plugin/runtime/list.mdx","fullPath":"/vault/docs/commands/plugin/runtime/list","id":"sidebar-nav-item-341"},{"title":"\u003ccode\u003eregister\u003c/code\u003e","path":"commands/plugin/runtime/register","filePath":"../content/docs/commands/plugin/runtime/register.mdx","fullPath":"/vault/docs/commands/plugin/runtime/register","id":"sidebar-nav-item-342"}],"id":"sidebar-nav-item-337"}],"id":"sidebar-nav-item-330"},{"title":"\u003ccode\u003epolicy\u003c/code\u003e","routes":[{"title":"Overview","path":"commands/policy","filePath":"../content/docs/commands/policy/index.mdx","fullPath":"/vault/docs/commands/policy","id":"sidebar-nav-item-344"},{"title":"\u003ccode\u003edelete\u003c/code\u003e","path":"commands/policy/delete","filePath":"../content/docs/commands/policy/delete.mdx","fullPath":"/vault/docs/commands/policy/delete","id":"sidebar-nav-item-345"},{"title":"\u003ccode\u003efmt\u003c/code\u003e","path":"commands/policy/fmt","filePath":"../content/docs/commands/policy/fmt.mdx","fullPath":"/vault/docs/commands/policy/fmt","id":"sidebar-nav-item-346"},{"title":"\u003ccode\u003elist\u003c/code\u003e","path":"commands/policy/list","filePath":"../content/docs/commands/policy/list.mdx","fullPath":"/vault/docs/commands/policy/list","id":"sidebar-nav-item-347"},{"title":"\u003ccode\u003eread\u003c/code\u003e","path":"commands/policy/read","filePath":"../content/docs/commands/policy/read.mdx","fullPath":"/vault/docs/commands/policy/read","id":"sidebar-nav-item-348"},{"title":"\u003ccode\u003ewrite\u003c/code\u003e","path":"commands/policy/write","filePath":"../content/docs/commands/policy/write.mdx","fullPath":"/vault/docs/commands/policy/write","id":"sidebar-nav-item-349"}],"id":"sidebar-nav-item-343"},{"title":"\u003ccode\u003eprint\u003c/code\u003e","path":"commands/print","filePath":"../content/docs/commands/print.mdx","fullPath":"/vault/docs/commands/print","id":"sidebar-nav-item-350"},{"title":"\u003ccode\u003eproxy\u003c/code\u003e","path":"commands/proxy","filePath":"../content/docs/commands/proxy.mdx","fullPath":"/vault/docs/commands/proxy","id":"sidebar-nav-item-351"},{"title":"\u003ccode\u003eread\u003c/code\u003e","path":"commands/read","filePath":"../content/docs/commands/read.mdx","fullPath":"/vault/docs/commands/read","id":"sidebar-nav-item-352"},{"title":"\u003ccode\u003esecrets\u003c/code\u003e","routes":[{"title":"Overview","path":"commands/secrets","filePath":"../content/docs/commands/secrets/index.mdx","fullPath":"/vault/docs/commands/secrets","id":"sidebar-nav-item-354"},{"title":"\u003ccode\u003edisable\u003c/code\u003e","path":"commands/secrets/disable","filePath":"../content/docs/commands/secrets/disable.mdx","fullPath":"/vault/docs/commands/secrets/disable","id":"sidebar-nav-item-355"},{"title":"\u003ccode\u003eenable\u003c/code\u003e","path":"commands/secrets/enable","filePath":"../content/docs/commands/secrets/enable.mdx","fullPath":"/vault/docs/commands/secrets/enable","id":"sidebar-nav-item-356"},{"title":"\u003ccode\u003elist\u003c/code\u003e","path":"commands/secrets/list","filePath":"../content/docs/commands/secrets/list.mdx","fullPath":"/vault/docs/commands/secrets/list","id":"sidebar-nav-item-357"},{"title":"\u003ccode\u003emove\u003c/code\u003e","path":"commands/secrets/move","filePath":"../content/docs/commands/secrets/move.mdx","fullPath":"/vault/docs/commands/secrets/move","id":"sidebar-nav-item-358"},{"title":"\u003ccode\u003etune\u003c/code\u003e","path":"commands/secrets/tune","filePath":"../content/docs/commands/secrets/tune.mdx","fullPath":"/vault/docs/commands/secrets/tune","id":"sidebar-nav-item-359"}],"id":"sidebar-nav-item-353"},{"title":"\u003ccode\u003eserver\u003c/code\u003e","path":"commands/server","filePath":"../content/docs/commands/server.mdx","fullPath":"/vault/docs/commands/server","id":"sidebar-nav-item-360"},{"title":"\u003ccode\u003essh\u003c/code\u003e","path":"commands/ssh","filePath":"../content/docs/commands/ssh.mdx","fullPath":"/vault/docs/commands/ssh","id":"sidebar-nav-item-361"},{"title":"\u003ccode\u003estatus\u003c/code\u003e","path":"commands/status","filePath":"../content/docs/commands/status.mdx","fullPath":"/vault/docs/commands/status","id":"sidebar-nav-item-362"},{"title":"\u003ccode\u003etoken\u003c/code\u003e","routes":[{"title":"Overview","path":"commands/token","filePath":"../content/docs/commands/token/index.mdx","fullPath":"/vault/docs/commands/token","id":"sidebar-nav-item-364"},{"title":"\u003ccode\u003ecapabilities\u003c/code\u003e","path":"commands/token/capabilities","filePath":"../content/docs/commands/token/capabilities.mdx","fullPath":"/vault/docs/commands/token/capabilities","id":"sidebar-nav-item-365"},{"title":"\u003ccode\u003ecreate\u003c/code\u003e","path":"commands/token/create","filePath":"../content/docs/commands/token/create.mdx","fullPath":"/vault/docs/commands/token/create","id":"sidebar-nav-item-366"},{"title":"\u003ccode\u003elookup\u003c/code\u003e","path":"commands/token/lookup","filePath":"../content/docs/commands/token/lookup.mdx","fullPath":"/vault/docs/commands/token/lookup","id":"sidebar-nav-item-367"},{"title":"\u003ccode\u003erenew\u003c/code\u003e","path":"commands/token/renew","filePath":"../content/docs/commands/token/renew.mdx","fullPath":"/vault/docs/commands/token/renew","id":"sidebar-nav-item-368"},{"title":"\u003ccode\u003erevoke\u003c/code\u003e","path":"commands/token/revoke","filePath":"../content/docs/commands/token/revoke.mdx","fullPath":"/vault/docs/commands/token/revoke","id":"sidebar-nav-item-369"}],"id":"sidebar-nav-item-363"},{"title":"\u003ccode\u003etransit\u003c/code\u003e","routes":[{"title":"Overview","path":"commands/transit","filePath":"../content/docs/commands/transit/index.mdx","fullPath":"/vault/docs/commands/transit","id":"sidebar-nav-item-371"},{"title":"\u003ccode\u003eimport\u003c/code\u003e and \u003ccode\u003eimport-version\u003c/code\u003e","path":"commands/transit/import","filePath":"../content/docs/commands/transit/import.mdx","fullPath":"/vault/docs/commands/transit/import","id":"sidebar-nav-item-372"}],"id":"sidebar-nav-item-370"},{"title":"\u003ccode\u003etransform\u003c/code\u003e","routes":[{"title":"Overview","path":"commands/transform","filePath":"../content/docs/commands/transform/index.mdx","fullPath":"/vault/docs/commands/transform","id":"sidebar-nav-item-374"},{"title":"\u003ccode\u003eimport\u003c/code\u003e and \u003ccode\u003eimport-version\u003c/code\u003e","path":"commands/transform/import","filePath":"../content/docs/commands/transform/import.mdx","fullPath":"/vault/docs/commands/transform/import","id":"sidebar-nav-item-375"}],"id":"sidebar-nav-item-373"},{"title":"\u003ccode\u003eunwrap\u003c/code\u003e","path":"commands/unwrap","filePath":"../content/docs/commands/unwrap.mdx","fullPath":"/vault/docs/commands/unwrap","id":"sidebar-nav-item-376"},{"title":"\u003ccode\u003eversion\u003c/code\u003e","path":"commands/version","filePath":"../content/docs/commands/version.mdx","fullPath":"/vault/docs/commands/version","id":"sidebar-nav-item-377"},{"title":"\u003ccode\u003eversion-history\u003c/code\u003e","path":"commands/version-history","filePath":"../content/docs/commands/version-history.mdx","fullPath":"/vault/docs/commands/version-history","id":"sidebar-nav-item-378"},{"title":"\u003ccode\u003ewrite\u003c/code\u003e","path":"commands/write","filePath":"../content/docs/commands/write.mdx","fullPath":"/vault/docs/commands/write","id":"sidebar-nav-item-379"}],"id":"sidebar-nav-item-252"},{"title":"Vault GUI","routes":[{"title":"Overview","path":"ui","filePath":"../content/docs/ui/index.mdx","fullPath":"/vault/docs/ui","id":"sidebar-nav-item-381"},{"title":"Browser support","path":"ui/browser-support","filePath":"../content/docs/ui/browser-support.mdx","fullPath":"/vault/docs/ui/browser-support","id":"sidebar-nav-item-382"},{"title":"Custom Messages","path":"ui/custom-messages","badge":{"text":"ENT","type":"filled","color":"neutral"},"filePath":"../content/docs/ui/custom-messages.mdx","fullPath":"/vault/docs/ui/custom-messages","id":"sidebar-nav-item-383"},{"title":"CLI emulation","path":"ui/web-cli","filePath":"../content/docs/ui/web-cli.mdx","fullPath":"/vault/docs/ui/web-cli","id":"sidebar-nav-item-384"}],"id":"sidebar-nav-item-380"},{"title":"Vault tools: Agent and Proxy","routes":[{"title":"Why use Agent or Proxy?","path":"agent-and-proxy","filePath":"../content/docs/agent-and-proxy/index.mdx","fullPath":"/vault/docs/agent-and-proxy","id":"sidebar-nav-item-386"},{"title":"Upgrade Agent or Proxy","path":"agent-and-proxy/upgrade","filePath":"../content/docs/agent-and-proxy/upgrade.mdx","fullPath":"/vault/docs/agent-and-proxy/upgrade","id":"sidebar-nav-item-387"},{"title":"Auto-authentication","routes":[{"title":"What is auto-authentication?","path":"agent-and-proxy/autoauth","filePath":"../content/docs/agent-and-proxy/autoauth/index.mdx","fullPath":"/vault/docs/agent-and-proxy/autoauth","id":"sidebar-nav-item-389"},{"title":"Auto-auth methods","routes":[{"title":"AliCloud","path":"agent-and-proxy/autoauth/methods/alicloud","filePath":"../content/docs/agent-and-proxy/autoauth/methods/alicloud.mdx","fullPath":"/vault/docs/agent-and-proxy/autoauth/methods/alicloud","id":"sidebar-nav-item-391"},{"title":"AppRole","path":"agent-and-proxy/autoauth/methods/approle","filePath":"../content/docs/agent-and-proxy/autoauth/methods/approle.mdx","fullPath":"/vault/docs/agent-and-proxy/autoauth/methods/approle","id":"sidebar-nav-item-392"},{"title":"AWS","path":"agent-and-proxy/autoauth/methods/aws","filePath":"../content/docs/agent-and-proxy/autoauth/methods/aws.mdx","fullPath":"/vault/docs/agent-and-proxy/autoauth/methods/aws","id":"sidebar-nav-item-393"},{"title":"Azure","path":"agent-and-proxy/autoauth/methods/azure","filePath":"../content/docs/agent-and-proxy/autoauth/methods/azure.mdx","fullPath":"/vault/docs/agent-and-proxy/autoauth/methods/azure","id":"sidebar-nav-item-394"},{"title":"TLS certificates","path":"agent-and-proxy/autoauth/methods/cert","filePath":"../content/docs/agent-and-proxy/autoauth/methods/cert.mdx","fullPath":"/vault/docs/agent-and-proxy/autoauth/methods/cert","id":"sidebar-nav-item-395"},{"title":"Cloud Foundry (CF)","path":"agent-and-proxy/autoauth/methods/cf","filePath":"../content/docs/agent-and-proxy/autoauth/methods/cf.mdx","fullPath":"/vault/docs/agent-and-proxy/autoauth/methods/cf","id":"sidebar-nav-item-396"},{"title":"GCP","path":"agent-and-proxy/autoauth/methods/gcp","filePath":"../content/docs/agent-and-proxy/autoauth/methods/gcp.mdx","fullPath":"/vault/docs/agent-and-proxy/autoauth/methods/gcp","id":"sidebar-nav-item-397"},{"title":"JWT","path":"agent-and-proxy/autoauth/methods/jwt","filePath":"../content/docs/agent-and-proxy/autoauth/methods/jwt.mdx","fullPath":"/vault/docs/agent-and-proxy/autoauth/methods/jwt","id":"sidebar-nav-item-398"},{"title":"LDAP","path":"agent-and-proxy/autoauth/methods/ldap","filePath":"../content/docs/agent-and-proxy/autoauth/methods/ldap.mdx","fullPath":"/vault/docs/agent-and-proxy/autoauth/methods/ldap","id":"sidebar-nav-item-399"},{"title":"Kerberos","path":"agent-and-proxy/autoauth/methods/kerberos","filePath":"../content/docs/agent-and-proxy/autoauth/methods/kerberos.mdx","fullPath":"/vault/docs/agent-and-proxy/autoauth/methods/kerberos","id":"sidebar-nav-item-400"},{"title":"Kubernetes","path":"agent-and-proxy/autoauth/methods/kubernetes","filePath":"../content/docs/agent-and-proxy/autoauth/methods/kubernetes.mdx","fullPath":"/vault/docs/agent-and-proxy/autoauth/methods/kubernetes","id":"sidebar-nav-item-401"},{"title":"Oracle Cloud Infrastructure (OCI","path":"agent-and-proxy/autoauth/methods/oci","filePath":"../content/docs/agent-and-proxy/autoauth/methods/oci.mdx","fullPath":"/vault/docs/agent-and-proxy/autoauth/methods/oci","id":"sidebar-nav-item-402"},{"title":"Token file","path":"agent-and-proxy/autoauth/methods/token_file","filePath":"../content/docs/agent-and-proxy/autoauth/methods/token_file.mdx","fullPath":"/vault/docs/agent-and-proxy/autoauth/methods/token_file","id":"sidebar-nav-item-403"}],"id":"sidebar-nav-item-390"},{"title":"Token sinks","routes":[{"title":"File","path":"agent-and-proxy/autoauth/sinks/file","filePath":"../content/docs/agent-and-proxy/autoauth/sinks/file.mdx","fullPath":"/vault/docs/agent-and-proxy/autoauth/sinks/file","id":"sidebar-nav-item-405"}],"id":"sidebar-nav-item-404"}],"id":"sidebar-nav-item-388"},{"title":"Vault Proxy","routes":[{"title":"What is Vault Proxy?","path":"agent-and-proxy/proxy","filePath":"../content/docs/agent-and-proxy/proxy/index.mdx","fullPath":"/vault/docs/agent-and-proxy/proxy","id":"sidebar-nav-item-407"},{"title":"Vault Proxy as Vault API proxy","path":"agent-and-proxy/proxy/apiproxy","filePath":"../content/docs/agent-and-proxy/proxy/apiproxy.mdx","fullPath":"/vault/docs/agent-and-proxy/proxy/apiproxy","id":"sidebar-nav-item-408"},{"title":"Vault Proxy caching","routes":[{"title":"Overview","path":"agent-and-proxy/proxy/caching","filePath":"../content/docs/agent-and-proxy/proxy/caching/index.mdx","fullPath":"/vault/docs/agent-and-proxy/proxy/caching","id":"sidebar-nav-item-410"},{"title":"Improve Vault traffic resiliency","path":"agent-and-proxy/proxy/caching/static-secret-caching","badge":{"text":"ENT","type":"outlined","color":"neutral"},"filePath":"../content/docs/agent-and-proxy/proxy/caching/static-secret-caching.mdx","fullPath":"/vault/docs/agent-and-proxy/proxy/caching/static-secret-caching","id":"sidebar-nav-item-411"},{"title":"Persistent Caching","routes":[{"title":"Use built-in persistent caching","path":"agent-and-proxy/proxy/caching/persistent-caches","filePath":"../content/docs/agent-and-proxy/proxy/caching/persistent-caches/index.mdx","fullPath":"/vault/docs/agent-and-proxy/proxy/caching/persistent-caches","id":"sidebar-nav-item-413"},{"title":"Use Kubernetes persistent cache","path":"agent-and-proxy/proxy/caching/persistent-caches/kubernetes","filePath":"../content/docs/agent-and-proxy/proxy/caching/persistent-caches/kubernetes.mdx","fullPath":"/vault/docs/agent-and-proxy/proxy/caching/persistent-caches/kubernetes","id":"sidebar-nav-item-414"}],"id":"sidebar-nav-item-412"}],"id":"sidebar-nav-item-409"},{"title":"Risks of inconsistent Proxy and Vault versions","path":"agent-and-proxy/proxy/versions","filePath":"../content/docs/agent-and-proxy/proxy/versions.mdx","fullPath":"/vault/docs/agent-and-proxy/proxy/versions","id":"sidebar-nav-item-415"}],"id":"sidebar-nav-item-406"},{"title":"Vault Agent","routes":[{"title":"What is Vault Agent?","path":"agent-and-proxy/agent","filePath":"../content/docs/agent-and-proxy/agent/index.mdx","fullPath":"/vault/docs/agent-and-proxy/agent","id":"sidebar-nav-item-417"},{"title":"Vault Agent as Vault API proxy","path":"agent-and-proxy/agent/apiproxy","filePath":"../content/docs/agent-and-proxy/agent/apiproxy.mdx","fullPath":"/vault/docs/agent-and-proxy/agent/apiproxy","id":"sidebar-nav-item-418"},{"title":"Vault Agent caching","routes":[{"title":"Overview","path":"agent-and-proxy/agent/caching","filePath":"../content/docs/agent-and-proxy/agent/caching/index.mdx","fullPath":"/vault/docs/agent-and-proxy/agent/caching","id":"sidebar-nav-item-420"},{"title":"Persistent caching","routes":[{"title":"Use built-in persistent caching","path":"agent-and-proxy/agent/caching/persistent-caches","filePath":"../content/docs/agent-and-proxy/agent/caching/persistent-caches/index.mdx","fullPath":"/vault/docs/agent-and-proxy/agent/caching/persistent-caches","id":"sidebar-nav-item-422"},{"title":"Use Kubernetes persistent cache","path":"agent-and-proxy/agent/caching/persistent-caches/kubernetes","filePath":"../content/docs/agent-and-proxy/agent/caching/persistent-caches/kubernetes.mdx","fullPath":"/vault/docs/agent-and-proxy/agent/caching/persistent-caches/kubernetes","id":"sidebar-nav-item-423"}],"id":"sidebar-nav-item-421"}],"id":"sidebar-nav-item-419"},{"title":"Generate a development config file","path":"agent-and-proxy/agent/generate-config","filePath":"../content/docs/agent-and-proxy/agent/generate-config.mdx","fullPath":"/vault/docs/agent-and-proxy/agent/generate-config","id":"sidebar-nav-item-424"},{"title":"Run in process supervisor mode","path":"agent-and-proxy/agent/process-supervisor","filePath":"../content/docs/agent-and-proxy/agent/process-supervisor.mdx","fullPath":"/vault/docs/agent-and-proxy/agent/process-supervisor","id":"sidebar-nav-item-425"},{"title":"Use Vault Agent templates","path":"agent-and-proxy/agent/template","filePath":"../content/docs/agent-and-proxy/agent/template.mdx","fullPath":"/vault/docs/agent-and-proxy/agent/template","id":"sidebar-nav-item-426"},{"title":"Run Vault Agent as a Windows service","path":"agent-and-proxy/agent/winsvc","filePath":"../content/docs/agent-and-proxy/agent/winsvc.mdx","fullPath":"/vault/docs/agent-and-proxy/agent/winsvc","id":"sidebar-nav-item-427"},{"title":"Risks of inconsistent Agent and Vault versions","path":"agent-and-proxy/agent/versions","filePath":"../content/docs/agent-and-proxy/agent/versions.mdx","fullPath":"/vault/docs/agent-and-proxy/agent/versions","id":"sidebar-nav-item-428"}],"id":"sidebar-nav-item-416"}],"id":"sidebar-nav-item-385"},{"divider":true,"id":"sidebar-nav-item-429"},{"title":"Secrets Engines","routes":[{"title":"Overview","path":"secrets","filePath":"../content/docs/secrets/index.mdx","fullPath":"/vault/docs/secrets","id":"sidebar-nav-item-431"},{"title":"AliCloud","path":"secrets/alicloud","filePath":"../content/docs/secrets/alicloud.mdx","fullPath":"/vault/docs/secrets/alicloud","id":"sidebar-nav-item-432"},{"title":"AWS","path":"secrets/aws","filePath":"../content/docs/secrets/aws.mdx","fullPath":"/vault/docs/secrets/aws","id":"sidebar-nav-item-433"},{"title":"Azure","path":"secrets/azure","filePath":"../content/docs/secrets/azure.mdx","fullPath":"/vault/docs/secrets/azure","id":"sidebar-nav-item-434"},{"title":"Consul","path":"secrets/consul","filePath":"../content/docs/secrets/consul.mdx","fullPath":"/vault/docs/secrets/consul","id":"sidebar-nav-item-435"},{"title":"Cubbyhole","path":"secrets/cubbyhole","filePath":"../content/docs/secrets/cubbyhole.mdx","fullPath":"/vault/docs/secrets/cubbyhole","id":"sidebar-nav-item-436"},{"title":"Databases","routes":[{"title":"Overview","path":"secrets/databases","filePath":"../content/docs/secrets/databases/index.mdx","fullPath":"/vault/docs/secrets/databases","id":"sidebar-nav-item-438"},{"title":"Cassandra","path":"secrets/databases/cassandra","filePath":"../content/docs/secrets/databases/cassandra.mdx","fullPath":"/vault/docs/secrets/databases/cassandra","id":"sidebar-nav-item-439"},{"title":"Couchbase","path":"secrets/databases/couchbase","filePath":"../content/docs/secrets/databases/couchbase.mdx","fullPath":"/vault/docs/secrets/databases/couchbase","id":"sidebar-nav-item-440"},{"title":"Elasticsearch","path":"secrets/databases/elasticdb","filePath":"../content/docs/secrets/databases/elasticdb.mdx","fullPath":"/vault/docs/secrets/databases/elasticdb","id":"sidebar-nav-item-441"},{"title":"HanaDB","path":"secrets/databases/hanadb","filePath":"../content/docs/secrets/databases/hanadb.mdx","fullPath":"/vault/docs/secrets/databases/hanadb","id":"sidebar-nav-item-442"},{"title":"IBM Db2","path":"secrets/databases/db2","filePath":"../content/docs/secrets/databases/db2.mdx","fullPath":"/vault/docs/secrets/databases/db2","id":"sidebar-nav-item-443"},{"title":"InfluxDB","path":"secrets/databases/influxdb","filePath":"../content/docs/secrets/databases/influxdb.mdx","fullPath":"/vault/docs/secrets/databases/influxdb","id":"sidebar-nav-item-444"},{"title":"MongoDB","path":"secrets/databases/mongodb","filePath":"../content/docs/secrets/databases/mongodb.mdx","fullPath":"/vault/docs/secrets/databases/mongodb","id":"sidebar-nav-item-445"},{"title":"MongoDB Atlas","path":"secrets/databases/mongodbatlas","filePath":"../content/docs/secrets/databases/mongodbatlas.mdx","fullPath":"/vault/docs/secrets/databases/mongodbatlas","id":"sidebar-nav-item-446"},{"title":"MSSQL","path":"secrets/databases/mssql","filePath":"../content/docs/secrets/databases/mssql.mdx","fullPath":"/vault/docs/secrets/databases/mssql","id":"sidebar-nav-item-447"},{"title":"MySQL/MariaDB","path":"secrets/databases/mysql-maria","filePath":"../content/docs/secrets/databases/mysql-maria.mdx","fullPath":"/vault/docs/secrets/databases/mysql-maria","id":"sidebar-nav-item-448"},{"title":"Oracle","path":"secrets/databases/oracle","filePath":"../content/docs/secrets/databases/oracle.mdx","fullPath":"/vault/docs/secrets/databases/oracle","id":"sidebar-nav-item-449"},{"title":"PostgreSQL","path":"secrets/databases/postgresql","filePath":"../content/docs/secrets/databases/postgresql.mdx","fullPath":"/vault/docs/secrets/databases/postgresql","id":"sidebar-nav-item-450"},{"title":"Redis","path":"secrets/databases/redis","filePath":"../content/docs/secrets/databases/redis.mdx","fullPath":"/vault/docs/secrets/databases/redis","id":"sidebar-nav-item-451"},{"title":"Redis ElastiCache","path":"secrets/databases/rediselasticache","filePath":"../content/docs/secrets/databases/rediselasticache.mdx","fullPath":"/vault/docs/secrets/databases/rediselasticache","id":"sidebar-nav-item-452"},{"title":"Redshift","path":"secrets/databases/redshift","filePath":"../content/docs/secrets/databases/redshift.mdx","fullPath":"/vault/docs/secrets/databases/redshift","id":"sidebar-nav-item-453"},{"title":"Snowflake","path":"secrets/databases/snowflake","filePath":"../content/docs/secrets/databases/snowflake.mdx","fullPath":"/vault/docs/secrets/databases/snowflake","id":"sidebar-nav-item-454"},{"title":"Custom","path":"secrets/databases/custom","filePath":"../content/docs/secrets/databases/custom.mdx","fullPath":"/vault/docs/secrets/databases/custom","id":"sidebar-nav-item-455"}],"id":"sidebar-nav-item-437"},{"title":"Google Cloud","path":"secrets/gcp","filePath":"../content/docs/secrets/gcp.mdx","fullPath":"/vault/docs/secrets/gcp","id":"sidebar-nav-item-456"},{"title":"Google Cloud KMS","path":"secrets/gcpkms","filePath":"../content/docs/secrets/gcpkms.mdx","fullPath":"/vault/docs/secrets/gcpkms","id":"sidebar-nav-item-457"},{"title":"Identity","routes":[{"title":"Overview","path":"secrets/identity","filePath":"../content/docs/secrets/identity/index.mdx","fullPath":"/vault/docs/secrets/identity","id":"sidebar-nav-item-459"},{"title":"Identity Tokens","path":"secrets/identity/identity-token","filePath":"../content/docs/secrets/identity/identity-token.mdx","fullPath":"/vault/docs/secrets/identity/identity-token","id":"sidebar-nav-item-460"},{"title":"OIDC Identity Provider","path":"secrets/identity/oidc-provider","filePath":"../content/docs/secrets/identity/oidc-provider.mdx","fullPath":"/vault/docs/secrets/identity/oidc-provider","id":"sidebar-nav-item-461"},{"title":"Resolve duplicate identities","routes":[{"title":"Process overview","path":"secrets/identity/deduplication","filePath":"../content/docs/secrets/identity/deduplication/index.mdx","fullPath":"/vault/docs/secrets/identity/deduplication","id":"sidebar-nav-item-463"},{"title":"Fix different-case entity alias duplicates","path":"secrets/identity/deduplication/different-case","filePath":"../content/docs/secrets/identity/deduplication/different-case.mdx","fullPath":"/vault/docs/secrets/identity/deduplication/different-case","id":"sidebar-nav-item-464"},{"title":"Fix entity and group duplicates","path":"secrets/identity/deduplication/entity-group","filePath":"../content/docs/secrets/identity/deduplication/entity-group.mdx","fullPath":"/vault/docs/secrets/identity/deduplication/entity-group","id":"sidebar-nav-item-465"},{"title":"Resolve ACL policy templates","path":"secrets/identity/deduplication/acl-policy-templates","filePath":"../content/docs/secrets/identity/deduplication/acl-policy-templates.mdx","fullPath":"/vault/docs/secrets/identity/deduplication/acl-policy-templates","id":"sidebar-nav-item-466"},{"title":"Resolve Terraform config","path":"secrets/identity/deduplication/terraform-refs","filePath":"../content/docs/secrets/identity/deduplication/terraform-refs.mdx","fullPath":"/vault/docs/secrets/identity/deduplication/terraform-refs","id":"sidebar-nav-item-467"}],"id":"sidebar-nav-item-462"}],"id":"sidebar-nav-item-458"},{"title":"Key Management","badge":{"text":"ENT","type":"filled","color":"neutral"},"routes":[{"title":"Overview","path":"secrets/key-management","filePath":"../content/docs/secrets/key-management/index.mdx","fullPath":"/vault/docs/secrets/key-management","id":"sidebar-nav-item-469"},{"title":"Azure Key Vault","routes":[{"title":"Overview","path":"secrets/key-management/azurekeyvault","filePath":"../content/docs/secrets/key-management/azurekeyvault/index.mdx","fullPath":"/vault/docs/secrets/key-management/azurekeyvault","id":"sidebar-nav-item-471"},{"title":"Setup guide","path":"secrets/key-management/azurekeyvault/setup","filePath":"../content/docs/secrets/key-management/azurekeyvault/setup.mdx","fullPath":"/vault/docs/secrets/key-management/azurekeyvault/setup","id":"sidebar-nav-item-472"}],"id":"sidebar-nav-item-470"},{"title":"AWS KMS","path":"secrets/key-management/awskms","filePath":"../content/docs/secrets/key-management/awskms.mdx","fullPath":"/vault/docs/secrets/key-management/awskms","id":"sidebar-nav-item-473"},{"title":"GCP Cloud KMS","routes":[{"title":"Overview","path":"secrets/key-management/gcpkms","filePath":"../content/docs/secrets/key-management/gcpkms/index.mdx","fullPath":"/vault/docs/secrets/key-management/gcpkms","id":"sidebar-nav-item-475"},{"title":"Setup guide","path":"secrets/key-management/gcpkms/setup","filePath":"../content/docs/secrets/key-management/gcpkms/setup.mdx","fullPath":"/vault/docs/secrets/key-management/gcpkms/setup","id":"sidebar-nav-item-476"}],"id":"sidebar-nav-item-474"}],"id":"sidebar-nav-item-468"},{"title":"Key/Value","routes":[{"title":"Overview","path":"secrets/kv","filePath":"../content/docs/secrets/kv/index.mdx","fullPath":"/vault/docs/secrets/kv","id":"sidebar-nav-item-478"},{"title":"KV version  1","path":"secrets/kv/kv-v1","filePath":"../content/docs/secrets/kv/kv-v1.mdx","fullPath":"/vault/docs/secrets/kv/kv-v1","id":"sidebar-nav-item-479"},{"title":"KV version  2","routes":[{"title":"Overview","path":"secrets/kv/kv-v2","filePath":"../content/docs/secrets/kv/kv-v2/index.mdx","fullPath":"/vault/docs/secrets/kv/kv-v2","id":"sidebar-nav-item-481"},{"title":"Upgrade from v1","path":"secrets/kv/kv-v2/upgrade","filePath":"../content/docs/secrets/kv/kv-v2/upgrade.mdx","fullPath":"/vault/docs/secrets/kv/kv-v2/upgrade","id":"sidebar-nav-item-482"},{"title":"Setup","path":"secrets/kv/kv-v2/setup","filePath":"../content/docs/secrets/kv/kv-v2/setup.mdx","fullPath":"/vault/docs/secrets/kv/kv-v2/setup","id":"sidebar-nav-item-483"},{"title":"Save random strings","path":"secrets/kv/kv-v2/random-string","filePath":"../content/docs/secrets/kv/kv-v2/random-string.mdx","fullPath":"/vault/docs/secrets/kv/kv-v2/random-string","id":"sidebar-nav-item-484"},{"title":"Cookbook","routes":[{"title":"Read data","path":"secrets/kv/kv-v2/cookbook/read-data","filePath":"../content/docs/secrets/kv/kv-v2/cookbook/read-data.mdx","fullPath":"/vault/docs/secrets/kv/kv-v2/cookbook/read-data","id":"sidebar-nav-item-486"},{"title":"Read subkeys","path":"secrets/kv/kv-v2/cookbook/read-subkey","filePath":"../content/docs/secrets/kv/kv-v2/cookbook/read-subkey.mdx","fullPath":"/vault/docs/secrets/kv/kv-v2/cookbook/read-subkey","id":"sidebar-nav-item-487"},{"title":"Set max data versions","path":"secrets/kv/kv-v2/cookbook/max-versions","filePath":"../content/docs/secrets/kv/kv-v2/cookbook/max-versions.mdx","fullPath":"/vault/docs/secrets/kv/kv-v2/cookbook/max-versions","id":"sidebar-nav-item-488"},{"title":"Write data","path":"secrets/kv/kv-v2/cookbook/write-data","filePath":"../content/docs/secrets/kv/kv-v2/cookbook/write-data.mdx","fullPath":"/vault/docs/secrets/kv/kv-v2/cookbook/write-data","id":"sidebar-nav-item-489"},{"title":"Patch/update data","path":"secrets/kv/kv-v2/cookbook/patch-data","filePath":"../content/docs/secrets/kv/kv-v2/cookbook/patch-data.mdx","fullPath":"/vault/docs/secrets/kv/kv-v2/cookbook/patch-data","id":"sidebar-nav-item-490"},{"title":"Soft delete data","path":"secrets/kv/kv-v2/cookbook/delete-data","filePath":"../content/docs/secrets/kv/kv-v2/cookbook/delete-data.mdx","fullPath":"/vault/docs/secrets/kv/kv-v2/cookbook/delete-data","id":"sidebar-nav-item-491"},{"title":"Restore soft deleted data","path":"secrets/kv/kv-v2/cookbook/undelete-data","filePath":"../content/docs/secrets/kv/kv-v2/cookbook/undelete-data.mdx","fullPath":"/vault/docs/secrets/kv/kv-v2/cookbook/undelete-data","id":"sidebar-nav-item-492"},{"title":"Destroy data","path":"secrets/kv/kv-v2/cookbook/destroy-data","filePath":"../content/docs/secrets/kv/kv-v2/cookbook/destroy-data.mdx","fullPath":"/vault/docs/secrets/kv/kv-v2/cookbook/destroy-data","id":"sidebar-nav-item-493"},{"title":"Write custom metadata","path":"secrets/kv/kv-v2/cookbook/custom-metadata","filePath":"../content/docs/secrets/kv/kv-v2/cookbook/custom-metadata.mdx","fullPath":"/vault/docs/secrets/kv/kv-v2/cookbook/custom-metadata","id":"sidebar-nav-item-494"}],"id":"sidebar-nav-item-485"}],"id":"sidebar-nav-item-480"}],"id":"sidebar-nav-item-477"},{"title":"KMIP","badge":{"text":"ENT","type":"filled","color":"neutral"},"path":"secrets/kmip","filePath":"../content/docs/secrets/kmip.mdx","fullPath":"/vault/docs/secrets/kmip","id":"sidebar-nav-item-495"},{"title":"Kubernetes","path":"secrets/kubernetes","filePath":"../content/docs/secrets/kubernetes.mdx","fullPath":"/vault/docs/secrets/kubernetes","id":"sidebar-nav-item-496"},{"title":"MongoDB Atlas","path":"secrets/mongodbatlas","filePath":"../content/docs/secrets/mongodbatlas.mdx","fullPath":"/vault/docs/secrets/mongodbatlas","id":"sidebar-nav-item-497"},{"title":"Nomad","path":"secrets/nomad","filePath":"../content/docs/secrets/nomad.mdx","fullPath":"/vault/docs/secrets/nomad","id":"sidebar-nav-item-498"},{"title":"LDAP","path":"secrets/ldap","filePath":"../content/docs/secrets/ldap.mdx","fullPath":"/vault/docs/secrets/ldap","id":"sidebar-nav-item-499"},{"title":"PKI (Certificates)","routes":[{"title":"Overview","path":"secrets/pki","filePath":"../content/docs/secrets/pki/index.mdx","fullPath":"/vault/docs/secrets/pki","id":"sidebar-nav-item-501"},{"title":"Setup and Usage","path":"secrets/pki/setup","filePath":"../content/docs/secrets/pki/setup.mdx","fullPath":"/vault/docs/secrets/pki/setup","id":"sidebar-nav-item-502"},{"title":"Quick Start - Root CA Setup","path":"secrets/pki/quick-start-root-ca","filePath":"../content/docs/secrets/pki/quick-start-root-ca.mdx","fullPath":"/vault/docs/secrets/pki/quick-start-root-ca","id":"sidebar-nav-item-503"},{"title":"Quick Start - Intermediate CA Setup","path":"secrets/pki/quick-start-intermediate-ca","filePath":"../content/docs/secrets/pki/quick-start-intermediate-ca.mdx","fullPath":"/vault/docs/secrets/pki/quick-start-intermediate-ca","id":"sidebar-nav-item-504"},{"title":"Considerations","path":"secrets/pki/considerations","filePath":"../content/docs/secrets/pki/considerations.mdx","fullPath":"/vault/docs/secrets/pki/considerations","id":"sidebar-nav-item-505"},{"title":"Rotation Primitives","path":"secrets/pki/rotation-primitives","filePath":"../content/docs/secrets/pki/rotation-primitives.mdx","fullPath":"/vault/docs/secrets/pki/rotation-primitives","id":"sidebar-nav-item-506"},{"title":"Certificate Issuance External Policy Service (CIEPS)","badge":{"text":"ENT","type":"filled","color":"neutral"},"path":"secrets/pki/cieps","filePath":"../content/docs/secrets/pki/cieps.mdx","fullPath":"/vault/docs/secrets/pki/cieps","id":"sidebar-nav-item-507"},{"title":"Enrollment over Secure Transport (EST)","path":"secrets/pki/est","badge":{"text":"ENT","type":"filled","color":"neutral"},"filePath":"../content/docs/secrets/pki/est.mdx","fullPath":"/vault/docs/secrets/pki/est","id":"sidebar-nav-item-508"},{"title":"Certificate Management Protocol (CMPv2)","badge":{"text":"ENT","type":"filled","color":"neutral"},"path":"secrets/pki/cmpv2","filePath":"../content/docs/secrets/pki/cmpv2.mdx","fullPath":"/vault/docs/secrets/pki/cmpv2","id":"sidebar-nav-item-509"},{"title":"Troubleshooting ACME","path":"secrets/pki/troubleshooting-acme","filePath":"../content/docs/secrets/pki/troubleshooting-acme.mdx","fullPath":"/vault/docs/secrets/pki/troubleshooting-acme","id":"sidebar-nav-item-510"}],"id":"sidebar-nav-item-500"},{"title":"RabbitMQ","path":"secrets/rabbitmq","filePath":"../content/docs/secrets/rabbitmq.mdx","fullPath":"/vault/docs/secrets/rabbitmq","id":"sidebar-nav-item-511"},{"title":"SSH","routes":[{"title":"Overview","path":"secrets/ssh","filePath":"../content/docs/secrets/ssh/index.mdx","fullPath":"/vault/docs/secrets/ssh","id":"sidebar-nav-item-513"},{"title":"Signed Certificates","path":"secrets/ssh/signed-ssh-certificates","filePath":"../content/docs/secrets/ssh/signed-ssh-certificates.mdx","fullPath":"/vault/docs/secrets/ssh/signed-ssh-certificates","id":"sidebar-nav-item-514"},{"title":"SSH OTP","path":"secrets/ssh/one-time-ssh-passwords","filePath":"../content/docs/secrets/ssh/one-time-ssh-passwords.mdx","fullPath":"/vault/docs/secrets/ssh/one-time-ssh-passwords","id":"sidebar-nav-item-515"}],"id":"sidebar-nav-item-512"},{"title":"HCP Terraform","path":"secrets/terraform","filePath":"../content/docs/secrets/terraform.mdx","fullPath":"/vault/docs/secrets/terraform","id":"sidebar-nav-item-516"},{"title":"TOTP","path":"secrets/totp","filePath":"../content/docs/secrets/totp.mdx","fullPath":"/vault/docs/secrets/totp","id":"sidebar-nav-item-517"},{"title":"Transform","badge":{"text":"ENT","type":"filled","color":"neutral"},"routes":[{"title":"Overview","path":"secrets/transform","filePath":"../content/docs/secrets/transform/index.mdx","fullPath":"/vault/docs/secrets/transform","id":"sidebar-nav-item-519"},{"title":"FF3-1 Tweak Usage","path":"secrets/transform/ff3-tweak-details","filePath":"../content/docs/secrets/transform/ff3-tweak-details.mdx","fullPath":"/vault/docs/secrets/transform/ff3-tweak-details","id":"sidebar-nav-item-520"},{"title":"Tokenization Transform","badge":{"text":"ENT","type":"filled","color":"neutral"},"path":"secrets/transform/tokenization","filePath":"../content/docs/secrets/transform/tokenization.mdx","fullPath":"/vault/docs/secrets/transform/tokenization","id":"sidebar-nav-item-521"}],"id":"sidebar-nav-item-518"},{"title":"Transit","routes":[{"title":"Overview","path":"secrets/transit","filePath":"../content/docs/secrets/transit/index.mdx","fullPath":"/vault/docs/secrets/transit","id":"sidebar-nav-item-523"},{"title":"Import Key Wrapping Guide","path":"secrets/transit/key-wrapping-guide","filePath":"../content/docs/secrets/transit/key-wrapping-guide.mdx","fullPath":"/vault/docs/secrets/transit/key-wrapping-guide","id":"sidebar-nav-item-524"}],"id":"sidebar-nav-item-522"}],"id":"sidebar-nav-item-430"},{"title":"Secrets Sync","badge":{"text":"ENT","type":"filled","color":"neutral"},"routes":[{"title":"Overview","path":"sync","filePath":"../content/docs/sync/index.mdx","fullPath":"/vault/docs/sync","id":"sidebar-nav-item-526"},{"title":"Sync to AWS Secrets Manager","path":"sync/awssm","filePath":"../content/docs/sync/awssm.mdx","fullPath":"/vault/docs/sync/awssm","id":"sidebar-nav-item-527"},{"title":"Sync to Azure Key Vault","path":"sync/azurekv","filePath":"../content/docs/sync/azurekv.mdx","fullPath":"/vault/docs/sync/azurekv","id":"sidebar-nav-item-528"},{"title":"Sync to GCP Secret Manager","path":"sync/gcpsm","filePath":"../content/docs/sync/gcpsm.mdx","fullPath":"/vault/docs/sync/gcpsm","id":"sidebar-nav-item-529"},{"title":"Sync to GitHub","path":"sync/github","filePath":"../content/docs/sync/github.mdx","fullPath":"/vault/docs/sync/github","id":"sidebar-nav-item-530"},{"title":"Sync to Vercel Project","path":"sync/vercelproject","filePath":"../content/docs/sync/vercelproject.mdx","fullPath":"/vault/docs/sync/vercelproject","id":"sidebar-nav-item-531"}],"id":"sidebar-nav-item-525"},{"title":"Secrets Import","badge":{"text":"ENT","type":"filled","color":"neutral"},"routes":[{"title":"Overview","path":"import","badge":{"text":"ALPHA","type":"outlined","color":"highlight"},"filePath":"../content/docs/import/index.mdx","fullPath":"/vault/docs/import","id":"sidebar-nav-item-533"},{"title":"GCP Secret Manager","path":"import/gcpsm","filePath":"../content/docs/import/gcpsm.mdx","fullPath":"/vault/docs/import/gcpsm","id":"sidebar-nav-item-534"},{"title":"Mappings","path":"import/mappings","filePath":"../content/docs/import/mappings.mdx","fullPath":"/vault/docs/import/mappings","id":"sidebar-nav-item-535"}],"id":"sidebar-nav-item-532"},{"title":"AuthN methods","routes":[{"title":"Overview","path":"auth","filePath":"../content/docs/auth/index.mdx","fullPath":"/vault/docs/auth","id":"sidebar-nav-item-537"},{"title":"AppRole","routes":[{"title":"Use AppRole authN","path":"auth/approle","filePath":"../content/docs/auth/approle/index.mdx","fullPath":"/vault/docs/auth/approle","id":"sidebar-nav-item-539"},{"title":"AppRole best practices","path":"auth/approle/approle-pattern","filePath":"../content/docs/auth/approle/approle-pattern.mdx","fullPath":"/vault/docs/auth/approle/approle-pattern","id":"sidebar-nav-item-540"}],"id":"sidebar-nav-item-538"},{"title":"AliCloud","path":"auth/alicloud","filePath":"../content/docs/auth/alicloud.mdx","fullPath":"/vault/docs/auth/alicloud","id":"sidebar-nav-item-541"},{"title":"AWS","path":"auth/aws","filePath":"../content/docs/auth/aws.mdx","fullPath":"/vault/docs/auth/aws","id":"sidebar-nav-item-542"},{"title":"Azure","path":"auth/azure","filePath":"../content/docs/auth/azure.mdx","fullPath":"/vault/docs/auth/azure","id":"sidebar-nav-item-543"},{"title":"Cloud Foundry","path":"auth/cf","filePath":"../content/docs/auth/cf.mdx","fullPath":"/vault/docs/auth/cf","id":"sidebar-nav-item-544"},{"title":"GitHub","path":"auth/github","filePath":"../content/docs/auth/github.mdx","fullPath":"/vault/docs/auth/github","id":"sidebar-nav-item-545"},{"title":"Google Cloud","path":"auth/gcp","filePath":"../content/docs/auth/gcp.mdx","fullPath":"/vault/docs/auth/gcp","id":"sidebar-nav-item-546"},{"title":"JWT/OIDC","routes":[{"title":"Use JWT/OIDC","path":"auth/jwt","filePath":"../content/docs/auth/jwt/index.mdx","fullPath":"/vault/docs/auth/jwt","id":"sidebar-nav-item-548"},{"title":"OIDC providers","routes":[{"title":"OIDC provider list","path":"auth/jwt/oidc-providers","filePath":"../content/docs/auth/jwt/oidc-providers/index.mdx","fullPath":"/vault/docs/auth/jwt/oidc-providers","id":"sidebar-nav-item-550"},{"title":"ADFS","path":"auth/jwt/oidc-providers/adfs","filePath":"../content/docs/auth/jwt/oidc-providers/adfs.mdx","fullPath":"/vault/docs/auth/jwt/oidc-providers/adfs","id":"sidebar-nav-item-551"},{"title":"Auth0","path":"auth/jwt/oidc-providers/auth0","filePath":"../content/docs/auth/jwt/oidc-providers/auth0.mdx","fullPath":"/vault/docs/auth/jwt/oidc-providers/auth0","id":"sidebar-nav-item-552"},{"title":"Azure AD","path":"auth/jwt/oidc-providers/azuread","filePath":"../content/docs/auth/jwt/oidc-providers/azuread.mdx","fullPath":"/vault/docs/auth/jwt/oidc-providers/azuread","id":"sidebar-nav-item-553"},{"title":"Forgerock","path":"auth/jwt/oidc-providers/forgerock","filePath":"../content/docs/auth/jwt/oidc-providers/forgerock.mdx","fullPath":"/vault/docs/auth/jwt/oidc-providers/forgerock","id":"sidebar-nav-item-554"},{"title":"Gitlab","path":"auth/jwt/oidc-providers/gitlab","filePath":"../content/docs/auth/jwt/oidc-providers/gitlab.mdx","fullPath":"/vault/docs/auth/jwt/oidc-providers/gitlab","id":"sidebar-nav-item-555"},{"title":"Google","path":"auth/jwt/oidc-providers/google","filePath":"../content/docs/auth/jwt/oidc-providers/google.mdx","fullPath":"/vault/docs/auth/jwt/oidc-providers/google","id":"sidebar-nav-item-556"},{"title":"Keycloak","path":"auth/jwt/oidc-providers/keycloak","filePath":"../content/docs/auth/jwt/oidc-providers/keycloak.mdx","fullPath":"/vault/docs/auth/jwt/oidc-providers/keycloak","id":"sidebar-nav-item-557"},{"title":"Kubernetes","path":"auth/jwt/oidc-providers/kubernetes","filePath":"../content/docs/auth/jwt/oidc-providers/kubernetes.mdx","fullPath":"/vault/docs/auth/jwt/oidc-providers/kubernetes","id":"sidebar-nav-item-558"},{"title":"Okta","path":"auth/jwt/oidc-providers/okta","filePath":"../content/docs/auth/jwt/oidc-providers/okta.mdx","fullPath":"/vault/docs/auth/jwt/oidc-providers/okta","id":"sidebar-nav-item-559"},{"title":"SecureAuth","path":"auth/jwt/oidc-providers/secureauth","filePath":"../content/docs/auth/jwt/oidc-providers/secureauth.mdx","fullPath":"/vault/docs/auth/jwt/oidc-providers/secureauth","id":"sidebar-nav-item-560"},{"title":"IBM Verify","path":"auth/jwt/oidc-providers/ibmisam","filePath":"../content/docs/auth/jwt/oidc-providers/ibmisam.mdx","fullPath":"/vault/docs/auth/jwt/oidc-providers/ibmisam","id":"sidebar-nav-item-561"}],"id":"sidebar-nav-item-549"}],"id":"sidebar-nav-item-547"},{"title":"Kerberos","path":"auth/kerberos","filePath":"../content/docs/auth/kerberos.mdx","fullPath":"/vault/docs/auth/kerberos","id":"sidebar-nav-item-562"},{"title":"Kubernetes","path":"auth/kubernetes","filePath":"../content/docs/auth/kubernetes.mdx","fullPath":"/vault/docs/auth/kubernetes","id":"sidebar-nav-item-563"},{"title":"LDAP","path":"auth/ldap","filePath":"../content/docs/auth/ldap.mdx","fullPath":"/vault/docs/auth/ldap","id":"sidebar-nav-item-564"},{"title":"Login MFA","routes":[{"title":"Setup login MFA","path":"auth/login-mfa","filePath":"../content/docs/auth/login-mfa/index.mdx","fullPath":"/vault/docs/auth/login-mfa","id":"sidebar-nav-item-566"},{"title":"Login MFA FAQ","path":"auth/login-mfa/faq","filePath":"../content/docs/auth/login-mfa/faq.mdx","fullPath":"/vault/docs/auth/login-mfa/faq","id":"sidebar-nav-item-567"}],"id":"sidebar-nav-item-565"},{"title":"Oracle Cloud Infrastructure","path":"auth/oci","filePath":"../content/docs/auth/oci.mdx","fullPath":"/vault/docs/auth/oci","id":"sidebar-nav-item-568"},{"title":"Okta","path":"auth/okta","filePath":"../content/docs/auth/okta.mdx","fullPath":"/vault/docs/auth/okta","id":"sidebar-nav-item-569"},{"title":"RADIUS","path":"auth/radius","filePath":"../content/docs/auth/radius.mdx","fullPath":"/vault/docs/auth/radius","id":"sidebar-nav-item-570"},{"title":"Use SAML authentication","badge":{"text":"ENT","type":"filled","color":"neutral"},"routes":[{"title":"Set up SAML authN","path":"auth/saml","filePath":"../content/docs/auth/saml/index.mdx","fullPath":"/vault/docs/auth/saml","id":"sidebar-nav-item-572"},{"title":"Use AD FS for SAML authN","path":"auth/saml/adfs","filePath":"../content/docs/auth/saml/adfs.mdx","fullPath":"/vault/docs/auth/saml/adfs","id":"sidebar-nav-item-573"},{"title":"Link SAML AD groups to Vault","path":"auth/saml/link-vault-group-to-ad","filePath":"../content/docs/auth/saml/link-vault-group-to-ad.mdx","fullPath":"/vault/docs/auth/saml/link-vault-group-to-ad","id":"sidebar-nav-item-574"},{"title":"Troubleshoot SAML+ADFS","routes":[{"title":"Before you start","path":"auth/saml/troubleshoot-adfs","filePath":"../content/docs/auth/saml/troubleshoot-adfs/index.mdx","fullPath":"/vault/docs/auth/saml/troubleshoot-adfs","id":"sidebar-nav-item-576"},{"title":"Bad mapping","path":"auth/saml/troubleshoot-adfs/bad-mapping","filePath":"../content/docs/auth/saml/troubleshoot-adfs/bad-mapping.mdx","fullPath":"/vault/docs/auth/saml/troubleshoot-adfs/bad-mapping","id":"sidebar-nav-item-577"},{"title":"Invalid `BoundSubjects`","path":"auth/saml/troubleshoot-adfs/boundsubjects","filePath":"../content/docs/auth/saml/troubleshoot-adfs/boundsubjects.mdx","fullPath":"/vault/docs/auth/saml/troubleshoot-adfs/boundsubjects","id":"sidebar-nav-item-578"},{"title":"AD FS event 320","path":"auth/saml/troubleshoot-adfs/adfs-event-320","filePath":"../content/docs/auth/saml/troubleshoot-adfs/adfs-event-320.mdx","fullPath":"/vault/docs/auth/saml/troubleshoot-adfs/adfs-event-320","id":"sidebar-nav-item-579"}],"id":"sidebar-nav-item-575"}],"id":"sidebar-nav-item-571"},{"title":"TLS Certificates","path":"auth/cert","filePath":"../content/docs/auth/cert.mdx","fullPath":"/vault/docs/auth/cert","id":"sidebar-nav-item-580"},{"title":"Tokens","path":"auth/token","filePath":"../content/docs/auth/token.mdx","fullPath":"/vault/docs/auth/token","id":"sidebar-nav-item-581"},{"title":"Username and Password","path":"auth/userpass","filePath":"../content/docs/auth/userpass.mdx","fullPath":"/vault/docs/auth/userpass","id":"sidebar-nav-item-582"},{"divider":true,"id":"sidebar-nav-item-583"}],"id":"sidebar-nav-item-536"},{"title":"Audit Devices","routes":[{"title":"Overview","path":"audit","filePath":"../content/docs/audit/index.mdx","fullPath":"/vault/docs/audit","id":"sidebar-nav-item-585"},{"title":"File","path":"audit/file","filePath":"../content/docs/audit/file.mdx","fullPath":"/vault/docs/audit/file","id":"sidebar-nav-item-586"},{"title":"Syslog","path":"audit/syslog","filePath":"../content/docs/audit/syslog.mdx","fullPath":"/vault/docs/audit/syslog","id":"sidebar-nav-item-587"},{"title":"Socket","path":"audit/socket","filePath":"../content/docs/audit/socket.mdx","fullPath":"/vault/docs/audit/socket","id":"sidebar-nav-item-588"}],"id":"sidebar-nav-item-584"},{"title":"Plugins","routes":[{"title":"Overview","path":"plugins","filePath":"../content/docs/plugins/index.mdx","fullPath":"/vault/docs/plugins","id":"sidebar-nav-item-590"},{"title":"Plugin architecture","path":"plugins/plugin-architecture","filePath":"../content/docs/plugins/plugin-architecture.mdx","fullPath":"/vault/docs/plugins/plugin-architecture","id":"sidebar-nav-item-591"},{"title":"Register a plugin","path":"plugins/register","filePath":"../content/docs/plugins/register.mdx","fullPath":"/vault/docs/plugins/register","id":"sidebar-nav-item-592"},{"title":"Upgrade plugins","path":"plugins/upgrade","filePath":"../content/docs/plugins/upgrade.mdx","fullPath":"/vault/docs/plugins/upgrade","id":"sidebar-nav-item-593"},{"title":"Rollback upgrades","path":"plugins/rollback","filePath":"../content/docs/plugins/rollback.mdx","fullPath":"/vault/docs/plugins/rollback","id":"sidebar-nav-item-594"},{"title":"Plugin development","path":"plugins/plugin-development","filePath":"../content/docs/plugins/plugin-development.mdx","fullPath":"/vault/docs/plugins/plugin-development","id":"sidebar-nav-item-595"},{"title":"Plugin event notifications","path":"plugins/plugin-development-event-notifications","badge":{"text":"ENT","type":"filled","color":"neutral"},"filePath":"../content/docs/plugins/plugin-development-event-notifications.mdx","fullPath":"/vault/docs/plugins/plugin-development-event-notifications","id":"sidebar-nav-item-596"},{"title":"Plugin management","path":"plugins/plugin-management","filePath":"../content/docs/plugins/plugin-management.mdx","fullPath":"/vault/docs/plugins/plugin-management","id":"sidebar-nav-item-597"},{"title":"Containerized plugins","routes":[{"title":"Overview","path":"plugins/containerized-plugins","filePath":"../content/docs/plugins/containerized-plugins/index.mdx","fullPath":"/vault/docs/plugins/containerized-plugins","id":"sidebar-nav-item-599"},{"title":"Add a containerized plugin","path":"plugins/containerized-plugins/add-a-containerized-plugin","filePath":"../content/docs/plugins/containerized-plugins/add-a-containerized-plugin.mdx","fullPath":"/vault/docs/plugins/containerized-plugins/add-a-containerized-plugin","id":"sidebar-nav-item-600"}],"id":"sidebar-nav-item-598"},{"title":"Plugin library","href":null,"fullPath":"/vault/integrations","id":"sidebar-nav-item-601","path":"/vault/integrations"}],"id":"sidebar-nav-item-589"},{"title":"Troubleshoot Vault","routes":[{"title":"Generate a root token","path":"troubleshoot/generate-root-token","filePath":"../content/docs/troubleshoot/generate-root-token.mdx","fullPath":"/vault/docs/troubleshoot/generate-root-token","id":"sidebar-nav-item-603"},{"title":"Troubleshoot lease errors","path":"troubleshoot/lease-issues","filePath":"../content/docs/troubleshoot/lease-issues.mdx","fullPath":"/vault/docs/troubleshoot/lease-issues","id":"sidebar-nav-item-604"},{"title":"Tune the lease TTL","path":"troubleshoot/tune-lease-ttl","filePath":"../content/docs/troubleshoot/tune-lease-ttl.mdx","fullPath":"/vault/docs/troubleshoot/tune-lease-ttl","id":"sidebar-nav-item-605"},{"title":"Troubleshooting tutorials","href":"/vault/tutorials/monitoring/troubleshooting-vault","id":"sidebar-nav-item-606"}],"id":"sidebar-nav-item-602"},{"divider":true,"id":"sidebar-nav-item-607"},{"title":"Platforms","routes":[{"title":"GitHub","routes":[{"title":"GitHub Actions","path":"platform/github-actions","filePath":"../content/docs/platform/github-actions.mdx","fullPath":"/vault/docs/platform/github-actions","id":"sidebar-nav-item-610"}],"id":"sidebar-nav-item-609"},{"title":"Microsoft SQL Server EKM provider","routes":[{"title":"Overview","path":"platform/mssql","filePath":"../content/docs/platform/mssql/index.mdx","fullPath":"/vault/docs/platform/mssql","id":"sidebar-nav-item-612"},{"title":"Installation","path":"platform/mssql/installation","filePath":"../content/docs/platform/mssql/installation.mdx","fullPath":"/vault/docs/platform/mssql/installation","id":"sidebar-nav-item-613"},{"title":"Configuration","path":"platform/mssql/configuration","filePath":"../content/docs/platform/mssql/configuration.mdx","fullPath":"/vault/docs/platform/mssql/configuration","id":"sidebar-nav-item-614"},{"title":"Key Rotation","path":"platform/mssql/rotation","filePath":"../content/docs/platform/mssql/rotation.mdx","fullPath":"/vault/docs/platform/mssql/rotation","id":"sidebar-nav-item-615"},{"title":"Upgrading","path":"platform/mssql/upgrading","filePath":"../content/docs/platform/mssql/upgrading.mdx","fullPath":"/vault/docs/platform/mssql/upgrading","id":"sidebar-nav-item-616"},{"title":"Troubleshooting","path":"platform/mssql/troubleshooting","filePath":"../content/docs/platform/mssql/troubleshooting.mdx","fullPath":"/vault/docs/platform/mssql/troubleshooting","id":"sidebar-nav-item-617"},{"title":"Release Notes","path":"platform/mssql/changelog","filePath":"../content/docs/platform/mssql/changelog.mdx","fullPath":"/vault/docs/platform/mssql/changelog","id":"sidebar-nav-item-618"}],"id":"sidebar-nav-item-611"},{"title":"ServiceNow","routes":[{"title":"Overview","path":"platform/servicenow","filePath":"../content/docs/platform/servicenow/index.mdx","fullPath":"/vault/docs/platform/servicenow","id":"sidebar-nav-item-620"},{"title":"Installation","path":"platform/servicenow/installation","filePath":"../content/docs/platform/servicenow/installation.mdx","fullPath":"/vault/docs/platform/servicenow/installation","id":"sidebar-nav-item-621"},{"title":"Configuration","path":"platform/servicenow/configuration","filePath":"../content/docs/platform/servicenow/configuration.mdx","fullPath":"/vault/docs/platform/servicenow/configuration","id":"sidebar-nav-item-622"},{"title":"Troubleshooting","path":"platform/servicenow/troubleshooting","filePath":"../content/docs/platform/servicenow/troubleshooting.mdx","fullPath":"/vault/docs/platform/servicenow/troubleshooting","id":"sidebar-nav-item-623"}],"id":"sidebar-nav-item-619"}],"id":"sidebar-nav-item-608"},{"divider":true,"id":"sidebar-nav-item-624"},{"title":"Vault Enterprise","routes":[{"title":"Overview","path":"enterprise","filePath":"../content/docs/enterprise/index.mdx","fullPath":"/vault/docs/enterprise","id":"sidebar-nav-item-626"},{"title":"Long-term support (LTS)","path":"enterprise/lts","filePath":"../content/docs/enterprise/lts.mdx","fullPath":"/vault/docs/enterprise/lts","id":"sidebar-nav-item-627"},{"title":"Design your Vault Enterprise cluster","path":"enterprise/cluster-design","filePath":"../content/docs/enterprise/cluster-design.mdx","fullPath":"/vault/docs/enterprise/cluster-design","id":"sidebar-nav-item-628"},{"title":"Replication","routes":[{"title":"Replication support in Vault","path":"enterprise/replication","filePath":"../content/docs/enterprise/replication/index.mdx","fullPath":"/vault/docs/enterprise/replication","id":"sidebar-nav-item-630"},{"title":"Check for Merkle tree corruption","path":"enterprise/replication/check-merkle-tree-corruption","filePath":"../content/docs/enterprise/replication/check-merkle-tree-corruption.mdx","fullPath":"/vault/docs/enterprise/replication/check-merkle-tree-corruption","id":"sidebar-nav-item-631"}],"id":"sidebar-nav-item-629"},{"title":"HSM Support","routes":[{"title":"HSM support overview","path":"enterprise/hsm","filePath":"../content/docs/enterprise/hsm/index.mdx","fullPath":"/vault/docs/enterprise/hsm","id":"sidebar-nav-item-633"},{"title":"How HSM changes Vault","path":"enterprise/hsm/behavior","filePath":"../content/docs/enterprise/hsm/behavior.mdx","fullPath":"/vault/docs/enterprise/hsm/behavior","id":"sidebar-nav-item-634"},{"title":"HSM security details","path":"enterprise/hsm/security","filePath":"../content/docs/enterprise/hsm/security.mdx","fullPath":"/vault/docs/enterprise/hsm/security","id":"sidebar-nav-item-635"}],"id":"sidebar-nav-item-632"},{"title":"PKCS11 provider","routes":[{"title":"PKCS#11 support in Vault","path":"enterprise/pkcs11-provider","filePath":"../content/docs/enterprise/pkcs11-provider/index.mdx","fullPath":"/vault/docs/enterprise/pkcs11-provider","id":"sidebar-nav-item-637"},{"title":"Use PKCS#11 with AWS KMS","path":"enterprise/pkcs11-provider/aws-xks","filePath":"../content/docs/enterprise/pkcs11-provider/aws-xks.mdx","fullPath":"/vault/docs/enterprise/pkcs11-provider/aws-xks","id":"sidebar-nav-item-638"},{"title":"Use PKCS#11 with Oracle TDE","path":"enterprise/pkcs11-provider/oracle-tde","filePath":"../content/docs/enterprise/pkcs11-provider/oracle-tde.mdx","fullPath":"/vault/docs/enterprise/pkcs11-provider/oracle-tde","id":"sidebar-nav-item-639"}],"id":"sidebar-nav-item-636"},{"title":"Automatic snapshots with integrated storage","path":"enterprise/automated-integrated-storage-snapshots","filePath":"../content/docs/enterprise/automated-integrated-storage-snapshots.mdx","fullPath":"/vault/docs/enterprise/automated-integrated-storage-snapshots","id":"sidebar-nav-item-640"},{"title":"Automatically upgrade Vault clusters","path":"enterprise/automated-upgrades","filePath":"../content/docs/enterprise/automated-upgrades.mdx","fullPath":"/vault/docs/enterprise/automated-upgrades","id":"sidebar-nav-item-641"},{"title":"Use redundancy zones","path":"enterprise/redundancy-zones","filePath":"../content/docs/enterprise/redundancy-zones.mdx","fullPath":"/vault/docs/enterprise/redundancy-zones","id":"sidebar-nav-item-642"},{"title":"Enforce lease count quotas","path":"enterprise/lease-count-quotas","filePath":"../content/docs/enterprise/lease-count-quotas.mdx","fullPath":"/vault/docs/enterprise/lease-count-quotas","id":"sidebar-nav-item-643"},{"title":"Augment entropy with external samples","path":"enterprise/entropy-augmentation","filePath":"../content/docs/enterprise/entropy-augmentation.mdx","fullPath":"/vault/docs/enterprise/entropy-augmentation","id":"sidebar-nav-item-644"},{"title":"FIPS","routes":[{"title":"FIPS compliance in Vault","path":"enterprise/fips","filePath":"../content/docs/enterprise/fips/index.mdx","fullPath":"/vault/docs/enterprise/fips","id":"sidebar-nav-item-646"},{"title":"Built-in FIPS 140-3 support","path":"enterprise/fips/fips1403","filePath":"../content/docs/enterprise/fips/fips1403.mdx","fullPath":"/vault/docs/enterprise/fips/fips1403","id":"sidebar-nav-item-647"},{"title":"Seal wrap for FIPS compliance","path":"enterprise/fips/sealwrap","filePath":"../content/docs/enterprise/fips/sealwrap.mdx","fullPath":"/vault/docs/enterprise/fips/sealwrap","id":"sidebar-nav-item-648"}],"id":"sidebar-nav-item-645"},{"title":"Wrap seals with encryption","path":"enterprise/sealwrap","filePath":"../content/docs/enterprise/sealwrap.mdx","fullPath":"/vault/docs/enterprise/sealwrap","id":"sidebar-nav-item-649"},{"title":"Namespaces and SMT","routes":[{"title":"Namespace + SMT support in Vault","path":"enterprise/namespaces","filePath":"../content/docs/enterprise/namespaces/index.mdx","fullPath":"/vault/docs/enterprise/namespaces","id":"sidebar-nav-item-651"},{"title":"Create an administrative namespace","path":"enterprise/namespaces/create-admin-namespace","filePath":"../content/docs/enterprise/namespaces/create-admin-namespace.mdx","fullPath":"/vault/docs/enterprise/namespaces/create-admin-namespace","id":"sidebar-nav-item-652"},{"title":"Run Vault with many namespaces","path":"enterprise/namespaces/namespace-limits","badge":{"text":"ENT","type":"filled","color":"neutral"},"filePath":"../content/docs/enterprise/namespaces/namespace-limits.mdx","fullPath":"/vault/docs/enterprise/namespaces/namespace-limits","id":"sidebar-nav-item-653"},{"title":"Configure cross namespace access","path":"enterprise/namespaces/configure-cross-namespace-access","badge":{"text":"ENT","type":"filled","color":"neutral"},"filePath":"../content/docs/enterprise/namespaces/configure-cross-namespace-access.mdx","fullPath":"/vault/docs/enterprise/namespaces/configure-cross-namespace-access","id":"sidebar-nav-item-654"},{"title":"Best practices for namespaces","path":"enterprise/namespaces/namespace-structure","filePath":"../content/docs/enterprise/namespaces/namespace-structure.mdx","fullPath":"/vault/docs/enterprise/namespaces/namespace-structure","id":"sidebar-nav-item-655"}],"id":"sidebar-nav-item-650"},{"title":"Use performance standby nodes","path":"enterprise/performance-standby","filePath":"../content/docs/enterprise/performance-standby.mdx","fullPath":"/vault/docs/enterprise/performance-standby","id":"sidebar-nav-item-656"},{"title":"Data consistency for replication","path":"enterprise/consistency","filePath":"../content/docs/enterprise/consistency.mdx","fullPath":"/vault/docs/enterprise/consistency","id":"sidebar-nav-item-657"},{"title":"Audit","routes":[{"title":"Audit Exclusion","path":"enterprise/audit/exclusion","filePath":"../content/docs/enterprise/audit/exclusion.mdx","fullPath":"/vault/docs/enterprise/audit/exclusion","id":"sidebar-nav-item-659"},{"title":"Audit Filtering","path":"enterprise/audit/filtering","filePath":"../content/docs/enterprise/audit/filtering.mdx","fullPath":"/vault/docs/enterprise/audit/filtering","id":"sidebar-nav-item-660"}],"id":"sidebar-nav-item-658"},{"title":"Use control group authZ ","path":"enterprise/control-groups","filePath":"../content/docs/enterprise/control-groups.mdx","fullPath":"/vault/docs/enterprise/control-groups","id":"sidebar-nav-item-661"},{"title":"3rd party key management","path":"enterprise/managed-keys","filePath":"../content/docs/enterprise/managed-keys.mdx","fullPath":"/vault/docs/enterprise/managed-keys","id":"sidebar-nav-item-662"},{"title":"Multi-factor authN","routes":[{"title":"MFA support in Vault","path":"enterprise/mfa","filePath":"../content/docs/enterprise/mfa/index.mdx","fullPath":"/vault/docs/enterprise/mfa","id":"sidebar-nav-item-664"},{"title":"Configure Duo for MFA","path":"enterprise/mfa/mfa-duo","filePath":"../content/docs/enterprise/mfa/mfa-duo.mdx","fullPath":"/vault/docs/enterprise/mfa/mfa-duo","id":"sidebar-nav-item-665"},{"title":"Configure Okta for MFA","path":"enterprise/mfa/mfa-okta","filePath":"../content/docs/enterprise/mfa/mfa-okta.mdx","fullPath":"/vault/docs/enterprise/mfa/mfa-okta","id":"sidebar-nav-item-666"},{"title":"Configure PingID for MFA","path":"enterprise/mfa/mfa-pingid","filePath":"../content/docs/enterprise/mfa/mfa-pingid.mdx","fullPath":"/vault/docs/enterprise/mfa/mfa-pingid","id":"sidebar-nav-item-667"},{"title":"Configure TOTP for MFA","path":"enterprise/mfa/mfa-totp","filePath":"../content/docs/enterprise/mfa/mfa-totp.mdx","fullPath":"/vault/docs/enterprise/mfa/mfa-totp","id":"sidebar-nav-item-668"}],"id":"sidebar-nav-item-663"},{"title":"Manage policies as code","routes":[{"title":"Manage Vault policies with Sentinel","path":"enterprise/sentinel","filePath":"../content/docs/enterprise/sentinel/index.mdx","fullPath":"/vault/docs/enterprise/sentinel","id":"sidebar-nav-item-670"},{"title":"Sentinel properties for Vault","path":"enterprise/sentinel/properties","filePath":"../content/docs/enterprise/sentinel/properties.mdx","fullPath":"/vault/docs/enterprise/sentinel/properties","id":"sidebar-nav-item-671"},{"title":"Sentinel examples","path":"enterprise/sentinel/examples","filePath":"../content/docs/enterprise/sentinel/examples.mdx","fullPath":"/vault/docs/enterprise/sentinel/examples","id":"sidebar-nav-item-672"}],"id":"sidebar-nav-item-669"},{"title":"HCP Vault docs","href":"/hcp/docs/vault","id":"sidebar-nav-item-673"}],"id":"sidebar-nav-item-625"},{"divider":true,"id":"sidebar-nav-item-674"},{"title":"Glossary","path":"glossary","filePath":"../content/docs/glossary.mdx","fullPath":"/vault/docs/glossary","id":"sidebar-nav-item-675"}],"title":"Documentation","visuallyHideTitle":true}],"mainWidth":"narrow","githubFileUrl":"https://github.com/hashicorp/vault/blob/main/website/../content/docs/secrets/pki/considerations.mdx"},"metadata":{"title":"PKI secrets engine considerations","description":"Understand the important considerations and guidance before using the PKI secrets engine to generate certificates before using the PKI secrets engine.","layout":null},"outlineItems":[{"title":"PKI secrets engine considerations","url":"#pki-secrets-engine-considerations"},{"title":"Table of contents","url":"#table-of-contents"},{"title":"Be careful with root CAs","url":"#be-careful-with-root-cas"},{"title":"One CA certificate, one secrets engine","url":"#one-ca-certificate-one-secrets-engine"},{"title":"Key types matter","url":"#key-types-matter"},{"title":"Use a CA hierarchy","url":"#use-a-ca-hierarchy"},{"title":"Cluster URLs are important","url":"#cluster-urls-are-important"},{"title":"Automate rotation with ACME","url":"#automate-rotation-with-acme"},{"title":"Keep certificate lifetimes short, for CRL's sake","url":"#keep-certificate-lifetimes-short-for-crl-s-sake"},{"title":"You must configure issuing/CRL/OCSP information in advance","url":"#you-must-configure-issuing-crl-ocsp-information-in-advance"},{"title":"Distribution of CRLs and OCSP","url":"#distribution-of-crls-and-ocsp"},{"title":"Automate CRL building and tidying","url":"#automate-crl-building-and-tidying"},{"title":"Spectrum of revocation support","url":"#spectrum-of-revocation-support"},{"title":"Issuer subjects and CRLs","url":"#issuer-subjects-and-crls"},{"title":"Automate leaf certificate renewal","url":"#automate-leaf-certificate-renewal"},{"title":"Safe minimums","url":"#safe-minimums"},{"title":"Token lifetimes and revocation","url":"#token-lifetimes-and-revocation"},{"title":"Safe usage of roles","url":"#safe-usage-of-roles"},{"title":"Telemetry","url":"#telemetry"},{"title":"Auditing","url":"#auditing"},{"title":"Role-Based access","url":"#role-based-access"},{"title":"Replicated DataSets","url":"#replicated-datasets"},{"title":"Cluster scalability","url":"#cluster-scalability"},{"title":"PSS support","url":"#pss-support"},{"title":"Issuer storage migration issues","url":"#issuer-storage-migration-issues"},{"title":"Issuer Constraints Enforcement","url":"#issuer-constraints-enforcement"},{"title":"Tutorial","url":"#tutorial"},{"title":"API","url":"#api"}],"pageHeading":{"id":"pki-secrets-engine-considerations","title":"PKI secrets engine considerations"},"mdxSource":{"compiledSource":"const layoutProps={};const MDXLayout=\"wrapper\";function MDXContent({components,...props}){return mdx(MDXLayout,{...layoutProps,...props,components:components,mdxType:\"MDXLayout\"},mdx(\"p\",null,`To successfully deploy this secrets engine, there are a number of important\nconsiderations to be aware of, as well as some preparatory steps that should be\nundertaken. You should read all of these `,mdx(\"em\",{parentName:\"p\"},`before`),` using this secrets engine or\ngenerating the CA to use with this secrets engine.`),mdx(\"h2\",{\"id\":\"table-of-contents\"},mdx(\"a\",{parentName:\"h2\",\"className\":\"__permalink-h\",\"href\":\"#table-of-contents\",\"aria-label\":\"table of contents permalink\"},`\\xbb`),`Table of contents`),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"href\":\"#be-careful-with-root-cas\"},`Be Careful with Root CAs`),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"href\":\"#managed-keys\"},`Managed Keys`)))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"href\":\"#one-ca-certificate-one-secrets-engine\"},`One CA Certificate, One Secrets Engine`),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"href\":\"#always-configure-a-default-issuer\"},`Always Configure a Default Issuer`)))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"href\":\"#key-types-matter\"},`Key Types Matter`),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"href\":\"#cluster-performance-and-key-types\"},`Cluster Performance and Key Types`)))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"href\":\"#use-a-ca-hierarchy\"},`Use a CA Hierarchy`),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"href\":\"#cross-signed-intermediates\"},`Cross-Signed Intermediates`)))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"href\":\"#cluster-urls-are-important\"},`Cluster URLs are Important`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"href\":\"#automate-rotation-with-acme\"},`Automate Rotation with ACME`),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"href\":\"#acme-stores-certificates\"},`ACME Stores Certificates`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"href\":\"#acme-role-restrictions-require-eab\"},`ACME Role Restrictions Require EAB`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"href\":\"#acme-and-the-public-internet\"},`ACME and the Public Internet`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"href\":\"#acme-errors-are-in-server-logs\"},`ACME Errors are in Server Logs`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"href\":\"#acme-security-considerations\"},`ACME Security Considerations`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"href\":\"#acme-and-client-counting\"},`ACME and Client Counting`)))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"href\":\"#keep-certificate-lifetimes-short-for-crls-sake\"},`Keep Certificate Lifetimes Short, For CRL's Sake`),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"href\":\"#notafter-behavior-on-leaf-certificates\"},`NotAfter Behavior on Leaf Certificates`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"href\":\"#cluster-performance-and-quantity-of-leaf-certificates\"},`Cluster Performance and Quantity of Leaf Certificates`)))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"href\":\"#you-must-configure-issuingcrlocsp-information-_in-advance_\"},`You must configure issuing/CRL/OCSP information `,mdx(\"em\",{parentName:\"a\"},`in advance`))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"href\":\"#distribution-of-crls-and-ocsp\"},`Distribution of CRLs and OCSP`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"href\":\"#automate-crl-building-and-tidying\"},`Automate CRL Building and Tidying`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"href\":\"#spectrum-of-revocation-support\"},`Spectrum of Revocation Support`),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"href\":\"#what-are-cross-cluster-crls\"},`What Are Cross-Cluster CRLs?`)))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"href\":\"#issuer-subjects-and-crls\"},`Issuer Subjects and CRLs`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"href\":\"#automate-leaf-certificate-renewal\"},`Automate Leaf Certificate Renewal`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"href\":\"#safe-minimums\"},`Safe Minimums`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"href\":\"#token-lifetimes-and-revocation\"},`Token Lifetimes and Revocation`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"href\":\"#safe-usage-of-roles\"},`Safe Usage of Roles`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"href\":\"#telemetry\"},`Telemetry`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"href\":\"#auditing\"},`Auditing`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"href\":\"#role-based-access\"},`Role-Based Access`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"href\":\"#replicated-datasets\"},`Replicated DataSets`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"href\":\"#cluster-scalability\"},`Cluster Scalability`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"href\":\"#pss-support\"},`PSS Support`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"href\":\"#issuer-storage-migration-issues\"},`Issuer Storage Migration Issues`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"href\":\"#issuer-constraints-enforcement\"},`Issuer Constraints Enforcement`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"href\":\"#tutorial\"},`Tutorial`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"href\":\"#api\"},`API`))),mdx(\"h2\",{\"id\":\"be-careful-with-root-cas\"},mdx(\"a\",{parentName:\"h2\",\"className\":\"__permalink-h\",\"href\":\"#be-careful-with-root-cas\",\"aria-label\":\"be careful with root cas permalink\"},`\\xbb`),`Be careful with root CAs`),mdx(\"p\",null,`Vault storage is secure, but not as secure as a piece of paper in a bank vault.\nIt is, after all, networked software. If your root CA is hosted outside of\nVault, don't put it in Vault as well; instead, issue a shorter-lived\nintermediate CA certificate and put this into Vault. This aligns with industry\nbest practices.`),mdx(\"p\",null,`Since 0.4, the secrets engine supports generating self-signed root CAs and\ncreating and signing CSRs for intermediate CAs. In each instance, for security\nreasons, the private key can `,mdx(\"em\",{parentName:\"p\"},`only`),` be exported at generation time, and the\nability to do so is part of the command path (so it can be put into ACL\npolicies).`),mdx(\"p\",null,`If you plan on using intermediate CAs with Vault, it is suggested that you let\nVault create CSRs and do not export the private key, then sign those with your\nroot CA (which may be a second mount of the `,mdx(\"inlineCode\",{parentName:\"p\"},`pki`),` secrets engine).`),mdx(\"h3\",{\"id\":\"managed-keys\"},mdx(\"a\",{parentName:\"h3\",\"className\":\"__permalink-h\",\"href\":\"#managed-keys\",\"aria-label\":\"managed keys permalink\"},`\\xbb`),`Managed keys`),mdx(\"p\",null,`Since 1.10, Vault Enterprise can access private key material in a\n`,mdx(\"a\",{parentName:\"p\",\"href\":\"/vault/docs/enterprise/managed-keys\"},mdx(\"em\",{parentName:\"a\"},`managed key`)),`.  In this case, Vault never sees the\nprivate key, and the external KMS or HSM performs certificate signing operations.\nManaged keys are configured by selecting the `,mdx(\"inlineCode\",{parentName:\"p\"},`kms`),` type when generating a root\nor intermediate.`),mdx(\"h2\",{\"id\":\"one-ca-certificate-one-secrets-engine\"},mdx(\"a\",{parentName:\"h2\",\"className\":\"__permalink-h\",\"href\":\"#one-ca-certificate-one-secrets-engine\",\"aria-label\":\"one ca certificate one secrets engine permalink\"},`\\xbb`),`One CA certificate, one secrets engine`),mdx(\"p\",null,`Since Vault 1.11.0, the PKI Secrets Engine supports multiple issuers in a single\nmount. However, in order to simplify the configuration, it is `,mdx(\"em\",{parentName:\"p\"},`strongly`),`\nrecommended that operators limit a mount to a single issuer. If you want to issue\ncertificates from multiple disparate CAs, mount the PKI secrets engine at multiple\nmount points with separate CA certificates in each.`),mdx(\"p\",null,`The rationale for separating mounts is to simplify permissions management:\nvery few individuals need access to perform operations with the root, but\nmany need access to create leaves. The operations on a root should generally\nbe limited to issuing and revoking intermediate CAs, which is a highly\nprivileged operation; it becomes much easier to audit these operations when\nthey're in a separate mount than if they're mixed in with day-to-day leaf\nissuance.`),mdx(\"p\",null,`A common pattern is to have one mount act as your root CA and to use this CA\nonly to sign intermediate CA CSRs from other PKI secrets engines.`),mdx(\"p\",null,`To keep old CAs active, there's two approaches to achieving rotation:`),mdx(\"ol\",null,mdx(\"li\",{parentName:\"ol\"},`Use multiple secrets engines. This allows a fresh start, preserving the\nold issuer and CRL. Vault ACL policy can be updated to deny new issuance\nunder the old mount point and roles can be re-evaluated before being\nimported into the new mount point.`),mdx(\"li\",{parentName:\"ol\"},`Use multiple issuers in the same mount point. The usage of the old issuer\ncan be restricted to CRL signing, and existing roles and ACL policy can be\nkept as-is. This allows cross-signing within the same mount, and consumers\nof the mount won't have to update their configuration. Once the transitional\nperiod for this rotation has completed and all past issued certificate have\nexpired, it is encouraged to fully remove the old issuer and any unnecessary\ncross-signed issuers from the mount point.`)),mdx(\"p\",null,`Another suggested use case for multiple issuers in the same mount is splitting\nissuance by TTL lifetime. For short-lived certificates, an intermediate\nstored in Vault will often out-perform a HSM-backed intermediate. For\nlonger-lived certificates, however, it is often important to have the\nintermediate key material secured throughout the lifetime of the end-entity\ncertificate. This means that two intermediates in the same mount -- one backed\nby the HSM and one backed by Vault -- can satisfy both use cases. Operators\ncan make roles setting maximum TTLs for each issuer and consumers of the\nmount can decide which to use.`),mdx(\"h3\",{\"id\":\"always-configure-a-default-issuer\"},mdx(\"a\",{parentName:\"h3\",\"className\":\"__permalink-h\",\"href\":\"#always-configure-a-default-issuer\",\"aria-label\":\"always configure a default issuer permalink\"},`\\xbb`),`Always configure a default issuer`),mdx(\"p\",null,`For backwards compatibility, `,mdx(\"a\",{parentName:\"p\",\"href\":\"/vault/api-docs/secret/pki#read-issuers-configuration\"},`the default issuer`),`\nis used to service PKI endpoints without an explicit issuer (either via path\nselection or role-based selection). When certificates are revoked and their\nissuer is no longer part of this PKI mount, Vault places them on the default\nissuer's CRL. This means maintaining a default issuer is important for both\nbackwards compatibility for issuing certificates and for ensuring revoked\ncertificates land on a CRL.`),mdx(\"h2\",{\"id\":\"key-types-matter\"},mdx(\"a\",{parentName:\"h2\",\"className\":\"__permalink-h\",\"href\":\"#key-types-matter\",\"aria-label\":\"key types matter permalink\"},`\\xbb`),`Key types matter`),mdx(\"p\",null,`Certain key types have impacts on performance. Signing certificates from a RSA\nkey will be slower than issuing from an ECDSA or Ed25519 key. Key generation\n(using `,mdx(\"inlineCode\",{parentName:\"p\"},`/issue/:role`),` endpoints) using RSA keys will also be slow: RSA key\ngeneration involves finding suitable random primes, whereas Ed25519 keys can\nbe random data. As the number of bits goes up (RSA 2048 -\u003e 4096 or ECDSA\nP-256 -\u003e P-521), signature times also increases.`),mdx(\"p\",null,`This matters in both directions: not only is issuance more expensive,\nbut validation of the corresponding signature (in say, TLS handshakes) will\nalso be more expensive. Careful consideration of both issuer and issued key\ntypes can have meaningful impacts on performance of not only Vault, but\nsystems using these certificates.`),mdx(\"h3\",{\"id\":\"cluster-performance-and-key-types\"},mdx(\"a\",{parentName:\"h3\",\"className\":\"__permalink-h\",\"href\":\"#cluster-performance-and-key-types\",\"aria-label\":\"cluster performance and key types permalink\"},`\\xbb`),`Cluster performance and key types`),mdx(\"p\",null,`The `,mdx(\"a\",{parentName:\"p\",\"href\":\"https://github.com/hashicorp/vault-benchmark\"},`benchmark-vault`),` project\ncan be used to measure the performance of a Vault PKI instance. In general,\nsome considerations to be aware of:`),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\"},`RSA key generation is much slower and highly variable than EC key\ngeneration. If performance and throughput are a necessity, consider using\nEC keys (including NIST P-curves and Ed25519) instead of RSA.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\"},`Key signing requests (via `,mdx(\"inlineCode\",{parentName:\"p\"},`/pki/sign`),`) will be faster than (`,mdx(\"inlineCode\",{parentName:\"p\"},`/pki/issue`),`),\nespecially for RSA keys: this removes the necessity for Vault to generate\nkey material and can sign the key material provided by the client. This\nsigning step is common between both endpoints, so key generation is pure\noverhead if the client has a sufficiently secure source of entropy.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\"},`The CA's key type matters as well: using a RSA CA will result in a RSA\nsignature and takes longer than a ECDSA or Ed25519 CA.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\"},`Storage is an important factor: with `,mdx(\"a\",{parentName:\"p\",\"href\":\"/vault/api-docs/secret/pki#revoke-certificate\"},`BYOC Revocation`),`,\nusing `,mdx(\"inlineCode\",{parentName:\"p\"},`no_store=true`),` still gives you the ability to revoke certificates\nand audit logs can be used to track issuance. Clusters using a remote\nstorage (like Consul) over a slow network and using `,mdx(\"inlineCode\",{parentName:\"p\"},`no_store=false`),`\nor `,mdx(\"inlineCode\",{parentName:\"p\"},`no_store_cert_metadata=false`),` along with specifying metadata on issuance, will\nresult in additional latency on issuance. Adding leases for every issued\ncertificate compounds the problem.`),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},`Storing too many certificates results in longer `,mdx(\"inlineCode\",{parentName:\"li\"},`LIST /pki/certs`),` time,\nincluding the time to tidy the instance. As such, for large scale\ndeployments (\u003e= 250k active certificates) it is recommended to use audit\nlogs to track certificates outside of Vault.`)))),mdx(\"p\",null,`As a general comparison on unspecified hardware, using `,mdx(\"inlineCode\",{parentName:\"p\"},`benchmark-vault`),` for\n`,mdx(\"inlineCode\",{parentName:\"p\"},`30s`),` on a local, single node, raft-backed Vault instance:`),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\"},`Vault can issue 300k certificates using EC P-256 for CA \u0026 leaf keys and\nwithout storage.`),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},`But switching to storing these leaves drops that number to 65k, and only\n20k with leases.`))),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\"},`Using large, expensive RSA-4096 bit keys, Vault can only issue 160 leaves,\nregardless of whether or not storage or leases were used. The 95% key\ngeneration time is above 10s.`),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},`In comparison, using P-521 keys, Vault can issue closer to 30k leaves\nwithout leases and 18k with leases.`)))),mdx(\"p\",null,`These numbers are for example only, to represent the impact different key types\ncan have on PKI cluster performance.`),mdx(\"p\",null,`The use of ACME adds additional latency into these numbers, both because\ncertificates need to be stored and because challenge validation needs to\nbe performed.`),mdx(\"h2\",{\"id\":\"use-a-ca-hierarchy\"},mdx(\"a\",{parentName:\"h2\",\"className\":\"__permalink-h\",\"href\":\"#use-a-ca-hierarchy\",\"aria-label\":\"use a ca hierarchy permalink\"},`\\xbb`),`Use a CA hierarchy`),mdx(\"p\",null,`It is generally recommended to use a hierarchical CA setup, with a root\ncertificate which issues one or more intermediates (based on usage), which\nin turn issue the leaf certificates.`),mdx(\"p\",null,`This allows stronger storage or policy guarantees around `,mdx(\"a\",{parentName:\"p\",\"href\":\"#be-careful-with-root-cas\"},`protection of the\nroot CA`),`, while letting Vault manage the\nintermediate CAs and issuance of leaves. Different intermediates might be\nissued for different usage, such as VPN signing, Email signing, or testing\nversus production TLS services. This helps to keep CRLs limited to specific\npurposes: for example, VPN services don't care about the revoked set of\nemail signing certificates if they're using separate certificates and\ndifferent intermediates, and thus don't need both CRL contents. Additionally,\nthis allows higher risk intermediates (such as those issuing longer-lived\nemail signing certificates) to have HSM-backing without impacting the\nperformance of easier-to-rotate intermediates and certificates (such as\nTLS intermediates).`),mdx(\"p\",null,`Vault supports the use of both the `,mdx(\"a\",{parentName:\"p\",\"href\":\"/vault/api-docs/secret/pki#allowed_domains\"},mdx(\"inlineCode\",{parentName:\"a\"},`allowed_domains`),` parameter on\nRoles`),` and the sef of parameters for\npermitted and excluded DNS domains, IP ranges, email addresses and URI domains\nto set the `,mdx(\"a\",{parentName:\"p\",\"href\":\"/vault/api-docs/secret/pki#permitted_dns_domains\"},`Name Constraints extension`),`\non root and intermediate generation. This allows for several layers of separation of\nconcerns between TLS-based services.`),mdx(\"h3\",{\"id\":\"cross-signed-intermediates\"},mdx(\"a\",{parentName:\"h3\",\"className\":\"__permalink-h\",\"href\":\"#cross-signed-intermediates\",\"aria-label\":\"cross signed intermediates permalink\"},`\\xbb`),`Cross-Signed intermediates`),mdx(\"p\",null,`When cross-signing intermediates from two separate roots, two separate\nintermediate issuers will exist within the Vault PKI mount. In order to\ncorrectly serve the cross-signed chain on issuance requests, the\n`,mdx(\"inlineCode\",{parentName:\"p\"},`manual_chain`),` override is required on either or both intermediates. This\ncan be constructed in the following order:`),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},`this issuer (`,mdx(\"inlineCode\",{parentName:\"li\"},`self`),`)`),mdx(\"li\",{parentName:\"ul\"},`this root`),mdx(\"li\",{parentName:\"ul\"},`the other copy of this intermediate`),mdx(\"li\",{parentName:\"ul\"},`the other root`)),mdx(\"p\",null,`All requests to this issuer for signing will now present the full cross-signed\nchain.`),mdx(\"h2\",{\"id\":\"cluster-urls-are-important\"},mdx(\"a\",{parentName:\"h2\",\"className\":\"__permalink-h\",\"href\":\"#cluster-urls-are-important\",\"aria-label\":\"cluster urls are important permalink\"},`\\xbb`),`Cluster URLs are important`),mdx(\"p\",null,`In Vault 1.13, support for `,mdx(\"a\",{parentName:\"p\",\"href\":\"/vault/api-docs/secret/pki#enable_aia_url_templating-1\"},`templated AIA\nURLs`),`\nwas added. With the `,mdx(\"a\",{parentName:\"p\",\"href\":\"/vault/api-docs/secret/pki#set-cluster-configuration\"},`per-cluster URL\nconfiguration`),` pointing\nto this Performance Replication cluster, AIA information will point to the\ncluster that issued this certificate automatically.`),mdx(\"p\",null,`In Vault 1.14, with ACME support, the same configuration is used for allowing\nACME clients to discover the URL of this cluster.`),mdx(\"div\",{\"className\":\"alert alert-warning g-type-body\"},mdx(\"p\",{parentName:\"div\"},``,mdx(\"strong\",{parentName:\"p\"},`Warning`),`: It is important to ensure that this configuration is\nup to date and maintained correctly, always pointing to the node's\nPR cluster address (which may be a Load Balanced or a DNS Round-Robbin\naddress). If this configuration is not set on every Performance Replication\ncluster, certificate issuance (via REST and/or via ACME) will fail.`)),mdx(\"h2\",{\"id\":\"automate-rotation-with-acme\"},mdx(\"a\",{parentName:\"h2\",\"className\":\"__permalink-h\",\"href\":\"#automate-rotation-with-acme\",\"aria-label\":\"automate rotation with acme permalink\"},`\\xbb`),`Automate rotation with ACME`),mdx(\"p\",null,`In Vault 1.14, support for the `,mdx(\"a\",{parentName:\"p\",\"href\":\"https://datatracker.ietf.org/doc/html/rfc8555\"},`Automatic Certificate Management Environment\n(ACME)`),` protocol has been\nadded to the PKI Engine. This is a standardized way to handle validation,\nissuance, rotation, and revocation of server certificates.`),mdx(\"p\",null,`Many ecosystems, from web servers like Caddy, Nginx, and Apache, to\norchestration environments like Kubernetes (via cert-manager) natively\nsupport issuance via the ACME protocol. For deployments without native\nsupport, stand-alone tools like certbot support fetching and renewing\ncertificates on behalf of consumers. Vault's PKI Engine only includes server\nsupport for ACME; no client functionality has been included.`),mdx(\"div\",{\"className\":\"alert alert-warning g-type-body\"},mdx(\"p\",{parentName:\"div\"},`Note: Vault's PKI ACME server caps the certificate's validity at 90 days\nmaximum by default, overridable using the ACME config max_ttl parameter.\nShorter validity durations can be set via limiting the role's TTL to\nbe under the global ACME configured limit.\nAligning with Let's Encrypt, we do not support the optional `,mdx(\"inlineCode\",{parentName:\"p\"},`NotBefore`),`\nand `,mdx(\"inlineCode\",{parentName:\"p\"},`NotAfter`),` order request parameters.`)),mdx(\"h3\",{\"id\":\"acme-stores-certificates\"},mdx(\"a\",{parentName:\"h3\",\"className\":\"__permalink-h\",\"href\":\"#acme-stores-certificates\",\"aria-label\":\"acme stores certificates permalink\"},`\\xbb`),`ACME stores certificates`),mdx(\"p\",null,`Because ACME requires stored certificates in order to function, the notes\n`,mdx(\"a\",{parentName:\"p\",\"href\":\"#automate-crl-building-and-tidying\"},`below about automating tidy`),` are\nespecially important for the long-term health of the PKI cluster. ACME also\nintroduces additional resource types (accounts, orders, authorizations, and\nchallenges) that must be tidied via `,mdx(\"a\",{parentName:\"p\",\"href\":\"/vault/api-docs/secret/pki#tidy\"},`the `,mdx(\"inlineCode\",{parentName:\"a\"},`tidy_acme=true`),`\noption`),`. Orders, authorizations, and\nchallenges are `,mdx(\"a\",{parentName:\"p\",\"href\":\"/vault/api-docs/secret/pki#safety_buffer\"},`cleaned up based on the\n`,mdx(\"inlineCode\",{parentName:\"a\"},`safety_buffer`)),`\nparameter, but accounts can live longer past their last issued certificate\nby controlling the `,mdx(\"a\",{parentName:\"p\",\"href\":\"/vault/api-docs/secret/pki#acme_account_safety_buffer\"},mdx(\"inlineCode\",{parentName:\"a\"},`acme_account_safety_buffer`),`\nparameter`),`.`),mdx(\"p\",null,`As a consequence of the above, and like the discussions in the `,mdx(\"a\",{parentName:\"p\",\"href\":\"#cluster-scalability\"},`Cluster\nScalability`),` section, because these roles have\n`,mdx(\"inlineCode\",{parentName:\"p\"},`no_store=false`),` set, ACME can only issue certificates on the active nodes\nof PR clusters; standby nodes, if contacted, will transparently forward\nall requests to the active node.`),mdx(\"h3\",{\"id\":\"acme-role-restrictions-require-eab\"},mdx(\"a\",{parentName:\"h3\",\"className\":\"__permalink-h\",\"href\":\"#acme-role-restrictions-require-eab\",\"aria-label\":\"acme role restrictions require eab permalink\"},`\\xbb`),`ACME role restrictions require EAB`),mdx(\"p\",null,`Because ACME by default has no external authorization engine and is\nunauthenticated from a Vault perspective, the use of roles with ACME\nin the default configuration are of limited value as any ACME client\ncan request certificates under any role by proving possession of the\nrequested certificate identifiers.`),mdx(\"p\",null,`To solve this issue, there are two possible approaches:`),mdx(\"ol\",null,mdx(\"li\",{parentName:\"ol\"},`Use a restrictive `,mdx(\"a\",{parentName:\"li\",\"href\":\"/vault/api-docs/secret/pki#set-acme-configuration\"},mdx(\"inlineCode\",{parentName:\"a\"},`allowed_roles`),`, `,mdx(\"inlineCode\",{parentName:\"a\"},`allowed_issuers`),`, and\n`,mdx(\"inlineCode\",{parentName:\"a\"},`default_directory_policy`),` ACME\nconfiguration`),`\nto let only a single role and issuer be used. This prevents user\nchoice, allowing some global restrictions to be placed on issuance\nand avoids requiring ACME clients to have (at initial setup) access\nto a Vault token other mechanism for acquiring a Vault EAB ACME token.`),mdx(\"li\",{parentName:\"ol\"},`Use a more permissive `,mdx(\"a\",{parentName:\"li\",\"href\":\"/vault/api-docs/secret/pki#eab_policy\"},`configuration with\n`,mdx(\"inlineCode\",{parentName:\"a\"},`eab_policy=always-required`)),`\nto allow more roles and users to select the roles, but bind ACME clients\nto a Vault token which can be suitably ACL'd to particular sets of\napproved ACME directories.`)),mdx(\"p\",null,`The choice of approach depends on the policies of the organization wishing\nto use ACME.`),mdx(\"p\",null,`Another consequence of the Vault unauthenticated nature of ACME requests\nare that role templating, based on entity information, cannot be used as\nthere is no token and thus no entity associated with the request, even when\nEAB binding is used.`),mdx(\"h3\",{\"id\":\"acme-and-the-public-internet\"},mdx(\"a\",{parentName:\"h3\",\"className\":\"__permalink-h\",\"href\":\"#acme-and-the-public-internet\",\"aria-label\":\"acme and the public internet permalink\"},`\\xbb`),`ACME and the public internet`),mdx(\"p\",null,`Using ACME is possible over the public internet; public CAs like Let's Encrypt\noffer this as a service. Similarly, organizations running internal PKI\ninfrastructure might wish to issue server certificates to pieces of\ninfrastructure outside of their internal network boundaries, from a publicly\naccessible Vault instance. By default, without enforcing a restrictive\n`,mdx(\"inlineCode\",{parentName:\"p\"},`eab_policy`),`, this results in a complicated threat model: `,mdx(\"em\",{parentName:\"p\"},`any`),` external\nclient which can prove possession of a domain can issue a certificate under\nthis CA, which might be considered more trusted by this organization.`),mdx(\"p\",null,`As such, we strongly recommend publicly facing Vault instances (such as HCP\nVault) enforce that PKI mount operators have required a `,mdx(\"a\",{parentName:\"p\",\"href\":\"/vault/api-docs/secret/pki#eab_policy\"},`restrictive\n`,mdx(\"inlineCode\",{parentName:\"a\"},`eab_policy=always-required`),` configuration`),`.\nSystem administrators of Vault instances can enforce this by `,mdx(\"a\",{parentName:\"p\",\"href\":\"/vault/api-docs/secret/pki#acme-external-account-bindings\"},`setting the\n`,mdx(\"inlineCode\",{parentName:\"a\"},`VAULT_DISABLE_PUBLIC_ACME=true`),` environment\nvariable`),`.`),mdx(\"h3\",{\"id\":\"acme-errors-are-in-server-logs\"},mdx(\"a\",{parentName:\"h3\",\"className\":\"__permalink-h\",\"href\":\"#acme-errors-are-in-server-logs\",\"aria-label\":\"acme errors are in server logs permalink\"},`\\xbb`),`ACME errors are in server logs`),mdx(\"p\",null,`Because the ACME client is not necessarily trusted (as account registration\nmay not be tied to a valid Vault token when EAB is not used), many error\nmessages end up in the Vault server logs out of security necessity. When\ntroubleshooting issues with clients requesting certificates, first check\nthe client's logs, if any, (e.g., certbot will state the log location on\nerrors), and then correlate with Vault server logs to identify the failure\nreason.`),mdx(\"h3\",{\"id\":\"acme-security-considerations\"},mdx(\"a\",{parentName:\"h3\",\"className\":\"__permalink-h\",\"href\":\"#acme-security-considerations\",\"aria-label\":\"acme security considerations permalink\"},`\\xbb`),`ACME security considerations`),mdx(\"p\",null,`ACME allows any client to use Vault to make some sort of external call;\nwhile the design of ACME attempts to minimize this scope and will prohibit\nissuance if incorrect servers are contacted, it cannot account for all\npossible remote server implementations. Vault's ACME server makes three\ntypes of requests:`),mdx(\"ol\",null,mdx(\"li\",{parentName:\"ol\"},`DNS requests for `,mdx(\"inlineCode\",{parentName:\"li\"},`_acme-challenge.\u003cdomain\u003e`),`, which should be least\ninvasive and most safe.`),mdx(\"li\",{parentName:\"ol\"},`TLS ALPN requests for the `,mdx(\"inlineCode\",{parentName:\"li\"},`acme-tls/1`),` protocol, which should be\nsafely handled by the TLS before any application code is invoked.`),mdx(\"li\",{parentName:\"ol\"},`HTTP requests to `,mdx(\"inlineCode\",{parentName:\"li\"},`http://\u003cdomain\u003e/.well-known/acme-challenge/\u003ctoken\u003e`),`,\nwhich could be problematic based on server design; if all requests,\nregardless of path, are treated the same and assumed to be trusted,\nthis could result in Vault being used to make (invalid) requests.\nIdeally, any such server implementations should be updated to ignore\nsuch ACME validation requests or to block access originating from Vault\nto this service.`)),mdx(\"p\",null,`In all cases, no information about the response presented by the remote\nserver is returned to the ACME client.`),mdx(\"p\",null,`When running Vault on multiple networks, note that Vault's ACME server\nplaces no restrictions on requesting client/destination identifier\nvalidations paths; a client could use a HTTP challenge to force Vault to\nreach out to a server on a network it could otherwise not access.`),mdx(\"h3\",{\"id\":\"acme-and-client-counting\"},mdx(\"a\",{parentName:\"h3\",\"className\":\"__permalink-h\",\"href\":\"#acme-and-client-counting\",\"aria-label\":\"acme and client counting permalink\"},`\\xbb`),`ACME and client counting`),mdx(\"p\",null,`In Vault 1.14, ACME contributes differently to usage metrics than other\ninteractions with the PKI Secrets Engine. Due to its use of unauthenticated\nrequests (which do not generate Vault tokens), it would not be counted in\nthe traditional `,mdx(\"a\",{parentName:\"p\",\"href\":\"/vault/api-docs/system/internal-counters#activity-export\"},`activity log APIs`),`.\nInstead, certificates issued via ACME will be counted via their unique\ncertificate identifiers (the combination of CN, DNS SANs, and IP SANs).\nThese will create a stable identifier that will be consistent across\nrenewals, other ACME clients, mounts, and namespaces, contributing to\nthe activity log presently as a non-entity token attributed to the first\nmount which created that request.`),mdx(\"h2\",{\"id\":\"keep-certificate-lifetimes-short-for-crl-s-sake\"},mdx(\"a\",{parentName:\"h2\",\"className\":\"__permalink-h\",\"href\":\"#keep-certificate-lifetimes-short-for-crl-s-sake\",\"aria-label\":\"keep certificate lifetimes short for crl s sake permalink\"},`\\xbb`),`Keep certificate lifetimes short, for CRL's sake`),mdx(\"p\",null,`This secrets engine aligns with Vault's philosophy of short-lived secrets. As\nsuch it is not expected that CRLs will grow large; the only place a private key\nis ever returned is to the requesting client (this secrets engine does `,mdx(\"em\",{parentName:\"p\"},`not`),`\nstore generated private keys, except for CA certificates). In most cases, if the\nkey is lost, the certificate can simply be ignored, as it will expire shortly.`),mdx(\"p\",null,`If a certificate must truly be revoked, the normal Vault revocation function can\nbe used, and any revocation action will cause the CRL to be regenerated. When\nthe CRL is regenerated, any expired certificates are removed from the CRL (and\nany revoked, expired certificate are removed from secrets engine storage). This\nis an expensive operation! Due to the structure of the CRL standard, Vault must\nread `,mdx(\"strong\",{parentName:\"p\"},`all`),` revoked certificates into memory in order to rebuild the CRL and\nclients must fetch the regenerated CRL.`),mdx(\"p\",null,`This secrets engine does not support multiple CRL endpoints with sliding date\nwindows; often such mechanisms will have the transition point a few days apart,\nbut this gets into the expected realm of the actual certificate validity periods\nissued from this secrets engine. A good rule of thumb for this secrets engine\nwould be to simply not issue certificates with a validity period greater than\nyour maximum comfortable CRL lifetime. Alternately, you can control CRL caching\nbehavior on the client to ensure that checks happen more often.`),mdx(\"p\",null,`Often multiple endpoints are used in case a single CRL endpoint is down so that\nclients don't have to figure out what to do with a lack of response. Run Vault\nin HA mode, and the CRL endpoint should be available even if a particular node\nis down.`),mdx(\"div\",{\"className\":\"alert alert-warning g-type-body\"},mdx(\"p\",{parentName:\"div\"},`Note: Since Vault 1.11.0, with multiple issuers in the same mount point,\ndifferent issuers may have different CRLs (depending on subject and key\nmaterial). This means that Vault may need to regenerate multiple CRLs.\nThis is again a rationale for keeping TTLs short and avoiding revocation\nif possible.`)),mdx(\"div\",{\"className\":\"alert alert-warning g-type-body\"},mdx(\"p\",{parentName:\"div\"},`Note: Since Vault 1.12.0, we support two complementary revocation\nmechanisms: Delta CRLs, which allow for rebuilds of smaller, incremental\nadditions to the last complete CRL, and OCSP, which allows responding to\nrevocation status requests for individual certificates. When coupled with\nthe new CRL auto-rebuild functionality, this means that the revoking step\nisn't as costly (as the CRL isn't always rebuilt on each revocation),\noutside of storage considerations. However, while the rebuild operation\nstill can be expensive with lots of certificates, it will be done on a\nschedule rather than on demand.`)),mdx(\"h3\",{\"id\":\"notafter-behavior-on-leaf-certificates\"},mdx(\"a\",{parentName:\"h3\",\"className\":\"__permalink-h\",\"href\":\"#notafter-behavior-on-leaf-certificates\",\"aria-label\":\"notafter behavior on leaf certificates permalink\"},`\\xbb`),`NotAfter behavior on leaf certificates`),mdx(\"p\",null,`In Vault 1.11.0, the PKI Secrets Engine has introduced a new\n`,mdx(\"inlineCode\",{parentName:\"p\"},`leaf_not_after_behavior`),` `,mdx(\"a\",{parentName:\"p\",\"href\":\"/vault/api-docs/secret/pki#leaf_not_after_behavior\"},`parameter on\nissuers`),`.\nThis allows modification of the issuance behavior: should Vault `,mdx(\"inlineCode\",{parentName:\"p\"},`err`),`,\npreventing issuance of a longer-lived leaf cert than issuer, silently\n`,mdx(\"inlineCode\",{parentName:\"p\"},`truncate`),` to that of the issuer's `,mdx(\"inlineCode\",{parentName:\"p\"},`NotAfter`),` value, or `,mdx(\"inlineCode\",{parentName:\"p\"},`permit`),` longer\nexpirations.`),mdx(\"p\",null,`It is strongly suggested to use `,mdx(\"inlineCode\",{parentName:\"p\"},`err`),` or `,mdx(\"inlineCode\",{parentName:\"p\"},`truncate`),` for intermediates;\n`,mdx(\"inlineCode\",{parentName:\"p\"},`permit`),` is only useful for root certificates, as intermediate's NotAfter\nexpiration are checked when validating presented chains.`),mdx(\"p\",null,`In combination with a cascading expiration with longer lived roots (perhaps\non the range of 2-10 years), shorter lived intermediates (perhaps on the\nrange of 6 months to 2 years), and short-lived leaf certificates (on the\nrange of 30 to 90 days), and the `,mdx(\"a\",{parentName:\"p\",\"href\":\"/vault/docs/secrets/pki/rotation-primitives\"},`rotation strategies discussed in other\nsections`),`, this should keep the\nCRLs adequately small.`),mdx(\"h3\",{\"id\":\"cluster-performance-and-quantity-of-leaf-certificates\"},mdx(\"a\",{parentName:\"h3\",\"className\":\"__permalink-h\",\"href\":\"#cluster-performance-and-quantity-of-leaf-certificates\",\"aria-label\":\"cluster performance and quantity of leaf certificates permalink\"},`\\xbb`),`Cluster performance and quantity of leaf certificates`),mdx(\"p\",null,`As mentioned above, keeping TTLs short (or using `,mdx(\"inlineCode\",{parentName:\"p\"},`no_store=true`),` and\n`,mdx(\"inlineCode\",{parentName:\"p\"},`no_store_cert_metadata=true`),`) and avoiding\nleases is important for a healthy cluster. However it is important to note\nthis is a scale problem: 10-1000 long-lived, stored certificates are probably\nfine, but 50k-100k become a problem and 500k+ stored, unexpired certificates\ncan negatively impact even large Vault clusters--even with short TTLs!`),mdx(\"p\",null,`However, once these certificates are expired, a `,mdx(\"a\",{parentName:\"p\",\"href\":\"/vault/api-docs/secret/pki#tidy\"},`tidy operation`),`\nwill clean up CRLs and Vault cluster storage.`),mdx(\"p\",null,`Note that organizational risk assessments for certificate compromise might\nmean certain certificate types should always be issued with `,mdx(\"inlineCode\",{parentName:\"p\"},`no_store=false`),`;\neven short-lived broad wildcard certificates (say, `,mdx(\"inlineCode\",{parentName:\"p\"},`*.example.com`),`) might be\nimportant enough to have precise control over revocation. However, an internal\nservice with a well-scoped certificate (say, `,mdx(\"inlineCode\",{parentName:\"p\"},`service.example.com`),`) might be\nof low enough risk to issue a 90-day TTL with `,mdx(\"inlineCode\",{parentName:\"p\"},`no_store=true`),`, preventing\nthe need for revocation in the unlikely case of compromise.`),mdx(\"p\",null,`Having a shorter TTL decreases the likelihood of needing to revoke a cert\n(but cannot prevent it entirely) and decrease the impact of any such\ncompromise.`),mdx(\"div\",{\"className\":\"alert alert-warning g-type-body\"},mdx(\"p\",{parentName:\"div\"},`Note: As of Vault 1.12, the PKI Secret Engine's `,mdx(\"a\",{parentName:\"p\",\"href\":\"/vault/api-docs/secret/pki#revoke-certificate\"},`Bring-Your-Own-Cert\n(BYOC)`),`\nfunctionality allows revocation of certificates not previously stored\n(e.g., issued via a role with `,mdx(\"inlineCode\",{parentName:\"p\"},`no_store=true`),`). This means that setting\n`,mdx(\"inlineCode\",{parentName:\"p\"},`no_store=true`),` `,mdx(\"em\",{parentName:\"p\"},`is now`),` safe to be used globally, regardless of importance\nof issued certificates (and their likelihood for revocation).`)),mdx(\"h2\",{\"id\":\"you-must-configure-issuing-crl-ocsp-information-in-advance\"},mdx(\"a\",{parentName:\"h2\",\"className\":\"__permalink-h\",\"href\":\"#you-must-configure-issuing-crl-ocsp-information-in-advance\",\"aria-label\":\"you must configure issuing crl ocsp information in advance permalink\"},`\\xbb`),`You must configure issuing/CRL/OCSP information `,mdx(\"em\",{parentName:\"h2\"},`in advance`)),mdx(\"p\",null,`This secrets engine serves CRLs from a predictable location, but it is not\npossible for the secrets engine to know where it is running. Therefore, you must\nconfigure desired URLs for the issuing certificate, CRL distribution points, and\nOCSP servers manually using the `,mdx(\"inlineCode\",{parentName:\"p\"},`config/urls`),` endpoint. It is supported to have\nmore than one of each of these by passing in the multiple URLs as a\ncomma-separated string parameter.`),mdx(\"div\",{\"className\":\"alert alert-warning g-type-body\"},mdx(\"p\",{parentName:\"div\"},`Note: when using Vault Enterprise's Performance Replication features with a\nPKI Secrets Engine mount, each cluster will have its own CRL; this means\neach cluster's unique CRL address should be included in the `,mdx(\"a\",{parentName:\"p\",\"href\":\"https://datatracker.ietf.org/doc/html/rfc5280#section-5.2.7\"},`AIA\ninformation`),`\nfield separately, or the CRLs should be consolidated and served outside of\nVault.`)),mdx(\"div\",{\"className\":\"alert alert-warning g-type-body\"},mdx(\"p\",{parentName:\"div\"},`Note: When using multiple issuers in the same mount, it is suggested to use\nthe per-issuer AIA fields rather than the global (`,mdx(\"inlineCode\",{parentName:\"p\"},`/config/urls`),`) variant.\nThis is for correctness: these fields are used for chain building and\nautomatic CRL detection in certain applications. If they point to the wrong\nissuer's information, these applications may break.`)),mdx(\"h2\",{\"id\":\"distribution-of-crls-and-ocsp\"},mdx(\"a\",{parentName:\"h2\",\"className\":\"__permalink-h\",\"href\":\"#distribution-of-crls-and-ocsp\",\"aria-label\":\"distribution of crls and ocsp permalink\"},`\\xbb`),`Distribution of CRLs and OCSP`),mdx(\"p\",null,`Both CRLs and OCSP allow interrogating revocation status of certificates. Both\nof these methods include internal security and authenticity (both CRLs and\nOCSP responses are signed by the issuing CA within Vault). This means both are\nfine to distribute over non-secure and non-authenticated channels, such as\nHTTP.`),mdx(\"div\",{\"className\":\"alert alert-warning g-type-body\"},mdx(\"p\",{parentName:\"div\"},`Note: The OCSP implementation for GET requests can lead to intermittent\n400 errors when an encoded OCSP request contains consecutive '/' characters.\nUntil this is resolved it is recommended to use POST based OCSP requests.`)),mdx(\"h2\",{\"id\":\"automate-crl-building-and-tidying\"},mdx(\"a\",{parentName:\"h2\",\"className\":\"__permalink-h\",\"href\":\"#automate-crl-building-and-tidying\",\"aria-label\":\"automate crl building and tidying permalink\"},`\\xbb`),`Automate CRL building and tidying`),mdx(\"p\",null,`Since Vault 1.12, the PKI Secrets Engine supports automated CRL rebuilding\n(including optional Delta CRLs which can be built more frequently than\ncomplete CRLs) via the `,mdx(\"inlineCode\",{parentName:\"p\"},`/config/crl`),` endpoint. Additionally, tidying of\nrevoked and expired certificates can be configured automatically via the\n`,mdx(\"inlineCode\",{parentName:\"p\"},`/config/auto-tidy`),` endpoint. Both of these should be enabled to ensure\ncompatibility with the wider PKIX ecosystem and performance of the cluster.`),mdx(\"h2\",{\"id\":\"spectrum-of-revocation-support\"},mdx(\"a\",{parentName:\"h2\",\"className\":\"__permalink-h\",\"href\":\"#spectrum-of-revocation-support\",\"aria-label\":\"spectrum of revocation support permalink\"},`\\xbb`),`Spectrum of revocation support`),mdx(\"p\",null,`Starting with Vault 1.13, the PKI secrets engine has the ability to support a\nspectrum of cluster sizes and certificate revocation quantities.`),mdx(\"p\",null,`For users with few revocations or who want a unified view and have the\ninter-cluster bandwidth to support it, we recommend turning on auto\nrebuilding of CRLs, cross-cluster revocation queues, and cross-cluster CRLs.\nThis allows all consumers of the CRLs to have the most accurate picture of\nrevocations, regardless of which cluster they talk to.`),mdx(\"p\",null,`If the unified CRL becomes too big for the underlying storage mechanism or\nfor a single host to build, we recommend relying on OCSP instead of CRLs.\nThese have much smaller storage entries, and the CRL `,mdx(\"inlineCode\",{parentName:\"p\"},`disabled`),` flag is\nindependent of `,mdx(\"inlineCode\",{parentName:\"p\"},`unified_crls`),`, allowing unified OCSP to remain.`),mdx(\"p\",null,`However, when cross-cluster traffic becomes too high (or if CRLs are still\nnecessary in addition to OCSP), we recommend sharding the CRL between\ndifferent clusters. This has been the default behavior of Vault, but with\nthe introduction of per-cluster, templated AIA information, the leaf\ncertificate's Authority Information Access (AIA) info will point directly\nto the cluster which issued it, allowing the correct CRL for this cert to\nbe identified by the application. This more correctly mimics the behavior\nof `,mdx(\"a\",{parentName:\"p\",\"href\":\"https://letsencrypt.org/2022/09/07/new-life-for-crls.html\"},`Let's Encrypt's CRL sharding`),`.`),mdx(\"p\",null,`This sharding behavior can also be used for OCSP, if the cross-cluster\ntraffic for revocation entries becomes too high.`),mdx(\"p\",null,`For users who wish to manage revocation manually, using the audit logs to\ntrack certificate issuance would allow an external system to identify which\ncertificates were issued. These can be manually tracked for revocation, and\na `,mdx(\"a\",{parentName:\"p\",\"href\":\"/vault/api-docs/secret/pki#combine-crls-from-the-same-issuer\"},`custom CRL can be built`),`\nusing externally tracked revocations. This would allow usage of roles set to\n`,mdx(\"inlineCode\",{parentName:\"p\"},`no_store=true`),`, so Vault is strictly used as an issuing authority and isn't\nstoring any certificates, issued or revoked. For the highest of revocation\nvolumes, this could be the best option.`),mdx(\"p\",null,`Notably, this last approach can either be used for the creation of externally\nstored unified or sharded CRLs. If a single external unified CRL becomes\nunreasonably large, each cluster's certificates could have AIA info point\nto an externally stored and maintained, sharded CRL. However,\nVault has no mechanism to sign OCSP requests at this time.`),mdx(\"h3\",{\"id\":\"what-are-cross-cluster-crls\"},mdx(\"a\",{parentName:\"h3\",\"className\":\"__permalink-h\",\"href\":\"#what-are-cross-cluster-crls\",\"aria-label\":\"what are cross cluster crls permalink\"},`\\xbb`),`What are Cross-Cluster CRLs?`),mdx(\"p\",null,`Vault Enterprise supports a clustering mode called `,mdx(\"a\",{parentName:\"p\",\"href\":\"/vault/docs/enterprise/replication#performance-replication\"},`Performance\nReplication`),`. In\na replicated PKI Secrets Engine mount, issuer and role information is synced\nbetween the Performance Primary and all Performance Secondary clusters.\nHowever, each Performance Secondary cluster has its own local storage of\nissued certificates and revocations which is not synced. In Vault versions\nbefore 1.13, this meant that each of these clusters had its own CRL and\nOCSP data, and any revocation requests needed to be processed on the\ncluster that issued it (or BYOC used).`),mdx(\"p\",null,`Starting with Vault 1.13, we've added `,mdx(\"a\",{parentName:\"p\",\"href\":\"/vault/api-docs/secret/pki#read-crl-configuration\"},`two\nfeatures`),` to Vault\nEnterprise to help manage this setup more correctly and easily: revocation\nrequest queues (`,mdx(\"inlineCode\",{parentName:\"p\"},`cross_cluster_revocation=true`),` in `,mdx(\"inlineCode\",{parentName:\"p\"},`config/crl`),`) and unified\nrevocation entries (`,mdx(\"inlineCode\",{parentName:\"p\"},`unified_crl=true`),` in `,mdx(\"inlineCode\",{parentName:\"p\"},`config/crl`),`).`),mdx(\"p\",null,`The former allows operators (revoking by serial number) to request a\ncertificate be revoked regardless of which cluster it was issued on. For\nexample, if a request goes into the Performance Primary, but it didn't\nissue the certificate, it'll write a cross-cluster revocation request,\nand mark the results as pending. If another cluster already has this\ncertificate in storage, it will revoke it and confirm the revocation back\nto the main cluster. An operator can `,mdx(\"a\",{parentName:\"p\",\"href\":\"/vault/api-docs/secret/pki#list-revocation-requests\"},`list pending\nrevocations`),` to see\nthe status of these requests. To clean up invalid requests (e.g., if the\ncluster which had that certificate disappeared, if that certificate was\nissued with `,mdx(\"inlineCode\",{parentName:\"p\"},`no_store=true`),` on the role, or if it was an invalid serial\nnumber), an operator can `,mdx(\"a\",{parentName:\"p\",\"href\":\"/vault/api-docs/secret/pki#tidy\"},`use tidy`),` with\n`,mdx(\"inlineCode\",{parentName:\"p\"},`tidy_revocation_queue=true`),`, optionally shortening\n`,mdx(\"inlineCode\",{parentName:\"p\"},`revocation_queue_safety_buffer`),` to remove them quicker.`),mdx(\"p\",null,`The latter allows all clusters to have a unified view of revocations,\nthat is, to have access to a list of revocations performed by other clusters.\nWhile the configuration parameter includes `,mdx(\"inlineCode\",{parentName:\"p\"},`crl`),` in the description, this\napplies to `,mdx(\"a\",{parentName:\"p\",\"href\":\"/vault/api-docs/secret/pki#read-issuer-crl\"},`both CRLs`),` and the\n`,mdx(\"a\",{parentName:\"p\",\"href\":\"/vault/api-docs/secret/pki#ocsp-request\"},`OCSP responder`),`. When this\nrevocation replication occurs, if any cluster considers a cert revoked when\nanother doesn't (e.g., via BYOC revocation of a `,mdx(\"inlineCode\",{parentName:\"p\"},`no_store=false`),` certificate),\nall clusters will now consider it revoked assuming it hasn't expired. Notably,\nthe active node of the primary cluster will be used to rebuild the CRL; as\nthis can grow large if many clusters have lots of revoked certs, an operator\nmight need to disable CRL building (`,mdx(\"inlineCode\",{parentName:\"p\"},`disabled=true`),` in `,mdx(\"inlineCode\",{parentName:\"p\"},`config/crl`),`) or\nincrease the `,mdx(\"a\",{parentName:\"p\",\"href\":\"/vault/docs/configuration/storage/raft#max_entry_size\"},`storage size`),`.`),mdx(\"p\",null,`As an aside, all new cross-cluster writes (from Performance Secondary up to\nthe Performance Primary) are performed synchronously. This gives the caller\nconfidence that the request actually went through, at the expense of incurring\na bit higher overhead for revoking certificates. When a node loses its GRPC\nconnection (e.g., during leadership election or being otherwise unable to\ncontact the active primary), errors will occur though the local portion of the\nwrite (if any) will still succeed. For cross-cluster revocation requests, due\nto there being no local write, this means that the operation will need to be\nretried, but in the event of an issue writing a cross-cluster revocation entry\nwhen the cert existed locally, the revocation will eventually be synced across\nclusters when the connection comes back.`),mdx(\"h2\",{\"id\":\"issuer-subjects-and-crls\"},mdx(\"a\",{parentName:\"h2\",\"className\":\"__permalink-h\",\"href\":\"#issuer-subjects-and-crls\",\"aria-label\":\"issuer subjects and crls permalink\"},`\\xbb`),`Issuer subjects and CRLs`),mdx(\"p\",null,`As noted on several `,mdx(\"a\",{parentName:\"p\",\"href\":\"https://github.com/hashicorp/vault/issues/10176\"},`GitHub issues`),`,\nGo's x509 library has an opinionated parsing and structuring mechanism for\ncertificate's Subjects. Issuers created within Vault are fine, but when using\nexternally created CA certificates, these may not be parsed\ncorrectly throughout all parts of the PKI. In particular, CRLs embed a\n(modified) copy of the issuer name. This can be avoided by using OCSP to\ntrack revocation, but note that performance characteristics are different\nbetween OCSP and CRLs.`),mdx(\"div\",{\"className\":\"alert alert-warning g-type-body\"},mdx(\"p\",{parentName:\"div\"},`Note: As of Go 1.20 and Vault 1.13, Go correctly formats the CRL's issuer\nname and this notice `,mdx(\"a\",{parentName:\"p\",\"href\":\"https://github.com/golang/go/commit/a367981b4c8e3ae955eca9cc597d9622201155f3\"},`does not apply`),`.`)),mdx(\"h2\",{\"id\":\"automate-leaf-certificate-renewal\"},mdx(\"a\",{parentName:\"h2\",\"className\":\"__permalink-h\",\"href\":\"#automate-leaf-certificate-renewal\",\"aria-label\":\"automate leaf certificate renewal permalink\"},`\\xbb`),`Automate leaf certificate renewal`),mdx(\"p\",null,`To manage certificates for services at scale, it is best to automate the\ncertificate renewal as much as possible. Vault Agent `,mdx(\"a\",{parentName:\"p\",\"href\":\"/vault/docs/agent-and-proxy/agent/template#certificates\"},`has support for\nautomatically renewing requested certificates`),`\nbased on the `,mdx(\"inlineCode\",{parentName:\"p\"},`validTo`),` field. Other solutions might involve using\n`,mdx(\"a\",{parentName:\"p\",\"href\":\"https://cert-manager.io/\"},`cert-manager`),` in Kubernetes or OpenShift, backed\nby the Vault CA.`),mdx(\"h2\",{\"id\":\"safe-minimums\"},mdx(\"a\",{parentName:\"h2\",\"className\":\"__permalink-h\",\"href\":\"#safe-minimums\",\"aria-label\":\"safe minimums permalink\"},`\\xbb`),`Safe minimums`),mdx(\"p\",null,`Since its inception, this secrets engine has enforced SHA256 for signature\nhashes rather than SHA1. As of 0.5.1, a minimum of 2048 bits for RSA keys is\nalso enforced. Software that can handle SHA256 signatures should also be able to\nhandle 2048-bit keys, and 1024-bit keys are considered unsafe and are disallowed\nin the Internet PKI.`),mdx(\"h2\",{\"id\":\"token-lifetimes-and-revocation\"},mdx(\"a\",{parentName:\"h2\",\"className\":\"__permalink-h\",\"href\":\"#token-lifetimes-and-revocation\",\"aria-label\":\"token lifetimes and revocation permalink\"},`\\xbb`),`Token lifetimes and revocation`),mdx(\"p\",null,`When a token expires, it revokes all leases associated with it. This means that\nlong-lived CA certs need correspondingly long-lived tokens, something that is\neasy to forget. Starting with 0.6, root and intermediate CA certs no longer have\nassociated leases, to prevent unintended revocation when not using a token with\na long enough lifetime. To revoke these certificates, use the `,mdx(\"inlineCode\",{parentName:\"p\"},`pki/revoke`),`\nendpoint.`),mdx(\"h2\",{\"id\":\"safe-usage-of-roles\"},mdx(\"a\",{parentName:\"h2\",\"className\":\"__permalink-h\",\"href\":\"#safe-usage-of-roles\",\"aria-label\":\"safe usage of roles permalink\"},`\\xbb`),`Safe usage of roles`),mdx(\"p\",null,`The Vault PKI Secrets Engine supports many options to limit issuance via\n`,mdx(\"a\",{parentName:\"p\",\"href\":\"/vault/api-docs/secret/pki#create-update-role\"},`Roles`),`.\nCareful consideration of construction is necessary to ensure that more\npermissions are not given than necessary. Additionally, roles should generally\ndo `,mdx(\"em\",{parentName:\"p\"},`one`),` thing; multiple roles should be preferable over having too permissive\nroles that allow arbitrary issuance (e.g., `,mdx(\"inlineCode\",{parentName:\"p\"},`allow_any_name`),` should generally\nbe used sparingly, if at all).`),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"allow_any_name\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"href\":\"#allow_any_name\",\"aria-label\":\"allow_any_name permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`allow_any_name`)),` should generally be set to `,mdx(\"inlineCode\",{parentName:\"li\"},`false`),`; this is the default.`),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"allow_localhost\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"href\":\"#allow_localhost\",\"aria-label\":\"allow_localhost permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`allow_localhost`)),` should generally be set to `,mdx(\"inlineCode\",{parentName:\"li\"},`false`),` for production\nservices, unless listening on `,mdx(\"inlineCode\",{parentName:\"li\"},`localhost`),` is expected.`),mdx(\"li\",{parentName:\"ul\"},`Unless necessary, `,mdx(\"inlineCode\",{parentName:\"li\"},`allow_wildcard_certificates`),` should generally be set to\n`,mdx(\"inlineCode\",{parentName:\"li\"},`false`),`. This is `,mdx(\"strong\",{parentName:\"li\"},`not`),` the default due to backwards compatibility\nconcerns.`,mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},`This is especially necessary when `,mdx(\"inlineCode\",{parentName:\"li\"},`allow_subdomains`),` or `,mdx(\"inlineCode\",{parentName:\"li\"},`allow_glob_domains`),`\nare enabled.`))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"enforce_hostnames\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"href\":\"#enforce_hostnames\",\"aria-label\":\"enforce_hostnames permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`enforce_hostnames`)),` should generally be enabled for TLS services; this is\nthe default.`),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"allow_ip_sans\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"href\":\"#allow_ip_sans\",\"aria-label\":\"allow_ip_sans permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`allow_ip_sans`)),` should generally be set to `,mdx(\"inlineCode\",{parentName:\"li\"},`false`),` (but defaults to `,mdx(\"inlineCode\",{parentName:\"li\"},`true`),`),\nunless IP address certificates are explicitly required.`),mdx(\"li\",{parentName:\"ul\"},`When using short TTLs (\u003c 30 days) or with high issuance volume, it is\ngenerally recommend to set `,mdx(\"inlineCode\",{parentName:\"li\"},`no_store`),` to `,mdx(\"inlineCode\",{parentName:\"li\"},`true`),` (defaults to `,mdx(\"inlineCode\",{parentName:\"li\"},`false`),`).\nThis prevents serial number based revocation, but allows higher throughput\nas Vault no longer needs to store every issued certificate. This is discussed\nmore in the `,mdx(\"a\",{parentName:\"li\",\"href\":\"#replicated-datasets\"},`Replicated Datasets`),` section below.`),mdx(\"li\",{parentName:\"ul\"},`Do not use roles with root certificates (`,mdx(\"inlineCode\",{parentName:\"li\"},`issuer_ref`),`). Root certificates\nshould generally only issue intermediates (see the section on `,mdx(\"a\",{parentName:\"li\",\"href\":\"#use-a-ca-hierarchy\"},`CA hierarchy\nabove`),`), which doesn't rely on roles.`),mdx(\"li\",{parentName:\"ul\"},`Limit `,mdx(\"inlineCode\",{parentName:\"li\"},`key_usage`),` and `,mdx(\"inlineCode\",{parentName:\"li\"},`ext_key_usage`),`; don't attempt to allow all usages\nfor all purposes. Generally the default values are useful for client and\nserver TLS authentication.`)),mdx(\"h2\",{\"id\":\"telemetry\"},mdx(\"a\",{parentName:\"h2\",\"className\":\"__permalink-h\",\"href\":\"#telemetry\",\"aria-label\":\"telemetry permalink\"},`\\xbb`),`Telemetry`),mdx(\"p\",null,`Beyond Vault's default telemetry around request processing, PKI exposes count and\nduration metrics for the issue, sign, sign-verbatim, and revoke calls. The\nmetrics keys take the form `,mdx(\"inlineCode\",{parentName:\"p\"},`mount-path,operation,[failure]`),` with labels for\nnamespace and role name.`),mdx(\"p\",null,`Note that these metrics are per-node and thus would need to be aggregated across\nnodes and clusters.`),mdx(\"h2\",{\"id\":\"auditing\"},mdx(\"a\",{parentName:\"h2\",\"className\":\"__permalink-h\",\"href\":\"#auditing\",\"aria-label\":\"auditing permalink\"},`\\xbb`),`Auditing`),mdx(\"p\",null,`Because Vault HMACs audit string keys by default, it is necessary to tune\nPKI secrets mounts to get an accurate view of issuance that is occurring under\nthis mount.`),mdx(\"div\",{\"className\":\"alert alert-warning g-type-body\"},mdx(\"p\",{parentName:\"div\"},`Note: Depending on usage of Vault, CRLs (and rarely, CA chains) can grow to\nbe rather large. We don't recommend un-HMACing the `,mdx(\"inlineCode\",{parentName:\"p\"},`crl`),` field for this\nreason, but note that the recommendations below suggest to un-HMAC the\n`,mdx(\"inlineCode\",{parentName:\"p\"},`certificate`),` response parameter, which the CRL can be served in via\nthe `,mdx(\"inlineCode\",{parentName:\"p\"},`/pki/cert/crl`),` API endpoint. Additionally, the `,mdx(\"inlineCode\",{parentName:\"p\"},`http_raw_body`),` can\nbe used to return CRL both in PEM and raw binary DER form, so it is\nsuggested not to un-HMAC that field to not corrupt the log format.`,mdx(\"br\",null),mdx(\"br\",null),`\nIf this is done with only a `,mdx(\"a\",{parentName:\"p\",\"href\":\"/vault/docs/audit/syslog\"},`syslog`),` audit device,\nVault can deny requests (with an opaque `,mdx(\"inlineCode\",{parentName:\"p\"},`500 Internal Error`),` message)\nafter the action has been performed on the server, because it was\nunable to log the message.`,mdx(\"br\",null),mdx(\"br\",null),`\nThe suggested workaround is to either leave the `,mdx(\"inlineCode\",{parentName:\"p\"},`certificate`),` and `,mdx(\"inlineCode\",{parentName:\"p\"},`crl`),`\nresponse fields HMACed and/or to also enable the `,mdx(\"a\",{parentName:\"p\",\"href\":\"/vault/docs/audit/file\"},mdx(\"inlineCode\",{parentName:\"a\"},`file`)),`\naudit log type.`)),mdx(\"p\",null,`Some suggested keys to un-HMAC for requests are as follows:`),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"csr\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"href\":\"#csr\",\"aria-label\":\"csr permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`csr`)),` - the requested CSR to sign,`),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"certificate\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"href\":\"#certificate\",\"aria-label\":\"certificate permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`certificate`)),` - the requested self-signed certificate to re-sign or\nwhen importing issuers,`),mdx(\"li\",{parentName:\"ul\"},`Various issuance-related overriding parameters, such as:`,mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"issuer_ref\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"href\":\"#issuer_ref\",\"aria-label\":\"issuer_ref permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`issuer_ref`)),` - the issuer requested to sign this certificate,`),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"common_name\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"href\":\"#common_name\",\"aria-label\":\"common_name permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`common_name`)),` - the requested common name,`),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"alt_names\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"href\":\"#alt_names\",\"aria-label\":\"alt_names permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`alt_names`)),` - alternative requested DNS-type SANs for this certificate,`),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"other_sans\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"href\":\"#other_sans\",\"aria-label\":\"other_sans permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`other_sans`)),` - other (non-DNS, non-Email, non-IP, non-URI) requested SANs for this certificate,`),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"ip_sans\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"href\":\"#ip_sans\",\"aria-label\":\"ip_sans permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`ip_sans`)),` - requested IP-type SANs for this certificate,`),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"uri_sans\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"href\":\"#uri_sans\",\"aria-label\":\"uri_sans permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`uri_sans`)),` - requested URI-type SANs for this certificate,`),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"ttl\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"href\":\"#ttl\",\"aria-label\":\"ttl permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`ttl`)),` - requested expiration date of this certificate,`),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"not_after\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"href\":\"#not_after\",\"aria-label\":\"not_after permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`not_after`)),` - requested expiration date of this certificate,`),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"serial_number\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"href\":\"#serial_number\",\"aria-label\":\"serial_number permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`serial_number`)),` - the subject's requested serial number,`),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"key_type\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"href\":\"#key_type\",\"aria-label\":\"key_type permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`key_type`)),` - the requested key type,`),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"private_key_format\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"href\":\"#private_key_format\",\"aria-label\":\"private_key_format permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`private_key_format`)),` - the requested key format which is also\nused for the public certificate format as well,`))),mdx(\"li\",{parentName:\"ul\"},`Various role- or issuer-related generation parameters, such as:`,mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"managed_key_name\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"href\":\"#managed_key_name\",\"aria-label\":\"managed_key_name permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`managed_key_name`)),` - when creating an issuer, the requested managed\nkey name,`),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"managed_key_id\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"href\":\"#managed_key_id\",\"aria-label\":\"managed_key_id permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`managed_key_id`)),` -  when creating an issuer, the requested managed\nkey identifier,`),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"ou\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"href\":\"#ou\",\"aria-label\":\"ou permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`ou`)),` - the subject's organizational unit,`),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"organization\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"href\":\"#organization\",\"aria-label\":\"organization permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`organization`)),` - the subject's organization,`),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"country\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"href\":\"#country\",\"aria-label\":\"country permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`country`)),` - the subject's country code,`),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"locality\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"href\":\"#locality\",\"aria-label\":\"locality permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`locality`)),` - the subject's locality,`),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"province\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"href\":\"#province\",\"aria-label\":\"province permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`province`)),` - the subject's province,`),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"street_address\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"href\":\"#street_address\",\"aria-label\":\"street_address permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`street_address`)),` - the subject's street address,`),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"postal_code\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"href\":\"#postal_code\",\"aria-label\":\"postal_code permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`postal_code`)),` - the subject's postal code,`),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"permitted_dns_domains\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"href\":\"#permitted_dns_domains\",\"aria-label\":\"permitted_dns_domains permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`permitted_dns_domains`)),` - permitted DNS domains,`),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"permitted_ip_ranges\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"href\":\"#permitted_ip_ranges\",\"aria-label\":\"permitted_ip_ranges permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`permitted_ip_ranges`)),` - permitted IP ranges,`),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"permitted_email_addresses\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"href\":\"#permitted_email_addresses\",\"aria-label\":\"permitted_email_addresses permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`permitted_email_addresses`)),` - permitted email addresses,`),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"permitted_uri_domains\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"href\":\"#permitted_uri_domains\",\"aria-label\":\"permitted_uri_domains permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`permitted_uri_domains`)),` - permitted URI domains,`),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"excluded_dns_domains\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"href\":\"#excluded_dns_domains\",\"aria-label\":\"excluded_dns_domains permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`excluded_dns_domains`)),` - excluded DNS domains,`),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"excluded_email_addresses\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"href\":\"#excluded_email_addresses\",\"aria-label\":\"excluded_email_addresses permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`excluded_email_addresses`)),` - excluded email addresses,`),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"excluded_ip_ranges\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"href\":\"#excluded_ip_ranges\",\"aria-label\":\"excluded_ip_ranges permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`excluded_ip_ranges`)),` - excluded IP ranges,`),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"excluded_uri_domains\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"href\":\"#excluded_uri_domains\",\"aria-label\":\"excluded_uri_domains permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`excluded_uri_domains`)),` - excluded URI domains,`),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"policy_identifiers\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"href\":\"#policy_identifiers\",\"aria-label\":\"policy_identifiers permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`policy_identifiers`)),` - the requested policy identifiers when creating a role, and`),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"ext_key_usage_oids\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"href\":\"#ext_key_usage_oids\",\"aria-label\":\"ext_key_usage_oids permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`ext_key_usage_oids`)),` - the extended key usage OIDs for the requested certificate.`)))),mdx(\"p\",null,`Some suggested keys to un-HMAC for responses are as follows:`),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"certificate-1\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"href\":\"#certificate-1\",\"aria-label\":\"certificate permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`certificate`)),` - the certificate that was issued,`),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"issuing_ca\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"href\":\"#issuing_ca\",\"aria-label\":\"issuing_ca permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`issuing_ca`)),` - the certificate of the CA which issued the requested\ncertificate,`),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"serial_number-1\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"href\":\"#serial_number-1\",\"aria-label\":\"serial_number permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`serial_number`)),` - the serial number of the certificate that was issued,`),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"error\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"href\":\"#error\",\"aria-label\":\"error permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`error`)),` - to show errors associated with the request, and`),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"ca_chain\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"href\":\"#ca_chain\",\"aria-label\":\"ca_chain permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`ca_chain`)),` - optional due to noise; the full CA chain of the issuer of\nthe requested certificate.`)),mdx(\"div\",{\"className\":\"alert alert-warning g-type-body\"},mdx(\"p\",{parentName:\"div\"},`Note: These list of parameters to un-HMAC are provided as a suggestion and\nmay not be exhaustive.`)),mdx(\"p\",null,`The following keys are suggested `,mdx(\"strong\",{parentName:\"p\"},`NOT`),` to un-HMAC, due to their sensitive\nnature:`),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"private_key\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"href\":\"#private_key\",\"aria-label\":\"private_key permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`private_key`)),` - this response parameter contains the private keys\ngenerated by Vault during issuance, and`),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"pem_bundle\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"href\":\"#pem_bundle\",\"aria-label\":\"pem_bundle permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`pem_bundle`)),` this request parameter is only used on the issuer-import\npaths and may contain sensitive private key material.`)),mdx(\"h2\",{\"id\":\"role-based-access\"},mdx(\"a\",{parentName:\"h2\",\"className\":\"__permalink-h\",\"href\":\"#role-based-access\",\"aria-label\":\"role based access permalink\"},`\\xbb`),`Role-Based access`),mdx(\"p\",null,`Vault supports `,mdx(\"a\",{parentName:\"p\",\"href\":\"/vault/tutorials/getting-started/getting-started-policies\"},`path-based ACL Policies`),`\nfor limiting access to various paths within Vault.`),mdx(\"p\",null,`The following is a condensed example reference of ACLing the PKI Secrets\nEngine. These are just a suggestion; other personas and policy approaches\nmay also be valid.`),mdx(\"p\",null,`We suggest the following personas:`),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"em\",{parentName:\"li\"},`Operator`),`;  a privileged user who manages the health of the PKI\nsubsystem; manages issuers and key material.`),mdx(\"li\",{parentName:\"ul\"},mdx(\"em\",{parentName:\"li\"},`Agent`),`; a semi-privileged user that manages roles and handles\nrevocation on behalf of an operator; may also handle delegated\nissuance. This may also be called an `,mdx(\"em\",{parentName:\"li\"},`administrator`),` or `,mdx(\"em\",{parentName:\"li\"},`role\nmanager`),`.`),mdx(\"li\",{parentName:\"ul\"},mdx(\"em\",{parentName:\"li\"},`Advanced`),`; potentially a power-user or service that has access to\nadditional issuance APIs.`),mdx(\"li\",{parentName:\"ul\"},mdx(\"em\",{parentName:\"li\"},`Requester`),`; a low-level user or service that simply requests certificates.`),mdx(\"li\",{parentName:\"ul\"},mdx(\"em\",{parentName:\"li\"},`Unauthed`),`; any arbitrary user or service that lacks a Vault token.`)),mdx(\"p\",null,`For these personas, we suggest the following ACLs, in condensed, tabular form:`),mdx(\"table\",null,mdx(\"thead\",{parentName:\"table\"},mdx(\"tr\",{parentName:\"thead\"},mdx(\"th\",{parentName:\"tr\",\"align\":\"left\"},`Path`),mdx(\"th\",{parentName:\"tr\",\"align\":\"left\"},`Operations`),mdx(\"th\",{parentName:\"tr\",\"align\":\"left\"},`Operator`),mdx(\"th\",{parentName:\"tr\",\"align\":\"left\"},`Agent`),mdx(\"th\",{parentName:\"tr\",\"align\":\"left\"},`Advanced`),mdx(\"th\",{parentName:\"tr\",\"align\":\"left\"},`Requester`),mdx(\"th\",{parentName:\"tr\",\"align\":\"left\"},`Unauthed`))),mdx(\"tbody\",{parentName:\"table\"},mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},mdx(\"inlineCode\",{parentName:\"td\"},`/ca(/pem)?`)),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Read`),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Yes`),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Yes`),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Yes`),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Yes`),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Yes`)),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},mdx(\"inlineCode\",{parentName:\"td\"},`/ca_chain`)),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Read`),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Yes`),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Yes`),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Yes`),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Yes`),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Yes`)),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},mdx(\"inlineCode\",{parentName:\"td\"},`/crl(/pem)?`)),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Read`),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Yes`),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Yes`),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Yes`),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Yes`),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Yes`)),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},mdx(\"inlineCode\",{parentName:\"td\"},`/crl/delta(/pem)?`)),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Read`),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Yes`),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Yes`),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Yes`),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Yes`),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Yes`)),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},mdx(\"inlineCode\",{parentName:\"td\"},`/cert/:serial(/raw(/pem)?)?`)),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Read`),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Yes`),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Yes`),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Yes`),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Yes`),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Yes`)),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},mdx(\"inlineCode\",{parentName:\"td\"},`/issuers`)),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`List`),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Yes`),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Yes`),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Yes`),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Yes`),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Yes`)),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},mdx(\"inlineCode\",{parentName:\"td\"},`/issuer/:issuer_ref/(json\\xa6der\\xa6pem)`)),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Read`),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Yes`),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Yes`),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Yes`),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Yes`),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Yes`)),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},mdx(\"inlineCode\",{parentName:\"td\"},`/issuer/:issuer_ref/crl(/der\\xa6/pem)?`)),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Read`),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Yes`),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Yes`),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Yes`),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Yes`),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Yes`)),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},mdx(\"inlineCode\",{parentName:\"td\"},`/issuer/:issuer_ref/crl/delta(/der\\xa6/pem)?`)),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Read`),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Yes`),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Yes`),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Yes`),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Yes`),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Yes`)),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},mdx(\"inlineCode\",{parentName:\"td\"},`/ocsp/\u003crequest\u003e`)),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Read`),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Yes`),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Yes`),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Yes`),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Yes`),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Yes`)),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},mdx(\"inlineCode\",{parentName:\"td\"},`/ocsp`)),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Write`),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Yes`),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Yes`),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Yes`),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Yes`),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Yes`)),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},mdx(\"inlineCode\",{parentName:\"td\"},`/certs`)),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`List`),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Yes`),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Yes`),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Yes`),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Yes`),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"})),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},mdx(\"inlineCode\",{parentName:\"td\"},`/revoke-with-key`)),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Write`),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Yes`),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Yes`),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Yes`),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Yes`),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"})),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},mdx(\"inlineCode\",{parentName:\"td\"},`/roles`)),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`List`),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Yes`),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Yes`),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Yes`),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Yes`),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"})),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},mdx(\"inlineCode\",{parentName:\"td\"},`/roles/:role`)),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Read`),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Yes`),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Yes`),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Yes`),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Yes`),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"})),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},mdx(\"inlineCode\",{parentName:\"td\"},`/(issue\\xa6sign)/:role`)),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Write`),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Yes`),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Yes`),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Yes`),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Yes`),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"})),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},mdx(\"inlineCode\",{parentName:\"td\"},`/issuer/:issuer_ref/(issue\\xa6sign)/:role`)),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Write`),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Yes`),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Yes`),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Yes`),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"}),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"})),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},mdx(\"inlineCode\",{parentName:\"td\"},`/config/auto-tidy`)),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Read`),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Yes`),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Yes`),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"}),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"}),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"})),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},mdx(\"inlineCode\",{parentName:\"td\"},`/config/ca`)),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Read`),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Yes`),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Yes`),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"}),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"}),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"})),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},mdx(\"inlineCode\",{parentName:\"td\"},`/config/crl`)),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Read`),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Yes`),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Yes`),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"}),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"}),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"})),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},mdx(\"inlineCode\",{parentName:\"td\"},`/config/issuers`)),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Read`),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Yes`),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Yes`),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"}),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"}),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"})),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},mdx(\"inlineCode\",{parentName:\"td\"},`/crl/rotate`)),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Read`),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Yes`),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Yes`),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"}),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"}),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"})),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},mdx(\"inlineCode\",{parentName:\"td\"},`/crl/rotate-delta`)),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Read`),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Yes`),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Yes`),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"}),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"}),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"})),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},mdx(\"inlineCode\",{parentName:\"td\"},`/roles/:role`)),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Write`),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Yes`),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Yes`),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"}),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"}),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"})),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},mdx(\"inlineCode\",{parentName:\"td\"},`/issuer/:issuer_ref`)),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Read`),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Yes`),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Yes`),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"}),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"}),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"})),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},mdx(\"inlineCode\",{parentName:\"td\"},`/sign-verbatim(/:role)?`)),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Write`),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Yes`),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Yes`),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"}),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"}),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"})),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},mdx(\"inlineCode\",{parentName:\"td\"},`/issuer/:issuer_ref/sign-verbatim(/:role)?`)),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Write`),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Yes`),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Yes`),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"}),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"}),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"})),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},mdx(\"inlineCode\",{parentName:\"td\"},`/revoke`)),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Write`),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Yes`),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Yes`),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"}),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"}),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"})),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},mdx(\"inlineCode\",{parentName:\"td\"},`/tidy`)),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Write`),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Yes`),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Yes`),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"}),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"}),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"})),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},mdx(\"inlineCode\",{parentName:\"td\"},`/tidy-cancel`)),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Write`),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Yes`),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Yes`),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"}),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"}),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"})),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},mdx(\"inlineCode\",{parentName:\"td\"},`/tidy-status`)),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Read`),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Yes`),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Yes`),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"}),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"}),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"})),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},mdx(\"inlineCode\",{parentName:\"td\"},`/config/auto-tidy`)),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Write`),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Yes`),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"}),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"}),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"}),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"})),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},mdx(\"inlineCode\",{parentName:\"td\"},`/config/ca`)),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Write`),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Yes`),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"}),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"}),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"}),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"})),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},mdx(\"inlineCode\",{parentName:\"td\"},`/config/crl`)),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Write`),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Yes`),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"}),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"}),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"}),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"})),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},mdx(\"inlineCode\",{parentName:\"td\"},`/config/issuers`)),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Write`),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Yes`),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"}),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"}),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"}),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"})),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},mdx(\"inlineCode\",{parentName:\"td\"},`/config/keys`)),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Read, Write`),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Yes`),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"}),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"}),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"}),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"})),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},mdx(\"inlineCode\",{parentName:\"td\"},`/config/urls`)),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Read, Write`),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Yes`),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"}),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"}),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"}),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"})),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},mdx(\"inlineCode\",{parentName:\"td\"},`/issuer/:issuer_ref`)),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Write`),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Yes`),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"}),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"}),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"}),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"})),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},mdx(\"inlineCode\",{parentName:\"td\"},`/issuer/:issuer_ref/revoke`)),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Write`),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Yes`),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"}),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"}),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"}),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"})),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},mdx(\"inlineCode\",{parentName:\"td\"},`/issuer/:issuer_ref/sign-intermediate`)),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Write`),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Yes`),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"}),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"}),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"}),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"})),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},mdx(\"inlineCode\",{parentName:\"td\"},`/issuer/issuer_ref/sign-self-issued`)),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Write`),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Yes`),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"}),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"}),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"}),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"})),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},mdx(\"inlineCode\",{parentName:\"td\"},`/issuers/generate/+/+`)),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Write`),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Yes`),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"}),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"}),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"}),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"})),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},mdx(\"inlineCode\",{parentName:\"td\"},`/issuers/import/+`)),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Write`),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Yes`),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"}),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"}),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"}),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"})),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},mdx(\"inlineCode\",{parentName:\"td\"},`/intermediate/generate/+`)),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Write`),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Yes`),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"}),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"}),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"}),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"})),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},mdx(\"inlineCode\",{parentName:\"td\"},`/intermediate/cross-sign`)),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Write`),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Yes`),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"}),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"}),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"}),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"})),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},mdx(\"inlineCode\",{parentName:\"td\"},`/intermediate/set-signed`)),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Write`),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Yes`),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"}),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"}),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"}),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"})),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},mdx(\"inlineCode\",{parentName:\"td\"},`/keys`)),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`List`),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Yes`),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"}),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"}),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"}),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"})),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},mdx(\"inlineCode\",{parentName:\"td\"},`/key/:key_ref`)),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Read, Write`),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Yes`),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"}),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"}),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"}),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"})),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},mdx(\"inlineCode\",{parentName:\"td\"},`/keys/generate/+`)),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Write`),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Yes`),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"}),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"}),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"}),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"})),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},mdx(\"inlineCode\",{parentName:\"td\"},`/keys/import`)),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Write`),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Yes`),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"}),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"}),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"}),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"})),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},mdx(\"inlineCode\",{parentName:\"td\"},`/root/generate/+`)),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Write`),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Yes`),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"}),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"}),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"}),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"})),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},mdx(\"inlineCode\",{parentName:\"td\"},`/root/sign-intermediate`)),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Write`),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Yes`),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"}),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"}),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"}),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"})),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},mdx(\"inlineCode\",{parentName:\"td\"},`/root/sign-self-issued`)),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Write`),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Yes`),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"}),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"}),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"}),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"})),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},mdx(\"inlineCode\",{parentName:\"td\"},`/root/rotate/+`)),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Write`),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Yes`),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"}),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"}),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"}),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"})),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},mdx(\"inlineCode\",{parentName:\"td\"},`/root/replace`)),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Write`),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"},`Yes`),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"}),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"}),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"}),mdx(\"td\",{parentName:\"tr\",\"align\":\"left\"})))),mdx(\"div\",{\"className\":\"alert alert-warning g-type-body\"},mdx(\"p\",{parentName:\"div\"},`Note: With managed keys, operators might need access to `,mdx(\"a\",{parentName:\"p\",\"href\":\"/vault/api-docs/system/mounts\"},`read the mount\npoint's tunable data`),` (Read on `,mdx(\"inlineCode\",{parentName:\"p\"},`/sys/mounts`),`) and\nmay need access `,mdx(\"a\",{parentName:\"p\",\"href\":\"/vault/api-docs/system/managed-keys\"},`to use or manage managed keys`),`.`)),mdx(\"h2\",{\"id\":\"replicated-datasets\"},mdx(\"a\",{parentName:\"h2\",\"className\":\"__permalink-h\",\"href\":\"#replicated-datasets\",\"aria-label\":\"replicated datasets permalink\"},`\\xbb`),`Replicated DataSets`),mdx(\"p\",null,`When operating with `,mdx(\"a\",{parentName:\"p\",\"href\":\"/vault/docs/enterprise/replication#architecture\"},`Performance Secondary`),`\nclusters, certain data-sets are maintained across all clusters, while others for performance\nand scalability reasons are kept within a given cluster.`),mdx(\"p\",null,`The following table breaks down by data type what data sets will cross the cluster boundaries.\nFor data-types that do not cross a cluster boundary, read requests for that data will need to be\nsent to the appropriate cluster that the data was generated on.`),mdx(\"table\",null,mdx(\"thead\",{parentName:\"table\"},mdx(\"tr\",{parentName:\"thead\"},mdx(\"th\",{parentName:\"tr\",\"align\":null},`Data Set`),mdx(\"th\",{parentName:\"tr\",\"align\":null},`Replicated Across Clusters`))),mdx(\"tbody\",{parentName:\"table\"},mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",{parentName:\"tr\",\"align\":null},`Issuers \u0026 Keys`),mdx(\"td\",{parentName:\"tr\",\"align\":null},`Yes`)),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",{parentName:\"tr\",\"align\":null},`Roles`),mdx(\"td\",{parentName:\"tr\",\"align\":null},`Yes`)),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",{parentName:\"tr\",\"align\":null},`CRL Config`),mdx(\"td\",{parentName:\"tr\",\"align\":null},`Yes`)),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",{parentName:\"tr\",\"align\":null},`URL Config`),mdx(\"td\",{parentName:\"tr\",\"align\":null},`Yes`)),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",{parentName:\"tr\",\"align\":null},`Issuer Config`),mdx(\"td\",{parentName:\"tr\",\"align\":null},`Yes`)),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",{parentName:\"tr\",\"align\":null},`Key Config`),mdx(\"td\",{parentName:\"tr\",\"align\":null},`Yes`)),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",{parentName:\"tr\",\"align\":null},`CRL`),mdx(\"td\",{parentName:\"tr\",\"align\":null},`No`)),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",{parentName:\"tr\",\"align\":null},`Revoked Certificates`),mdx(\"td\",{parentName:\"tr\",\"align\":null},`No`)),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",{parentName:\"tr\",\"align\":null},`Leaf/Issued Certificates`),mdx(\"td\",{parentName:\"tr\",\"align\":null},`No`)),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",{parentName:\"tr\",\"align\":null},`Certificate Metadata`),mdx(\"td\",{parentName:\"tr\",\"align\":null},`No`)))),mdx(\"p\",null,`The main effect is that within the PKI secrets engine leaf certificates\nissued with `,mdx(\"inlineCode\",{parentName:\"p\"},`no_store`),` set to `,mdx(\"inlineCode\",{parentName:\"p\"},`false`),` are stored local to the cluster that issued them.\nThis allows for both primary and `,mdx(\"a\",{parentName:\"p\",\"href\":\"/vault/docs/enterprise/replication#architecture\"},`Performance Secondary`),`\nclusters' active node to issue certificates for greater scalability. As a\nresult, these certificates, metadata and any revocations are visible only on the issuing\ncluster. This additionally means each cluster has its own set of CRLs, distinct\nfrom other clusters. These CRLs should either be unified into a single CRL for\ndistribution from a single URI, or server operators should know to fetch all\nCRLs from all clusters.`),mdx(\"h2\",{\"id\":\"cluster-scalability\"},mdx(\"a\",{parentName:\"h2\",\"className\":\"__permalink-h\",\"href\":\"#cluster-scalability\",\"aria-label\":\"cluster scalability permalink\"},`\\xbb`),`Cluster scalability`),mdx(\"p\",null,`Most non-introspection operations in the PKI secrets engine require a write to\nstorage, and so are forwarded to the cluster's active node for execution.\nThis table outlines which operations can be executed on performance standby nodes\nand thus scale horizontally across all nodes within a cluster.`),mdx(\"table\",null,mdx(\"thead\",{parentName:\"table\"},mdx(\"tr\",{parentName:\"thead\"},mdx(\"th\",{parentName:\"tr\",\"align\":null},`Path`),mdx(\"th\",{parentName:\"tr\",\"align\":null},`Operations`))),mdx(\"tbody\",{parentName:\"table\"},mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",{parentName:\"tr\",\"align\":null},`ca`,`[/pem]`),mdx(\"td\",{parentName:\"tr\",\"align\":null},`Read`)),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",{parentName:\"tr\",\"align\":null},`cert/`,mdx(\"em\",null,`serial-number`)),mdx(\"td\",{parentName:\"tr\",\"align\":null},`Read`)),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",{parentName:\"tr\",\"align\":null},`cert/ca_chain`),mdx(\"td\",{parentName:\"tr\",\"align\":null},`Read`)),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",{parentName:\"tr\",\"align\":null},`config/crl`),mdx(\"td\",{parentName:\"tr\",\"align\":null},`Read`)),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",{parentName:\"tr\",\"align\":null},`certs`),mdx(\"td\",{parentName:\"tr\",\"align\":null},`List`)),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",{parentName:\"tr\",\"align\":null},`ca_chain`),mdx(\"td\",{parentName:\"tr\",\"align\":null},`Read`)),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",{parentName:\"tr\",\"align\":null},`crl`,`[/pem]`),mdx(\"td\",{parentName:\"tr\",\"align\":null},`Read`)),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",{parentName:\"tr\",\"align\":null},`issue`),mdx(\"td\",{parentName:\"tr\",\"align\":null},`Update `,mdx(\"sup\",null,`*`))),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",{parentName:\"tr\",\"align\":null},`revoke/`,mdx(\"em\",null,`serial-number`)),mdx(\"td\",{parentName:\"tr\",\"align\":null},`Read`)),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",{parentName:\"tr\",\"align\":null},`sign`),mdx(\"td\",{parentName:\"tr\",\"align\":null},`Update `,mdx(\"sup\",null,`*`))),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",{parentName:\"tr\",\"align\":null},`sign-verbatim`),mdx(\"td\",{parentName:\"tr\",\"align\":null},`Update `,mdx(\"sup\",null,`*`))))),mdx(\"p\",null,`*`,` Only if the corresponding role has `,mdx(\"inlineCode\",{parentName:\"p\"},`no_store`),` set to true, `,mdx(\"inlineCode\",{parentName:\"p\"},`generate_lease`),`\nset to false and no metadata is being written. If `,mdx(\"inlineCode\",{parentName:\"p\"},`generate_lease`),` is true the\nlease creation will be forwarded to the active node; if `,mdx(\"inlineCode\",{parentName:\"p\"},`no_store`),` is false\nthe entire request will be forwarded to the active node.\nIf `,mdx(\"inlineCode\",{parentName:\"p\"},`no_store_cert_metadata=false`),` and `,mdx(\"inlineCode\",{parentName:\"p\"},`metadata`),` argument is provided the entire\nrequest will be forwarded to the active node.`),mdx(\"h2\",{\"id\":\"pss-support\"},mdx(\"a\",{parentName:\"h2\",\"className\":\"__permalink-h\",\"href\":\"#pss-support\",\"aria-label\":\"pss support permalink\"},`\\xbb`),`PSS support`),mdx(\"p\",null,`Go lacks support for PSS certificates, keys, and CSRs using the `,mdx(\"inlineCode\",{parentName:\"p\"},`rsaPSS`),` OID\n(`,mdx(\"inlineCode\",{parentName:\"p\"},`1.2.840.113549.1.1.10`),`). It requires all RSA certificates, keys, and CSRs\nto use the alternative `,mdx(\"inlineCode\",{parentName:\"p\"},`rsaEncryption`),` OID (`,mdx(\"inlineCode\",{parentName:\"p\"},`1.2.840.113549.1.1.1`),`).`),mdx(\"p\",null,`When using OpenSSL to generate CAs or CSRs from PKCS8-encoded PSS keys, the\nresulting CAs and CSRs will have the `,mdx(\"inlineCode\",{parentName:\"p\"},`rsaPSS`),` OID. Go and Vault will reject\nthem. Instead, use OpenSSL to generate or convert to a PKCS#1v1.5 private\nkey file and use this to generate the CSR. Vault will, depending on the role\nand the signing mechanism, still use a PSS signature despite the\n`,mdx(\"inlineCode\",{parentName:\"p\"},`rsaEncryption`),` OID on the request as the SubjectPublicKeyInfo and\nSignatureAlgorithm fields are orthogonal. When creating an external CA and\nimporting it into Vault, ensure that the `,mdx(\"inlineCode\",{parentName:\"p\"},`rsaEncryption`),` OID is present on\nthe SubjectPublicKeyInfo field even if the SignatureAlgorithm is PSS-based.`),mdx(\"p\",null,`These certificates generated by Go (with `,mdx(\"inlineCode\",{parentName:\"p\"},`rsaEncryption`),` OID but PSS-based\nsignatures) are otherwise compatible with the fully PSS-based certificates.\nOpenSSL and NSS support parsing and verifying chains using this type of\ncertificate. Note that some TLS implementations may not support these types\nof certificates if they do not support `,mdx(\"inlineCode\",{parentName:\"p\"},`rsa_pss_rsae_*`),` signature schemes.\nAdditionally, some implementations allow rsaPSS OID certificates to contain\nrestrictions on signature parameters allowed by this certificate, but Go and\nVault do not support adding such restrictions.`),mdx(\"p\",null,`At this time Go lacks support for signing CSRs with the PSS signature\nalgorithm. If using a managed key that requires a RSA PSS algorithm (such as GCP or\na PKCS#11 HSM) as a backing for an intermediate CA key, attempting to generate\na CSR (via `,mdx(\"inlineCode\",{parentName:\"p\"},`pki/intermediate/generate/kms`),`) will fail signature verification.\nIn this case, the CSR will need to be generated outside of Vault and the\nsigned final certificate can be imported into the mount.`),mdx(\"p\",null,`Go additionally lacks support for creating OCSP responses with the PSS\nsignature algorithm. Vault will automatically downgrade issuers with\nPSS-based revocation signature algorithms to PKCS#1v1.5, but note that\ncertain KMS devices (like HSMs and GCP) may not support this with the\nsame key. As a result, the OCSP responder may fail to sign responses,\nreturning an internal error.`),mdx(\"h2\",{\"id\":\"issuer-storage-migration-issues\"},mdx(\"a\",{parentName:\"h2\",\"className\":\"__permalink-h\",\"href\":\"#issuer-storage-migration-issues\",\"aria-label\":\"issuer storage migration issues permalink\"},`\\xbb`),`Issuer storage migration issues`),mdx(\"p\",null,`When Vault migrates to the new multi-issuer storage layout on releases prior\nto 1.11.6, 1.12.2, and 1.13, and storage write errors occur during the mount\ninitialization and storage migration process, the default issuer `,mdx(\"em\",{parentName:\"p\"},`may`),` not\nhave the correct `,mdx(\"inlineCode\",{parentName:\"p\"},`ca_chain`),` value and may only have the self-reference. These\nwrite errors most commonly manifest in logs as a message like\n`,mdx(\"inlineCode\",{parentName:\"p\"},`failed to persist issuer ... chain to disk: \u003ccause\u003e`),` and indicate that Vault\nwas not stable at the time of migration. Note that this only occurs when more\nthan one issuer exists within the mount (such as an intermediate with root).`),mdx(\"p\",null,`To fix this manually (until a new version of Vault automatically rebuilds the\nissuer chain), a rebuild of the chains can be performed:`),mdx(\"pre\",null,mdx(\"code\",{parentName:\"pre\"},`curl -X PATCH -H \"Content-Type: application/merge-patch+json\" -H \"X-Vault-Request: true\" -H \"X-Vault-Token: $(vault print token)\" -d '{\"manual_chain\":\"self\"}' https://.../issuer/default\ncurl -X PATCH -H \"Content-Type: application/merge-patch+json\" -H \"X-Vault-Request: true\" -H \"X-Vault-Token: $(vault print token)\" -d '{\"manual_chain\":\"\"}' https://.../issuer/default\n`)),mdx(\"p\",null,`This temporarily sets the manual chain on the default issuer to a self-chain\nonly, before reverting it back to automatic chain building. This triggers a\nrefresh of the `,mdx(\"inlineCode\",{parentName:\"p\"},`ca_chain`),` field on the issuer, and can be verified with:`),mdx(\"pre\",null,mdx(\"code\",{parentName:\"pre\"},`vault read pki/issuer/default\n`)),mdx(\"h2\",{\"id\":\"issuer-constraints-enforcement\"},mdx(\"a\",{parentName:\"h2\",\"className\":\"__permalink-h\",\"href\":\"#issuer-constraints-enforcement\",\"aria-label\":\"issuer constraints enforcement permalink\"},`\\xbb`),`Issuer Constraints Enforcement`),mdx(\"p\",null,`Starting with versions 1.18.3, 1.18.3+ent, 1.17.10+ent and 1.16.14+ent, Vault\nperforms additional verifications when creating or signing leaf certificates for\nissuers that have constraints extensions. This verification includes validating\nextended key usage, name constraints, and correct copying of the issuer name\nonto the certificate. Certificates issued without this verification might not be\naccepted by end user applications.`),mdx(\"p\",null,`Problems with issuance arising from this validation should be fixed by changing\nthe issuer certificate itself, to avoid more problems down the line.`),mdx(\"p\",null,`It is possible to completely disable verification by setting environment\nvariable `,mdx(\"inlineCode\",{parentName:\"p\"},`VAULT_DISABLE_PKI_CONSTRAINTS_VERIFICATION`),` to `,mdx(\"inlineCode\",{parentName:\"p\"},`true`),`.`),mdx(\"div\",{\"className\":\"alert alert-warning g-type-body\"},mdx(\"p\",{parentName:\"div\"},``,mdx(\"strong\",{parentName:\"p\"},`Warning`),`: The use of environment variable `,mdx(\"inlineCode\",{parentName:\"p\"},`VAULT_DISABLE_PKI_CONSTRAINTS_VERIFICATION`),`\nshould be considered as a last resort.`)),mdx(\"h2\",{\"id\":\"tutorial\"},mdx(\"a\",{parentName:\"h2\",\"className\":\"__permalink-h\",\"href\":\"#tutorial\",\"aria-label\":\"tutorial permalink\"},`\\xbb`),`Tutorial`),mdx(\"p\",null,`Refer to the `,mdx(\"a\",{parentName:\"p\",\"href\":\"/vault/tutorials/secrets-management/pki-engine\"},`Build Your Own Certificate Authority (CA)`),`\nguide for a step-by-step tutorial.`),mdx(\"p\",null,`Have a look at the `,mdx(\"a\",{parentName:\"p\",\"href\":\"/vault/tutorials/enterprise/managed-key-pki\"},`PKI Secrets Engine with Managed Keys`),`\nfor more about how to use externally managed keys with PKI.`),mdx(\"h2\",{\"id\":\"api\"},mdx(\"a\",{parentName:\"h2\",\"className\":\"__permalink-h\",\"href\":\"#api\",\"aria-label\":\"api permalink\"},`\\xbb`),`API`),mdx(\"p\",null,`The PKI secrets engine has a full HTTP API. Please see the\n`,mdx(\"a\",{parentName:\"p\",\"href\":\"/vault/api-docs/secret/pki\"},`PKI secrets engine API`),` for more\ndetails.`))};MDXContent.isMDXComponent=true;","scope":{"product":"vault","version":"latest"}},"product":{"name":"Vault","slug":"vault","version":"1.9.3","changelogUrl":null,"algoliaConfig":{"indexName":"product_VAULT","searchOnlyApiKey":"9c555e8fa951c1c53e726c0ce2eb3b73"},"analyticsConfig":{"includedDomains":"vaultproject.io www.vaultproject.io","segmentWriteKey":"OdSFDq9PfujQpmkZf03dFpcUlywme4sC"},"datoToken":"88b4984480dad56295a8aadae6caad","metadata":{"title":"Vault by HashiCorp","description":"Vault secures, stores, and tightly controls access to tokens, passwords, certificates, API keys, and other secrets in modern computing. Vault handles leasing, key revocation, key rolling, auditing, and provides secrets as a service through a unified API.","image":"https://www.vaultproject.io/vault-public/img/og-image.png","icon":[{"href":"https://www.datocms-assets.com/2885/1676497447-vault-favicon-color.png?h=16\u0026w=16","type":"image/png","sizes":"16x16"},{"href":"https://www.datocms-assets.com/2885/1676497447-vault-favicon-color.png?h=32\u0026w=32","type":"image/png","sizes":"32x32"},{"href":"https://www.datocms-assets.com/2885/1676497447-vault-favicon-color.png?h=96\u0026w=96","type":"image/png","sizes":"96x96"},{"href":"https://www.datocms-assets.com/2885/1676497447-vault-favicon-color.png?h=192\u0026w=192","type":"image/png","sizes":"192x192"}]},"alertBannerActive":true,"alertBanner":{"tag":"HashiDays","url":"https://hashicorp.com/conferences/hashidays","text":"One conference. Three cities.","linkText":"Find a city near you","expirationDate":"2024-06-14T00:00:00-08:00"},"subnavItems":[{"text":"Overview","url":"/"},{"text":"Use Cases","submenu":[{"text":"Secrets Management","url":"/about-vault/why-use-vault/3rd-party-secrets"},{"text":"Data Encryption","url":"/about-vault/why-use-vault/sensitive-data"},{"text":"Identity-based Access","url":"/about-vault/why-use-vault/identity"}]},{"text":"Enterprise","url":"https://www.hashicorp.com/products/vault/enterprise"},"divider",{"text":"Tutorials","url":"https://developer.hashicorp.com/vault/tutorials"},{"text":"Docs","url":"/docs"},{"text":"API","url":"/api-docs"},{"text":"Community","url":"/community"}],"packageManagers":[{"label":"Homebrew","commands":["brew tap hashicorp/tap","brew install hashicorp/tap/vault"],"os":"darwin"},{"label":"Ubuntu/Debian","commands":["wget -O - https://apt.releases.hashicorp.com/gpg | sudo gpg --dearmor -o /usr/share/keyrings/hashicorp-archive-keyring.gpg","echo \"deb [arch=amd64 signed-by=/usr/share/keyrings/hashicorp-archive-keyring.gpg] https://apt.releases.hashicorp.com $(lsb_release -cs) main\" | sudo tee /etc/apt/sources.list.d/hashicorp.list","sudo apt-get update \u0026\u0026 sudo apt-get install vault"],"os":"linux"},{"label":"CentOS/RHEL","commands":["sudo yum install -y yum-utils","sudo yum-config-manager --add-repo https://rpm.releases.hashicorp.com/RHEL/hashicorp.repo","sudo yum -y install vault"],"os":"linux"},{"label":"Fedora","commands":["sudo dnf install -y dnf-plugins-core","sudo dnf config-manager addrepo --from-repofile=https://rpm.releases.hashicorp.com/fedora/hashicorp.repo","sudo dnf -y install vault"],"os":"linux"},{"label":"Amazon Linux","commands":["sudo yum install -y yum-utils","sudo yum-config-manager --add-repo https://rpm.releases.hashicorp.com/AmazonLinux/hashicorp.repo","sudo yum -y install vault"],"os":"linux"},{"label":"Homebrew","commands":["brew tap hashicorp/tap","brew install hashicorp/tap/vault"],"os":"linux"}],"basePaths":["docs","api-docs","tutorials","downloads"],"rootDocsPaths":[{"iconName":"docs","name":"Documentation","path":"docs"},{"iconName":"terminal-screen","name":"CLI","path":"docs/commands"},{"iconName":"api","name":"APIs","path":"api-docs"}],"integrationsConfig":{"description":"A curated collection of official, partner, and community Vault plugins.","sidebarLinks":[{"title":"Plugin system overview","href":"/vault/docs/plugins"},{"title":"Docs: Build Vault plugins","href":"/vault/docs/plugins/plugin-development"},{"title":"Tutorial: Create a custom secrets engine","href":"/vault/tutorials/custom-secrets-engine"}]},"currentRootDocsPath":{"iconName":"docs","name":"Documentation","path":"docs"}},"projectName":null,"versions":null},"__N_SSG":true},"page":"/vault/docs/[...page]","query":{"page":["secrets","pki","considerations"]},"buildId":"NDtsAYqVYjIWJg8hDtZ2I","isFallback":false,"gsp":true,"scriptLoader":[]}</script><script nomodule="">window.MSInputMethodContext && document.documentMode && document.write('<script src="/ie-warning.js"><\x2fscript>');</script></body></html>