{"pageProps":{"metadata":{"title":"Redis | Integrations","description":"Redis - Open-source, networked, in-memory, key-value data store -- STANDALONE INSTANCE"},"product":{"name":"Nomad","slug":"nomad","algoliaConfig":{"indexName":"product_NOMAD","searchOnlyApiKey":"9bfec34ea54e56a11bd50d6bfedc5e71"},"analyticsConfig":{"includedDomains":"nomadproject.io www.nomadproject.io","segmentWriteKey":"qW11yxgipKMsKFKQUCpTVgQUYftYsJj0"},"datoToken":"88b4984480dad56295a8aadae6caad","metadata":{"title":"Nomad by HashiCorp","description":"Nomad is a highly available, distributed, data-center aware cluster and application scheduler designed to support the modern datacenter with support for long-running services, batch jobs, and much more.","image":"https://www.nomadproject.io/nomad-public/img/og-image.png","icon":[{"href":"/nomad-public/_favicon.ico"}]},"alertBannerActive":true,"alertBanner":{"tag":"HashiConf","url":"https://hashiconf.com/2023?utm_source=direct&utm_medium=banner&utm_campaign=23Q3_HASHICONFGLOBAL_EVENT&utm_content=&utm_offer=event","text":"Our community conference is taking place in San Francisco and online October 10-12.","linkText":"Register now","expirationDate":""},"version":"1.2.5","subnavItems":[{"text":"Overview","url":"/","type":"inbound"},{"text":"Enterprise","url":"https://www.hashicorp.com/products/nomad/","type":"outbound"},"divider",{"text":"Tutorials","url":"https://developer.hashicorp.com/nomad/tutorials","type":"outbound"},{"text":"Docs","url":"/docs","type":"inbound"},{"text":"API","url":"/api-docs","type":"inbound"},{"text":"Plugins","url":"/plugins","type":"inbound"},{"text":"Tools","url":"/tools","type":"inbound"},{"text":"Community","url":"/community","type":"inbound"}],"basePaths":["docs","api-docs","plugins","tools","intro","downloads"],"rootDocsPaths":[{"iconName":"docs","name":"Documentation","path":"docs"},{"iconName":"entry-point","name":"Intro","path":"intro"},{"iconName":"api","name":"API","path":"api-docs"},{"iconName":"terminal-screen","name":"Tools","path":"tools"},{"iconName":"plug","name":"Plugins","path":"plugins"}],"integrationsConfig":{"description":"A curated collection of official, partner, and community Nomad Integrations."}},"integration":{"id":"16a0a775-c5e9-4e18-acdb-94d2e59976b1","slug":"redis","name":"Redis","description":"Redis - Open-source, networked, in-memory, key-value data store -- STANDALONE INSTANCE","license_type":null,"license_url":null,"external_only":false,"external_url":"https://github.com/redis/redis","tier":"community","repo_url":"https://github.com/hashicorp/nomad-pack-community-registry","subdirectory":"/packs/redis","created_at":"2023-05-17T17:28:05.977Z","updated_at":"2023-07-12T18:05:11.114Z","hide_versions":false,"organization":{"id":"a4a0551a-1451-4d89-9f56-8031c8350c77","slug":"hashicorp","created_at":"2022-11-09T22:56:32.391Z","updated_at":"2022-11-09T22:56:32.391Z"},"product":{"id":"40557cca-56ca-4cb2-abc6-9bba2a9ca62d","slug":"nomad","name":"Nomad","created_at":"2022-11-09T22:56:29.799Z","updated_at":"2022-11-09T22:56:29.799Z"},"versions":["0.0.1"],"components":[],"flags":[],"integration_type":{"id":"e8835871-6a6a-4836-8797-505cbfbe426a","product_id":"40557cca-56ca-4cb2-abc6-9bba2a9ca62d","slug":"pack","name":"Pack","plural_name":"Packs","description":"Packs are templated sets of resources that are meant to be deployed to Nomad together. Each pack defines parameters that can be customized by the end user.","created_at":"2023-05-02T17:31:29.062Z","updated_at":"2023-05-17T22:44:11.429Z"}},"activeRelease":{"id":"ed1aae08-aac1-40d7-a29f-f72f699d48cd","integration_id":"16a0a775-c5e9-4e18-acdb-94d2e59976b1","version":"0.0.1","readme":"This pack runs [Redis](https://redis.io) as a standalone instance using the Nomad [service](https://www.nomadproject.io/docs/schedulers#service) scheduler. The service runs as a Docker container using the [Docker](https://www.nomadproject.io/docs/drivers/docker) driver.\n\nNote: This is a standalone instance of Redis.\n\nDefault (Vanilla) Installation:\n- [Protected Mode](https://redis.io/topics/security#protected-mode) is disabled by default.\n- No volumes are attached. All data are stored in the container's `/data` directory. To learn more about persisted storage, see [Persisting Storage](#persisting-storage) below.\n- The container uses the default Redis configuration as specified [here](https://registry.hub.docker.com/_/redis).\n- By default, a snapshot is automatically created as `/data/dump.rdb` when the following are true:\n  - After 3600 seconds (an hour) if at least 1 key changed\n  - After 300 seconds (5 minutes) if at least 100 keys changed\n  - After 60 seconds if at least 10000 keys changed\n\n---\n## Available Variables\n`app_count` (number) - Number of instances to deploy\n\n`consul_service_name` (string) - Name used by Consul, if registering the job in Consul\n\n`consul_service_port` (string) - Port used by Consul, if registering the job in Consul\n\n`consul_tags` (list of string) - Tags to use for job\n\n`datacenters` (list of string) - Datacenters this job will be deployed\n\n`has_health_check` (bool) - If Consul should use a health check -- Port needs to be exposed.\n\n`health_check` (object) - Consul health check details\n\n`image` (string) - Redis Docker image.\n\n`job_name` (string) - Name of the Nomad job -- Overrides the default pack name\n\n`network` (list of object) - Job network specifications\n\n`redis_volume` (string) - The volume name defined in the Nomad agent configuration\n\n`region` (string) - Region where the job should be placed.\n\n`register_consul_service` (bool) - Register this job in Consul\n\n`resources` (object) - Resources to assign this job\n\n`restart_attempts` (number) - Number of attempts to restart the job due to updates, failures, etc\n\n`update` (object) - Job update parameters\n\n`use_host_volume` (bool) - Use a host volume as defined in the Nomad client configuration\n\n\n---\n## Persisting Storage\n\nIn most production cases, you will need to deploy Redis while using persisted storage for data backup and restoration. Additionally, you may also want to deploy Redis using your own configuration file.\n\n### Using Host Volume\nIf you wish to utilize Nomad's host volume for Redis data, you must have the following in place:\n\n1. The directory that will be used exists on the Nomad host(s)\n2. The host volume block is added in the Nomad client configuration, as specified [here](https://learn.hashicorp.com/tutorials/nomad/stateful-workloads-host-volumes#configure-the-client)\n```hcl\nclient {\n  host_volume \"redis\" {\n    path      = \"/path/to/volume\"\n    read_only = false\n  }\n}\n```\n\n3. The `use_host_volume` variable is set to `true`\n```\n--var use_host_volume=true\n```\n\n4. (Optional) The name of the volume is set using the `redis_volume` variable. Default is `redis`\n```\n--var redis_volume=<volume name>\n```\n\nNomad will mount the host volume into the default `/data` directory within the container.\n\n---\n## Example Usage\n```\nnomad-pack run redis --var job_name=\"redis-standalone\" --var use_host_volume=true --var image=\"redis:6.2.6\"\n```\n","created_at":"2023-05-17T22:19:26.757Z","updated_at":"2023-08-21T21:47:09.419Z","components":[]},"breadcrumbLinks":[{"title":"Developer","url":"/"},{"title":"Nomad","url":"/nomad"},{"title":"Integrations","url":"/nomad/integrations"},{"title":"Redis","url":"/nomad/integrations/hashicorp/redis","isCurrentPage":true}],"anchorLinks":[{"id":"available-variables","level":2,"title":"Available Variables"},{"id":"persisting-storage","level":2,"title":"Persisting Storage"},{"id":"using-host-volume","level":3,"title":"Using Host Volume"},{"id":"example-usage","level":2,"title":"Example Usage"}],"serializedREADME":{"compiledSource":"var c=Object.defineProperty,m=Object.defineProperties;var u=Object.getOwnPropertyDescriptors;var s=Object.getOwnPropertySymbols;var i=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable;var p=(a,n,t)=>n in a?c(a,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[n]=t,e=(a,n)=>{for(var t in n||(n={}))i.call(n,t)&&p(a,t,n[t]);if(s)for(var t of s(n))l.call(n,t)&&p(a,t,n[t]);return a},r=(a,n)=>m(a,u(n));var d=(a,n)=>{var t={};for(var o in a)i.call(a,o)&&n.indexOf(o)<0&&(t[o]=a[o]);if(a!=null&&s)for(var o of s(a))n.indexOf(o)<0&&l.call(a,o)&&(t[o]=a[o]);return t};const layoutProps={},MDXLayout=\"wrapper\";function MDXContent(t){var o=t,{components:a}=o,n=d(o,[\"components\"]);return mdx(MDXLayout,r(e(e({},layoutProps),n),{components:a,mdxType:\"MDXLayout\"}),mdx(\"p\",e({},{className:\"g-type-long-body\"}),\"This pack runs \",mdx(\"a\",e({parentName:\"p\"},{href:\"https://redis.io\"}),\"Redis\"),\" as a standalone instance using the Nomad \",mdx(\"a\",e({parentName:\"p\"},{href:\"https://www.nomadproject.io/docs/schedulers#service\"}),\"service\"),\" scheduler. The service runs as a Docker container using the \",mdx(\"a\",e({parentName:\"p\"},{href:\"https://www.nomadproject.io/docs/drivers/docker\"}),\"Docker\"),\" driver.\"),mdx(\"p\",e({},{className:\"g-type-long-body\"}),\"Note: This is a standalone instance of Redis.\"),mdx(\"p\",e({},{className:\"g-type-long-body\"}),\"Default (Vanilla) Installation:\"),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{href:\"https://redis.io/topics/security#protected-mode\"}),\"Protected Mode\"),\" is disabled by default.\"),mdx(\"li\",{parentName:\"ul\"},\"No volumes are attached. All data are stored in the container's \",mdx(\"inlineCode\",{parentName:\"li\"},\"/data\"),\" directory. To learn more about persisted storage, see \",mdx(\"a\",e({parentName:\"li\"},{href:\"#persisting-storage\"}),\"Persisting Storage\"),\" below.\"),mdx(\"li\",{parentName:\"ul\"},\"The container uses the default Redis configuration as specified \",mdx(\"a\",e({parentName:\"li\"},{href:\"https://registry.hub.docker.com/_/redis\"}),\"here\"),\".\"),mdx(\"li\",{parentName:\"ul\"},\"By default, a snapshot is automatically created as \",mdx(\"inlineCode\",{parentName:\"li\"},\"/data/dump.rdb\"),\" when the following are true:\",mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},\"After 3600 seconds (an hour) if at least 1 key changed\"),mdx(\"li\",{parentName:\"ul\"},\"After 300 seconds (5 minutes) if at least 100 keys changed\"),mdx(\"li\",{parentName:\"ul\"},\"After 60 seconds if at least 10000 keys changed\")))),mdx(\"hr\",null),mdx(\"h2\",e({},{id:\"user-content-available-variables\",\"data-text-content\":\"Available Variables\",className:\"g-type-display-3\"}),\"Available Variables\"),mdx(\"p\",e({},{className:\"g-type-long-body\"}),mdx(\"inlineCode\",{parentName:\"p\"},\"app_count\"),\" (number) - Number of instances to deploy\"),mdx(\"p\",e({},{className:\"g-type-long-body\"}),mdx(\"inlineCode\",{parentName:\"p\"},\"consul_service_name\"),\" (string) - Name used by Consul, if registering the job in Consul\"),mdx(\"p\",e({},{className:\"g-type-long-body\"}),mdx(\"inlineCode\",{parentName:\"p\"},\"consul_service_port\"),\" (string) - Port used by Consul, if registering the job in Consul\"),mdx(\"p\",e({},{className:\"g-type-long-body\"}),mdx(\"inlineCode\",{parentName:\"p\"},\"consul_tags\"),\" (list of string) - Tags to use for job\"),mdx(\"p\",e({},{className:\"g-type-long-body\"}),mdx(\"inlineCode\",{parentName:\"p\"},\"datacenters\"),\" (list of string) - Datacenters this job will be deployed\"),mdx(\"p\",e({},{className:\"g-type-long-body\"}),mdx(\"inlineCode\",{parentName:\"p\"},\"has_health_check\"),\" (bool) - If Consul should use a health check -- Port needs to be exposed.\"),mdx(\"p\",e({},{className:\"g-type-long-body\"}),mdx(\"inlineCode\",{parentName:\"p\"},\"health_check\"),\" (object) - Consul health check details\"),mdx(\"p\",e({},{className:\"g-type-long-body\"}),mdx(\"inlineCode\",{parentName:\"p\"},\"image\"),\" (string) - Redis Docker image.\"),mdx(\"p\",e({},{className:\"g-type-long-body\"}),mdx(\"inlineCode\",{parentName:\"p\"},\"job_name\"),\" (string) - Name of the Nomad job -- Overrides the default pack name\"),mdx(\"p\",e({},{className:\"g-type-long-body\"}),mdx(\"inlineCode\",{parentName:\"p\"},\"network\"),\" (list of object) - Job network specifications\"),mdx(\"p\",e({},{className:\"g-type-long-body\"}),mdx(\"inlineCode\",{parentName:\"p\"},\"redis_volume\"),\" (string) - The volume name defined in the Nomad agent configuration\"),mdx(\"p\",e({},{className:\"g-type-long-body\"}),mdx(\"inlineCode\",{parentName:\"p\"},\"region\"),\" (string) - Region where the job should be placed.\"),mdx(\"p\",e({},{className:\"g-type-long-body\"}),mdx(\"inlineCode\",{parentName:\"p\"},\"register_consul_service\"),\" (bool) - Register this job in Consul\"),mdx(\"p\",e({},{className:\"g-type-long-body\"}),mdx(\"inlineCode\",{parentName:\"p\"},\"resources\"),\" (object) - Resources to assign this job\"),mdx(\"p\",e({},{className:\"g-type-long-body\"}),mdx(\"inlineCode\",{parentName:\"p\"},\"restart_attempts\"),\" (number) - Number of attempts to restart the job due to updates, failures, etc\"),mdx(\"p\",e({},{className:\"g-type-long-body\"}),mdx(\"inlineCode\",{parentName:\"p\"},\"update\"),\" (object) - Job update parameters\"),mdx(\"p\",e({},{className:\"g-type-long-body\"}),mdx(\"inlineCode\",{parentName:\"p\"},\"use_host_volume\"),\" (bool) - Use a host volume as defined in the Nomad client configuration\"),mdx(\"hr\",null),mdx(\"h2\",e({},{id:\"user-content-persisting-storage\",\"data-text-content\":\"Persisting Storage\",className:\"g-type-display-3\"}),\"Persisting Storage\"),mdx(\"p\",e({},{className:\"g-type-long-body\"}),\"In most production cases, you will need to deploy Redis while using persisted storage for data backup and restoration. Additionally, you may also want to deploy Redis using your own configuration file.\"),mdx(\"h3\",e({},{id:\"user-content-using-host-volume\",\"data-text-content\":\"Using Host Volume\",className:\"g-type-display-4\"}),\"Using Host Volume\"),mdx(\"p\",e({},{className:\"g-type-long-body\"}),\"If you wish to utilize Nomad's host volume for Redis data, you must have the following in place:\"),mdx(\"ol\",null,mdx(\"li\",{parentName:\"ol\"},\"The directory that will be used exists on the Nomad host(s)\"),mdx(\"li\",{parentName:\"ol\"},\"The host volume block is added in the Nomad client configuration, as specified \",mdx(\"a\",e({parentName:\"li\"},{href:\"https://learn.hashicorp.com/tutorials/nomad/stateful-workloads-host-volumes#configure-the-client\"}),\"here\"))),mdx(\"pre\",e({},{className:\"language-hcl\"}),mdx(\"code\",e({parentName:\"pre\"},{className:\"language-hcl\"}),mdx(\"span\",e({parentName:\"code\"},{className:\"token keyword\"}),\"client\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"  host_volume \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"redis\"'),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"path\"),\"      \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"/path/to/volume\"'),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"read_only\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token boolean\"}),\"false\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`)),mdx(\"ol\",e({},{start:3}),mdx(\"li\",{parentName:\"ol\"},\"The \",mdx(\"inlineCode\",{parentName:\"li\"},\"use_host_volume\"),\" variable is set to \",mdx(\"inlineCode\",{parentName:\"li\"},\"true\"))),mdx(\"pre\",null,mdx(\"code\",{parentName:\"pre\"},\"--var use_host_volume=true\",`\n`)),mdx(\"ol\",e({},{start:4}),mdx(\"li\",{parentName:\"ol\"},\"(Optional) The name of the volume is set using the \",mdx(\"inlineCode\",{parentName:\"li\"},\"redis_volume\"),\" variable. Default is \",mdx(\"inlineCode\",{parentName:\"li\"},\"redis\"))),mdx(\"pre\",null,mdx(\"code\",{parentName:\"pre\"},\"--var redis_volume=<volume name>\",`\n`)),mdx(\"p\",e({},{className:\"g-type-long-body\"}),\"Nomad will mount the host volume into the default \",mdx(\"inlineCode\",{parentName:\"p\"},\"/data\"),\" directory within the container.\"),mdx(\"hr\",null),mdx(\"h2\",e({},{id:\"user-content-example-usage\",\"data-text-content\":\"Example Usage\",className:\"g-type-display-3\"}),\"Example Usage\"),mdx(\"pre\",null,mdx(\"code\",{parentName:\"pre\"},'nomad-pack run redis --var job_name=\"redis-standalone\" --var use_host_volume=true --var image=\"redis:6.2.6\"',`\n`)))}MDXContent.isMDXComponent=!0;\n","scope":{}}},"__N_SSG":true}