{"pageProps":{"metadata":{"title":"Naver Cloud Builder | Integrations"},"product":{"name":"Packer","slug":"packer","algoliaConfig":{"indexName":"product_PACKER","searchOnlyApiKey":"4e1ea7f4bf4335ac43d9f28463e42148"},"analyticsConfig":{"includedDomains":"packer.io www.packer.io","segmentWriteKey":"AjXdfmTTk1I9q9dfyePuDFHBrz1tCO3l"},"datoToken":"88b4984480dad56295a8aadae6caad","metadata":{"title":"Packer by HashiCorp","description":"Packer helps you create golden images for multiple platforms from a single source configuration.","image":"https://www.packer.io/packer-public/img/og-image.png","icon":[{"href":"/packer-public/_favicon.ico"}]},"alertBannerActive":true,"alertBanner":{"tag":"HashiConf","url":"https://hashiconf.com/2023?utm_source=direct&utm_medium=banner&utm_campaign=23Q3_HASHICONFGLOBAL_EVENT&utm_content=&utm_offer=event","text":"Our community conference is taking place in San Francisco and online October 10-12.","linkText":"Register now","expirationDate":""},"version":"1.7.10","basePaths":["docs","guides","intro","downloads"],"rootDocsPaths":[{"iconName":"docs","name":"Documentation","path":"docs"},{"iconName":"guide","name":"Guides","path":"guides"}],"integrationsConfig":{"description":"A curated collection of official, partner, and community Packer Integrations."}},"integration":{"id":"0f644661-d11d-4dec-acbd-464a6967b64e","slug":"ncloud","name":"Naver Cloud","description":"The Naver Cloud plugin can be used with HashiCorp Packer to create custom images on the Naver Cloud platform","license_type":null,"license_url":null,"external_only":false,"external_url":null,"tier":"community","repo_url":"https://github.com/hashicorp/packer-plugin-ncloud","subdirectory":"/.web-docs","created_at":"2023-06-15T19:02:56.660Z","updated_at":"2023-08-08T17:01:12.342Z","hide_versions":false,"organization":{"id":"a4a0551a-1451-4d89-9f56-8031c8350c77","slug":"hashicorp","created_at":"2022-11-09T22:56:32.391Z","updated_at":"2022-11-09T22:56:32.391Z"},"product":{"id":"4c2b00c6-7cc1-4e4c-b596-4ab57e319f21","slug":"packer","name":"Packer","created_at":"2022-11-09T22:56:29.896Z","updated_at":"2022-11-09T22:56:29.896Z"},"versions":["1.1.2","1.1.1","1.0.5"],"components":[{"id":"36076511-3ced-4faf-addf-101fce0405ff","slug":"builder","name":"Builder","plural_name":"Builders"}],"flags":[],"integration_type":null},"activeRelease":{"id":"f52fdd33-de34-47cb-862d-21dfc22ca741","integration_id":"0f644661-d11d-4dec-acbd-464a6967b64e","version":"1.1.2","readme":"The ncloud plugin allows you to create custom images on the NAVER Cloud Platform.\n\n### Installation\n\nTo install this plugin, copy and paste this code into your Packer configuration, then run [`packer init`](https://www.packer.io/docs/commands/init).\n\n```hcl\npacker {\n  required_plugins {\n    ncloud = {\n      source  = \"github.com/hashicorp/ncloud\"\n      version = \"~> 1\"\n    }\n  }\n}\n```\n\nAlternatively, you can use `packer plugins install` to manage installation of this plugin.\n\n```sh\n$ packer plugins install github.com/hashicorp/ncloud\n```\n\n### Components\n\n#### Builders\n\n- [ncloud](/packer/integrations/hashicorp/ncloud/latest/components/builder/ncloud) - The `ncloud` builder allows you to create server images using the\n  [NAVER Cloud Platform](https://www.ncloud.com/).\n","created_at":"2023-11-01T09:23:01.773Z","updated_at":"2023-11-01T09:23:01.773Z","components":[{"id":"613e3f7e-5de5-4c9f-82bf-05f6353ed353","integration_release_id":"f52fdd33-de34-47cb-862d-21dfc22ca741","component_id":"36076511-3ced-4faf-addf-101fce0405ff","readme":"Type: `ncloud`\nArtifact BuilderId: `ncloud.server.image`\n\nThe `ncloud` builder allows you to create server images using the [NAVER Cloud\nPlatform](https://www.ncloud.com/).\n\n## Configuration Reference\n\n### Required:\n\n<!-- Code generated from the comments of the Config struct in builder/ncloud/config.go; DO NOT EDIT MANUALLY -->\n\n- `access_key` (string) - User's access key. Go to [\\[Account Management &gt; Authentication Key\\]](https://www.ncloud.com/mypage/manage/authkey) to create and view your authentication key.\n\n- `secret_key` (string) - User's secret key paired with the access key. Go to [\\[Account Management &gt; Authentication Key\\]](https://www.ncloud.com/mypage/manage/authkey) to create and view your authentication key.\n\n- `server_image_product_code` (string) - Product code of an image to create.\n  (member_server_image_no is required if not specified)\n\n<!-- End of code generated from the comments of the Config struct in builder/ncloud/config.go; -->\n\n\n### Optional:\n\n<!-- Code generated from the comments of the Config struct in builder/ncloud/config.go; DO NOT EDIT MANUALLY -->\n\n- `server_product_code` (string) - Product (spec) code to create.\n\n- `support_vpc` (bool) - Whether to use VPC without specific vpc or subnet. Packer will try find public subnet in entire vpc if you set this value `true`.\n  (You are required to least one three parameters if u want using VPC environment: `support_vpc` or `vpc_no` or `subnet_no`)\n\n- `vpc_no` (string) - The ID of the VPC where you want to place the Server Instance. If this field is left blank, Packer will try to get the VPC ID from the `subnet_no` or exists public subnet.\n  (You are required to least one three parameters if u want using VPC environment: `support_vpc` or `vpc_no` or `subnet_no`)\n\n- `subnet_no` (string) - The ID of the Subnet where you want to place the Server Instance. This field is required if you are using an specific subnets.\n  (You are required to least one three parameters if u want using VPC environment: `support_vpc` or `vpc_no` or `subnet_no`)\n\n- `member_server_image_no` (string) - Previous image code. If there is an\n  image previously created, it can be used to create a new image.\n  (server_image_product_code is required if not specified)\n\n- `server_image_name` (string) - Name of an image to create.\n\n- `server_image_description` (string) - Description of an image to create.\n\n- `block_storage_size` (int) - You can add block storage ranging from 10GB to 2000 GB, in increments of 10 GB.\n\n- `access_control_group_no` (string) - This is used to allow\n  winrm access when you create a Windows server. An ACG that specifies an\n  access source (0.0.0.0/0) and allowed port (5985) must be created in\n  advance if you use CLASSIC env. If this field is left blank,\n  Packer will create temporary ACG for automatically in VPC environment.\n\n- `user_data` (string) - User data to apply when launching the instance. Note\n  that you need to be careful about escaping characters due to the templates\n  being JSON. It is often more convenient to use user_data_file, instead.\n  Packer will not automatically wait for a user script to finish before\n  shutting down the instance this must be handled in a provisioner.\n\n- `user_data_file` (string) - Path to a file that will be used for the user\n  data when launching the instance.\n\n- `region` (string) - The name of the region where you want to create an image. Such as `Korea`. To be deprecated\n\n- `region_code` (string) - The code of the region where you want to create an image. Such as KR.\n  (pub or gov default: KR) (fin default: FKR)\n\n- `site` (string) - The ncloud site. Available sites are public(`www.ncloud.com`), gov(`www.gov-ncloud.com`) and fin(`www.fin-ncloud.com`) (default: public)\n  - values: public / gov / fin\n\n<!-- End of code generated from the comments of the Config struct in builder/ncloud/config.go; -->\n\n\n## Basic Example\n\nHere is a basic example for windows server.\n\n**HCL2**\n\n```hcl\nvariable \"access_key\" {\n  type    = string\n  # default = \"your_access_key\"\n}\n\nvariable \"secret_key\" {\n  type    = string\n  # default = \"your_secret_key\"\n}\n\nlocals {\n  timestamp = regex_replace(timestamp(), \"[- TZ:]\", \"\")\n}\n\nsource \"ncloud\" \"example-windows\" {\n  access_key                            = \"${var.access_key}\"\n  secret_key                            = \"${var.secret_key}\"\n  server_image_product_code             = \"SW.VSVR.OS.WND64.WND.SVR2016EN.B100\" // for VPC environment.\n  # server_image_product_code           = \"SPSW0WINNTEN0016\"  // for CLASSIC environment.\n  server_image_name                     = \"packer-${local.timestamp}\"\n  server_image_description              = \"server image description\"\n  user_data                             = \"CreateObject(\\\"WScript.Shell\\\").run(\\\"cmd.exe /c powershell Set-ExecutionPolicy RemoteSigned & winrm quickconfig -q & sc config WinRM start= auto & winrm set winrm/config/service/auth @{Basic=\\\"\\\"true\\\"\\\"} & winrm set winrm/config/service @{AllowUnencrypted=\\\"\\\"true\\\"\\\"} & winrm get winrm/config/service\\\")\"\n  region_code                           = \"KR\"\n  support_vpc                           = true // Remove this if you use CLASSIC environment.\n  # vpc_no                                = \"{{YOUR_VPC_ID}}\" // Remove this if you use CLASSIC environment.\n  # subnet_no                             = \"{{YOUR_SUBNET_ID}}\" // Remove this if you use CLASSIC environment.\n  communicator                          = \"winrm\"\n  winrm_username                        = \"Administrator\"\n  # access_control_group_no             = \"{{YOUR_ACG_ID}}\" // Specific ACG ID allowed port (5985) if you use CLASSIC environment.\n  # site                                = \"fin\" or \"gov\" // if you use FINANCE or GOVERNMENT environment\n}\n\nbuild {\n  sources = [\"source.ncloud.example-windows\"]\n\n  provisioner \"powershell\" {\n    inline = [\n      \"Write-Output 1,2,3 | Measure-Object\"\n    ]\n  }\n}\n```\n\n**JSON**\n\n```json\n{\n  \"variables\": {\n    \"ncloud_access_key\": \"{{env `NCLOUD_ACCESS_KEY`}}\",\n    \"ncloud_secret_key\": \"{{env `NCLOUD_SECRET_KEY`}}\"\n  },\n  \"builders\": [\n    {\n      \"type\": \"ncloud\",\n      \"access_key\": \"{{user `ncloud_access_key`}}\",\n      \"secret_key\": \"{{user `ncloud_secret_key`}}\",\n      \"server_image_product_code\": \"SPSW0WINNTEN0016\",\n      \"server_image_name\": \"packer-test {{timestamp}}\",\n      \"server_image_description\": \"server description\",\n      \"user_data\": \"CreateObject(\\\"WScript.Shell\\\").run(\\\"cmd.exe /c powershell Set-ExecutionPolicy RemoteSigned & winrm quickconfig -q & sc config WinRM start= auto & winrm set winrm/config/service/auth @{Basic=\\\"\\\"true\\\"\\\"} & winrm set winrm/config/service @{AllowUnencrypted=\\\"\\\"true\\\"\\\"} & winrm get winrm/config/service\\\")\",\n      \"region_code\": \"KR\",\n      \"communicator\": \"winrm\",\n      \"winrm_username\": \"Administrator\"\n    }\n  ],\n  \"provisioners\": [\n    {\n      \"type\": \"powershell\",\n      \"inline\": [\"Write-Output 1,2,3 | Measure-Object\"]\n    }\n  ]\n}\n```\n\n\n-> **Warning:** Please note that if you're setting up WinRM for provisioning, you'll probably want to turn it off or restrict its permissions as part of a shutdown script at the end of Packer's provisioning process. For more details on the why/how, check out this useful blog post and the associated code:\nhttps://cloudywindows.io/post/winrm-for-provisioning-close-the-door-on-the-way-out-eh/\n\nHere is a basic example for linux server.\n\n**HCL2**\n\n```hcl\nvariable \"access_key\" {\n  type    = string\n  # default = \"your_access_key\"\n}\n\nvariable \"secret_key\" {\n  type    = string\n  # default = \"your_secret_key\"\n}\n\nlocals {\n  timestamp = regex_replace(timestamp(), \"[- TZ:]\", \"\")\n}\n\nsource \"ncloud\" \"example-linux\" {\n  access_key                = \"${var.access_key}\"\n  secret_key                = \"${var.secret_key}\"\n  server_image_product_code = \"SW.VSVR.OS.LNX64.CNTOS.0708.B050\" // for VPC environment.\n  # server_image_product_code = \"SPSW0LINUX000044\" // for CLASSIC environment.\n  server_image_name         = \"packer-${local.timestamp}\"\n  server_image_description  = \"server image description\"\n  region_code               = \"KR\"\n  support_vpc               = true // Remove this if you use CLASSIC environment.\n  # vpc_no                    = \"{{YOUR_VPC_ID}}\" // Remove this if you use CLASSIC environment.\n  # subnet_no                 = \"{{YOUR_SUBNET_ID}}\" // Remove this if you use CLASSIC environment.\n  communicator              = \"ssh\"\n  ssh_username              = \"root\"\n  # site                    = \"fin\" or \"gov\" // if you use FINANCE or GOVERNMENT environment\n}\n\nbuild {\n  sources = [\"source.ncloud.example-linux\"]\n\n  provisioner \"shell\" {\n    inline = [\n      \"echo Connected via SSM at '${build.User}@${build.Host}:${build.Port}'\"\n    ]\n  }\n}\n```\n\n**JSON**\n\n```json\n{\n  \"variables\": {\n    \"ncloud_access_key\": \"{{env `NCLOUD_ACCESS_KEY`}}\",\n    \"ncloud_secret_key\": \"{{env `NCLOUD_SECRET_KEY`}}\"\n  },\n  \"builders\": [\n    {\n      \"type\": \"ncloud\",\n      \"access_key\": \"{{user `ncloud_access_key`}}\",\n      \"secret_key\": \"{{user `ncloud_secret_key`}}\",\n      \"server_image_product_code\": \"SPSW0LINUX000044\",\n      \"server_image_name\": \"packer-test {{timestamp}}\",\n      \"server_image_description\": \"server description\",\n      \"region_code\": \"KR\",\n      \"communicator\": \"ssh\",\n      \"ssh_username\": \"root\"\n    }\n  ],\n  \"provisioners\": [\n    {\n      \"type\": \"shell\",\n      \"inline\": [\n        \"echo Connected via SSM at '${build.User}@${build.Host}:${build.Port}'\"\n      ]\n    }\n  ]\n}\n```\n\n\n## Requirements for creating Windows images\n\nYou should include the following code in the Packer configuration file for\nprovision when creating a Windows server.\n\n```json\n  \"builders\": [\n    {\n      \"type\": \"ncloud\",\n      ...\n      \"user_data\":\n        \"CreateObject(\\\"WScript.Shell\\\").run(\\\"cmd.exe /c powershell Set-ExecutionPolicy RemoteSigned & winrm set winrm/config/service/auth @{Basic=\\\"\\\"true\\\"\\\"} & winrm set winrm/config/service @{AllowUnencrypted=\\\"\\\"true\\\"\\\"} & winrm quickconfig -q & sc config WinRM start= auto & winrm get winrm/config/service\\\")\",\n      \"communicator\": \"winrm\",\n      \"winrm_username\": \"Administrator\"\n    }\n  ],\n  \"provisioners\": [\n    {\n      \"type\": \"powershell\",\n      \"inline\": [\n        \"$Env:SystemRoot\\\\System32\\\\Sysprep\\\\Sysprep.exe /oobe /generalize /shutdown /quiet /mode:vm \\\"/unattend:C:\\\\Program Files (x86)\\\\NBP\\\\nserver64.xml\\\" \"\n      ]\n    }\n  ]\n```\n\n## Note\n\n- You can only create as many public IP addresses as the number of server\n  instances you own. Before running Packer, please make sure that the number\n  of public IP addresses previously created is not larger than the number of\n  server instances (including those to be used to create server images).\n- When you forcibly terminate the Packer process or close the terminal\n  (command) window where the process is running, the resources may not be\n  cleaned up as the Packer process no longer runs. In this case, you should\n  manually clean up the resources associated with the process.\n","created_at":"2023-11-01T09:23:02.071Z","updated_at":"2023-11-01T09:23:02.071Z","name":"Naver Cloud Platform","slug":"ncloud","component":{"id":"36076511-3ced-4faf-addf-101fce0405ff","slug":"builder","name":"Builder","plural_name":"Builders","product_id":"4c2b00c6-7cc1-4e4c-b596-4ab57e319f21","created_at":"2022-11-09T22:56:30.937Z","updated_at":"2022-11-09T22:56:30.937Z"},"variable_groups":[]}]},"component":{"id":"613e3f7e-5de5-4c9f-82bf-05f6353ed353","integration_release_id":"f52fdd33-de34-47cb-862d-21dfc22ca741","component_id":"36076511-3ced-4faf-addf-101fce0405ff","readme":"Type: `ncloud`\nArtifact BuilderId: `ncloud.server.image`\n\nThe `ncloud` builder allows you to create server images using the [NAVER Cloud\nPlatform](https://www.ncloud.com/).\n\n## Configuration Reference\n\n### Required:\n\n<!-- Code generated from the comments of the Config struct in builder/ncloud/config.go; DO NOT EDIT MANUALLY -->\n\n- `access_key` (string) - User's access key. Go to [\\[Account Management &gt; Authentication Key\\]](https://www.ncloud.com/mypage/manage/authkey) to create and view your authentication key.\n\n- `secret_key` (string) - User's secret key paired with the access key. Go to [\\[Account Management &gt; Authentication Key\\]](https://www.ncloud.com/mypage/manage/authkey) to create and view your authentication key.\n\n- `server_image_product_code` (string) - Product code of an image to create.\n  (member_server_image_no is required if not specified)\n\n<!-- End of code generated from the comments of the Config struct in builder/ncloud/config.go; -->\n\n\n### Optional:\n\n<!-- Code generated from the comments of the Config struct in builder/ncloud/config.go; DO NOT EDIT MANUALLY -->\n\n- `server_product_code` (string) - Product (spec) code to create.\n\n- `support_vpc` (bool) - Whether to use VPC without specific vpc or subnet. Packer will try find public subnet in entire vpc if you set this value `true`.\n  (You are required to least one three parameters if u want using VPC environment: `support_vpc` or `vpc_no` or `subnet_no`)\n\n- `vpc_no` (string) - The ID of the VPC where you want to place the Server Instance. If this field is left blank, Packer will try to get the VPC ID from the `subnet_no` or exists public subnet.\n  (You are required to least one three parameters if u want using VPC environment: `support_vpc` or `vpc_no` or `subnet_no`)\n\n- `subnet_no` (string) - The ID of the Subnet where you want to place the Server Instance. This field is required if you are using an specific subnets.\n  (You are required to least one three parameters if u want using VPC environment: `support_vpc` or `vpc_no` or `subnet_no`)\n\n- `member_server_image_no` (string) - Previous image code. If there is an\n  image previously created, it can be used to create a new image.\n  (server_image_product_code is required if not specified)\n\n- `server_image_name` (string) - Name of an image to create.\n\n- `server_image_description` (string) - Description of an image to create.\n\n- `block_storage_size` (int) - You can add block storage ranging from 10GB to 2000 GB, in increments of 10 GB.\n\n- `access_control_group_no` (string) - This is used to allow\n  winrm access when you create a Windows server. An ACG that specifies an\n  access source (0.0.0.0/0) and allowed port (5985) must be created in\n  advance if you use CLASSIC env. If this field is left blank,\n  Packer will create temporary ACG for automatically in VPC environment.\n\n- `user_data` (string) - User data to apply when launching the instance. Note\n  that you need to be careful about escaping characters due to the templates\n  being JSON. It is often more convenient to use user_data_file, instead.\n  Packer will not automatically wait for a user script to finish before\n  shutting down the instance this must be handled in a provisioner.\n\n- `user_data_file` (string) - Path to a file that will be used for the user\n  data when launching the instance.\n\n- `region` (string) - The name of the region where you want to create an image. Such as `Korea`. To be deprecated\n\n- `region_code` (string) - The code of the region where you want to create an image. Such as KR.\n  (pub or gov default: KR) (fin default: FKR)\n\n- `site` (string) - The ncloud site. Available sites are public(`www.ncloud.com`), gov(`www.gov-ncloud.com`) and fin(`www.fin-ncloud.com`) (default: public)\n  - values: public / gov / fin\n\n<!-- End of code generated from the comments of the Config struct in builder/ncloud/config.go; -->\n\n\n## Basic Example\n\nHere is a basic example for windows server.\n\n**HCL2**\n\n```hcl\nvariable \"access_key\" {\n  type    = string\n  # default = \"your_access_key\"\n}\n\nvariable \"secret_key\" {\n  type    = string\n  # default = \"your_secret_key\"\n}\n\nlocals {\n  timestamp = regex_replace(timestamp(), \"[- TZ:]\", \"\")\n}\n\nsource \"ncloud\" \"example-windows\" {\n  access_key                            = \"${var.access_key}\"\n  secret_key                            = \"${var.secret_key}\"\n  server_image_product_code             = \"SW.VSVR.OS.WND64.WND.SVR2016EN.B100\" // for VPC environment.\n  # server_image_product_code           = \"SPSW0WINNTEN0016\"  // for CLASSIC environment.\n  server_image_name                     = \"packer-${local.timestamp}\"\n  server_image_description              = \"server image description\"\n  user_data                             = \"CreateObject(\\\"WScript.Shell\\\").run(\\\"cmd.exe /c powershell Set-ExecutionPolicy RemoteSigned & winrm quickconfig -q & sc config WinRM start= auto & winrm set winrm/config/service/auth @{Basic=\\\"\\\"true\\\"\\\"} & winrm set winrm/config/service @{AllowUnencrypted=\\\"\\\"true\\\"\\\"} & winrm get winrm/config/service\\\")\"\n  region_code                           = \"KR\"\n  support_vpc                           = true // Remove this if you use CLASSIC environment.\n  # vpc_no                                = \"{{YOUR_VPC_ID}}\" // Remove this if you use CLASSIC environment.\n  # subnet_no                             = \"{{YOUR_SUBNET_ID}}\" // Remove this if you use CLASSIC environment.\n  communicator                          = \"winrm\"\n  winrm_username                        = \"Administrator\"\n  # access_control_group_no             = \"{{YOUR_ACG_ID}}\" // Specific ACG ID allowed port (5985) if you use CLASSIC environment.\n  # site                                = \"fin\" or \"gov\" // if you use FINANCE or GOVERNMENT environment\n}\n\nbuild {\n  sources = [\"source.ncloud.example-windows\"]\n\n  provisioner \"powershell\" {\n    inline = [\n      \"Write-Output 1,2,3 | Measure-Object\"\n    ]\n  }\n}\n```\n\n**JSON**\n\n```json\n{\n  \"variables\": {\n    \"ncloud_access_key\": \"{{env `NCLOUD_ACCESS_KEY`}}\",\n    \"ncloud_secret_key\": \"{{env `NCLOUD_SECRET_KEY`}}\"\n  },\n  \"builders\": [\n    {\n      \"type\": \"ncloud\",\n      \"access_key\": \"{{user `ncloud_access_key`}}\",\n      \"secret_key\": \"{{user `ncloud_secret_key`}}\",\n      \"server_image_product_code\": \"SPSW0WINNTEN0016\",\n      \"server_image_name\": \"packer-test {{timestamp}}\",\n      \"server_image_description\": \"server description\",\n      \"user_data\": \"CreateObject(\\\"WScript.Shell\\\").run(\\\"cmd.exe /c powershell Set-ExecutionPolicy RemoteSigned & winrm quickconfig -q & sc config WinRM start= auto & winrm set winrm/config/service/auth @{Basic=\\\"\\\"true\\\"\\\"} & winrm set winrm/config/service @{AllowUnencrypted=\\\"\\\"true\\\"\\\"} & winrm get winrm/config/service\\\")\",\n      \"region_code\": \"KR\",\n      \"communicator\": \"winrm\",\n      \"winrm_username\": \"Administrator\"\n    }\n  ],\n  \"provisioners\": [\n    {\n      \"type\": \"powershell\",\n      \"inline\": [\"Write-Output 1,2,3 | Measure-Object\"]\n    }\n  ]\n}\n```\n\n\n-> **Warning:** Please note that if you're setting up WinRM for provisioning, you'll probably want to turn it off or restrict its permissions as part of a shutdown script at the end of Packer's provisioning process. For more details on the why/how, check out this useful blog post and the associated code:\nhttps://cloudywindows.io/post/winrm-for-provisioning-close-the-door-on-the-way-out-eh/\n\nHere is a basic example for linux server.\n\n**HCL2**\n\n```hcl\nvariable \"access_key\" {\n  type    = string\n  # default = \"your_access_key\"\n}\n\nvariable \"secret_key\" {\n  type    = string\n  # default = \"your_secret_key\"\n}\n\nlocals {\n  timestamp = regex_replace(timestamp(), \"[- TZ:]\", \"\")\n}\n\nsource \"ncloud\" \"example-linux\" {\n  access_key                = \"${var.access_key}\"\n  secret_key                = \"${var.secret_key}\"\n  server_image_product_code = \"SW.VSVR.OS.LNX64.CNTOS.0708.B050\" // for VPC environment.\n  # server_image_product_code = \"SPSW0LINUX000044\" // for CLASSIC environment.\n  server_image_name         = \"packer-${local.timestamp}\"\n  server_image_description  = \"server image description\"\n  region_code               = \"KR\"\n  support_vpc               = true // Remove this if you use CLASSIC environment.\n  # vpc_no                    = \"{{YOUR_VPC_ID}}\" // Remove this if you use CLASSIC environment.\n  # subnet_no                 = \"{{YOUR_SUBNET_ID}}\" // Remove this if you use CLASSIC environment.\n  communicator              = \"ssh\"\n  ssh_username              = \"root\"\n  # site                    = \"fin\" or \"gov\" // if you use FINANCE or GOVERNMENT environment\n}\n\nbuild {\n  sources = [\"source.ncloud.example-linux\"]\n\n  provisioner \"shell\" {\n    inline = [\n      \"echo Connected via SSM at '${build.User}@${build.Host}:${build.Port}'\"\n    ]\n  }\n}\n```\n\n**JSON**\n\n```json\n{\n  \"variables\": {\n    \"ncloud_access_key\": \"{{env `NCLOUD_ACCESS_KEY`}}\",\n    \"ncloud_secret_key\": \"{{env `NCLOUD_SECRET_KEY`}}\"\n  },\n  \"builders\": [\n    {\n      \"type\": \"ncloud\",\n      \"access_key\": \"{{user `ncloud_access_key`}}\",\n      \"secret_key\": \"{{user `ncloud_secret_key`}}\",\n      \"server_image_product_code\": \"SPSW0LINUX000044\",\n      \"server_image_name\": \"packer-test {{timestamp}}\",\n      \"server_image_description\": \"server description\",\n      \"region_code\": \"KR\",\n      \"communicator\": \"ssh\",\n      \"ssh_username\": \"root\"\n    }\n  ],\n  \"provisioners\": [\n    {\n      \"type\": \"shell\",\n      \"inline\": [\n        \"echo Connected via SSM at '${build.User}@${build.Host}:${build.Port}'\"\n      ]\n    }\n  ]\n}\n```\n\n\n## Requirements for creating Windows images\n\nYou should include the following code in the Packer configuration file for\nprovision when creating a Windows server.\n\n```json\n  \"builders\": [\n    {\n      \"type\": \"ncloud\",\n      ...\n      \"user_data\":\n        \"CreateObject(\\\"WScript.Shell\\\").run(\\\"cmd.exe /c powershell Set-ExecutionPolicy RemoteSigned & winrm set winrm/config/service/auth @{Basic=\\\"\\\"true\\\"\\\"} & winrm set winrm/config/service @{AllowUnencrypted=\\\"\\\"true\\\"\\\"} & winrm quickconfig -q & sc config WinRM start= auto & winrm get winrm/config/service\\\")\",\n      \"communicator\": \"winrm\",\n      \"winrm_username\": \"Administrator\"\n    }\n  ],\n  \"provisioners\": [\n    {\n      \"type\": \"powershell\",\n      \"inline\": [\n        \"$Env:SystemRoot\\\\System32\\\\Sysprep\\\\Sysprep.exe /oobe /generalize /shutdown /quiet /mode:vm \\\"/unattend:C:\\\\Program Files (x86)\\\\NBP\\\\nserver64.xml\\\" \"\n      ]\n    }\n  ]\n```\n\n## Note\n\n- You can only create as many public IP addresses as the number of server\n  instances you own. Before running Packer, please make sure that the number\n  of public IP addresses previously created is not larger than the number of\n  server instances (including those to be used to create server images).\n- When you forcibly terminate the Packer process or close the terminal\n  (command) window where the process is running, the resources may not be\n  cleaned up as the Packer process no longer runs. In this case, you should\n  manually clean up the resources associated with the process.\n","created_at":"2023-11-01T09:23:02.071Z","updated_at":"2023-11-01T09:23:02.071Z","name":"Naver Cloud Platform","slug":"ncloud","component":{"id":"36076511-3ced-4faf-addf-101fce0405ff","slug":"builder","name":"Builder","plural_name":"Builders","product_id":"4c2b00c6-7cc1-4e4c-b596-4ab57e319f21","created_at":"2022-11-09T22:56:30.937Z","updated_at":"2022-11-09T22:56:30.937Z"},"variable_groups":[]},"processedVariablesMarkdown":{},"anchorLinks":[{"id":"configuration-reference","level":2,"title":"Configuration Reference"},{"id":"required:","level":3,"title":"Required:"},{"id":"optional:","level":3,"title":"Optional:"},{"id":"basic-example","level":2,"title":"Basic Example"},{"id":"requirements-for-creating-windows-images","level":2,"title":"Requirements for creating Windows images"},{"id":"note","level":2,"title":"Note"}],"serializedREADME":{"compiledSource":"var i=Object.defineProperty,l=Object.defineProperties;var d=Object.getOwnPropertyDescriptors;var t=Object.getOwnPropertySymbols;var o=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;var c=(a,n,s)=>n in a?i(a,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):a[n]=s,e=(a,n)=>{for(var s in n||(n={}))o.call(n,s)&&c(a,s,n[s]);if(t)for(var s of t(n))r.call(n,s)&&c(a,s,n[s]);return a},m=(a,n)=>l(a,d(n));var N=(a,n)=>{var s={};for(var p in a)o.call(a,p)&&n.indexOf(p)<0&&(s[p]=a[p]);if(a!=null&&t)for(var p of t(a))n.indexOf(p)<0&&r.call(a,p)&&(s[p]=a[p]);return s};const layoutProps={},MDXLayout=\"wrapper\";function MDXContent(s){var p=s,{components:a}=p,n=N(p,[\"components\"]);return mdx(MDXLayout,m(e(e({},layoutProps),n),{components:a,mdxType:\"MDXLayout\"}),mdx(\"p\",e({},{className:\"g-type-long-body\"}),\"Type: \",mdx(\"inlineCode\",{parentName:\"p\"},\"ncloud\"),`\nArtifact BuilderId: `,mdx(\"inlineCode\",{parentName:\"p\"},\"ncloud.server.image\")),mdx(\"p\",e({},{className:\"g-type-long-body\"}),\"The \",mdx(\"inlineCode\",{parentName:\"p\"},\"ncloud\"),\" builder allows you to create server images using the \",mdx(\"a\",e({parentName:\"p\"},{href:\"https://www.ncloud.com/\"}),`NAVER Cloud\nPlatform`),\".\"),mdx(\"h2\",e({},{id:\"user-content-configuration-reference\",\"data-text-content\":\"Configuration Reference\",className:\"g-type-display-3\"}),\"Configuration Reference\"),mdx(\"h3\",e({},{id:\"user-content-required:\",\"data-text-content\":\"Required\",className:\"g-type-display-4\"}),\"Required:\"),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"inlineCode\",{parentName:\"p\"},\"access_key\"),\" (string) - User's access key. Go to \",mdx(\"a\",e({parentName:\"p\"},{href:\"https://www.ncloud.com/mypage/manage/authkey\"}),\"[\",\"Account Management \",\">\",\" Authentication Key\",\"]\"),\" to create and view your authentication key.\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"inlineCode\",{parentName:\"p\"},\"secret_key\"),\" (string) - User's secret key paired with the access key. Go to \",mdx(\"a\",e({parentName:\"p\"},{href:\"https://www.ncloud.com/mypage/manage/authkey\"}),\"[\",\"Account Management \",\">\",\" Authentication Key\",\"]\"),\" to create and view your authentication key.\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"inlineCode\",{parentName:\"p\"},\"server_image_product_code\"),` (string) - Product code of an image to create.\n(member_server_image_no is required if not specified)`))),mdx(\"h3\",e({},{id:\"user-content-optional:\",\"data-text-content\":\"Optional\",className:\"g-type-display-4\"}),\"Optional:\"),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"inlineCode\",{parentName:\"p\"},\"server_product_code\"),\" (string) - Product (spec) code to create.\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"inlineCode\",{parentName:\"p\"},\"support_vpc\"),\" (bool) - Whether to use VPC without specific vpc or subnet. Packer will try find public subnet in entire vpc if you set this value \",mdx(\"inlineCode\",{parentName:\"p\"},\"true\"),`.\n(You are required to least one three parameters if u want using VPC environment: `,mdx(\"inlineCode\",{parentName:\"p\"},\"support_vpc\"),\" or \",mdx(\"inlineCode\",{parentName:\"p\"},\"vpc_no\"),\" or \",mdx(\"inlineCode\",{parentName:\"p\"},\"subnet_no\"),\")\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"inlineCode\",{parentName:\"p\"},\"vpc_no\"),\" (string) - The ID of the VPC where you want to place the Server Instance. If this field is left blank, Packer will try to get the VPC ID from the \",mdx(\"inlineCode\",{parentName:\"p\"},\"subnet_no\"),` or exists public subnet.\n(You are required to least one three parameters if u want using VPC environment: `,mdx(\"inlineCode\",{parentName:\"p\"},\"support_vpc\"),\" or \",mdx(\"inlineCode\",{parentName:\"p\"},\"vpc_no\"),\" or \",mdx(\"inlineCode\",{parentName:\"p\"},\"subnet_no\"),\")\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"inlineCode\",{parentName:\"p\"},\"subnet_no\"),` (string) - The ID of the Subnet where you want to place the Server Instance. This field is required if you are using an specific subnets.\n(You are required to least one three parameters if u want using VPC environment: `,mdx(\"inlineCode\",{parentName:\"p\"},\"support_vpc\"),\" or \",mdx(\"inlineCode\",{parentName:\"p\"},\"vpc_no\"),\" or \",mdx(\"inlineCode\",{parentName:\"p\"},\"subnet_no\"),\")\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"inlineCode\",{parentName:\"p\"},\"member_server_image_no\"),` (string) - Previous image code. If there is an\nimage previously created, it can be used to create a new image.\n(server_image_product_code is required if not specified)`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"inlineCode\",{parentName:\"p\"},\"server_image_name\"),\" (string) - Name of an image to create.\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"inlineCode\",{parentName:\"p\"},\"server_image_description\"),\" (string) - Description of an image to create.\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"inlineCode\",{parentName:\"p\"},\"block_storage_size\"),\" (int) - You can add block storage ranging from 10GB to 2000 GB, in increments of 10 GB.\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"inlineCode\",{parentName:\"p\"},\"access_control_group_no\"),` (string) - This is used to allow\nwinrm access when you create a Windows server. An ACG that specifies an\naccess source (0.0.0.0/0) and allowed port (5985) must be created in\nadvance if you use CLASSIC env. If this field is left blank,\nPacker will create temporary ACG for automatically in VPC environment.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"inlineCode\",{parentName:\"p\"},\"user_data\"),` (string) - User data to apply when launching the instance. Note\nthat you need to be careful about escaping characters due to the templates\nbeing JSON. It is often more convenient to use user_data_file, instead.\nPacker will not automatically wait for a user script to finish before\nshutting down the instance this must be handled in a provisioner.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"inlineCode\",{parentName:\"p\"},\"user_data_file\"),` (string) - Path to a file that will be used for the user\ndata when launching the instance.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"inlineCode\",{parentName:\"p\"},\"region\"),\" (string) - The name of the region where you want to create an image. Such as \",mdx(\"inlineCode\",{parentName:\"p\"},\"Korea\"),\". To be deprecated\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"inlineCode\",{parentName:\"p\"},\"region_code\"),` (string) - The code of the region where you want to create an image. Such as KR.\n(pub or gov default: KR) (fin default: FKR)`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"inlineCode\",{parentName:\"p\"},\"site\"),\" (string) - The ncloud site. Available sites are public(\",mdx(\"inlineCode\",{parentName:\"p\"},\"www.ncloud.com\"),\"), gov(\",mdx(\"inlineCode\",{parentName:\"p\"},\"www.gov-ncloud.com\"),\") and fin(\",mdx(\"inlineCode\",{parentName:\"p\"},\"www.fin-ncloud.com\"),\") (default: public)\"),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},\"values: public / gov / fin\")))),mdx(\"h2\",e({},{id:\"user-content-basic-example\",\"data-text-content\":\"Basic Example\",className:\"g-type-display-3\"}),\"Basic Example\"),mdx(\"p\",e({},{className:\"g-type-long-body\"}),\"Here is a basic example for windows server.\"),mdx(\"p\",e({},{className:\"g-type-long-body\"}),mdx(\"strong\",{parentName:\"p\"},\"HCL2\")),mdx(\"pre\",e({},{className:\"language-hcl\"}),mdx(\"code\",e({parentName:\"pre\"},{className:\"language-hcl\"}),mdx(\"span\",e({parentName:\"code\"},{className:\"token keyword\"}),\"variable\",mdx(\"span\",e({parentName:\"span\"},{className:\"token type variable\"}),' \"access_key\" ')),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"type\"),\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" string\",`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token comment\"}),'# default = \"your_access_key\"'),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token keyword\"}),\"variable\",mdx(\"span\",e({parentName:\"span\"},{className:\"token type variable\"}),' \"secret_key\" ')),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"type\"),\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" string\",`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token comment\"}),'# default = \"your_secret_key\"'),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token keyword\"}),\"locals\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"timestamp\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" regex_replace(timestamp(), \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"[- TZ:]\"'),\", \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"\"'),\")\",`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,`\n`,\"source \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"ncloud\"'),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"example-windows\"'),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"access_key\"),\"                            \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"',mdx(\"span\",e({parentName:\"span\"},{className:\"token interpolation\"}),mdx(\"span\",e({parentName:\"span\"},{className:\"token punctuation\"}),\"$\"),mdx(\"span\",e({parentName:\"span\"},{className:\"token punctuation\"}),\"{\"),mdx(\"span\",e({parentName:\"span\"},{className:\"token keyword\"}),\"var\"),mdx(\"span\",e({parentName:\"span\"},{className:\"token punctuation\"}),\".\"),mdx(\"span\",e({parentName:\"span\"},{className:\"token type variable\"}),\"access_key\"),mdx(\"span\",e({parentName:\"span\"},{className:\"token punctuation\"}),\"}\")),'\"'),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"secret_key\"),\"                            \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"',mdx(\"span\",e({parentName:\"span\"},{className:\"token interpolation\"}),mdx(\"span\",e({parentName:\"span\"},{className:\"token punctuation\"}),\"$\"),mdx(\"span\",e({parentName:\"span\"},{className:\"token punctuation\"}),\"{\"),mdx(\"span\",e({parentName:\"span\"},{className:\"token keyword\"}),\"var\"),mdx(\"span\",e({parentName:\"span\"},{className:\"token punctuation\"}),\".\"),mdx(\"span\",e({parentName:\"span\"},{className:\"token type variable\"}),\"secret_key\"),mdx(\"span\",e({parentName:\"span\"},{className:\"token punctuation\"}),\"}\")),'\"'),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"server_image_product_code\"),\"             \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"SW.VSVR.OS.WND64.WND.SVR2016EN.B100\"'),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token comment\"}),\"// for VPC environment.\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token comment\"}),'# server_image_product_code           = \"SPSW0WINNTEN0016\"  // for CLASSIC environment.'),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"server_image_name\"),\"                     \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"packer-',mdx(\"span\",e({parentName:\"span\"},{className:\"token interpolation\"}),mdx(\"span\",e({parentName:\"span\"},{className:\"token punctuation\"}),\"$\"),mdx(\"span\",e({parentName:\"span\"},{className:\"token punctuation\"}),\"{\"),mdx(\"span\",e({parentName:\"span\"},{className:\"token keyword\"}),\"local\"),mdx(\"span\",e({parentName:\"span\"},{className:\"token punctuation\"}),\".\"),mdx(\"span\",e({parentName:\"span\"},{className:\"token type variable\"}),\"timestamp\"),mdx(\"span\",e({parentName:\"span\"},{className:\"token punctuation\"}),\"}\")),'\"'),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"server_image_description\"),\"              \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"server image description\"'),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"user_data\"),\"                             \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"CreateObject(\\\\\"WScript.Shell\\\\\").run(\\\\\"cmd.exe /c powershell Set-ExecutionPolicy RemoteSigned & winrm quickconfig -q & sc config WinRM start= auto & winrm set winrm/config/service/auth @{Basic=\\\\\"\\\\\"true\\\\\"\\\\\"} & winrm set winrm/config/service @{AllowUnencrypted=\\\\\"\\\\\"true\\\\\"\\\\\"} & winrm get winrm/config/service\\\\\")\"'),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"region_code\"),\"                           \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"KR\"'),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"support_vpc\"),\"                           \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token boolean\"}),\"true\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token comment\"}),\"// Remove this if you use CLASSIC environment.\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token comment\"}),'# vpc_no                                = \"{{YOUR_VPC_ID}}\" // Remove this if you use CLASSIC environment.'),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token comment\"}),'# subnet_no                             = \"{{YOUR_SUBNET_ID}}\" // Remove this if you use CLASSIC environment.'),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"communicator\"),\"                          \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"winrm\"'),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"winrm_username\"),\"                        \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"Administrator\"'),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token comment\"}),'# access_control_group_no             = \"{{YOUR_ACG_ID}}\" // Specific ACG ID allowed port (5985) if you use CLASSIC environment.'),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token comment\"}),'# site                                = \"fin\" or \"gov\" // if you use FINANCE or GOVERNMENT environment'),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token keyword\"}),\"build\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"sources\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"source.ncloud.example-windows\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),`\n`,`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token keyword\"}),\"provisioner\",mdx(\"span\",e({parentName:\"span\"},{className:\"token type variable\"}),' \"powershell\" ')),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"inline\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),`\n`,\"      \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"Write-Output 1,2,3 | Measure-Object\"'),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`)),mdx(\"p\",e({},{className:\"g-type-long-body\"}),mdx(\"strong\",{parentName:\"p\"},\"JSON\")),mdx(\"pre\",e({},{className:\"language-json\"}),mdx(\"code\",e({parentName:\"pre\"},{className:\"language-json\"}),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"variables\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"ncloud_access_key\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"{{env `NCLOUD_ACCESS_KEY`}}\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"ncloud_secret_key\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"{{env `NCLOUD_SECRET_KEY`}}\"'),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"builders\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"      \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"type\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"ncloud\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"      \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"access_key\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"{{user `ncloud_access_key`}}\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"      \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"secret_key\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"{{user `ncloud_secret_key`}}\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"      \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"server_image_product_code\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"SPSW0WINNTEN0016\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"      \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"server_image_name\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"packer-test {{timestamp}}\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"      \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"server_image_description\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"server description\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"      \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"user_data\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"CreateObject(\\\\\"WScript.Shell\\\\\").run(\\\\\"cmd.exe /c powershell Set-ExecutionPolicy RemoteSigned & winrm quickconfig -q & sc config WinRM start= auto & winrm set winrm/config/service/auth @{Basic=\\\\\"\\\\\"true\\\\\"\\\\\"} & winrm set winrm/config/service @{AllowUnencrypted=\\\\\"\\\\\"true\\\\\"\\\\\"} & winrm get winrm/config/service\\\\\")\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"      \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"region_code\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"KR\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"      \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"communicator\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"winrm\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"      \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"winrm_username\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"Administrator\"'),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"provisioners\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"      \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"type\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"powershell\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"      \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"inline\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"Write-Output 1,2,3 | Measure-Object\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`)),mdx(\"div\",e({},{className:\"alert alert-info g-type-body\"}),mdx(\"p\",e({parentName:\"div\"},{className:\"g-type-long-body\"}),\"\",mdx(\"strong\",{parentName:\"p\"},\"Warning:\"),` Please note that if you're setting up WinRM for provisioning, you'll probably want to turn it off or restrict its permissions as part of a shutdown script at the end of Packer's provisioning process. For more details on the why/how, check out this useful blog post and the associated code:\n`,mdx(\"a\",e({parentName:\"p\"},{href:\"https://cloudywindows.io/post/winrm-for-provisioning-close-the-door-on-the-way-out-eh/\"}),\"https://cloudywindows.io/post/winrm-for-provisioning-close-the-door-on-the-way-out-eh/\"))),mdx(\"p\",e({},{className:\"g-type-long-body\"}),\"Here is a basic example for linux server.\"),mdx(\"p\",e({},{className:\"g-type-long-body\"}),mdx(\"strong\",{parentName:\"p\"},\"HCL2\")),mdx(\"pre\",e({},{className:\"language-hcl\"}),mdx(\"code\",e({parentName:\"pre\"},{className:\"language-hcl\"}),mdx(\"span\",e({parentName:\"code\"},{className:\"token keyword\"}),\"variable\",mdx(\"span\",e({parentName:\"span\"},{className:\"token type variable\"}),' \"access_key\" ')),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"type\"),\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" string\",`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token comment\"}),'# default = \"your_access_key\"'),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token keyword\"}),\"variable\",mdx(\"span\",e({parentName:\"span\"},{className:\"token type variable\"}),' \"secret_key\" ')),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"type\"),\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" string\",`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token comment\"}),'# default = \"your_secret_key\"'),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token keyword\"}),\"locals\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"timestamp\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" regex_replace(timestamp(), \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"[- TZ:]\"'),\", \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"\"'),\")\",`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,`\n`,\"source \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"ncloud\"'),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"example-linux\"'),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"access_key\"),\"                \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"',mdx(\"span\",e({parentName:\"span\"},{className:\"token interpolation\"}),mdx(\"span\",e({parentName:\"span\"},{className:\"token punctuation\"}),\"$\"),mdx(\"span\",e({parentName:\"span\"},{className:\"token punctuation\"}),\"{\"),mdx(\"span\",e({parentName:\"span\"},{className:\"token keyword\"}),\"var\"),mdx(\"span\",e({parentName:\"span\"},{className:\"token punctuation\"}),\".\"),mdx(\"span\",e({parentName:\"span\"},{className:\"token type variable\"}),\"access_key\"),mdx(\"span\",e({parentName:\"span\"},{className:\"token punctuation\"}),\"}\")),'\"'),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"secret_key\"),\"                \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"',mdx(\"span\",e({parentName:\"span\"},{className:\"token interpolation\"}),mdx(\"span\",e({parentName:\"span\"},{className:\"token punctuation\"}),\"$\"),mdx(\"span\",e({parentName:\"span\"},{className:\"token punctuation\"}),\"{\"),mdx(\"span\",e({parentName:\"span\"},{className:\"token keyword\"}),\"var\"),mdx(\"span\",e({parentName:\"span\"},{className:\"token punctuation\"}),\".\"),mdx(\"span\",e({parentName:\"span\"},{className:\"token type variable\"}),\"secret_key\"),mdx(\"span\",e({parentName:\"span\"},{className:\"token punctuation\"}),\"}\")),'\"'),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"server_image_product_code\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"SW.VSVR.OS.LNX64.CNTOS.0708.B050\"'),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token comment\"}),\"// for VPC environment.\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token comment\"}),'# server_image_product_code = \"SPSW0LINUX000044\" // for CLASSIC environment.'),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"server_image_name\"),\"         \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"packer-',mdx(\"span\",e({parentName:\"span\"},{className:\"token interpolation\"}),mdx(\"span\",e({parentName:\"span\"},{className:\"token punctuation\"}),\"$\"),mdx(\"span\",e({parentName:\"span\"},{className:\"token punctuation\"}),\"{\"),mdx(\"span\",e({parentName:\"span\"},{className:\"token keyword\"}),\"local\"),mdx(\"span\",e({parentName:\"span\"},{className:\"token punctuation\"}),\".\"),mdx(\"span\",e({parentName:\"span\"},{className:\"token type variable\"}),\"timestamp\"),mdx(\"span\",e({parentName:\"span\"},{className:\"token punctuation\"}),\"}\")),'\"'),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"server_image_description\"),\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"server image description\"'),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"region_code\"),\"               \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"KR\"'),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"support_vpc\"),\"               \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token boolean\"}),\"true\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token comment\"}),\"// Remove this if you use CLASSIC environment.\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token comment\"}),'# vpc_no                    = \"{{YOUR_VPC_ID}}\" // Remove this if you use CLASSIC environment.'),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token comment\"}),'# subnet_no                 = \"{{YOUR_SUBNET_ID}}\" // Remove this if you use CLASSIC environment.'),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"communicator\"),\"              \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"ssh\"'),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"ssh_username\"),\"              \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"root\"'),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token comment\"}),'# site                    = \"fin\" or \"gov\" // if you use FINANCE or GOVERNMENT environment'),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token keyword\"}),\"build\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"sources\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"source.ncloud.example-linux\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),`\n`,`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token keyword\"}),\"provisioner\",mdx(\"span\",e({parentName:\"span\"},{className:\"token type variable\"}),' \"shell\" ')),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"inline\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),`\n`,\"      \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),`\"echo Connected via SSM at '`,mdx(\"span\",e({parentName:\"span\"},{className:\"token interpolation\"}),mdx(\"span\",e({parentName:\"span\"},{className:\"token punctuation\"}),\"$\"),mdx(\"span\",e({parentName:\"span\"},{className:\"token punctuation\"}),\"{\"),\"build\",mdx(\"span\",e({parentName:\"span\"},{className:\"token punctuation\"}),\".\"),\"User\",mdx(\"span\",e({parentName:\"span\"},{className:\"token punctuation\"}),\"}\")),\"@\",mdx(\"span\",e({parentName:\"span\"},{className:\"token interpolation\"}),mdx(\"span\",e({parentName:\"span\"},{className:\"token punctuation\"}),\"$\"),mdx(\"span\",e({parentName:\"span\"},{className:\"token punctuation\"}),\"{\"),\"build\",mdx(\"span\",e({parentName:\"span\"},{className:\"token punctuation\"}),\".\"),\"Host\",mdx(\"span\",e({parentName:\"span\"},{className:\"token punctuation\"}),\"}\")),\":\",mdx(\"span\",e({parentName:\"span\"},{className:\"token interpolation\"}),mdx(\"span\",e({parentName:\"span\"},{className:\"token punctuation\"}),\"$\"),mdx(\"span\",e({parentName:\"span\"},{className:\"token punctuation\"}),\"{\"),\"build\",mdx(\"span\",e({parentName:\"span\"},{className:\"token punctuation\"}),\".\"),\"Port\",mdx(\"span\",e({parentName:\"span\"},{className:\"token punctuation\"}),\"}\")),`'\"`),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`)),mdx(\"p\",e({},{className:\"g-type-long-body\"}),mdx(\"strong\",{parentName:\"p\"},\"JSON\")),mdx(\"pre\",e({},{className:\"language-json\"}),mdx(\"code\",e({parentName:\"pre\"},{className:\"language-json\"}),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"variables\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"ncloud_access_key\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"{{env `NCLOUD_ACCESS_KEY`}}\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"ncloud_secret_key\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"{{env `NCLOUD_SECRET_KEY`}}\"'),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"builders\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"      \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"type\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"ncloud\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"      \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"access_key\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"{{user `ncloud_access_key`}}\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"      \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"secret_key\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"{{user `ncloud_secret_key`}}\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"      \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"server_image_product_code\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"SPSW0LINUX000044\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"      \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"server_image_name\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"packer-test {{timestamp}}\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"      \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"server_image_description\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"server description\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"      \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"region_code\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"KR\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"      \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"communicator\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"ssh\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"      \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"ssh_username\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"root\"'),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"provisioners\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"      \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"type\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"shell\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"      \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"inline\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),`\n`,\"        \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),\"\\\"echo Connected via SSM at '${build.User}@${build.Host}:${build.Port}'\\\"\"),`\n`,\"      \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`)),mdx(\"h2\",e({},{id:\"user-content-requirements-for-creating-windows-images\",\"data-text-content\":\"Requirements for creating Windows images\",className:\"g-type-display-3\"}),\"Requirements for creating Windows images\"),mdx(\"p\",e({},{className:\"g-type-long-body\"}),`You should include the following code in the Packer configuration file for\nprovision when creating a Windows server.`),mdx(\"pre\",e({},{className:\"language-json\"}),mdx(\"code\",e({parentName:\"pre\"},{className:\"language-json\"}),\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"builders\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"      \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"type\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"ncloud\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"      ...\",`\n`,\"      \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"user_data\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),`\n`,\"        \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"CreateObject(\\\\\"WScript.Shell\\\\\").run(\\\\\"cmd.exe /c powershell Set-ExecutionPolicy RemoteSigned & winrm set winrm/config/service/auth @{Basic=\\\\\"\\\\\"true\\\\\"\\\\\"} & winrm set winrm/config/service @{AllowUnencrypted=\\\\\"\\\\\"true\\\\\"\\\\\"} & winrm quickconfig -q & sc config WinRM start= auto & winrm get winrm/config/service\\\\\")\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"      \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"communicator\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"winrm\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"      \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"winrm_username\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"Administrator\"'),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"provisioners\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"      \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"type\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"powershell\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"      \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"inline\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),`\n`,\"        \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"$Env:SystemRoot\\\\\\\\System32\\\\\\\\Sysprep\\\\\\\\Sysprep.exe /oobe /generalize /shutdown /quiet /mode:vm \\\\\"/unattend:C:\\\\\\\\Program Files (x86)\\\\\\\\NBP\\\\\\\\nserver64.xml\\\\\" \"'),`\n`,\"      \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),`\n`)),mdx(\"h2\",e({},{id:\"user-content-note\",\"data-text-content\":\"Note\",className:\"g-type-display-3\"}),\"Note\"),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},`You can only create as many public IP addresses as the number of server\ninstances you own. Before running Packer, please make sure that the number\nof public IP addresses previously created is not larger than the number of\nserver instances (including those to be used to create server images).`),mdx(\"li\",{parentName:\"ul\"},`When you forcibly terminate the Packer process or close the terminal\n(command) window where the process is running, the resources may not be\ncleaned up as the Packer process no longer runs. In this case, you should\nmanually clean up the resources associated with the process.`)))}MDXContent.isMDXComponent=!0;\n","scope":{}},"breadcrumbLinks":[{"title":"Developer","url":"/"},{"title":"Packer","url":"/packer"},{"title":"Integrations","url":"/packer/integrations"},{"title":"Naver Cloud","url":"/packer/integrations/hashicorp/ncloud","isCurrentPage":false},{"title":"v1.1.2","url":"/packer/integrations/hashicorp/ncloud/v1.1.2","isCurrentPage":false},{"title":"Components"},{"title":"Builder"},{"title":"Naver Cloud Platform","url":"/packer/integrations/hashicorp/ncloud/latest/components/builder/ncloud","isCurrentPage":true}]},"__N_SSG":true}