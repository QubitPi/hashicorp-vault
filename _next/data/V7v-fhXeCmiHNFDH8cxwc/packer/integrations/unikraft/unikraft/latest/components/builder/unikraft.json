{"pageProps":{"metadata":{"title":"Unikraft Builder | Integrations"},"product":{"name":"Packer","slug":"packer","algoliaConfig":{"indexName":"product_PACKER","searchOnlyApiKey":"4e1ea7f4bf4335ac43d9f28463e42148"},"analyticsConfig":{"includedDomains":"packer.io www.packer.io","segmentWriteKey":"AjXdfmTTk1I9q9dfyePuDFHBrz1tCO3l"},"datoToken":"88b4984480dad56295a8aadae6caad","metadata":{"title":"Packer by HashiCorp","description":"Packer helps you create golden images for multiple platforms from a single source configuration.","image":"https://www.packer.io/packer-public/img/og-image.png","icon":[{"href":"/packer-public/_favicon.ico"}]},"alertBannerActive":true,"alertBanner":{"tag":"HashiConf","url":"https://hashiconf.com/2023?utm_source=direct&utm_medium=banner&utm_campaign=23Q3_HASHICONFGLOBAL_EVENT&utm_content=&utm_offer=event","text":"Our community conference is taking place in San Francisco and online October 10-12.","linkText":"Register now","expirationDate":""},"version":"1.7.10","basePaths":["docs","guides","intro","downloads"],"rootDocsPaths":[{"iconName":"docs","name":"Documentation","path":"docs"},{"iconName":"guide","name":"Guides","path":"guides"}],"integrationsConfig":{"description":"A curated collection of official, partner, and community Packer Integrations."}},"integration":{"id":"a85ede83-8139-4aa8-a24f-1b69a127a2e6","slug":"unikraft","name":"Unikraft","description":"The Unikraft plugin uses kraftkit to create and package runnable Unikraft unikernel images.","license_type":"MPL-2.0","license_url":"https://github.com/unikraft/packer-plugin-unikraft/blob/main/LICENSE","external_only":false,"external_url":null,"tier":"partner","repo_url":"https://github.com/unikraft/packer-plugin-unikraft","subdirectory":"/.web-docs","created_at":"2023-12-14T20:32:43.271Z","updated_at":"2024-02-21T19:28:18.954Z","hide_versions":false,"organization":{"id":"16d14939-f0a4-4fe9-abad-ba17a36f7238","slug":"unikraft","created_at":"2023-12-14T20:32:42.378Z","updated_at":"2023-12-14T20:32:42.378Z"},"product":{"id":"4c2b00c6-7cc1-4e4c-b596-4ab57e319f21","slug":"packer","name":"Packer","created_at":"2022-11-09T22:56:29.896Z","updated_at":"2022-11-09T22:56:29.896Z"},"versions":["0.2.0"],"components":[{"id":"36076511-3ced-4faf-addf-101fce0405ff","slug":"builder","name":"Builder","plural_name":"Builders"},{"id":"73965f1c-ad56-4f38-a31b-dc17d08c0ba6","slug":"post-processor","name":"Post-Processor","plural_name":"Post-Processors"}],"flags":[],"integration_type":null},"activeRelease":{"id":"ee17a29a-99cb-40d6-a79c-2bd7ce70d92e","integration_id":"a85ede83-8139-4aa8-a24f-1b69a127a2e6","version":"0.2.0","readme":"# Packer Plugin Unikraft\nThe `Unikraft` multi-component plugin can be used with HashiCorp [Packer](https://www.packer.io)\nto create custom images. For the full list of available features for this plugin see [docs](docs).\n\n## Installation\n\n### Using pre-built releases\n\n#### Using the `packer init` command\n\nStarting from version 1.7, Packer supports a new `packer init` command allowing\nautomatic installation of Packer plugins. Read the\n[Packer documentation](https://www.packer.io/docs/commands/init) for more information.\n\nTo install this plugin, copy and paste this code into your Packer configuration.\nThen, run [`packer init`](https://www.packer.io/docs/commands/init).\n\n```hcl\npacker {\n  required_plugins {\n    unikraft = {\n      version = \">= 0.2.0\"\n      source  = \"github.com/unikraft/unikraft\"\n    }\n  }\n}\n```\n\n\n#### Manual installation\n\nYou can find pre-built binary releases of the plugin [here](https://github.com/unikraft/packer-plugin-unikraft/releases).\nOnce you have downloaded the latest archive corresponding to your target OS,\nuncompress it to retrieve the plugin binary file corresponding to your platform.\nTo install the plugin, please follow the Packer documentation on\n[installing a plugin](https://www.packer.io/docs/extending/plugins/#installing-plugins).\n\n\n### From Sources\n\nIf you prefer to build the plugin from sources, clone the GitHub repository\nlocally and run the command `go build` from the root\ndirectory. Upon successful compilation, a `packer-plugin-unikraft` plugin\nbinary file can be found in the root directory.\nTo install the compiled plugin, please follow the official Packer documentation\non [installing a plugin](https://www.packer.io/docs/extending/plugins/#installing-plugins).\n\n### Components\n\n#### Builders\n\nunikraft - The builder builds Unikraft image using Kraftkit.\n\n#### Post-Processors\n\nunikraft - The post-processor takes build artifacts from the unikraft builder and packages it into an OCI-compatible image.\n","created_at":"2024-01-18T09:01:22.435Z","updated_at":"2024-01-18T09:01:22.435Z","components":[{"id":"bf5a581b-509a-4729-bf4c-bf42f1580008","integration_release_id":"ee17a29a-99cb-40d6-a79c-2bd7ce70d92e","component_id":"36076511-3ced-4faf-addf-101fce0405ff","readme":"The builder uses packer version 1.7.0 and up to create pipelines.\nAfter running the Unikraft builder the end result is one or multiple Unikraft images.\nThey are situated in a build directory which is created by the Unikraft build system.\n\nThe builder wraps around the `kraftkit` build system which relies on `kraft.yaml` files to define builds.\nMoreover, `kraft` itself wraps over the `kconfig` build system of Unikraft.\nAll three together build the images and offer final binaries.\n\n**Required**\n\n- `architecture` (string) - The architecture to build the image for. Example: `x86_64`, `arm64`, `arm`.\n- `platform` (string) - The platform to build the image for. Example: `kvm`, `xen`, `linuxu`.\n- `build_path` (string) - The path to the build directory. This is the directory where the `kraft.yaml` file is located.\n\n**Optional**\n\n- `target` (string) - The name of the image to build.\n- `pull_source` (string) - The name of the application to pull.\n- `workdir` (string) - The path to pull the source to. It's a parent directory of `build_path`.\n- `sources_no_default` (boolean) - Do not pull the default manifest sources. Required when working with custom repositories.\n- `sources` (string list) - The links of the sources to pull.\n- `options` (string) - The options to pass to the build system. Options are separated by spaces and of the format `KEY=value`. Currently disabled.\n- `log_level` (string) - The log level to use. Can be `debug`, `info`, `warn`, `error`, `fatal`, `panic`. Default: `info`.\n\n### Example Usage\n\n\n```hcl\n source \"unikraft-builder\" \"example\" {\n    architecture = \"x86_64\"\n    platform = \"qemu\"\n    build_path = \"/tmp/test/.unikraft/apps/helloworld\"\n    workdir = \"/tmp/test\"\n    pull_source = \"helloworld\"\n    sources_no_default = false\n    sources = [ \"https://github.com/unikraft/app-helloworld\" ]\n    log_level = \"info\"\n }\n\n build {\n   sources = [\"source.unikraft-builder.example\"]\n }\n```\n","created_at":"2024-01-18T09:01:23.267Z","updated_at":"2024-01-18T09:01:23.267Z","name":"Unikraft Kraftkit Building","slug":"unikraft","component":{"id":"36076511-3ced-4faf-addf-101fce0405ff","slug":"builder","name":"Builder","plural_name":"Builders","product_id":"4c2b00c6-7cc1-4e4c-b596-4ab57e319f21","created_at":"2022-11-09T22:56:30.937Z","updated_at":"2022-11-09T22:56:30.937Z"},"variable_groups":[]},{"id":"520ea2e1-d24a-46b8-bed1-fd89cd2d8c2d","integration_release_id":"ee17a29a-99cb-40d6-a79c-2bd7ce70d92e","component_id":"73965f1c-ad56-4f38-a31b-dc17d08c0ba6","readme":"This allows you to export the resulting binary in different formats (e.g. OCI).\n\n**Required**\n\n- `source` (string) - The source directory to create the archive from. The source directory must contain a `kraft.yaml` file.\n- `destination` (string) - The resulting package file. The `destination` must be a valid OCI image name.\n- `architecture` (string) - The architecture of the packaged image.\n- `platform` (string) - The platform of the packaged image.\n\n**Optional**\n\n- `target` (string) - The target of the packaged image.\n- `push` (bool) - If to push the resulting image to the registry.\n- `rootfs` (string) - The path to the rootfs of the packaged image.\n- `log_level` (string) - The log level of the packaged image. Can be `debug`, `info`, `warn`, `error`, `fatal`, `panic`. Default: `info`.\n\n### Example Usage\n\n```hcl\npost-processor \"kraft-pkg\" {\n  source = \"/tmp/example/.unikraft/apps/helloworld\"\n  destination = \"my-registry.io/helloworld:latest\"\n  architecture = \"x86_64\"\n  platform = \"qemu\"\n  rootfs = \"/tmp/example/.unikraft/apps/helloworld/rootfs\"\n  push = true\n  log_level = \"info\"\n}\n```\n","created_at":"2024-01-18T09:01:23.454Z","updated_at":"2024-01-18T09:01:23.454Z","name":"Unikraft Kraftkit Packaging","slug":"unikraft","component":{"id":"73965f1c-ad56-4f38-a31b-dc17d08c0ba6","slug":"post-processor","name":"Post-Processor","plural_name":"Post-Processors","product_id":"4c2b00c6-7cc1-4e4c-b596-4ab57e319f21","created_at":"2022-11-09T22:56:31.157Z","updated_at":"2023-07-26T17:26:54.831Z"},"variable_groups":[]}]},"component":{"id":"bf5a581b-509a-4729-bf4c-bf42f1580008","integration_release_id":"ee17a29a-99cb-40d6-a79c-2bd7ce70d92e","component_id":"36076511-3ced-4faf-addf-101fce0405ff","readme":"The builder uses packer version 1.7.0 and up to create pipelines.\nAfter running the Unikraft builder the end result is one or multiple Unikraft images.\nThey are situated in a build directory which is created by the Unikraft build system.\n\nThe builder wraps around the `kraftkit` build system which relies on `kraft.yaml` files to define builds.\nMoreover, `kraft` itself wraps over the `kconfig` build system of Unikraft.\nAll three together build the images and offer final binaries.\n\n**Required**\n\n- `architecture` (string) - The architecture to build the image for. Example: `x86_64`, `arm64`, `arm`.\n- `platform` (string) - The platform to build the image for. Example: `kvm`, `xen`, `linuxu`.\n- `build_path` (string) - The path to the build directory. This is the directory where the `kraft.yaml` file is located.\n\n**Optional**\n\n- `target` (string) - The name of the image to build.\n- `pull_source` (string) - The name of the application to pull.\n- `workdir` (string) - The path to pull the source to. It's a parent directory of `build_path`.\n- `sources_no_default` (boolean) - Do not pull the default manifest sources. Required when working with custom repositories.\n- `sources` (string list) - The links of the sources to pull.\n- `options` (string) - The options to pass to the build system. Options are separated by spaces and of the format `KEY=value`. Currently disabled.\n- `log_level` (string) - The log level to use. Can be `debug`, `info`, `warn`, `error`, `fatal`, `panic`. Default: `info`.\n\n### Example Usage\n\n\n```hcl\n source \"unikraft-builder\" \"example\" {\n    architecture = \"x86_64\"\n    platform = \"qemu\"\n    build_path = \"/tmp/test/.unikraft/apps/helloworld\"\n    workdir = \"/tmp/test\"\n    pull_source = \"helloworld\"\n    sources_no_default = false\n    sources = [ \"https://github.com/unikraft/app-helloworld\" ]\n    log_level = \"info\"\n }\n\n build {\n   sources = [\"source.unikraft-builder.example\"]\n }\n```\n","created_at":"2024-01-18T09:01:23.267Z","updated_at":"2024-01-18T09:01:23.267Z","name":"Unikraft Kraftkit Building","slug":"unikraft","component":{"id":"36076511-3ced-4faf-addf-101fce0405ff","slug":"builder","name":"Builder","plural_name":"Builders","product_id":"4c2b00c6-7cc1-4e4c-b596-4ab57e319f21","created_at":"2022-11-09T22:56:30.937Z","updated_at":"2022-11-09T22:56:30.937Z"},"variable_groups":[]},"processedVariablesMarkdown":{},"anchorLinks":[{"id":"example-usage","level":3,"title":"Example Usage"}],"serializedREADME":{"compiledSource":"var d=Object.defineProperty,c=Object.defineProperties;var u=Object.getOwnPropertyDescriptors;var o=Object.getOwnPropertySymbols;var p=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable;var l=(a,n,t)=>n in a?d(a,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[n]=t,e=(a,n)=>{for(var t in n||(n={}))p.call(n,t)&&l(a,t,n[t]);if(o)for(var t of o(n))s.call(n,t)&&l(a,t,n[t]);return a},r=(a,n)=>c(a,u(n));var m=(a,n)=>{var t={};for(var i in a)p.call(a,i)&&n.indexOf(i)<0&&(t[i]=a[i]);if(a!=null&&o)for(var i of o(a))n.indexOf(i)<0&&s.call(a,i)&&(t[i]=a[i]);return t};const layoutProps={},MDXLayout=\"wrapper\";function MDXContent(t){var i=t,{components:a}=i,n=m(i,[\"components\"]);return mdx(MDXLayout,r(e(e({},layoutProps),n),{components:a,mdxType:\"MDXLayout\"}),mdx(\"p\",e({},{className:\"g-type-long-body\"}),`The builder uses packer version 1.7.0 and up to create pipelines.\nAfter running the Unikraft builder the end result is one or multiple Unikraft images.\nThey are situated in a build directory which is created by the Unikraft build system.`),mdx(\"p\",e({},{className:\"g-type-long-body\"}),\"The builder wraps around the \",mdx(\"inlineCode\",{parentName:\"p\"},\"kraftkit\"),\" build system which relies on \",mdx(\"inlineCode\",{parentName:\"p\"},\"kraft.yaml\"),` files to define builds.\nMoreover, `,mdx(\"inlineCode\",{parentName:\"p\"},\"kraft\"),\" itself wraps over the \",mdx(\"inlineCode\",{parentName:\"p\"},\"kconfig\"),` build system of Unikraft.\nAll three together build the images and offer final binaries.`),mdx(\"p\",e({},{className:\"g-type-long-body\"}),mdx(\"strong\",{parentName:\"p\"},\"Required\")),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"inlineCode\",{parentName:\"li\"},\"architecture\"),\" (string) - The architecture to build the image for. Example: \",mdx(\"inlineCode\",{parentName:\"li\"},\"x86_64\"),\", \",mdx(\"inlineCode\",{parentName:\"li\"},\"arm64\"),\", \",mdx(\"inlineCode\",{parentName:\"li\"},\"arm\"),\".\"),mdx(\"li\",{parentName:\"ul\"},mdx(\"inlineCode\",{parentName:\"li\"},\"platform\"),\" (string) - The platform to build the image for. Example: \",mdx(\"inlineCode\",{parentName:\"li\"},\"kvm\"),\", \",mdx(\"inlineCode\",{parentName:\"li\"},\"xen\"),\", \",mdx(\"inlineCode\",{parentName:\"li\"},\"linuxu\"),\".\"),mdx(\"li\",{parentName:\"ul\"},mdx(\"inlineCode\",{parentName:\"li\"},\"build_path\"),\" (string) - The path to the build directory. This is the directory where the \",mdx(\"inlineCode\",{parentName:\"li\"},\"kraft.yaml\"),\" file is located.\")),mdx(\"p\",e({},{className:\"g-type-long-body\"}),mdx(\"strong\",{parentName:\"p\"},\"Optional\")),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"inlineCode\",{parentName:\"li\"},\"target\"),\" (string) - The name of the image to build.\"),mdx(\"li\",{parentName:\"ul\"},mdx(\"inlineCode\",{parentName:\"li\"},\"pull_source\"),\" (string) - The name of the application to pull.\"),mdx(\"li\",{parentName:\"ul\"},mdx(\"inlineCode\",{parentName:\"li\"},\"workdir\"),\" (string) - The path to pull the source to. It's a parent directory of \",mdx(\"inlineCode\",{parentName:\"li\"},\"build_path\"),\".\"),mdx(\"li\",{parentName:\"ul\"},mdx(\"inlineCode\",{parentName:\"li\"},\"sources_no_default\"),\" (boolean) - Do not pull the default manifest sources. Required when working with custom repositories.\"),mdx(\"li\",{parentName:\"ul\"},mdx(\"inlineCode\",{parentName:\"li\"},\"sources\"),\" (string list) - The links of the sources to pull.\"),mdx(\"li\",{parentName:\"ul\"},mdx(\"inlineCode\",{parentName:\"li\"},\"options\"),\" (string) - The options to pass to the build system. Options are separated by spaces and of the format \",mdx(\"inlineCode\",{parentName:\"li\"},\"KEY=value\"),\". Currently disabled.\"),mdx(\"li\",{parentName:\"ul\"},mdx(\"inlineCode\",{parentName:\"li\"},\"log_level\"),\" (string) - The log level to use. Can be \",mdx(\"inlineCode\",{parentName:\"li\"},\"debug\"),\", \",mdx(\"inlineCode\",{parentName:\"li\"},\"info\"),\", \",mdx(\"inlineCode\",{parentName:\"li\"},\"warn\"),\", \",mdx(\"inlineCode\",{parentName:\"li\"},\"error\"),\", \",mdx(\"inlineCode\",{parentName:\"li\"},\"fatal\"),\", \",mdx(\"inlineCode\",{parentName:\"li\"},\"panic\"),\". Default: \",mdx(\"inlineCode\",{parentName:\"li\"},\"info\"),\".\")),mdx(\"h3\",e({},{id:\"user-content-example-usage\",\"data-text-content\":\"Example Usage\",className:\"g-type-display-4\"}),\"Example Usage\"),mdx(\"pre\",e({},{className:\"language-hcl\"}),mdx(\"code\",e({parentName:\"pre\"},{className:\"language-hcl\"}),\" source \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"unikraft-builder\"'),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"example\"'),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"architecture\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"x86_64\"'),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"platform\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"qemu\"'),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"build_path\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"/tmp/test/.unikraft/apps/helloworld\"'),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"workdir\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"/tmp/test\"'),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"pull_source\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"helloworld\"'),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"sources_no_default\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token boolean\"}),\"false\"),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"sources\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"https://github.com/unikraft/app-helloworld\"'),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"log_level\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"info\"'),`\n`,\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,`\n`,\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token keyword\"}),\"build\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"   \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"sources\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"source.unikraft-builder.example\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),`\n`,\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`)))}MDXContent.isMDXComponent=!0;\n","scope":{}},"breadcrumbLinks":[{"title":"Developer","url":"/"},{"title":"Packer","url":"/packer"},{"title":"Integrations","url":"/packer/integrations"},{"title":"Unikraft","url":"/packer/integrations/unikraft/unikraft","isCurrentPage":false},{"title":"v0.2.0","url":"/packer/integrations/unikraft/unikraft/v0.2.0","isCurrentPage":false},{"title":"Components"},{"title":"Builder"},{"title":"Unikraft Kraftkit Building","url":"/packer/integrations/unikraft/unikraft/latest/components/builder/unikraft","isCurrentPage":true}]},"__N_SSG":true}