<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><title>Google Cloud Platform Post-Processor | Integrations | Packer | HashiCorp Developer</title><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta property="og:locale" content="en_US"/><meta property="og:type" content="website"/><meta property="article:publisher" content="https://www.facebook.com/HashiCorp/"/><meta name="twitter:site" content="@HashiCorp"/><meta name="twitter:card" content="summary_large_image"/><meta name="theme-color" content="#000"/><meta name="description" property="og:description" content="Explore Packer product documentation, tutorials, and examples."/><meta name="twitter:description" content="Explore Packer product documentation, tutorials, and examples."/><meta property="og:site_name" content="Google Cloud Platform Post-Processor | Integrations | Packer | HashiCorp Developer"/><meta property="og:title" content="Google Cloud Platform Post-Processor | Integrations | Packer | HashiCorp Developer"/><meta property="og:image" content="https://developer.hashicorp.com/og-image/packer.jpg"/><link rel="canonical" href="https://developer.hashicorp.com/packer/integrations/hashicorp/googlecompute/latest/components/post-processor/googlecompute-import"/><link rel="icon" href="/favicon.ico" sizes="48x48"/><link rel="icon" href="/favicon.svg" sizes="any" type="image/svg+xml"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta name="google-site-verification" content="zRQZqfAsOX-ypXfU0mzAIzb5rUvj5fA4Zw2jWJRN-JI"/><meta name="ahrefs-site-verification" content="9d739b21c466a84dae91df1c79396081a9072152e64f765c9390fed6f249fb84"/><meta name="zd-site-verification" content="xnvnvv1i0wl4tf0pzaymb" data-product="hcp"/><meta name="zd-site-verification" content="36fp2i1pj67d8cjtzf4fi9" data-product="terraform"/><meta name="zd-site-verification" content="nbe87kfyp1sck7b13vj1i" data-product="packer"/><meta name="zd-site-verification" content="wvsmmqa1cfb9am9zlwfj" data-product="consul"/><meta name="zd-site-verification" content="cw22oopfwr68ujj0n5pn9i" data-product="boundary"/><meta name="zd-site-verification" content="lkslvganwfgfqfwpdeicgh" data-product="vault"/><meta name="zd-site-verification" content="jl2wp2hoej9rz6c8rmqdns" data-product="nomad"/><meta name="zd-site-verification" content="2eb0cu6xceo73t0038m0tb" data-product="waypoint"/><meta name="zd-site-verification" content="n52xisxdf3higs2q9kuogd" data-product="vagrant"/><meta name="twitter:image" content="https://developer.hashicorp.com/og-image/packer.jpg"/><link rel="prefetch" href="https://www.datadoghq-browser-agent.com/datadog-rum-v4.js"/><script type="application/ld+json">[{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Developer","item":"https://developer.hashicorp.com/"},{"@type":"ListItem","position":2,"name":"Packer","item":"https://developer.hashicorp.com/packer"},{"@type":"ListItem","position":3,"name":"Integrations","item":"https://developer.hashicorp.com/packer/integrations"},{"@type":"ListItem","position":4,"name":"Google Cloud Platform","item":"https://developer.hashicorp.com/packer/integrations/hashicorp/googlecompute"},{"@type":"ListItem","position":5,"name":"v1.1.9","item":"https://developer.hashicorp.com/packer/integrations/hashicorp/googlecompute/v1.1.9"},{"@type":"ListItem","position":6,"name":"Google Cloud Platform Image Import","item":"https://developer.hashicorp.com/packer/integrations/hashicorp/googlecompute/latest/components/post-processor/googlecompute-import"}]}]</script><meta name="next-head-count" content="32"/><link data-next-font="" rel="preconnect" href="/" crossorigin="anonymous"/><link rel="preload" href="/_next/static/css/f49486d3b4c819d0.css" as="style"/><link rel="stylesheet" href="/_next/static/css/f49486d3b4c819d0.css" data-n-g=""/><link rel="preload" href="/_next/static/css/a3fdbf75d77eb323.css" as="style"/><link rel="stylesheet" href="/_next/static/css/a3fdbf75d77eb323.css" data-n-p=""/><link rel="preload" href="/_next/static/css/a23a4d5b8f64c49d.css" as="style"/><link rel="stylesheet" href="/_next/static/css/a23a4d5b8f64c49d.css" data-n-p=""/><link rel="preload" href="/_next/static/css/686380cdcb9bba8b.css" as="style"/><link rel="stylesheet" href="/_next/static/css/686380cdcb9bba8b.css" data-n-p=""/><link rel="preload" href="/_next/static/css/6fa5efbca95ceafa.css" as="style"/><link rel="stylesheet" href="/_next/static/css/6fa5efbca95ceafa.css" data-n-p=""/><link rel="preload" href="/_next/static/css/5939e59586e095e7.css" as="style"/><link rel="stylesheet" href="/_next/static/css/5939e59586e095e7.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-78c92fac7aa8fdd8.js"></script><script src="/_next/static/chunks/webpack-842277f4ad2b003f.js" defer=""></script><script src="/_next/static/chunks/framework-7063787c3be570d0.js" defer=""></script><script src="/_next/static/chunks/main-7bf85f85b965ad61.js" defer=""></script><script src="/_next/static/chunks/pages/_app-b46a58c37365ba78.js" defer=""></script><script src="/_next/static/chunks/7166-70084e7c41a66411.js" defer=""></script><script src="/_next/static/chunks/1395-1eb65df04043100c.js" defer=""></script><script src="/_next/static/chunks/2273-6dfd48e8418afcdf.js" defer=""></script><script src="/_next/static/chunks/5675-7108b5e9113ea2a3.js" defer=""></script><script src="/_next/static/chunks/2298-0bfeeb8538768036.js" defer=""></script><script src="/_next/static/chunks/4491-4f141de99aaf30e2.js" defer=""></script><script src="/_next/static/chunks/9554-d740b5e666a16cc0.js" defer=""></script><script src="/_next/static/chunks/7427-61de0b9ecdc61a14.js" defer=""></script><script src="/_next/static/chunks/5261-c0c32f534b764eb3.js" defer=""></script><script src="/_next/static/chunks/6787-5406eb82ed1c8857.js" defer=""></script><script src="/_next/static/chunks/3786-bfb5477c5f7f7c76.js" defer=""></script><script src="/_next/static/chunks/5064-fcee060f06383f45.js" defer=""></script><script src="/_next/static/chunks/pages/%5BproductSlug%5D/integrations/%5BorganizationSlug%5D/%5BintegrationSlug%5D/%5BintegrationVersion%5D/components/%5BcomponentType%5D/%5BcomponentSlug%5D-5371b3a8c62f9aca.js" defer=""></script><script src="/_next/static/gg1aOOFCrsB-hhXSHeYPh/_buildManifest.js" defer=""></script><script src="/_next/static/gg1aOOFCrsB-hhXSHeYPh/_ssgManifest.js" defer=""></script></head><body><div id="__next"><div class="style_root__dZhZu"><a href="https://www.hashicorp.com/en/blog/hashicorp-officially-joins-the-ibm-family" class="style_linkElem__hCESK"><span class="style_textContainer__6CuI7 g-grid-container"><span class="style_tag__jbHGz g-type-body-small-x-strong">Acquisition complete<!-- --> </span><span class="style_text__rwS0u g-type-body-small">HashiCorp officially joins the IBM family.<span class="style_linkText__E8GJf g-type-body-small-x-strong"> <!-- -->Learn more</span></span></span></a><button class="style_closeButton__57J9w"><div><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 20 20"><path stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M15 5 5 15M5 5l10 10"/></svg></div><span style="position:absolute;border:0;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;word-wrap:normal">Dismiss alert</span></button></div><script type="text/javascript">
(function checkDismissAlertBanner() {
  try {
    if (document.cookie.includes('banner_hashicorp-officially-joins-the-ibm-family.=1')) {
      const element = document.querySelector('.style_root__dZhZu')
      element.classList.remove('style_isShown__D4mb6')
    }
  } catch (_) {
    // do nothing
  }
})()
</script><script>!function(){try{var d=document.documentElement,n='data-theme',s='setAttribute';var e=localStorage.getItem('theme');if('system'===e||(!e&&true)){var t='(prefers-color-scheme: dark)',m=window.matchMedia(t);if(m.media!==t||m.matches){d.style.colorScheme = 'dark';d[s](n,'dark')}else{d.style.colorScheme = 'light';d[s](n,'light')}}else if(e){d[s](n,e|| '')}if(e==='light'||e==='dark')d.style.colorScheme=e}catch(e){}}()</script><div class="core-dev-dot-layout_root__MT1PZ"><div class="base-layout_root___qiZs" data-layout="base-new"><div class="base-layout_header__XhkxS"><header class="navigation-header_root__oE_HT"><div class="navigation-header_leftSide__V0xlc"><div class="product-page-content_productsDropdown__haUyw"><nav aria-label="Main" data-orientation="horizontal" dir="ltr"><div class="dropdown-menu_root__Hwy5S"><div class="dropdown-menu_activatorWrapper__LxPRt"><button aria-controls="navigation-header-menu-react-aria-1" aria-expanded="false" aria-label="Main menu" class="dropdown-menu_activator__xXb00 g-focus-ring-from-box-shadow-dark product-page-content_productsDropdownButton__bnKKs"><span class="dropdown-menu_activatorLeadingIcon__YQQlH"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24" aria-hidden="true" class="product-page-content_productsDropdownIcon__gXtly"><g fill="currentColor"><path d="M10.336 1.5L2 6.268v11.456l3.131 1.793V8.061l5.205-2.979V1.5z"></path><path d="M13.664 1.5v9.123h-3.328V7.219L7.203 9.012V20.7l3.133 1.796V13.4h3.328v3.381l3.131-1.793V3.293L13.664 1.5z"></path><path d="M22 17.732L13.664 22.5v-3.582l5.203-2.98V4.484L22 6.276v11.456z"></path></g></svg></span><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="dropdown-menu_activatorTrailingIcon__r_cCd"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></button></div><div class="dropdown-menu_dropdownContainer__AZWxN" id="navigation-header-menu-react-aria-1" style="display:none"><div class="style_root__z3EwE style_productPanel__Z4UFi style_hasSide__15FV8 style_hasSide__ecwjD"><div class="style_mainPanel__MpQn1"><div class="style_column__9is2G style_hasSide__A3F31"><ul class="style_productCategories__j1h4T"><li class="style_productCategory__9UHKG"><span class="hds-text hdsplus-typography-body-300 style_eyebrow__OCUlS">Infrastructure Lifecycle Management</span><ul class="style_productList__uPlTj"><li><a aria-label="Terraform - Manage infrastructure as code" class="style_focusIndicator__uTVwt" data-radix-collection-item="" href="/terraform"><div class="style_productWrapper__ACHaw"><div class="style_productLogo__cTxLO"><svg class="flight-icon flight-icon-terraform-fill flight-icon-display-inline style_terraform__nU44i" aria-hidden="true" fill="currentColor" id=":R9imld6j6:" width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-terraform-fill-16"></use></svg></div><div class="style_productTextContent__o8DJ6"><span>Terraform</span><span class="style_productDesc__bi44f">Manage infrastructure as code</span></div></div></a></li><li><a aria-label="Packer - Build machine images" class="style_focusIndicator__uTVwt" data-radix-collection-item="" href="/packer"><div class="style_productWrapper__ACHaw"><div class="style_productLogo__cTxLO"><svg class="flight-icon flight-icon-packer-fill-color flight-icon-display-inline" aria-hidden="true" fill="currentColor" id=":Raimld6j6:" width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-packer-fill-color-16"></use></svg></div><div class="style_productTextContent__o8DJ6"><span>Packer</span><span class="style_productDesc__bi44f">Build machine images</span></div></div></a></li><li><a aria-label="Nomad - Orchestrate workloads" class="style_focusIndicator__uTVwt" data-radix-collection-item="" href="/nomad"><div class="style_productWrapper__ACHaw"><div class="style_productLogo__cTxLO"><svg class="flight-icon flight-icon-nomad-fill-color flight-icon-display-inline" aria-hidden="true" fill="currentColor" id=":Rbimld6j6:" width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-nomad-fill-color-16"></use></svg></div><div class="style_productTextContent__o8DJ6"><span>Nomad</span><span class="style_productDesc__bi44f">Orchestrate workloads</span></div></div></a></li><li><a aria-label="Waypoint - Standardize application patterns" class="style_focusIndicator__uTVwt" data-radix-collection-item="" href="/waypoint"><div class="style_productWrapper__ACHaw"><div class="style_productLogo__cTxLO"><svg class="flight-icon flight-icon-waypoint-fill-color flight-icon-display-inline" aria-hidden="true" fill="currentColor" id=":Rcimld6j6:" width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-waypoint-fill-color-16"></use></svg></div><div class="style_productTextContent__o8DJ6"><span>Waypoint</span><span class="style_productDesc__bi44f">Standardize application patterns</span></div></div></a></li><li><a aria-label="Vagrant - Build developer environments" class="style_focusIndicator__uTVwt" data-radix-collection-item="" href="/vagrant"><div class="style_productWrapper__ACHaw"><div class="style_productLogo__cTxLO"><svg class="flight-icon flight-icon-vagrant-fill-color flight-icon-display-inline" aria-hidden="true" fill="currentColor" id=":Rdimld6j6:" width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-vagrant-fill-color-16"></use></svg></div><div class="style_productTextContent__o8DJ6"><span>Vagrant</span><span class="style_productDesc__bi44f">Build developer environments</span></div></div></a></li></ul></li><li class="style_productCategory__9UHKG"><span class="hds-text hdsplus-typography-body-300 style_eyebrow__OCUlS">Security Lifecycle Management</span><ul class="style_productList__uPlTj"><li><a aria-label="Vault - Centrally manage secrets" class="style_focusIndicator__uTVwt" data-radix-collection-item="" href="/vault"><div class="style_productWrapper__ACHaw"><div class="style_productLogo__cTxLO"><svg class="flight-icon flight-icon-vault-fill-color flight-icon-display-inline" aria-hidden="true" fill="currentColor" id=":R9kmld6j6:" width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-vault-fill-color-16"></use></svg></div><div class="style_productTextContent__o8DJ6"><span>Vault</span><span class="style_productDesc__bi44f">Centrally manage secrets</span></div></div></a></li><li><a aria-label="Boundary - Secure remote access" class="style_focusIndicator__uTVwt" data-radix-collection-item="" href="/boundary"><div class="style_productWrapper__ACHaw"><div class="style_productLogo__cTxLO"><svg class="flight-icon flight-icon-boundary-fill-color flight-icon-display-inline" aria-hidden="true" fill="currentColor" id=":Rakmld6j6:" width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-boundary-fill-color-16"></use></svg></div><div class="style_productTextContent__o8DJ6"><span>Boundary</span><span class="style_productDesc__bi44f">Secure remote access</span></div></div></a></li><li><a aria-label="HCP Vault Secrets - Manage secrets as a service" class="style_focusIndicator__uTVwt" data-radix-collection-item="" href="/hcp/docs/vault-secrets"><div class="style_productWrapper__ACHaw"><div class="style_productLogo__cTxLO"><svg class="flight-icon flight-icon-vault-secrets flight-icon-display-inline style_hcpVaultSecrets__11wgG" aria-hidden="true" fill="currentColor" id=":Rbkmld6j6:" width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-vault-secrets-16"></use></svg></div><div class="style_productTextContent__o8DJ6"><span>HCP Vault Secrets</span><span class="style_productDesc__bi44f">Manage secrets as a service</span></div></div></a></li><li><a aria-label="Consul - Secure network services" class="style_focusIndicator__uTVwt" data-radix-collection-item="" href="/consul"><div class="style_productWrapper__ACHaw"><div class="style_productLogo__cTxLO"><svg class="flight-icon flight-icon-consul-fill-color flight-icon-display-inline" aria-hidden="true" fill="currentColor" id=":Rckmld6j6:" width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-consul-fill-color-16"></use></svg></div><div class="style_productTextContent__o8DJ6"><span>Consul</span><span class="style_productDesc__bi44f">Secure network services</span></div></div></a></li><li><a aria-label="HCP Vault Radar - Scan for embedded secrets" class="style_focusIndicator__uTVwt" data-radix-collection-item="" href="/hcp/docs/vault-radar"><div class="style_productWrapper__ACHaw"><div class="style_productLogo__cTxLO"><svg class="flight-icon flight-icon-vault-radar flight-icon-display-inline style_hcpVaultRadar__nukMV" aria-hidden="true" fill="currentColor" id=":Rdkmld6j6:" width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-vault-radar-16"></use></svg></div><div class="style_productTextContent__o8DJ6"><span>HCP Vault Radar</span><span class="style_productDesc__bi44f">Scan for embedded secrets</span></div></div></a></li></ul></li></ul></div><div class="style_promo__e6yXp style_hasSide__635Xt"><div class="style_icon__rYEcI"><svg class="flight-icon flight-icon-hashicorp flight-icon-display-inline" aria-hidden="true" fill="currentColor" id=":R36ld6j6:" width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-hashicorp-16"></use></svg></div><div class="style_rightContent__zvciM"><div><div class="style_title__eEtAF">HashiCorp Cloud Platform</div><div class="style_description__ATQzz">Get started in minutes with our cloud products</div></div><a class="style_link__U4Sfy" data-radix-collection-item="" href="/hcp">All HCP Products<svg class="flight-icon flight-icon-external-link flight-icon-display-inline" aria-hidden="true" fill="currentColor" id=":R2l6ld6j6:" width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-external-link-16"></use></svg></a></div></div></div><div class="style_column__9is2G style_sidePanel__qxYNB"><span class="hds-text hdsplus-typography-body-200 hds-font-weight-semibold">Learn</span><ul class="style_sidePanelItems__i8_HV"><li><a aria-label="Certifications - Get HashiCorp certified" class="style_sidePanelItem__j0j0G style_focusIndicator__uTVwt" href="/certifications"><div class="style_iconBackground__fn5_s"><svg class="flight-icon flight-icon-award flight-icon-display-inline" aria-hidden="true" fill="var(--token-color-foreground-faint)" id=":Rjald6j6:" width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-award-16"></use></svg></div><div class="style_sidePanelItemContent__xFcSA"><span class="hds-text hdsplus-typography-body-200 hds-font-weight-semibold">Certifications</span><span class="style_sidePanelItemDesc__UrOLh">Get HashiCorp certified</span></div></a></li><li><a aria-label="Tutorials - Learn HashiCorp products" class="style_sidePanelItem__j0j0G style_focusIndicator__uTVwt" href="/tutorials"><div class="style_iconBackground__fn5_s"><svg class="flight-icon flight-icon-learn flight-icon-display-inline" aria-hidden="true" fill="var(--token-color-foreground-faint)" id=":Rlald6j6:" width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-learn-16"></use></svg></div><div class="style_sidePanelItemContent__xFcSA"><span class="hds-text hdsplus-typography-body-200 hds-font-weight-semibold">Tutorials</span><span class="style_sidePanelItemDesc__UrOLh">Learn HashiCorp products</span></div></a></li><li><a aria-label="Validated Patterns - Field-tested patterns for using HashiCorp products" class="style_sidePanelItem__j0j0G style_focusIndicator__uTVwt" href="/validated-patterns"><div class="style_iconBackground__fn5_s"><svg class="flight-icon flight-icon-check-circle flight-icon-display-inline" aria-hidden="true" fill="var(--token-color-foreground-faint)" id=":Rnald6j6:" width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-check-circle-16"></use></svg></div><div class="style_sidePanelItemContent__xFcSA"><span class="hds-text hdsplus-typography-body-200 hds-font-weight-semibold">Validated Patterns</span><span class="style_sidePanelItemDesc__UrOLh">Field-tested patterns for using HashiCorp products</span></div></a></li><li><a aria-label="Well-Architected Framework - Adopt HashiCorp best practices" class="style_sidePanelItem__j0j0G style_focusIndicator__uTVwt" href="/well-architected-framework"><div class="style_iconBackground__fn5_s"><svg class="flight-icon flight-icon-layers flight-icon-display-inline" aria-hidden="true" fill="var(--token-color-foreground-faint)" id=":Rpald6j6:" width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-layers-16"></use></svg></div><div class="style_sidePanelItemContent__xFcSA"><span class="hds-text hdsplus-typography-body-200 hds-font-weight-semibold">Well-Architected Framework</span><span class="style_sidePanelItemDesc__UrOLh">Adopt HashiCorp best practices</span></div></a></li></ul></div></div></div></div></nav></div><div class="product-page-content_productLinkAndNav__YTzcr"><a aria-label="Packer home" class="product-icon-text-link_root__bNTSz g-focus-ring-from-box-shadow-dark" href="/packer"><div class="product-icon-text-lockup_root__358wV"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="product-icon-text-lockup_icon__Zp_5o"><g fill="var(--token-color-packer-brand)"><path d="M5.163 0l5.762 3.247c1.138.646 2.074 2.085 2.075 3.2v4.963c0 1.123-.933 1.502-2.074.858L9.083 11.23V4.469l-3.92-2.216V0z"></path><path d="M8.3 4.953L3 1.956v11.047L8.3 16V4.953z"></path></g></svg><span class="product-icon-text-lockup_text__nHTL7 hds-typography-body-200">Packer</span></div></a><nav aria-label="Main" data-orientation="horizontal" dir="ltr" class="nav-bar-list-container_nav__C_i0_"><div style="position:relative"><ul data-orientation="horizontal" class="nav-bar-list-container_ul___04HI" dir="ltr"><li><a aria-label="Packer Install" class="primary-nav-link_root__RXZIC g-focus-ring-from-box-shadow-dark" href="/packer/install"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-medium primary-nav-link_linkText__58O0C">Install</span></a></li><li><a aria-label="Packer Tutorials" class="primary-nav-link_root__RXZIC g-focus-ring-from-box-shadow-dark" href="/packer/tutorials"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-medium primary-nav-link_linkText__58O0C">Tutorials</span></a></li><li><a aria-label="Packer Documentation" class="primary-nav-link_root__RXZIC g-focus-ring-from-box-shadow-dark" href="/packer/docs"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-medium primary-nav-link_linkText__58O0C">Documentation</span></a></li><li><a aria-label="Packer Guides" class="primary-nav-link_root__RXZIC g-focus-ring-from-box-shadow-dark" href="/packer/guides"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-medium primary-nav-link_linkText__58O0C">Guides</span></a></li><li><a aria-label="Packer Integrations" class="primary-nav-link_root__RXZIC g-focus-ring-from-box-shadow-dark" href="/packer/integrations"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-medium primary-nav-link_linkText__58O0C">Integrations</span></a></li><li><a aria-label="Packer Try Cloud" class="primary-nav-link_root__RXZIC g-focus-ring-from-box-shadow-dark" aria-describedby="opens-in-new-tab-label-react-aria-8" target="_blank" href="https://portal.cloud.hashicorp.com/sign-up"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-medium primary-nav-link_linkText__58O0C">Try Cloud</span><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><g fill="currentColor"><path d="M9 .75A.75.75 0 019.75 0h4.5c.206 0 .393.083.529.218l.001.002.002.001A.748.748 0 0115 .75v4.5a.75.75 0 01-1.5 0V2.56L7.28 8.78a.75.75 0 01-1.06-1.06l6.22-6.22H9.75A.75.75 0 019 .75z"></path><path d="M3.25 3.5a.75.75 0 00-.75.75v7.5c0 .414.336.75.75.75h7.5a.75.75 0 00.75-.75v-4a.75.75 0 011.5 0v4A2.25 2.25 0 0110.75 14h-7.5A2.25 2.25 0 011 11.75v-7.5A2.25 2.25 0 013.25 2h4a.75.75 0 010 1.5h-4z"></path></g></svg></a><span class="g-screen-reader-only" id="opens-in-new-tab-label-react-aria-8">(opens in new tab)</span></li></ul></div></nav></div></div><div class="navigation-header_rightSide___Vvh_"><button aria-label="Search" class="command-bar-activator_root__qgVMy g-focus-ring-from-box-shadow-dark"><span class="command-bar-activator_left__ATQTg"><span class="command-bar-activator_leadingIcon__jECP5"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M6.344.969a5.375 5.375 0 103.233 9.669l4.174 4.174a.75.75 0 001.06-1.061l-4.173-4.174A5.375 5.375 0 006.344.97zM2.469 6.344a3.875 3.875 0 117.75 0 3.875 3.875 0 01-7.75 0z" clip-rule="evenodd"></path></svg></span><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular command-bar-activator_text__pTZN_">Search</span></span><span class="command-bar-activator_right__XejfJ"><span class="g-screen-reader-only">Command or control key</span><span aria-hidden="true" class="badge_root___Z7Nt badge_small__GI0Zk badge_filled-neutral-dark-mode__VC3Ba command-bar-activator_keyBadge__xnKpi"><div class="cmd-ctrl-icon_root___TToz"><svg xmlns="http://www.w3.org/2000/svg" width="41" height="11" fill="none" viewBox="0 0 41 11"><path fill="#fff" fill-rule="evenodd" d="M4.125 2.063V3h2.25v-.937a2.062 2.062 0 1 1 2.063 2.062H7.5v2.25h.938a2.062 2.062 0 1 1-2.063 2.063V7.5h-2.25v.938a2.062 2.062 0 1 1-2.062-2.063H3v-2.25h-.937a2.062 2.062 0 1 1 2.062-2.062m-2.062-.938a.937.937 0 1 0 0 1.875H3v-.937a.937.937 0 0 0-.937-.938M7.5 7.5v.938a.937.937 0 1 0 .938-.938zM6.375 6.375v-2.25h-2.25v2.25zM2.063 7.5H3v.938a.937.937 0 1 1-.937-.938M7.5 3h.938a.937.937 0 1 0-.938-.937z" clip-rule="evenodd"/><path fill="#fff" d="M15.09 10.5 18.085 0h-1.097L14 10.5zM26.387 5.308c-.183-1.445-1.263-2.534-3.05-2.534C21.264 2.774 20 4.247 20 6.61c0 2.41 1.27 3.89 3.344 3.89 1.76 0 2.86-1.034 3.043-2.5H25.02c-.184.808-.792 1.247-1.682 1.247-1.172 0-1.898-.994-1.898-2.637 0-1.61.72-2.583 1.898-2.583.942 0 1.518.555 1.681 1.281zM28.6 1.041v1.897h-1.133v1.178H28.6v4.281c0 1.432.622 2.007 2.186 2.007.275 0 .537-.034.766-.075V9.158c-.196.02-.32.034-.537.034-.7 0-1.008-.35-1.008-1.15V4.115h1.545V2.938h-1.545V1.041zM33.207 10.356h1.407V5.911c0-1.048.752-1.767 1.819-1.767.249 0 .667.048.785.082V2.842a3.372 3.372 0 0 0-.628-.054c-.93 0-1.721.527-1.924 1.26h-.105v-1.13h-1.354zM38.638 10.356h1.407V0h-1.407z"/></svg></div></span><span class="g-screen-reader-only">K key</span><span aria-hidden="true" class="badge_root___Z7Nt badge_small__GI0Zk badge_filled-neutral-dark-mode__VC3Ba command-bar-activator_keyBadge__xnKpi"><div class="k-icon_root__a_5pR"><svg xmlns="http://www.w3.org/2000/svg" width="8" height="10" fill="none" viewBox="0 0 8 10"><path fill="#fff" d="M1.512 9.84v-3l.986-1.147L5.445 9.84h1.704L3.46 4.745 6.857.84H5.244L1.61 5.094h-.098V.84H.15v9z"/></svg></div></span></span></button><div class="navigation-header_authenticationControls__EP1LY"><div class="disclosure_root__rcBaW dropdown-disclosure_root__pzZlN dropdown-disclosure_list-position--right__WP_Kj"><button aria-controls="disclosure-react-aria-9-content" aria-expanded="false" aria-label="User menu" class="disclosure_activator__pORI0 activator_root__pOfAQ dropdown-disclosure_activator__nGgNo navigation-header_userDropdownDisclosureActivator__RayIV g-focus-ring-from-box-shadow-dark activator_hasIcon__5HO6W g-focus-ring-from-box-shadow"><span class="activator_childrenWrapper__kaK0w"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24" aria-hidden="true"><g fill="currentColor"><path fill-rule="evenodd" d="M12 3a5 5 0 100 10 5 5 0 000-10zM8.5 8a3.5 3.5 0 117 0 3.5 3.5 0 01-7 0z" clip-rule="evenodd"></path><path d="M7.75 14.5A4.75 4.75 0 003 19.25v1a.75.75 0 001.5 0v-1A3.25 3.25 0 017.75 16h8.5a3.25 3.25 0 013.25 3.25v1a.75.75 0 001.5 0v-1a4.75 4.75 0 00-4.75-4.75h-8.5z"></path></g></svg></span><span class="activator_chevronWrapper__4_AVG"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></span></button><div class="disclosure_contentContainer__QQ4kt dropdown-disclosure_content__ZZRPG undefined" id="disclosure-react-aria-9-content"><ul class="dropdown-disclosure_list__urBXU"><li class="list-item_root__ZdUej"><button class="list-item_button__nXy5K g-focus-ring-from-box-shadow"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-medium">Sign in</span></button></li><li class="list-item_root__ZdUej"><a class="list-item_link__l6lDd g-focus-ring-from-box-shadow" href="/sign-up"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-medium">Sign up</span></a></li><li class="list-item_root__ZdUej"><hr class="list-item_separator__cBVLs"/></li><li class="list-item_root__ZdUej user-dropdown-switcher_listItem__Q_GIj hds-font-weight-medium"><label class="theme-switcher_label__7Boh2 hds-typography-body-200" for="react-aria-11">Theme</label></li></ul></div></div></div><button aria-label="Open navigation menu" class="navigation-header_mobileMenuButton__74S4w"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24" aria-hidden="true"><g fill="currentColor"><path d="M2 5.75A.75.75 0 012.75 5h18.5a.75.75 0 010 1.5H2.75A.75.75 0 012 5.75zM2 11.75a.75.75 0 01.75-.75h18.5a.75.75 0 010 1.5H2.75a.75.75 0 01-.75-.75zM2.75 17a.75.75 0 000 1.5h18.5a.75.75 0 000-1.5H2.75z"></path></g></svg></button></div></header></div><div class="base-layout_contentArea__BMvQn"><div class="sidebar-sidecar-layout_root__h5rD8 sidebar-sidecar-layout_mainWidth-wide__TwGq8"><div class="mobile-menu-container_root__fPUFu sidebar-sidecar-layout_sidebarContainer__4fcF8"><div class="sidebar-sidecar-layout_sidebarContentWrapper__ftn5q"><div class="sidebar-sidecar-layout_sidePadding__iwNw_"><div class="sidebar_sidebar___fTlC"><div class="sidebar_backToLinkWrapper__F6iLs"><div class="sidebar-back-to-link_root__z_Hj1"><a class="standalone-link_standaloneLink__ahuej g-focus-ring-from-box-shadow standalone-link_primary__ESNCA" href="/packer/integrations"><div class="standalone-link_standaloneLinkContents__4I2XN standalone-link_medium__J2yVM"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M10.795 3.235a.75.75 0 01-.03 1.06L6.842 8l3.923 3.705a.75.75 0 01-1.03 1.09l-4.5-4.25a.75.75 0 010-1.09l4.5-4.25a.75.75 0 011.06.03z" clip-rule="evenodd"></path></svg><span class="standalone-link_text__7GEyG">Packer Integrations</span></div></a></div></div><nav aria-labelledby="sidebar-label" class="sidebar_nav__IworY" id="sidebar-nav"><div><h2 class="sidebar-headings_root__tGfxC" id="sidebar-label"></h2></div><ul class="sidebar_navList__4Rg4g"><li><a class="sidebar-nav-highlight-item_root___pPhp g-focus-ring-from-box-shadow sidebar-nav-highlight-item_theme-packer__I5KHY" href="/packer/integrations/hashicorp/googlecompute"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="sidebar-nav-highlight-item_icon__G8JxG"><g fill="var(--token-color-packer-brand)"><path d="M5.163 0l5.762 3.247c1.138.646 2.074 2.085 2.075 3.2v4.963c0 1.123-.933 1.502-2.074.858L9.083 11.23V4.469l-3.92-2.216V0z"></path><path d="M8.3 4.953L3 1.956v11.047L8.3 16V4.953z"></path></g></svg><span class="sidebar-nav-highlight-item_text__VORFJ hds-typography-body-200">Google Cloud Platform</span></a></li><li><button aria-controls="undefined-list" aria-expanded="true" class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" id="undefined-button"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Builders</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></div></button><ul id="undefined-list"><li><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" href="/packer/integrations/hashicorp/googlecompute/latest/components/builder/googlecompute"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Google Cloud Platform</span></a></li></ul></li><li><button aria-controls="undefined-list" aria-expanded="true" class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" id="undefined-button"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Post-Processors</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></div></button><ul id="undefined-list"><li><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" href="/packer/integrations/hashicorp/googlecompute/latest/components/post-processor/googlecompute-export"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Google Cloud Platform Image Exporter</span></a></li><li><a aria-current="page" class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" href="/packer/integrations/hashicorp/googlecompute/latest/components/post-processor/googlecompute-import"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Google Cloud Platform Image Import</span></a></li></ul></li></ul><hr class="sidebar-horizontal-rule_root__UY7oh"/><ul class="sidebar_navList__4Rg4g"><li><h3 class="sidebar-headings_root__tGfxC">Resources</h3></li><li><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" href="/tutorials/library?product=packer"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Tutorial Library</span></a></li><li><a aria-label="Community Forum. Opens in a new tab." class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" rel="noreferrer noopener" aria-describedby="opens-in-new-tab-label-react-aria-18" target="_blank" href="https://discuss.hashicorp.com/c/packer/23"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Community Forum</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><g fill="currentColor"><path d="M9 .75A.75.75 0 019.75 0h4.5c.206 0 .393.083.529.218l.001.002.002.001A.748.748 0 0115 .75v4.5a.75.75 0 01-1.5 0V2.56L7.28 8.78a.75.75 0 01-1.06-1.06l6.22-6.22H9.75A.75.75 0 019 .75z"></path><path d="M3.25 3.5a.75.75 0 00-.75.75v7.5c0 .414.336.75.75.75h7.5a.75.75 0 00.75-.75v-4a.75.75 0 011.5 0v4A2.25 2.25 0 0110.75 14h-7.5A2.25 2.25 0 011 11.75v-7.5A2.25 2.25 0 013.25 2h4a.75.75 0 010 1.5h-4z"></path></g></svg></div></a><span class="g-screen-reader-only" id="opens-in-new-tab-label-react-aria-18">(opens in new tab)</span></li><li><a aria-label="Support. Opens in a new tab." class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" rel="noreferrer noopener" aria-describedby="opens-in-new-tab-label-react-aria-19" target="_blank" href="https://www.hashicorp.com/customer-success"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Support</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><g fill="currentColor"><path d="M9 .75A.75.75 0 019.75 0h4.5c.206 0 .393.083.529.218l.001.002.002.001A.748.748 0 0115 .75v4.5a.75.75 0 01-1.5 0V2.56L7.28 8.78a.75.75 0 01-1.06-1.06l6.22-6.22H9.75A.75.75 0 019 .75z"></path><path d="M3.25 3.5a.75.75 0 00-.75.75v7.5c0 .414.336.75.75.75h7.5a.75.75 0 00.75-.75v-4a.75.75 0 011.5 0v4A2.25 2.25 0 0110.75 14h-7.5A2.25 2.25 0 011 11.75v-7.5A2.25 2.25 0 013.25 2h4a.75.75 0 010 1.5h-4z"></path></g></svg></div></a><span class="g-screen-reader-only" id="opens-in-new-tab-label-react-aria-19">(opens in new tab)</span></li><li><a aria-label="GitHub. Opens in a new tab." class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" rel="noreferrer noopener" aria-describedby="opens-in-new-tab-label-react-aria-20" target="_blank" href="https://github.com/hashicorp/packer"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">GitHub</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><g fill="currentColor"><path d="M9 .75A.75.75 0 019.75 0h4.5c.206 0 .393.083.529.218l.001.002.002.001A.748.748 0 0115 .75v4.5a.75.75 0 01-1.5 0V2.56L7.28 8.78a.75.75 0 01-1.06-1.06l6.22-6.22H9.75A.75.75 0 019 .75z"></path><path d="M3.25 3.5a.75.75 0 00-.75.75v7.5c0 .414.336.75.75.75h7.5a.75.75 0 00.75-.75v-4a.75.75 0 011.5 0v4A2.25 2.25 0 0110.75 14h-7.5A2.25 2.25 0 011 11.75v-7.5A2.25 2.25 0 013.25 2h4a.75.75 0 010 1.5h-4z"></path></g></svg></div></a><span class="g-screen-reader-only" id="opens-in-new-tab-label-react-aria-20">(opens in new tab)</span></li></ul></nav></div></div></div></div><div class="sidebar-sidecar-layout_contentWrapper__Z5BK4"><div class="sidebar-sidecar-layout_paddedAreaWrapper___S_Ff"><div class="sidebar-sidecar-layout_breadcrumbContainer__3uz7P"><div class="sidebar-sidecar-layout_breadcrumbMaxWidth__coOcu"><nav aria-label="Breadcrumb" class="breadcrumb-bar_root__wd_C5"><ol class="breadcrumb-bar_listRoot__8eupO"><li class="text_root__r0DFB hds-typography-body-100 hds-font-weight-medium breadcrumb-bar_listItem__2sevd"><a class="breadcrumb-bar_breadcrumbText__JvOrd g-focus-ring-from-box-shadow" href="/">Developer</a></li><li class="text_root__r0DFB hds-typography-body-100 hds-font-weight-medium breadcrumb-bar_listItem__2sevd"><a class="breadcrumb-bar_breadcrumbText__JvOrd g-focus-ring-from-box-shadow" href="/packer">Packer</a></li><li class="text_root__r0DFB hds-typography-body-100 hds-font-weight-medium breadcrumb-bar_listItem__2sevd"><a class="breadcrumb-bar_breadcrumbText__JvOrd g-focus-ring-from-box-shadow" href="/packer/integrations">Integrations</a></li><li class="text_root__r0DFB hds-typography-body-100 hds-font-weight-medium breadcrumb-bar_listItem__2sevd"><a class="breadcrumb-bar_breadcrumbText__JvOrd g-focus-ring-from-box-shadow" href="/packer/integrations/hashicorp/googlecompute">Google Cloud Platform</a></li><li class="text_root__r0DFB hds-typography-body-100 hds-font-weight-medium breadcrumb-bar_listItem__2sevd"><a class="breadcrumb-bar_breadcrumbText__JvOrd g-focus-ring-from-box-shadow" href="/packer/integrations/hashicorp/googlecompute/v1.1.9">v1.1.9</a></li><li class="text_root__r0DFB hds-typography-body-100 hds-font-weight-medium breadcrumb-bar_listItem__2sevd"><span class="breadcrumb-bar_breadcrumbText__JvOrd g-focus-ring-from-box-shadow" aria-current="page">Google Cloud Platform Image Import</span></li></ol></nav></div></div><div class="sidebar-sidecar-layout_mainAndSidecar__UDm3Z"><main id="main" class="sidebar-sidecar-layout_main__0SN51"><div class="hds-surface-base card_root__RyqjV content-header-card_contentHeaderCard__SDMMP style_header__b3NdM"><div class="content-header-card_cardTop__GTpii"><span class="icon-tile_root__ShC0s icon-tile_size-large__NxGIv icon-tile_color-packer__LRaQF content-header-card_icon__A1Xna"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><g fill="var(--token-color-packer-brand)"><path d="M5.163 0l5.762 3.247c1.138.646 2.074 2.085 2.075 3.2v4.963c0 1.123-.933 1.502-2.074.858L9.083 11.23V4.469l-3.92-2.216V0z"></path><path d="M8.3 4.953L3 1.956v11.047L8.3 16V4.953z"></path></g></svg></span><div class="content-header-card_content__XPCtf"><div class="content-header-card_upper__PQsUG"><div class="disclosure_root__rcBaW dropdown-disclosure_root__pzZlN dropdown-disclosure_list-position--right__WP_Kj content-header-card_dropdown__Gt1Vp g-hide-on-desktop g-hide-on-tablet"><button aria-controls="disclosure-react-aria-26-content" aria-expanded="false" class="button_root__itF9E hds-font-weight-medium button_medium__Cm2eg button_secondary__m5f7i disclosure_activator__pORI0 activator_root__pOfAQ dropdown-disclosure_activator__nGgNo" type="button"><span>v1.1.9 (latest)</span><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="activator_chevronWrapper__4_AVG"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></button><div class="disclosure_contentContainer__QQ4kt dropdown-disclosure_content__ZZRPG undefined" id="disclosure-react-aria-26-content"><ul class="dropdown-disclosure_list__urBXU"><li class="list-item_root__ZdUej"><a class="list-item_link__l6lDd g-focus-ring-from-box-shadow" href="/packer/integrations/hashicorp/googlecompute/v1.1.8/components/post-processor/googlecompute-import"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-medium">v1.1.8</span></a></li><li class="list-item_root__ZdUej"><a class="list-item_link__l6lDd g-focus-ring-from-box-shadow" href="/packer/integrations/hashicorp/googlecompute/v1.1.7/components/post-processor/googlecompute-import"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-medium">v1.1.7</span></a></li><li class="list-item_root__ZdUej"><a class="list-item_link__l6lDd g-focus-ring-from-box-shadow" href="/packer/integrations/hashicorp/googlecompute/v1.1.6/components/post-processor/googlecompute-import"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-medium">v1.1.6</span></a></li><li class="list-item_root__ZdUej"><a class="list-item_link__l6lDd g-focus-ring-from-box-shadow" href="/packer/integrations/hashicorp/googlecompute/v1.1.5/components/post-processor/googlecompute-import"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-medium">v1.1.5</span></a></li><li class="list-item_root__ZdUej"><a class="list-item_link__l6lDd g-focus-ring-from-box-shadow" href="/packer/integrations/hashicorp/googlecompute/v1.1.4/components/post-processor/googlecompute-import"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-medium">v1.1.4</span></a></li><li class="list-item_root__ZdUej"><a class="list-item_link__l6lDd g-focus-ring-from-box-shadow" href="/packer/integrations/hashicorp/googlecompute/v1.1.3/components/post-processor/googlecompute-import"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-medium">v1.1.3</span></a></li><li class="list-item_root__ZdUej"><a class="list-item_link__l6lDd g-focus-ring-from-box-shadow" href="/packer/integrations/hashicorp/googlecompute/v1.1.2/components/post-processor/googlecompute-import"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-medium">v1.1.2</span></a></li><li class="list-item_root__ZdUej"><a class="list-item_link__l6lDd g-focus-ring-from-box-shadow" href="/packer/integrations/hashicorp/googlecompute/v1.1.1/components/post-processor/googlecompute-import"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-medium">v1.1.1</span></a></li></ul></div></div><div class="content-header-card_left__FSNcW"><div class="content-header-card_titleWrap__IAC6o"><span class="content-header-card_title__HGHfo hds-typography-display-300 from global, hds-font-weight-bold">Google Cloud Platform</span><p class="text_root__r0DFB hds-typography-body-100 hds-font-weight-medium content-header-card_attribution__yKU4q">@hashicorp</p></div><p class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular content-header-card_description__M_DkB">The googlecompute plugin can be used with HashiCorp Packer to create custom images on GCE.</p></div><div class="disclosure_root__rcBaW dropdown-disclosure_root__pzZlN dropdown-disclosure_list-position--right__WP_Kj content-header-card_dropdown__Gt1Vp g-hide-on-mobile"><button aria-controls="disclosure-react-aria-35-content" aria-expanded="false" class="button_root__itF9E hds-font-weight-medium button_medium__Cm2eg button_secondary__m5f7i disclosure_activator__pORI0 activator_root__pOfAQ dropdown-disclosure_activator__nGgNo" type="button"><span>v1.1.9 (latest)</span><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="activator_chevronWrapper__4_AVG"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></button><div class="disclosure_contentContainer__QQ4kt dropdown-disclosure_content__ZZRPG undefined" id="disclosure-react-aria-35-content"><ul class="dropdown-disclosure_list__urBXU"><li class="list-item_root__ZdUej"><a class="list-item_link__l6lDd g-focus-ring-from-box-shadow" href="/packer/integrations/hashicorp/googlecompute/v1.1.8/components/post-processor/googlecompute-import"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-medium">v1.1.8</span></a></li><li class="list-item_root__ZdUej"><a class="list-item_link__l6lDd g-focus-ring-from-box-shadow" href="/packer/integrations/hashicorp/googlecompute/v1.1.7/components/post-processor/googlecompute-import"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-medium">v1.1.7</span></a></li><li class="list-item_root__ZdUej"><a class="list-item_link__l6lDd g-focus-ring-from-box-shadow" href="/packer/integrations/hashicorp/googlecompute/v1.1.6/components/post-processor/googlecompute-import"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-medium">v1.1.6</span></a></li><li class="list-item_root__ZdUej"><a class="list-item_link__l6lDd g-focus-ring-from-box-shadow" href="/packer/integrations/hashicorp/googlecompute/v1.1.5/components/post-processor/googlecompute-import"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-medium">v1.1.5</span></a></li><li class="list-item_root__ZdUej"><a class="list-item_link__l6lDd g-focus-ring-from-box-shadow" href="/packer/integrations/hashicorp/googlecompute/v1.1.4/components/post-processor/googlecompute-import"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-medium">v1.1.4</span></a></li><li class="list-item_root__ZdUej"><a class="list-item_link__l6lDd g-focus-ring-from-box-shadow" href="/packer/integrations/hashicorp/googlecompute/v1.1.3/components/post-processor/googlecompute-import"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-medium">v1.1.3</span></a></li><li class="list-item_root__ZdUej"><a class="list-item_link__l6lDd g-focus-ring-from-box-shadow" href="/packer/integrations/hashicorp/googlecompute/v1.1.2/components/post-processor/googlecompute-import"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-medium">v1.1.2</span></a></li><li class="list-item_root__ZdUej"><a class="list-item_link__l6lDd g-focus-ring-from-box-shadow" href="/packer/integrations/hashicorp/googlecompute/v1.1.1/components/post-processor/googlecompute-import"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-medium">v1.1.1</span></a></li></ul></div></div></div><div class="content-header-card_lower__ut_Dv"><ul class="badge-list_badgeList__l_z6s content-header-card_badgeList__I_FGK"><li class="badge-list_badge__mQSlF"><span data-state="tooltip-hidden" data-reach-tooltip-trigger=""><span class="g-screen-reader-only">Official</span><span aria-hidden="true" class="badge_root___Z7Nt badge_small__GI0Zk badge_filled-neutral__NhUW0"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><g fill="currentColor"><path d="M6.835.6L1 3.96v8.074l2.192 1.264V5.224l3.643-2.1V.6z"></path><path d="M9.165.6v6.43h-2.33v-2.4L4.642 5.894v8.237l2.193 1.266v-6.41h2.33v2.383l2.192-1.264V1.864L9.165.6z"></path><path d="M15 12.04L9.165 15.4v-2.525l3.642-2.1V2.703L15 3.966v8.073z"></path></g></svg><span>Official</span></span></span></li><li class="badge-list_badge__mQSlF"><span data-state="tooltip-hidden" data-reach-tooltip-trigger=""><span class="g-screen-reader-only">HCP Ready</span><span aria-hidden="true" class="badge_root___Z7Nt badge_small__GI0Zk badge_filled-neutral__NhUW0"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><g fill="currentColor"><path d="M9.78 7.28a.75.75 0 00-1.06-1.06l-.5.5a.75.75 0 001.06 1.06l.5-.5z"></path><path fill-rule="evenodd" d="M12.627 1.32a1.731 1.731 0 012.054 2.053c-.27 1.28-.686 3.19-1.103 4.859a3.625 3.625 0 01-.58 1.224c.002.015.002.03.002.044v2.441a1.75 1.75 0 01-.833 1.49l-2.021 1.244a1.75 1.75 0 01-2.284-.397l-1.27-1.587a2.028 2.028 0 01-1.08-.917 3.426 3.426 0 00-.542-.744 3.428 3.428 0 00-.744-.542c-.4-.223-.755-.61-.917-1.08l-1.587-1.27a1.75 1.75 0 01-.398-2.284l1.244-2.021A1.75 1.75 0 014.058 3H6.5l.044.001c.37-.263.777-.467 1.224-.579 1.669-.417 3.58-.833 4.859-1.103zm-5.43 9.956a.754.754 0 00-.167-.025.517.517 0 01-.209-.208 4.913 4.913 0 00-.79-1.073 4.913 4.913 0 00-1.074-.791.516.516 0 01-.208-.21.754.754 0 00-.025-.166l.002-.008c.255-.78.694-1.941 1.307-2.958.634-1.05 1.353-1.773 2.099-1.96 1.641-.41 3.53-.821 4.804-1.09a.231.231 0 01.277.277c-.269 1.274-.68 3.163-1.09 4.804-.187.746-.91 1.465-1.96 2.099-1.017.613-2.177 1.052-2.958 1.307a.173.173 0 01-.008.002zm1.139 1.193l.697.872a.25.25 0 00.327.057l2.021-1.244a.25.25 0 00.119-.213v-1.056c-.186.13-.375.252-.562.366-.88.53-1.832.936-2.602 1.218zM2.659 6.967l.872.697c.282-.77.687-1.722 1.218-2.602.113-.187.235-.376.366-.562H4.059a.25.25 0 00-.213.119L2.602 6.64a.25.25 0 00.057.327z" clip-rule="evenodd"></path><path d="M4.442 11.558a.625.625 0 010 .884l-2 2a.625.625 0 11-.884-.884l2-2a.625.625 0 01.884 0zM2.692 10.308a.625.625 0 010 .884l-.75.75a.625.625 0 11-.884-.884l.75-.75a.625.625 0 01.884 0zM5.692 14.192a.625.625 0 10-.884-.884l-.75.75a.625.625 0 10.884.884l.75-.75z"></path></g></svg><span>HCP Ready</span></span></span></li></ul><p class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular content-header-card_note__QTtmc">Updated 2 years ago</p></div></div></div><div class="content-header-card_cardBottom__ndKDE"><ul class="content-header-card_linksList__vaxQ3"><li class="content-header-card_link___8sUH"><a class="standalone-link_standaloneLink__ahuej g-focus-ring-from-box-shadow standalone-link_secondary__H0E0A" rel="noreferrer noopener" aria-describedby="opens-in-new-tab-label-react-aria-44" target="_blank" href="https://github.com/hashicorp/packer-plugin-googlecompute/tree/main/docs"><div class="standalone-link_standaloneLinkContents__4I2XN standalone-link_medium__J2yVM"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M8 1C4.133 1 1 4.13 1 7.993c0 3.09 2.006 5.71 4.787 6.635.35.064.478-.152.478-.337 0-.166-.006-.606-.01-1.19-1.947.423-2.357-.937-2.357-.937-.319-.808-.778-1.023-.778-1.023-.635-.434.048-.425.048-.425.703.05 1.073.72 1.073.72.624 1.07 1.638.76 2.037.582.063-.452.244-.76.444-.935-1.554-.176-3.188-.776-3.188-3.456 0-.763.273-1.388.72-1.876-.072-.177-.312-.888.07-1.85 0 0 .586-.189 1.924.716A6.711 6.711 0 018 4.381c.595.003 1.194.08 1.753.236 1.336-.905 1.923-.717 1.923-.717.382.963.142 1.674.07 1.85.448.49.72 1.114.72 1.877 0 2.686-1.638 3.278-3.197 3.45.251.216.475.643.475 1.296 0 .934-.009 1.688-.009 1.918 0 .187.127.404.482.336A6.996 6.996 0 0015 7.993 6.997 6.997 0 008 1z" clip-rule="evenodd"></path></svg><span class="standalone-link_text__7GEyG">GitHub</span></div></a><span class="g-screen-reader-only" id="opens-in-new-tab-label-react-aria-44">(opens in new tab)</span></li></ul></div></div><h1>Google Cloud Platform Image Import</h1><div class="style_integrationComponentView__dxO7C"><div class="style_mdxWrapper__6wQJC"><div class="dev-dot-content_root__UJDct hds-typography-body-300"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Type: <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">googlecompute-import</code>
Artifact BuilderId: <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">packer.post-processor.googlecompute-import</code></p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">The Google Compute Image Import post-processor takes a compressed raw disk
image and imports it to a GCE image available to Google Compute Engine.</p><div class="alert alert-warning g-type-body"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">This post-processor is for advanced users. Please ensure you read the
<a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="https://cloud.google.com/compute/docs/images/import-existing-image">GCE import documentation</a>
before using this post-processor.</p></div><h2 class="hds-typography-display-500 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h2__9ZcX_" id="user-content-how-does-it-work"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h2__CA9g8" aria-label="How Does it Work permalink" href="/packer/integrations/hashicorp/googlecompute/latest/components/post-processor/googlecompute-import#how-does-it-work"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>How Does it Work?</h2><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">The import process operates by uploading a temporary copy of the compressed raw
disk image to a GCS bucket, and calling an import task in GCP on the raw disk
file. Once completed, a GCE image is created containing the converted virtual
machine. The temporary raw disk image copy in GCS can be discarded after the import is complete.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Google Cloud has very specific requirements for images being imported. Please
see the <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="https://cloud.google.com/compute/docs/images/import-existing-image">GCE import documentation</a>
for details.</p><div class="alert alert-warning g-type-body"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><strong>Note</strong>: To prevent Packer from deleting the compressed RAW disk image set the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">keep_input_artifact</code> configuration option to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">true</code>.
See <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/packer/docs/templates/legacy_json_templates/post-processors#input-artifacts">Post-Processor Input Artifacts</a> for more details.</p></div><h2 class="hds-typography-display-500 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h2__9ZcX_" id="user-content-authentication"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h2__CA9g8" aria-label="Authentication permalink" href="/packer/integrations/hashicorp/googlecompute/latest/components/post-processor/googlecompute-import#authentication"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Authentication</h2><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">To authenticate with GCE, this builder supports everything the plugin does.
To get more information on this, refer to the plugin&#x27;s description page, under
the <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/packer/integrations/hashicorp/googlecompute#authentication">authentication</a> section.</p><h2 class="hds-typography-display-500 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h2__9ZcX_" id="user-content-configuration"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h2__CA9g8" aria-label="Configuration permalink" href="/packer/integrations/hashicorp/googlecompute/latest/components/post-processor/googlecompute-import#configuration"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Configuration</h2><h3 class="hds-typography-display-400 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h3__xmS_z" id="user-content-required"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h3__SkrrS" aria-label="Required permalink" href="/packer/integrations/hashicorp/googlecompute/latest/components/post-processor/googlecompute-import#required"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Required</h3><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">project_id</code> (string) - The project ID where the GCS bucket exists and where the GCE image is stored.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">bucket</code> (string) - The name of the GCS bucket where the raw disk image will be uploaded.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">image_name</code> (string) - The unique name of the resulting image.</p></li></ul><h3 class="hds-typography-display-400 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h3__xmS_z" id="user-content-optional"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h3__SkrrS" aria-label="Optional permalink" href="/packer/integrations/hashicorp/googlecompute/latest/components/post-processor/googlecompute-import#optional"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Optional</h3><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">scopes</code> ([]string) - The service account scopes for launched importer post-processor instance.
Defaults to:</p><div class="hds-code-block hds-code-block--theme-dark hds-code-block--is-standalone mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":R45qhdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">[</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-string)">  &quot;https://www.googleapis.com/auth/cloud-platform&quot;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">]</span></span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary-white hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":R45qhdal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":R7c5qhdal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">gcs_object_name</code> (string) - The name of the GCS object in <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">bucket</code> where
the RAW disk image will be copied for import. This is treated as a
<a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/packer/docs/templates/legacy_json_templates/engine">template engine</a>. Therefore, you
may use user variables and template functions in this field. Defaults to
<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">packer-import-{{timestamp}}.tar.gz</code>.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">image_architecture</code> (string) - Specifies the architecture or processor type that this image can support. Must be one of: <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">arm64</code> or <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">x86_64</code>. Defaults to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ARCHITECTURE_UNSPECIFIED</code>.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">image_description</code> (string) - The description of the resulting image.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">image_family</code> (string) - The name of the image family to which the resulting image belongs.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">image_guest_os_features</code> ([]string) - A list of features to enable on the guest operating system. Applicable only for bootable images. Valid
values are <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">MULTI_IP_SUBNET</code>, <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">UEFI_COMPATIBLE</code>,
<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">VIRTIO_SCSI_MULTIQUEUE</code>, <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">GVNIC</code> and <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">WINDOWS</code> currently.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">image_labels</code> (map<!-- -->[string]<!-- -->string) - Key/value pair labels to apply to the created image.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">image_storage_locations</code> ([]string) - Specifies a Cloud Storage location, either regional or multi-regional, where image content is to be stored. If not specified, the multi-region location closest to the source is chosen automatically.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">skip_clean</code> (bool) - Skip removing the TAR file uploaded to the GCS
bucket after the import process has completed. &quot;true&quot; means that we should
leave it in the GCS bucket, &quot;false&quot; means to clean it out. Defaults to
<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">false</code>.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">image_platform_key</code> (string) - A key used to establish the trust relationship between the platform owner and the firmware. You may only specify one platform key, and it must be a valid X.509 certificate.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">image_key_exchange_key</code> ([]string) - A key used to establish a trust relationship between the firmware and the OS. You may specify multiple comma-separated keys for this value.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">image_signatures_db</code> ([]string) - A database of certificates that are trusted and can be used to sign boot files. You may specify single or multiple comma-separated values for this value.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">image_forbidden_signatures_db</code> ([]string) - A database of certificates that have been revoked and will cause the system to stop booting if a boot file is signed with one of them. You may specify single or multiple comma-separated values for this value.</p></li></ul><h2 class="hds-typography-display-500 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h2__9ZcX_" id="user-content-basic-example"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h2__CA9g8" aria-label="Basic Example permalink" href="/packer/integrations/hashicorp/googlecompute/latest/components/post-processor/googlecompute-import#basic-example"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Basic Example</h2><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Here is a basic example. This assumes that the builder has produced an
compressed raw disk image artifact for us to work with, and that the GCS bucket
has been created.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><strong>HCL</strong></p><div class="hds-code-block hds-code-block--theme-dark hds-code-block--is-standalone mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":R2ahdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-function)">post-processor</span><span style="color:var(--hds-code-block-color-constant)"> &quot;googlecompute-import&quot;</span><span style="color:var(--hds-code-block-color-token)">{</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">  account_file </span><span style="color:var(--hds-code-block-color-keyword)">=</span><span style="color:var(--hds-code-block-color-string)"> &quot;account.json&quot;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">  bucket </span><span style="color:var(--hds-code-block-color-keyword)">=</span><span style="color:var(--hds-code-block-color-string)"> &quot;my-bucket&quot;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">  project_id </span><span style="color:var(--hds-code-block-color-keyword)">=</span><span style="color:var(--hds-code-block-color-string)"> &quot;my-project&quot;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">  image_name </span><span style="color:var(--hds-code-block-color-keyword)">=</span><span style="color:var(--hds-code-block-color-string)"> &quot;my-gce-image&quot;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">}</span></span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary-white hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":R2ahdal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":R3mahdal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><strong>JSON</strong></p><div class="hds-code-block hds-code-block--theme-dark hds-code-block--is-standalone mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":R2ihdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">{</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-keyword)">  &quot;type&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">:</span><span style="color:var(--hds-code-block-color-string)"> &quot;googlecompute-import&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-keyword)">  &quot;account_file&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">:</span><span style="color:var(--hds-code-block-color-string)"> &quot;account.json&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-keyword)">  &quot;project_id&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">:</span><span style="color:var(--hds-code-block-color-string)"> &quot;my-project&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-keyword)">  &quot;bucket&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">:</span><span style="color:var(--hds-code-block-color-string)"> &quot;my-bucket&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-keyword)">  &quot;image_name&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">:</span><span style="color:var(--hds-code-block-color-string)"> &quot;my-gce-image&quot;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">}</span></span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary-white hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":R2ihdal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":R3mihdal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div><h2 class="hds-typography-display-500 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h2__9ZcX_" id="user-content-qemu-builder-example"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h2__CA9g8" aria-label="QEMU Builder Example permalink" href="/packer/integrations/hashicorp/googlecompute/latest/components/post-processor/googlecompute-import#qemu-builder-example"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>QEMU Builder Example</h2><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Here is a complete example for building a Fedora 31 server GCE image. For this
example Packer was run from a Debian Linux host with KVM installed.</p><div class="hds-code-block hds-code-block--theme-dark hds-code-block--is-standalone mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":R2uhdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span>$ packer build -var serial=$(tty) build.pkr.hcl</span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary-white hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":R2uhdal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":R3muhdal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><strong>HCL2</strong></p><div class="hds-code-block hds-code-block--theme-dark hds-code-block--is-standalone mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":R36hdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-function)">variables</span><span style="color:var(--hds-code-block-color-token)"> {</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">  account_file </span><span style="color:var(--hds-code-block-color-keyword)">=</span><span style="color:var(--hds-code-block-color-string)"> &quot;account.json&quot;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">  bucket </span><span style="color:var(--hds-code-block-color-keyword)">=</span><span style="color:var(--hds-code-block-color-string)"> &quot;my-bucket&quot;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">  project </span><span style="color:var(--hds-code-block-color-keyword)">=</span><span style="color:var(--hds-code-block-color-string)"> &quot;my-project&quot;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">  serial </span><span style="color:var(--hds-code-block-color-keyword)">=</span><span style="color:var(--hds-code-block-color-string)"> &quot;&quot;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">}</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last">
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-function)">source</span><span style="color:var(--hds-code-block-color-constant)"> &quot;qemu&quot;</span><span style="color:var(--hds-code-block-color-constant)"> &quot;example&quot;</span><span style="color:var(--hds-code-block-color-token)"> {</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">    accelerator </span><span style="color:var(--hds-code-block-color-keyword)">=</span><span style="color:var(--hds-code-block-color-string)"> &quot;kvm&quot;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">    boot_command </span><span style="color:var(--hds-code-block-color-keyword)">=</span><span style="color:var(--hds-code-block-color-token)"> [</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-string)">      &quot;&lt;tab&gt; console=ttyS0,115200n8 inst.text inst.ks=http://{{ .HTTPIP }}:{{ .HTTPPort }}/fedora-31-ks.cfg rd.live.check=0&lt;enter&gt;&lt;wait&gt;&quot;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">    ]</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">    disk_size </span><span style="color:var(--hds-code-block-color-keyword)">=</span><span style="color:var(--hds-code-block-color-string)"> &quot;15000&quot;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">    format </span><span style="color:var(--hds-code-block-color-keyword)">=</span><span style="color:var(--hds-code-block-color-string)"> &quot;raw&quot;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">    iso_checksum </span><span style="color:var(--hds-code-block-color-keyword)">=</span><span style="color:var(--hds-code-block-color-string)"> &quot;sha256:225ebc160e40bb43c5de28bad9680e3a78a9db40c9e3f4f42f3ee3f10f95dbeb&quot;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">    iso_url </span><span style="color:var(--hds-code-block-color-keyword)">=</span><span style="color:var(--hds-code-block-color-string)"> &quot;https://download-ib01.fedoraproject.org/pub/fedora/linux/releases/31/Server/x86_64/iso/Fedora-Server-dvd-x86_64-31-1.9.iso&quot;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">    headless </span><span style="color:var(--hds-code-block-color-keyword)">=</span><span style="color:var(--hds-code-block-color-string)"> &quot;true&quot;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">    http_directory </span><span style="color:var(--hds-code-block-color-keyword)">=</span><span style="color:var(--hds-code-block-color-string)"> &quot;http&quot;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">    http_port_max </span><span style="color:var(--hds-code-block-color-keyword)">=</span><span style="color:var(--hds-code-block-color-string)"> &quot;10089&quot;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">    http_port_min </span><span style="color:var(--hds-code-block-color-keyword)">=</span><span style="color:var(--hds-code-block-color-string)"> &quot;10082&quot;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">    output_directory </span><span style="color:var(--hds-code-block-color-keyword)">=</span><span style="color:var(--hds-code-block-color-string)"> &quot;output&quot;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">    shutdown_timeout </span><span style="color:var(--hds-code-block-color-keyword)">=</span><span style="color:var(--hds-code-block-color-string)"> &quot;30m&quot;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">        shutdown_command </span><span style="color:var(--hds-code-block-color-keyword)">=</span><span style="color:var(--hds-code-block-color-string)"> &quot;echo &#x27;vagrant&#x27;|sudo -S shutdown -P now&quot;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">        ssh_username </span><span style="color:var(--hds-code-block-color-keyword)">=</span><span style="color:var(--hds-code-block-color-string)"> &quot;vagrant&quot;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">        ssh_password </span><span style="color:var(--hds-code-block-color-keyword)">=</span><span style="color:var(--hds-code-block-color-string)"> &quot;vagrant&quot;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">    vm_name </span><span style="color:var(--hds-code-block-color-keyword)">=</span><span style="color:var(--hds-code-block-color-string)"> &quot;disk.raw&quot;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">    qemu_binary </span><span style="color:var(--hds-code-block-color-keyword)">=</span><span style="color:var(--hds-code-block-color-string)"> &quot;/usr/bin/kvm&quot;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">    qemuargs </span><span style="color:var(--hds-code-block-color-keyword)">=</span><span style="color:var(--hds-code-block-color-token)"> [</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">      [</span><span style="color:var(--hds-code-block-color-string)">&quot;-m&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">,</span><span style="color:var(--hds-code-block-color-string)"> &quot;1024&quot;</span><span style="color:var(--hds-code-block-color-token)">]</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">      [</span><span style="color:var(--hds-code-block-color-string)">&quot;-cpu&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">,</span><span style="color:var(--hds-code-block-color-string)"> &quot;host&quot;</span><span style="color:var(--hds-code-block-color-token)">]</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">      [</span><span style="color:var(--hds-code-block-color-string)">&quot;-chardev&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">,</span><span style="color:var(--hds-code-block-color-string)"> &quot;tty,id=pts,path=</span><span style="color:var(--hds-code-block-color-keyword)">${</span><span style="color:var(--hds-code-block-color-string)">var</span><span style="color:var(--hds-code-block-color-token)">.</span><span style="color:var(--hds-code-block-color-string)">serial</span><span style="color:var(--hds-code-block-color-keyword)">}</span><span style="color:var(--hds-code-block-color-string)">&quot;</span><span style="color:var(--hds-code-block-color-token)">]</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">      [</span><span style="color:var(--hds-code-block-color-string)">&quot;-device&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">,</span><span style="color:var(--hds-code-block-color-string)"> &quot;isa-serial,chardev=pts&quot;</span><span style="color:var(--hds-code-block-color-token)">]</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">      [</span><span style="color:var(--hds-code-block-color-string)">&quot;-device&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">,</span><span style="color:var(--hds-code-block-color-string)"> &quot;virtio-net,netdev=user.0&quot;</span><span style="color:var(--hds-code-block-color-token)">]</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">    ]</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">}</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last">
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-function)">build</span><span style="color:var(--hds-code-block-color-token)"> {</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">  sources </span><span style="color:var(--hds-code-block-color-keyword)">=</span><span style="color:var(--hds-code-block-color-token)"> [</span><span style="color:var(--hds-code-block-color-string)">&quot;source.qemu.example&quot;</span><span style="color:var(--hds-code-block-color-token)">]</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last">
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-function)">  post-processors</span><span style="color:var(--hds-code-block-color-token)"> {</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-function)">    post-processor</span><span style="color:var(--hds-code-block-color-constant)"> &quot;compress&quot;</span><span style="color:var(--hds-code-block-color-token)"> {</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">        output </span><span style="color:var(--hds-code-block-color-keyword)">=</span><span style="color:var(--hds-code-block-color-string)"> &quot;output/disk.raw.tar.gz&quot;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">    }</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-function)">    post-processor</span><span style="color:var(--hds-code-block-color-constant)"> &quot;googlecompute-import&quot;</span><span style="color:var(--hds-code-block-color-token)">  {</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">        account_file </span><span style="color:var(--hds-code-block-color-keyword)">=</span><span style="color:var(--hds-code-block-color-token)"> var.account_file</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">        bucket </span><span style="color:var(--hds-code-block-color-keyword)">=</span><span style="color:var(--hds-code-block-color-token)"> var.bucket</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">        project_id </span><span style="color:var(--hds-code-block-color-keyword)">=</span><span style="color:var(--hds-code-block-color-token)"> var.project</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">        image_name </span><span style="color:var(--hds-code-block-color-keyword)">=</span><span style="color:var(--hds-code-block-color-string)"> &quot;fedora31-server-packertest&quot;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">        image_description </span><span style="color:var(--hds-code-block-color-keyword)">=</span><span style="color:var(--hds-code-block-color-string)"> &quot;Fedora 31 Server&quot;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">        image_family </span><span style="color:var(--hds-code-block-color-keyword)">=</span><span style="color:var(--hds-code-block-color-string)"> &quot;fedora31-server&quot;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">      }</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">    }</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">}</span></span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary-white hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":R36hdal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":R3n6hdal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">  <strong>JSON</strong></p><div class="hds-code-block hds-code-block--theme-dark hds-code-block--is-standalone mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":R3ehdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">{</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-keyword)">  &quot;variables&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">:</span><span style="color:var(--hds-code-block-color-token)"> {</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-keyword)">    &quot;account_file&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">:</span><span style="color:var(--hds-code-block-color-string)"> &quot;account.json&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-keyword)">    &quot;bucket&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">:</span><span style="color:var(--hds-code-block-color-string)"> &quot;my-bucket&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-keyword)">    &quot;project&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">:</span><span style="color:var(--hds-code-block-color-string)"> &quot;my-project&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-keyword)">    &quot;serial&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">:</span><span style="color:var(--hds-code-block-color-string)"> &quot;&quot;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">  }</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-keyword)">  &quot;builders&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">:</span><span style="color:var(--hds-code-block-color-token)"> [</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">    {</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-keyword)">      &quot;type&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">:</span><span style="color:var(--hds-code-block-color-string)"> &quot;qemu&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-keyword)">      &quot;accelerator&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">:</span><span style="color:var(--hds-code-block-color-string)"> &quot;kvm&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-keyword)">      &quot;boot_command&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">:</span><span style="color:var(--hds-code-block-color-token)"> [</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-string)">        &quot;&lt;tab&gt; console=ttyS0,115200n8 inst.text inst.ks=http://{{ .HTTPIP }}:{{ .HTTPPort }}/fedora-31-ks.cfg rd.live.check=0&lt;enter&gt;&lt;wait&gt;&quot;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">      ]</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-keyword)">      &quot;disk_size&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">:</span><span style="color:var(--hds-code-block-color-string)"> &quot;15000&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-keyword)">      &quot;format&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">:</span><span style="color:var(--hds-code-block-color-string)"> &quot;raw&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-keyword)">      &quot;iso_checksum&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">:</span><span style="color:var(--hds-code-block-color-string)"> &quot;sha256:225ebc160e40bb43c5de28bad9680e3a78a9db40c9e3f4f42f3ee3f10f95dbeb&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-keyword)">      &quot;iso_url&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">:</span><span style="color:var(--hds-code-block-color-string)"> &quot;https://download-ib01.fedoraproject.org/pub/fedora/linux/releases/31/Server/x86_64/iso/Fedora-Server-dvd-x86_64-31-1.9.iso&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-keyword)">      &quot;headless&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">:</span><span style="color:var(--hds-code-block-color-string)"> &quot;true&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-keyword)">      &quot;http_directory&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">:</span><span style="color:var(--hds-code-block-color-string)"> &quot;http&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-keyword)">      &quot;http_port_max&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">:</span><span style="color:var(--hds-code-block-color-string)"> &quot;10089&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-keyword)">      &quot;http_port_min&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">:</span><span style="color:var(--hds-code-block-color-string)"> &quot;10082&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-keyword)">      &quot;output_directory&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">:</span><span style="color:var(--hds-code-block-color-string)"> &quot;output&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-keyword)">      &quot;shutdown_timeout&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">:</span><span style="color:var(--hds-code-block-color-string)"> &quot;30m&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-keyword)">      &quot;shutdown_command&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">:</span><span style="color:var(--hds-code-block-color-string)"> &quot;echo &#x27;vagrant&#x27;|sudo -S shutdown -P now&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-keyword)">      &quot;ssh_username&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">:</span><span style="color:var(--hds-code-block-color-string)"> &quot;vagrant&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-keyword)">      &quot;ssh_password&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">:</span><span style="color:var(--hds-code-block-color-string)"> &quot;vagrant&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-keyword)">      &quot;vm_name&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">:</span><span style="color:var(--hds-code-block-color-string)"> &quot;disk.raw&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-keyword)">      &quot;qemu_binary&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">:</span><span style="color:var(--hds-code-block-color-string)"> &quot;/usr/bin/kvm&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-keyword)">      &quot;qemuargs&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">:</span><span style="color:var(--hds-code-block-color-token)"> [</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">        [</span><span style="color:var(--hds-code-block-color-string)">&quot;-m&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">,</span><span style="color:var(--hds-code-block-color-string)"> &quot;1024&quot;</span><span style="color:var(--hds-code-block-color-token)">]</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">        [</span><span style="color:var(--hds-code-block-color-string)">&quot;-cpu&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">,</span><span style="color:var(--hds-code-block-color-string)"> &quot;host&quot;</span><span style="color:var(--hds-code-block-color-token)">]</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">        [</span><span style="color:var(--hds-code-block-color-string)">&quot;-chardev&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">,</span><span style="color:var(--hds-code-block-color-string)"> &quot;tty,id=pts,path={{user `serial`}}&quot;</span><span style="color:var(--hds-code-block-color-token)">]</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">        [</span><span style="color:var(--hds-code-block-color-string)">&quot;-device&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">,</span><span style="color:var(--hds-code-block-color-string)"> &quot;isa-serial,chardev=pts&quot;</span><span style="color:var(--hds-code-block-color-token)">]</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">        [</span><span style="color:var(--hds-code-block-color-string)">&quot;-device&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">,</span><span style="color:var(--hds-code-block-color-string)"> &quot;virtio-net,netdev=user.0&quot;</span><span style="color:var(--hds-code-block-color-token)">]</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">      ]</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">    }</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">  ]</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-keyword)">  &quot;post-processors&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">:</span><span style="color:var(--hds-code-block-color-token)"> [</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">    [</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">      {</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-keyword)">        &quot;type&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">:</span><span style="color:var(--hds-code-block-color-string)"> &quot;compress&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-keyword)">        &quot;output&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">:</span><span style="color:var(--hds-code-block-color-string)"> &quot;output/disk.raw.tar.gz&quot;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">      }</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">      {</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-keyword)">        &quot;type&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">:</span><span style="color:var(--hds-code-block-color-string)"> &quot;googlecompute-import&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-keyword)">        &quot;project_id&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">:</span><span style="color:var(--hds-code-block-color-string)"> &quot;{{user `project`}}&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-keyword)">        &quot;account_file&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">:</span><span style="color:var(--hds-code-block-color-string)"> &quot;{{user `account_file`}}&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-keyword)">        &quot;bucket&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">:</span><span style="color:var(--hds-code-block-color-string)"> &quot;{{user `bucket`}}&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-keyword)">        &quot;image_name&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">:</span><span style="color:var(--hds-code-block-color-string)"> &quot;fedora31-server-packertest&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-keyword)">        &quot;image_description&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">:</span><span style="color:var(--hds-code-block-color-string)"> &quot;Fedora 31 Server&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-keyword)">        &quot;image_family&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">:</span><span style="color:var(--hds-code-block-color-string)"> &quot;fedora31-server&quot;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">      }</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">    ]</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">  ]</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">}</span></span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary-white hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":R3ehdal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":R3nehdal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div></div></div></div></main><div class="sidebar-sidecar-layout_sidecarPosition__WtTq0"><div class="sidebar-sidecar-layout_sidecarTopSlot__qRAEI"></div><div class="sidecar-scroll-container_root__a8nIj"><div class="sidecar-scroll-container_scrollContainer__Dw9id"><div><nav aria-labelledby="react-aria-50"><p id="react-aria-50" class="outline-nav_navLabel__HrjQb hds-typography-body-100">On this page:</p><ol class="outline-nav_listRoot__Sm1fr"><li><a class="outline-link_root__S7fQg hds-typography-body-200 g-focus-ring-from-box-shadow" href="/packer/integrations/hashicorp/googlecompute/latest/components/post-processor/googlecompute-import#how-does-it-work">How Does it Work?</a></li><li><a class="outline-link_root__S7fQg hds-typography-body-200 g-focus-ring-from-box-shadow" href="/packer/integrations/hashicorp/googlecompute/latest/components/post-processor/googlecompute-import#authentication">Authentication</a></li><li><a class="outline-link_root__S7fQg hds-typography-body-200 g-focus-ring-from-box-shadow" href="/packer/integrations/hashicorp/googlecompute/latest/components/post-processor/googlecompute-import#configuration">Configuration</a></li><li><a class="outline-link_root__S7fQg hds-typography-body-200 g-focus-ring-from-box-shadow" href="/packer/integrations/hashicorp/googlecompute/latest/components/post-processor/googlecompute-import#required">Required</a></li><li><a class="outline-link_root__S7fQg hds-typography-body-200 g-focus-ring-from-box-shadow" href="/packer/integrations/hashicorp/googlecompute/latest/components/post-processor/googlecompute-import#optional">Optional</a></li><li><a class="outline-link_root__S7fQg hds-typography-body-200 g-focus-ring-from-box-shadow" href="/packer/integrations/hashicorp/googlecompute/latest/components/post-processor/googlecompute-import#basic-example">Basic Example</a></li><li><a class="outline-link_root__S7fQg hds-typography-body-200 g-focus-ring-from-box-shadow" href="/packer/integrations/hashicorp/googlecompute/latest/components/post-processor/googlecompute-import#qemu-builder-example">QEMU Builder Example</a></li></ol></nav></div></div></div></div></div></div></div></div></div><div class="base-layout_footer__HGqK8 base-layout_showFooterTopBorder__4_CwH"><footer class="footer_root__qJO_k"><span class="footer_logoAndSwitcher__CJkN3"><a href="https://www.hashicorp.com/" aria-label="Go to HashiCorp home page" class="footer_logo__pe9i3 g-focus-ring-from-box-shadow"><div><svg xmlns="http://www.w3.org/2000/svg" width="266" height="65" fill="none" viewBox="0 0 266 65"><path fill="#000" d="M71.823 62.023c-.817 0-1.171-.519-1.253-1.174h-.081c-.3.874-1.09 1.365-2.097 1.365-1.524 0-2.423-.846-2.423-2.185 0-1.338.98-2.13 3.077-2.13h1.443v-.71c0-1.038-.572-1.584-1.716-1.584-1.143 0-1.443.41-1.851 1.093l-.68-.629c.38-.764 1.252-1.42 2.559-1.42 1.306 0 2.777.929 2.777 2.458v3.987h.816v.984h-.626zm-1.307-2.103v-1.202h-1.498c-1.28 0-1.85.383-1.85 1.093v.3c0 .71.57 1.12 1.442 1.12.871 0 1.906-.573 1.906-1.31M74.137 62.023v-7.265h1.116v1.175h.055c.354-.82.98-1.366 2.042-1.366 1.062 0 2.423 1.01 2.423 2.786v4.67h-1.117v-4.452c0-1.283-.571-1.966-1.633-1.966s-1.77.464-1.77 1.393v5.052h-1.116zM84.646 62.023v-.983h1.389v-7.866h-1.389v-.983h3.92v.983h-1.388v7.866h1.389v.983zM90.8 52.191h4.029c1.606 0 2.614 1.01 2.614 2.54s-.953 1.994-1.58 2.076v.082c.708.054 1.934.655 1.934 2.294 0 1.638-1.09 2.84-2.532 2.84h-4.466zm1.17 4.26h2.723c.925 0 1.497-.49 1.497-1.365v-.492c0-.873-.572-1.365-1.497-1.365H91.97zm0 4.534h2.913c1.008 0 1.634-.546 1.634-1.53v-.49c0-.984-.626-1.53-1.634-1.53H91.97v3.523zM100.056 52.191h1.579l2.805 5.298h.081l2.832-5.298h1.525v9.832h-1.144v-8.275h-.082l-.816 1.639-2.342 4.287-2.341-4.287-.817-1.64h-.082v8.276h-1.143v-9.832zM113.86 57.162c0-3.278 1.47-5.135 3.948-5.135 2.477 0 2.75.792 3.376 2.158l-.953.573c-.381-1.01-1.198-1.666-2.423-1.666s-2.696 1.339-2.696 3.36v1.474c0 2.021 1.008 3.25 2.696 3.25 1.688 0 2.096-.71 2.505-1.775l.953.601c-.627 1.393-1.825 2.24-3.431 2.24-2.478 0-3.948-1.748-3.948-5.026zM122.491 58.39c0-2.32 1.334-3.796 3.267-3.796 1.933 0 3.267 1.503 3.267 3.797 0 2.294-1.334 3.796-3.267 3.796-1.933 0-3.267-1.502-3.267-3.796m5.336.52v-1.038c0-1.53-.844-2.294-2.069-2.294s-2.069.737-2.069 2.294v1.038c0 1.53.844 2.294 2.069 2.294s2.069-.738 2.069-2.294M130.958 62.023v-7.265h1.116v1.175h.055c.327-.738.817-1.366 1.96-1.366 1.144 0 1.824.437 2.205 1.475h.028c.272-.792.98-1.475 2.205-1.475s2.369 1.01 2.369 2.786v4.67h-1.117v-4.452c0-1.283-.49-1.966-1.579-1.966s-1.688.464-1.688 1.393v5.052h-1.116V57.6c0-1.284-.49-1.967-1.552-1.967s-1.715.465-1.715 1.393v5.053h-1.116zM143.292 54.758h1.116v1.175h.054c.381-.929 1.117-1.366 2.124-1.366 1.824 0 2.94 1.475 2.94 3.796 0 2.322-1.143 3.797-2.94 3.797s-1.688-.465-2.124-1.366h-.054v3.987h-1.116V54.704zm5.036 4.26V57.79c0-1.284-.789-2.158-2.042-2.158-1.252 0-1.878.601-1.878 1.393v2.704c0 .956.844 1.475 1.878 1.475 1.035 0 2.042-.874 2.042-2.158zM156.768 62.023c-.816 0-1.17-.519-1.252-1.174h-.082c-.299.874-1.089 1.365-2.096 1.365-1.525 0-2.423-.846-2.423-2.185 0-1.338.98-2.13 3.076-2.13h1.443v-.71c0-1.038-.571-1.584-1.715-1.584-1.143 0-1.443.41-1.851 1.093l-.681-.629c.381-.764 1.253-1.42 2.559-1.42 1.307 0 2.777.929 2.777 2.458v3.987h.817v.984h-.626zm-1.334-2.103v-1.202h-1.497c-1.28 0-1.851.383-1.851 1.093v.3c0 .71.571 1.12 1.443 1.12.871 0 1.905-.573 1.905-1.31M159.056 62.023v-7.265h1.116v1.175h.054c.354-.82.98-1.366 2.042-1.366 1.062 0 2.423 1.01 2.423 2.786v4.67h-1.116v-4.452c0-1.283-.572-1.966-1.633-1.966-1.062 0-1.77.464-1.77 1.393v5.052h-1.116zM171.471 54.758h1.116l-3.24 8.958c-.327.874-.626 1.12-1.688 1.12h-.572v-.983h1.144l.544-1.557-2.722-7.538h1.116l1.742 4.944.327 1.174h.082l.381-1.174 1.742-4.944zM66.132 12.863h5.582v12.045H84.51V12.863h5.636V42.36H84.51V29.96H71.714v12.4h-5.582zM93.74 36.651c0-4.424 3.104-5.899 6.888-6.8l6.398-1.475v-.519c0-2.157-1.388-3.496-3.621-3.496-2.232 0-3.54 1.23-3.948 3.25l-4.791-.546c.707-4.042 4.11-6.664 8.957-6.664 4.846 0 8.821 3.387 8.821 8.303v8.63c0 .546.164.71.545.71h1.17v4.288h-3.267c-2.069 0-2.995-.683-2.995-2.349 0-1.666.082-1.092.3-1.857l-.463-.164c-1.525 3.277-3.73 4.725-6.888 4.725s-7.106-2.403-7.106-6.063zm8.549 2.103c2.777 0 4.737-2.02 4.737-5.216v-1.693l-4.574 1.092c-2.314.546-3.267 1.338-3.267 3.113 0 1.776 1.225 2.704 3.104 2.704M116.147 36.542l5.119-1.01c.544 2.266 2.341 3.413 4.737 3.413s3.73-.983 3.73-2.621c0-1.64-1.606-1.994-4.629-2.54-3.811-.601-8.766-1.311-8.766-6.61 0-5.298 3.403-6.8 8.957-6.8s8.74 2.076 9.611 6.227l-5.173.847c-.463-2.104-2.178-3.196-4.465-3.196s-3.649 1.065-3.649 2.485 1.634 1.994 4.656 2.54c3.785.601 8.74 1.311 8.74 6.61 0 5.298-3.376 6.964-9.039 6.964s-8.958-2.103-9.883-6.336zM143.836 42.387h-5.472V12.044h5.472v9.45c0 1.092-.218 2.157-.517 3.714l.517.164c1.307-3.114 3.267-4.943 6.943-4.943 3.675 0 7.133 2.95 7.133 7.974v13.984h-5.473v-13.82c0-2.458-1.225-3.796-3.648-3.796s-4.955 2.103-4.955 5.817zM169.129 36.924c0 .847.3 1.093.926 1.093h2.396v4.342h-4.955c-2.478 0-3.812-1.393-3.812-3.96V25.263h-3.022V20.92h8.494v16.004zm-6.207-21.74c0-1.856 1.524-3.386 3.321-3.386 1.797 0 3.322 1.53 3.322 3.387a3.305 3.305 0 0 1-3.322 3.332 3.305 3.305 0 0 1-3.321-3.332M174.248 27.639c0-8.85 5.799-15.24 14.185-15.24 8.385 0 11.897 4.097 13.177 9.64l-5.554 1.34c-1.062-3.879-3.621-6.064-7.651-6.064-4.029 0-8.358 4.26-8.358 10.324 0 6.063 3.376 10.323 8.576 10.323 5.2 0 6.643-2.24 7.705-6.363l5.255.6c-1.253 6.61-6.126 10.707-13.014 10.707-6.889 0-14.321-6.419-14.321-15.24zM203.87 31.626c0-6.527 4.574-11.197 10.918-11.197 6.343 0 10.917 4.67 10.917 11.197 0 6.527-4.574 11.252-10.917 11.252-6.344 0-10.918-4.725-10.918-11.252m16.39 0c0-4.042-2.151-6.746-5.472-6.746-3.322 0-5.473 2.704-5.473 6.746s2.178 6.8 5.473 6.8c3.294 0 5.472-2.703 5.472-6.8M229.163 20.92h5.037v.847c0 1.147-.055 2.075-.381 3.796l.517.137c.79-2.813 2.26-4.752 5.717-4.752h1.552v5.325h-2.232c-3.077 0-4.738 1.857-4.738 5.271v10.87h-5.472v-21.44zM244.165 20.92h5.39v.983c0 .984-.081 1.72-.381 3.469l.517.136c1.307-3.413 3.73-5.052 6.889-5.052 5.2 0 9.338 4.288 9.338 11.197 0 6.91-4.111 11.253-9.338 11.253-5.228 0-5.473-1.64-6.807-5.108l-.463.164c.245 1.694.327 2.485.327 3.414v9.64h-5.472zm16.308 10.706c0-4.178-2.26-6.746-5.472-6.746-3.213 0-5.473 2.568-5.473 6.746 0 4.179 2.26 6.8 5.473 6.8 3.212 0 5.472-2.567 5.472-6.8M21.781 0 0 12.618v30.26l8.168 4.725v-30.26L21.78 9.476z"/><path fill="#000" d="M30.466 0v24.116h-8.685v-9.013l-8.195 4.752v30.889l8.195 4.724V31.435h8.685v8.958l8.195-4.752V4.752z"/><path fill="#000" d="m30.466 55.496 21.781-12.618v-30.26l-8.195-4.725v30.26L30.466 46.02z"/></svg></div></a><span class="footer_themeSwitcher__CPJxw hds-font-weight-regular"><label class="theme-switcher_label__7Boh2 hds-typography-body-200" for="react-aria-58">Theme</label></span></span><ul class="footer_links__t81SU"><li><a class="footer_linkAction__bR3OW g-focus-ring-from-box-shadow" href="/certifications"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular">Certifications</span></a></li><li><a class="footer_linkAction__bR3OW g-focus-ring-from-box-shadow" href="https://status.hashicorp.com"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular">System Status</span></a></li><li><button class="footer_linkAction__bR3OW g-focus-ring-from-box-shadow"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular">Cookie Manager</span></button></li><li><a class="footer_linkAction__bR3OW g-focus-ring-from-box-shadow" href="https://www.hashicorp.com/terms-of-service"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular">Terms of Use</span></a></li><li><a class="footer_linkAction__bR3OW g-focus-ring-from-box-shadow" href="https://www.hashicorp.com/trust/security"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular">Security</span></a></li><li><a class="footer_linkAction__bR3OW g-focus-ring-from-box-shadow" href="https://www.hashicorp.com/privacy"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular">Privacy</span></a></li><li><a class="footer_linkAction__bR3OW g-focus-ring-from-box-shadow" href="https://www.hashicorp.com/trademark-policy"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular">Trademark Policy</span></a></li><li><a class="footer_linkAction__bR3OW g-focus-ring-from-box-shadow" href="https://www.hashicorp.com/trade-controls"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular">Trade Controls</span></a></li><li><a class="footer_linkAction__bR3OW g-focus-ring-from-box-shadow" href="https://www.hashicorp.com/trust/accessibility"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular">Accessibility</span></a></li><li><a class="footer_linkAction__bR3OW g-focus-ring-from-box-shadow" aria-describedby="opens-in-new-tab-label-react-aria-67" target="_blank" href="https://forms.gle/fnHLuNahLEhjuKvE6"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular">Give Feedback</span><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><g fill="currentColor"><path d="M9 .75A.75.75 0 019.75 0h4.5c.206 0 .393.083.529.218l.001.002.002.001A.748.748 0 0115 .75v4.5a.75.75 0 01-1.5 0V2.56L7.28 8.78a.75.75 0 01-1.06-1.06l6.22-6.22H9.75A.75.75 0 019 .75z"></path><path d="M3.25 3.5a.75.75 0 00-.75.75v7.5c0 .414.336.75.75.75h7.5a.75.75 0 00.75-.75v-4a.75.75 0 011.5 0v4A2.25 2.25 0 0110.75 14h-7.5A2.25 2.25 0 011 11.75v-7.5A2.25 2.25 0 013.25 2h4a.75.75 0 010 1.5h-4z"></path></g></svg></a><span class="g-screen-reader-only" id="opens-in-new-tab-label-react-aria-67">(opens in new tab)</span></li></ul></footer></div></div></div><div style="position:fixed;z-index:99;top:16px;left:16px;right:16px;bottom:16px;pointer-events:none;inset:24px"></div><!--$--><!--/$--></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"metadata":{"title":"Google Cloud Platform Post-Processor | Integrations"},"product":{"name":"Packer","slug":"packer","algoliaConfig":{"indexName":"product_PACKER","searchOnlyApiKey":"4e1ea7f4bf4335ac43d9f28463e42148"},"analyticsConfig":{"includedDomains":"packer.io www.packer.io","segmentWriteKey":"AjXdfmTTk1I9q9dfyePuDFHBrz1tCO3l"},"datoToken":"88b4984480dad56295a8aadae6caad","metadata":{"title":"Packer by HashiCorp","description":"Packer helps you create golden images for multiple platforms from a single source configuration.","image":"https://www.packer.io/packer-public/img/og-image.png","icon":[{"href":"/packer-public/_favicon.ico"}]},"alertBannerActive":true,"alertBanner":{"tag":"HashiDays","url":"https://hashicorp.com/conferences/hashidays","text":"One conference. Three cities.","linkText":"Find a city near you","expirationDate":"2024-06-14T00:00:00-08:00"},"version":"1.7.10","basePaths":["docs","guides","intro","downloads"],"rootDocsPaths":[{"iconName":"docs","name":"Documentation","path":"docs"},{"iconName":"guide","name":"Guides","path":"guides"}],"integrationsConfig":{"description":"A curated collection of official, partner, and community Packer Integrations."}},"integration":{"id":"834b0c0c-be8e-4a62-add3-478673c04f95","slug":"googlecompute","name":"Google Cloud Platform","description":"The googlecompute plugin can be used with HashiCorp Packer to create custom images on GCE.","license_type":null,"license_url":null,"external_only":false,"external_url":null,"tier":"official","repo_url":"https://github.com/hashicorp/packer-plugin-googlecompute","subdirectory":"/.web-docs","created_at":"2023-06-15T19:02:47.779Z","updated_at":"2023-08-08T17:01:06.505Z","hide_versions":false,"organization":{"id":"a4a0551a-1451-4d89-9f56-8031c8350c77","slug":"hashicorp","created_at":"2022-11-09T22:56:32.391Z","updated_at":"2022-11-09T22:56:32.391Z"},"product":{"id":"4c2b00c6-7cc1-4e4c-b596-4ab57e319f21","slug":"packer","name":"Packer","created_at":"2022-11-09T22:56:29.896Z","updated_at":"2022-11-09T22:56:29.896Z"},"versions":["1.1.9","1.1.8","1.1.7","1.1.6","1.1.5","1.1.4","1.1.3","1.1.2","1.1.1"],"components":[{"id":"36076511-3ced-4faf-addf-101fce0405ff","slug":"builder","name":"Builder","plural_name":"Builders"},{"id":"73965f1c-ad56-4f38-a31b-dc17d08c0ba6","slug":"post-processor","name":"Post-Processor","plural_name":"Post-Processors"},{"id":"73965f1c-ad56-4f38-a31b-dc17d08c0ba6","slug":"post-processor","name":"Post-Processor","plural_name":"Post-Processors"}],"flags":[{"id":"3709e036-b45f-4be8-9043-f7c8cc2af00f","slug":"hcp-ready","name":"HCP Ready","description":"This integration has been tested to work with HashiCorp Cloud Platform (HCP)","created_at":"2022-11-09T22:56:30.673Z","updated_at":"2022-11-09T22:56:30.673Z"}],"integration_type":null},"activeRelease":{"id":"29dd004b-bffb-4ea8-95ba-cee16ce953d6","integration_id":"834b0c0c-be8e-4a62-add3-478673c04f95","version":"1.1.9","readme":"The Google compute Packer plugin lets you create custom images for use within Google Compute Engine (GCE).\n\n### Installation\n\nTo install this plugin, copy and paste this code into your Packer configuration, then run [`packer init`](https://www.packer.io/docs/commands/init).\n\n```hcl\npacker {\n  required_plugins {\n    googlecompute = {\n      source  = \"github.com/hashicorp/googlecompute\"\n      version = \"~\u003e 1\"\n    }\n  }\n}\n```\n\nAlternatively, you can use `packer plugins install` to manage installation of this plugin.\n\n```sh\n$ packer plugins install github.com/hashicorp/googlecompute\n```\n\n### Components\n\n#### Builders\n\n- [googlecompute](/packer/integrations/hashicorp/googlecompute/latest/components/builder/googlecompute) - The\n  googlecompute builder creates images from existing ones, by launching an instance, provisioning it, then exporting\n  it as a reusable image.\n\n#### Post-Processors\n\n- [googlecompute-import](/packer/integrations/hashicorp/googlecompute/latest/components/post-processor/googlecompute-import) -\n  The googlecompute-import post-processor imports an existing raw disk image, and imports it as a GCE image that can be\n  used for launching instances from.\n\n- [googlecompute-export](/packer/integrations/hashicorp/googlecompute/latest/components/post-processor/googlecompute-export) -\n  The googlecompute-export post-processor exports the image built by the googlecompute builder as a .tar.gz archive into Google\n  Cloud Storage (GCS).\n\n### Authentication\n\nAuthenticating with Google Cloud services requires either a User Application Default Credentials,\na JSON Service Account Key or an Access Token.  These are **not** required if you are\nrunning the `googlecompute` Packer builder on Google Cloud with a\nproperly-configured [Google Service\nAccount](https://cloud.google.com/compute/docs/authentication).\n\nThe following options are available for the `googlecompute` builder, the `googlecompute-export`, and\nthe `googlecompute-import`:\n\n\u003c!-- Code generated from the comments of the Authentication struct in lib/common/auth.go; DO NOT EDIT MANUALLY --\u003e\n\n- `access_token` (string) - A temporary [OAuth 2.0 access token](https://developers.google.com/identity/protocols/oauth2)\n  obtained from the Google Authorization server, i.e. the `Authorization: Bearer` token used to\n  authenticate HTTP requests to GCP APIs.\n  This is an alternative to `account_file`, and ignores the `scopes` field.\n  If both are specified, `access_token` will be used over the `account_file` field.\n  \n  These access tokens cannot be renewed by Packer and thus will only work until they expire.\n  If you anticipate Packer needing access for longer than a token's lifetime (default `1 hour`),\n  please use a service account key with `account_file` instead.\n\n- `account_file` (string) - The JSON file containing your account credentials. Not required if you\n  run Packer on a GCE instance with a service account. Instructions for\n  creating the file or using service accounts are above.\n\n- `credentials_file` (string) - The JSON file containing your account credentials.\n  \n  The file's contents may be anything supported by the Google Go client, i.e.:\n  \n  * Service account JSON\n  * OIDC-provided token for federation\n  * Gcloud user credentials file (refresh-token JSON)\n  * A Google Developers Console client_credentials.json\n\n- `credentials_json` (string) - The raw JSON payload for credentials.\n  \n  The accepted data formats are same as those described under\n  [credentials_file](#credentials_file).\n\n- `impersonate_service_account` (string) - This allows service account impersonation as per the [docs](https://cloud.google.com/iam/docs/impersonating-service-accounts).\n\n- `vault_gcp_oauth_engine` (string) - Can be set instead of account_file. If set, this builder will use\n  HashiCorp Vault to generate an Oauth token for authenticating against\n  Google Cloud. The value should be the path of the token generator\n  within vault.\n  For information on how to configure your Vault + GCP engine to produce\n  Oauth tokens, see https://www.vaultproject.io/docs/auth/gcp\n  You must have the environment variables VAULT_ADDR and VAULT_TOKEN set,\n  along with any other relevant variables for accessing your vault\n  instance. For more information, see the Vault docs:\n  https://www.vaultproject.io/docs/commands/#environment-variables\n  Example:`\"vault_gcp_oauth_engine\": \"gcp/token/my-project-editor\",`\n\n\u003c!-- End of code generated from the comments of the Authentication struct in lib/common/auth.go; --\u003e\n\n\n#### Running locally on your workstation.\n\nIf you run the `googlecompute` Packer builder locally on your workstation, you will\nneed to install the Google Cloud SDK and authenticate using [User Application Default\nCredentials](https://cloud.google.com/sdk/gcloud/reference/auth/application-default).\nYou don't need to specify an _account file_ if you are using this method. Your user\nmust have at least `Compute Instance Admin (v1)` \u0026 `Service Account User` roles\nto use Packer succesfully.\n\n#### Running on Google Cloud\n\nIf you run the `googlecompute` Packer builder on GCE or GKE, you can\nconfigure that instance or cluster to use a [Google Service\nAccount](https://cloud.google.com/compute/docs/authentication). This will allow\nPacker to authenticate to Google Cloud without having to bake in a separate\ncredential/authentication file.\n\nIt is recommended that you create a custom service account for Packer and assign it\n`Compute Instance Admin (v1)` \u0026 `Service Account User` roles.\n\nFor `gcloud`, you can run the following commands:\n\n```shell-session\n$ gcloud iam service-accounts create packer \\\n  --project YOUR_GCP_PROJECT \\\n  --description=\"Packer Service Account\" \\\n  --display-name=\"Packer Service Account\"\n\n$ gcloud projects add-iam-policy-binding YOUR_GCP_PROJECT \\\n    --member=serviceAccount:packer@YOUR_GCP_PROJECT.iam.gserviceaccount.com \\\n    --role=roles/compute.instanceAdmin.v1\n\n$ gcloud projects add-iam-policy-binding YOUR_GCP_PROJECT \\\n    --member=serviceAccount:packer@YOUR_GCP_PROJECT.iam.gserviceaccount.com \\\n    --role=roles/iam.serviceAccountUser\n\n$ gcloud projects add-iam-policy-binding YOUR_GCP_PROJECT \\\n    --member=serviceAccount:packer@YOUR_GCP_PROJECT.iam.gserviceaccount.com \\\n    --role=roles/iap.tunnelResourceAccessor\n\n$ gcloud compute instances create INSTANCE-NAME \\\n  --project YOUR_GCP_PROJECT \\\n  --image-family ubuntu-2004-lts \\\n  --image-project ubuntu-os-cloud \\\n  --network YOUR_GCP_NETWORK \\\n  --zone YOUR_GCP_ZONE \\\n  --service-account=packer@YOUR_GCP_PROJECT.iam.gserviceaccount.com \\\n  --scopes=\"https://www.googleapis.com/auth/cloud-platform\"\n```\n\n**The service account will be used automatically by Packer as long as there is\nno _account file_ specified in the Packer configuration file.**\n\n#### Running outside of Google Cloud\n\nThe [Google Cloud Console](https://console.cloud.google.com) allows\nyou to create and download a credential file that will let you use the\n`googlecompute` Packer builder anywhere. To make the process more\nstraightforwarded, it is documented here.\n\n1.  Log into the [Google Cloud\n    Console](https://console.cloud.google.com/iam-admin/serviceaccounts) and select a project.\n\n2.  Click Select a project, choose your project, and click Open.\n\n3.  Click Create Service Account.\n\n4.  Enter a service account name (friendly display name), an optional description, select the `Compute Engine Instance Admin (v1)` and `Service Account User` roles, and then click Save.\n\n5.  Generate a JSON Key and save it in a secure location.\n\n6.  Set the Environment Variable `GOOGLE_APPLICATION_CREDENTIALS` to point to the path of the service account key.\n\n#### Precedence of Authentication Methods\n\nPacker looks for credentials in the following places, preferring the first\nlocation found:\n\n1.  An `access_token` option in your packer file.\n\n2.  An `account_file` option in your packer file.\n\n3.  A JSON file (Service Account) whose path is specified by the\n    `GOOGLE_APPLICATION_CREDENTIALS` environment variable.\n\n4.  A JSON file in a location known to the `gcloud` command-line tool.\n    (`gcloud auth application-default login` creates it)\n\n    On Windows, this is:\n\n        %APPDATA%/gcloud/application_default_credentials.json\n\n    On other systems:\n\n        $HOME/.config/gcloud/application_default_credentials.json\n\n5.  On Google Compute Engine and Google App Engine Managed VMs, it fetches\n    credentials from the metadata server. (Needs a correct VM authentication\n    scope configuration, see above.)\n\n### Examples\n\n#### Basic Example\n\nBelow is a fully functioning example. It doesn't do anything useful since no\nprovisioners or startup-script metadata are defined, but it will effectively\nrepackage an existing GCE image.\n\n**JSON**\n\n```json\n{\n  \"builders\": [\n    {\n      \"type\": \"googlecompute\",\n      \"project_id\": \"my project\",\n      \"source_image\": \"debian-9-stretch-v20200805\",\n      \"ssh_username\": \"packer\",\n      \"zone\": \"us-central1-a\"\n    }\n  ]\n}\n```\n\n**HCL2**\n\n```hcl\nsource \"googlecompute\" \"basic-example\" {\n  project_id = \"my project\"\n  source_image = \"debian-9-stretch-v20200805\"\n  ssh_username = \"packer\"\n  zone = \"us-central1-a\"\n}\n\nbuild {\n  sources = [\"sources.googlecompute.basic-example\"]\n}\n```\n\n\n#### Windows Example\n\nBefore you can provision using the winrm communicator, you need to allow\ntraffic through google's firewall on the winrm port (tcp:5986). You can do so\nusing the gcloud command.\n\n    gcloud compute firewall-rules create allow-winrm --allow tcp:5986\n\nOr alternatively by navigating to [https://console.cloud.google.com/networking/firewalls/list](https://console.cloud.google.com/networking/firewalls/list).\n\nOnce this is set up, the following is a complete working packer config after\nsetting a valid `project_id`:\n\n**JSON**\n\n```json\n{\n  \"builders\": [\n    {\n      \"type\": \"googlecompute\",\n      \"project_id\": \"my project\",\n      \"source_image\": \"windows-server-2019-dc-v20200813\",\n      \"disk_size\": \"50\",\n      \"machine_type\": \"n1-standard-2\",\n      \"communicator\": \"winrm\",\n      \"winrm_username\": \"packer_user\",\n      \"winrm_insecure\": true,\n      \"winrm_use_ssl\": true,\n      \"metadata\": {\n        \"sysprep-specialize-script-cmd\": \"winrm quickconfig -quiet \u0026 net user /add packer_user \u0026 net localgroup administrators packer_user /add \u0026 winrm set winrm/config/service/auth @{Basic=\\\"true\\\"}\"\n      },\n      \"zone\": \"us-central1-a\"\n    }\n  ]\n}\n```\n\n**HCL2**\n\n```hcl\nsource \"googlecompute\" \"windows-example\" {\n  project_id = \"MY_PROJECT\"\n  source_image = \"windows-server-2019-dc-v20200813\"\n  zone = \"us-central1-a\"\n  disk_size = 50\n  machine_type = \"n1-standard-2\"\n  communicator = \"winrm\"\n  winrm_username = \"packer_user\"\n  winrm_insecure = true\n  winrm_use_ssl = true\n  metadata = {\n    sysprep-specialize-script-cmd = \"winrm quickconfig -quiet \u0026 net user /add packer_user \u0026 net localgroup administrators packer_user /add \u0026 winrm set winrm/config/service/auth @{Basic=\\\"true\\\"}\"\n  }\n}\n\nbuild {\n  sources = [\"sources.googlecompute.windows-example\"]\n}\n```\n\n-\u003e **Warning:** Please note that if you're setting up WinRM for provisioning, you'll probably want to turn it off or restrict its permissions as part of a shutdown script at the end of Packer's provisioning process. For more details on the why/how, check out this useful blog post and the associated code:\nhttps://missionimpossiblecode.io/post/winrm-for-provisioning-close-the-door-on-the-way-out-eh/\n\nThis build can take up to 15 min.\n\n#### Windows over WinSSH Example\n\nThe following uses Windows SSH as backend communicator\n[https://docs.microsoft.com/en-us/windows-server/administration/openssh/openssh_install_firstuse](https://docs.microsoft.com/en-us/windows-server/administration/openssh/openssh_install_firstuse)\n\n```hcl\nsource \"googlecompute\" \"windows-ssh-example\" {\n  project_id = \"MY_PROJECT\"\n  source_image = \"windows-server-2019-dc-v20200813\"\n  zone = \"us-east4-a\"\n  disk_size = 50\n  machine_type = \"n1-standard-2\"\n  communicator = \"ssh\"\n  ssh_username = var.packer_username\n  ssh_password = var.packer_user_password\n  ssh_timeout = \"1h\"\n  metadata = {\n    sysprep-specialize-script-cmd = \"net user ${var.packer_username} \\\"${var.packer_user_password}\\\" /add /y \u0026 wmic UserAccount where Name=\\\"${var.packer_username}\\\" set PasswordExpires=False \u0026 net localgroup administrators ${var.packer_username} /add \u0026 powershell Add-WindowsCapability -Online -Name OpenSSH.Server~~~~0.0.1.0 \u0026 powershell Start-Service sshd \u0026 powershell Set-Service -Name sshd -StartupType 'Automatic' \u0026 powershell New-NetFirewallRule -Name 'OpenSSH-Server-In-TCP' -DisplayName 'OpenSSH Server (sshd)' -Enabled True -Direction Inbound -Protocol TCP -Action Allow -LocalPort 22 \u0026 powershell.exe -NoProfile -ExecutionPolicy Bypass -Command \\\"Set-ExecutionPolicy -ExecutionPolicy bypass -Force\\\"\"\n  }\n}\n\nbuild {\n  sources = [\"sources.googlecompute.windows-ssh-example\"]\n\n  provisioner \"powershell\" {\n    script = \"../scripts/install-features.ps1\"\n    elevated_user     = var.packer_username\n    elevated_password = var.packer_user_password\n  }\n}\n```\n\n#### Windows over WinSSH - Ansible Provisioner\n\nThe following uses Windows SSH as backend communicator\n[https://docs.microsoft.com/en-us/windows-server/administration/openssh/openssh_install_firstuse](https://docs.microsoft.com/en-us/windows-server/administration/openssh/openssh_install_firstuse)\nwith a private key.\n\n* The `sysprep-specialize-script-cmd` creates the `packer_user` and adds it to the local administrators group and configures the ssh key, firewall rule and required permissions.\n\n```\nsource \"googlecompute\" \"windows-ssh-ansible\" {\n  project_id              = var.project_id\n  source_image            = \"windows-server-2019-dc-v20200813\"\n  zone                    = \"us-east4-a\"\n  disk_size               = 50\n  machine_type            = \"n1-standard-8\"\n  communicator            = \"ssh\"\n  ssh_username            = var.packer_username\n  ssh_private_key_file    = var.ssh_key_file_path\n  ssh_timeout             = \"1h\"\n\n  metadata = {\n    sysprep-specialize-script-cmd = \"net user ${var.packer_username} \\\"${var.packer_user_password}\\\" /add /y \u0026 wmic UserAccount where Name=\\\"${var.packer_username}\\\" set PasswordExpires=False \u0026 net localgroup administrators ${var.packer_username} /add \u0026 powershell Add-WindowsCapability -Online -Name OpenSSH.Server~~~~0.0.1.0 \u0026 echo ${var.ssh_pub_key} \u003e C:\\\\ProgramData\\\\ssh\\\\administrators_authorized_keys \u0026 icacls.exe \\\"C:\\\\ProgramData\\\\ssh\\\\administrators_authorized_keys\\\" /inheritance:r /grant \\\"Administrators:F\\\" /grant \\\"SYSTEM:F\\\" \u0026 powershell New-ItemProperty -Path \\\"HKLM:\\\\SOFTWARE\\\\OpenSSH\\\" -Name DefaultShell -Value \\\"C:\\\\Windows\\\\System32\\\\WindowsPowerShell\\\\v1.0\\\\powershell.exe\\\" -PropertyType String -Force  \u0026 powershell Start-Service sshd \u0026 powershell Set-Service -Name sshd -StartupType 'Automatic' \u0026 powershell New-NetFirewallRule -Name 'OpenSSH-Server-In-TCP' -DisplayName 'OpenSSH Server (sshd)' -Enabled True -Direction Inbound -Protocol TCP -Action Allow -LocalPort 22 \u0026 powershell.exe -NoProfile -ExecutionPolicy Bypass -Command \\\"Set-ExecutionPolicy -ExecutionPolicy bypass -Force\\\"\"\n  }\n  account_file = var.account_file_path\n\n}\n\nbuild {\n  sources = [\"sources.googlecompute.windows-ssh-ansible\"]\n\n  provisioner \"ansible\" {\n    playbook_file           = \"./playbooks/playbook.yml\"\n    use_proxy               = false\n    ansible_ssh_extra_args  = [\"-o StrictHostKeyChecking=no -o IdentitiesOnly=yes\"]\n    ssh_authorized_key_file = \"var.public_key_path\"\n    extra_arguments = [\"-e\", \"win_packages=${var.win_packages}\",\n      \"-e\",\n      \"ansible_shell_type=powershell\",\n      \"-e\",\n      \"ansible_shell_executable=None\",\n      \"-e\",\n      \"ansible_shell_executable=None\"\n    ]\n    user = var.packer_username\n  }\n\n}\n\n```\n\n#### Nested Hypervisor Example\n\nThis is an example of using the `image_licenses` configuration option to create\na GCE image that has nested virtualization enabled. See [Enabling Nested\nVirtualization for VM\nInstances](https://cloud.google.com/compute/docs/instances/enable-nested-virtualization-vm-instances)\nfor details.\n\n**JSON**\n\n```json\n{\n  \"builders\": [\n    {\n      \"type\": \"googlecompute\",\n      \"project_id\": \"my project\",\n      \"source_image_family\": \"centos-stream-9\",\n      \"ssh_username\": \"packer\",\n      \"zone\": \"us-central1-a\",\n      \"image_licenses\": [\"projects/vm-options/global/licenses/enable-vmx\"]\n    }\n  ]\n}\n```\n\n**HCL2**\n\n```hcl\nsource \"googlecompute\" \"basic-example\" {\n  project_id = \"my project\"\n  source_image_family = \"centos-stream-9\"\n  ssh_username = \"packer\"\n  zone = \"us-central1-a\"\n  image_licenses = [\"projects/vm-options/global/licenses/enable-vmx\"]\n}\n\nbuild {\n  sources = [\"sources.googlecompute.basic-example\"]\n}\n```\n\n\n#### Shared VPC Example\n\nThis is an example of using the `network_project_id` configuration option to create\na GCE instance in a Shared VPC Network. See [Creating a GCE Instance using Shared\nVPC](https://cloud.google.com/vpc/docs/provisioning-shared-vpc#creating_an_instance_in_a_shared_subnet)\nfor details. The user/service account running Packer must have `Compute Network User` role on\nthe Shared VPC Host Project to create the instance in addition to the other roles mentioned in the\nRunning on Google Cloud section.\n\n**JSON**\n\n```json\n{\n  \"builders\": [\n    {\n      \"type\": \"googlecompute\",\n      \"project_id\": \"my project\",\n      \"subnetwork\": \"default\",\n      \"source_image_family\": \"centos-stream-9\",\n      \"network_project_id\": \"SHARED_VPC_PROJECT\",\n      \"ssh_username\": \"packer\",\n      \"zone\": \"us-central1-a\",\n      \"image_licenses\": [\"projects/vm-options/global/licenses/enable-vmx\"]\n    }\n  ]\n}\n```\n\n**HCL2**\n\n```hcl\nsource \"googlecompute\" \"sharedvpc-example\" {\n  project_id = \"my project\"\n  source_image_family = \"centos-stream-9\"\n  subnetwork = \"default\"\n  network_project_id = \"SHARED_VPC_PROJECT\"\n  ssh_username = \"packer\"\n  zone = \"us-central1-a\"\n  image_licenses = [\"projects/vm-options/global/licenses/enable-vmx\"]\n}\n\nbuild {\n  sources = [\"sources.googlecompute.sharedvpc-example\"]\n}\n```\n\n\n#### Separate Image Project Example\n\nThis is an example of using the `image_project_id` configuration option to create\nthe generated image in a different GCP project than the one used to create the virtual machine. Make sure that Packer has permission in the target project to manage images, the `Compute Storage Admin` role will grant the desired permissions.\n\n**JSON**\n\n```json\n{\n  \"builders\": [\n    {\n      \"type\": \"googlecompute\",\n      \"project_id\": \"my project\",\n      \"image_project_id\": \"my image target project\",\n      \"source_image\": \"debian-9-stretch-v20200805\",\n      \"ssh_username\": \"packer\",\n      \"zone\": \"us-central1-a\"\n    }\n  ]\n}\n```\n\n**HCL2**\n\n```hcl\nsource \"googlecompute\" \"basic-example\" {\n  project_id = \"my project\"\n  image_project_id = \"my image target project\"\n  source_image = \"debian-9-stretch-v20200805\"\n  ssh_username = \"packer\"\n  zone = \"us-central1-a\"\n}\n\nbuild {\n  sources = [\"sources.googlecompute.basic-example\"]\n}\n```\n","created_at":"2025-04-09T08:55:05.682Z","updated_at":"2025-04-09T08:55:05.682Z","components":[{"id":"7a30d41e-bee4-4686-a7ca-447938bd5eb9","integration_release_id":"29dd004b-bffb-4ea8-95ba-cee16ce953d6","component_id":"36076511-3ced-4faf-addf-101fce0405ff","readme":"Type: `googlecompute`\nArtifact BuilderId: `packer.googlecompute`\n\nThe `googlecompute` Packer builder is able to create\n[images](https://developers.google.com/compute/docs/images) for use with\n[Google Compute Engine](https://cloud.google.com/products/compute-engine) (GCE)\nbased on existing images.\n\nIt is possible to build images from scratch, but not with the `googlecompute`\nPacker builder. The process is recommended only for advanced users, please see\n[Building GCE Images from Scratch](https://cloud.google.com/compute/docs/tutorials/building-images)\nand the [Google Compute Import\nPost-Processor](/packer/integrations/hashicorp/googlecompute/latest/components/post-processor/googlecompute-import) for more\ninformation.\n\n## Authentication\n\nTo authenticate with GCE, this builder supports everything the plugin does.\nTo get more information on this, refer to the plugin's description page, under\nthe [authentication](/packer/integrations/hashicorp/googlecompute#authentication) section.\n\n## Configuration Reference\n\nConfiguration options are organized below into two categories: required and\noptional. Within each category, the available options are alphabetized and\ndescribed.\n\nIn addition to the options listed here, a\n[communicator](/packer/docs/templates/legacy_json_templates/communicator) can be configured for this\nbuilder.\n\n### Required:\n\n\u003c!-- Code generated from the comments of the Config struct in builder/googlecompute/config.go; DO NOT EDIT MANUALLY --\u003e\n\n- `project_id` (string) - The project ID that will be used to launch instances and store images.\n\n- `source_image` (string) - The source image to use to create the new image from. You can also\n  specify source_image_family instead. If both source_image and\n  source_image_family are specified, source_image takes precedence.\n  Example: `\"debian-8-jessie-v20161027\"`\n\n- `source_image_family` (string) - The source image family to use to create the new image from. The image\n  family always returns its latest image that is not deprecated. Example:\n  `\"debian-8\"`.\n\n- `zone` (string) - The zone in which to launch the instance used to create the image.\n  Example: `\"us-central1-a\"`\n\n\u003c!-- End of code generated from the comments of the Config struct in builder/googlecompute/config.go; --\u003e\n\n\n### Optional:\n\n\u003c!-- Code generated from the comments of the Config struct in builder/googlecompute/config.go; DO NOT EDIT MANUALLY --\u003e\n\n- `accelerator_type` (string) - Full or partial URL of the guest accelerator type. GPU accelerators can\n  only be used with `\"on_host_maintenance\": \"TERMINATE\"` option set.\n  Example:\n  `\"projects/project_id/zones/europe-west1-b/acceleratorTypes/nvidia-tesla-k80\"`\n\n- `accelerator_count` (int64) - Number of guest accelerator cards to add to the launched instance.\n\n- `address` (string) - The name of a pre-allocated static external IP address. Note, must be\n  the name and not the actual IP address.\n\n- `disable_default_service_account` (bool) - If true, the default service account will not be used if\n  service_account_email is not specified. Set this value to true and omit\n  service_account_email to provision a VM with no service account.\n\n- `disk_name` (string) - The name of the disk, if unset the instance name will be used.\n\n- `disk_size` (int64) - The size of the disk in GB. This defaults to 20, which is 20GB.\n\n- `disk_type` (string) - Type of disk used to back your instance, like pd-ssd or pd-standard.\n  Defaults to pd-standard.\n\n- `disk_encryption_key` (\\*common.CustomerEncryptionKey) - Disk encryption key to apply to the created boot disk. Possible values:\n  * kmsKeyName -  The name of the encryption key that is stored in Google Cloud KMS.\n  * RawKey: - A 256-bit customer-supplied encryption key, encodes in RFC 4648 base64.\n  \n  examples:\n  \n   ```json\n   {\n      \"kmsKeyName\": \"projects/${project}/locations/${region}/keyRings/computeEngine/cryptoKeys/computeEngine/cryptoKeyVersions/4\"\n   }\n   ```\n  \n   ```hcl\n    disk_encryption_key {\n      kmsKeyName = \"projects/${var.project}/locations/${var.region}/keyRings/computeEngine/cryptoKeys/computeEngine/cryptoKeyVersions/4\"\n    }\n   ```\n  \n  Refer to the [Customer Encryption Key](#customer-encryption-key) section for more information on the contents of this block.\n\n- `enable_nested_virtualization` (bool) - Create a instance with enabling nested virtualization.\n\n- `enable_secure_boot` (bool) - Create a Shielded VM image with Secure Boot enabled. It helps ensure that\n  the system only runs authentic software by verifying the digital signature\n  of all boot components, and halting the boot process if signature verification\n  fails. [Details](https://cloud.google.com/security/shielded-cloud/shielded-vm)\n\n- `enable_vtpm` (bool) - Create a Shielded VM image with virtual trusted platform module\n  Measured Boot enabled. A vTPM is a virtualized trusted platform module,\n  which is a specialized computer chip you can use to protect objects,\n  like keys and certificates, that you use to authenticate access to your\n  system. [Details](https://cloud.google.com/security/shielded-cloud/shielded-vm)\n\n- `enable_integrity_monitoring` (bool) - Integrity monitoring helps you understand and make decisions about the\n  state of your VM instances. Note: integrity monitoring relies on having\n  vTPM enabled. [Details](https://cloud.google.com/security/shielded-cloud/shielded-vm)\n\n- `disk_attachment` ([]common.BlockDevice) - Extra disks to attach to the instance that will build the final image.\n  \n  You may reference an existing external persistent disk, or you can configure\n  a set of disks to be created before the instance is created, and will\n  be deleted upon build completion.\n  \n  Scratch (ephemeral) SSDs are always created at launch, and deleted when the\n  instance is torn-down.\n  \n  Note: local SSDs are not supported on all machine types, refer to the\n  [docs](https://cloud.google.com/compute/docs/disks/local-ssd#choose_number_local_ssds)\n  for more information on that.\n  \n  Refer to the [Extra Disk Attachments](#extra-disk-attachments) section for\n  more information on this configuration type.\n\n- `skip_create_image` (bool) - Skip creating the image. Useful for setting to `true` during a build test stage. Defaults to `false`.\n\n- `image_architecture` (string) - The architecture of the resulting image.\n  \n  Defaults to unset: GCE will use the origin image architecture.\n\n- `image_name` (string) - The unique name of the resulting image. Defaults to\n  `packer-{{timestamp}}`.\n\n- `image_description` (string) - The description of the resulting image.\n\n- `image_encryption_key` (\\*common.CustomerEncryptionKey) - Image encryption key to apply to the created image. Possible values:\n  * kmsKeyName -  The name of the encryption key that is stored in Google Cloud KMS.\n  * RawKey: - A 256-bit customer-supplied encryption key, encodes in RFC 4648 base64.\n  \n  examples:\n  \n   ```json\n   {\n      \"kmsKeyName\": \"projects/${project}/locations/${region}/keyRings/computeEngine/cryptoKeys/computeEngine/cryptoKeyVersions/4\"\n   }\n   ```\n  \n   ```hcl\n    image_encryption_key {\n      kmsKeyName = \"projects/${var.project}/locations/${var.region}/keyRings/computeEngine/cryptoKeys/computeEngine/cryptoKeyVersions/4\"\n    }\n   ```\n  \n  Refer to the [Customer Encryption Key](#customer-encryption-key) section for more information on the contents of this block.\n\n- `image_family` (string) - The name of the image family to which the resulting image belongs. You\n  can create disks by specifying an image family instead of a specific\n  image name. The image family always returns its latest image that is not\n  deprecated.\n\n- `image_labels` (map[string]string) - Key/value pair labels to apply to the created image.\n\n- `image_licenses` ([]string) - Licenses to apply to the created image.\n\n- `image_guest_os_features` ([]string) - Guest OS features to apply to the created image.\n\n- `image_project_id` (string) - The project ID to push the build image into. Defaults to project_id.\n\n- `image_storage_locations` ([]string) - Storage location, either regional or multi-regional, where snapshot\n  content is to be stored and only accepts 1 value. Always defaults to a nearby regional or multi-regional\n  location.\n  \n  multi-regional example:\n  \n   ```json\n   {\n      \"image_storage_locations\": [\"us\"]\n   }\n   ```\n  regional example:\n  \n   ```json\n   {\n      \"image_storage_locations\": [\"us-east1\"]\n   }\n   ```\n\n- `instance_name` (string) - A name to give the launched instance. Beware that this must be unique.\n  Defaults to `packer-{{uuid}}`.\n\n- `labels` (map[string]string) - Key/value pair labels to apply to the launched instance.\n\n- `machine_type` (string) - The machine type. Defaults to \"e2-standard-2\".\n\n- `metadata` (map[string]string) - Metadata applied to the launched instance.\n  All metadata configuration values are expected to be of type string.\n  Google metadata options that take a value of `TRUE` or `FALSE` should be\n  set as a string (i.e  `\"TRUE\"` `\"FALSE\"` or `\"true\"` `\"false\"`).\n\n- `metadata_files` (map[string]string) - Metadata applied to the launched instance. Values are files.\n\n- `min_cpu_platform` (string) - A Minimum CPU Platform for VM Instance. Availability and default CPU\n  platforms vary across zones, based on the hardware available in each GCP\n  zone.\n  [Details](https://cloud.google.com/compute/docs/instances/specify-min-cpu-platform)\n\n- `network` (string) - The Google Compute network id or URL to use for the launched instance.\n  Defaults to \"default\". If the value is not a URL, it will be\n  interpolated to\n  `projects/((network_project_id))/global/networks/((network))`. This value\n  is not required if a subnet is specified.\n\n- `network_project_id` (string) - The project ID for the network and subnetwork to use for launched\n  instance. Defaults to project_id.\n\n- `omit_external_ip` (bool) - If true, the instance will not have an external IP. use_internal_ip must\n  be true if this property is true.\n\n- `on_host_maintenance` (string) - Sets Host Maintenance Option. Valid choices are `MIGRATE` and\n  `TERMINATE`. Please see [GCE Instance Scheduling\n  Options](https://cloud.google.com/compute/docs/instances/setting-instance-scheduling-options),\n  as not all machine\\_types support `MIGRATE` (i.e. machines with GPUs).\n  If preemptible is true this can only be `TERMINATE`. If preemptible is\n  false, it defaults to `MIGRATE`\n\n- `preemptible` (bool) - If true, launch a preemptible instance.\n\n- `node_affinity` ([]common.NodeAffinity) - Sets a node affinity label for the launched instance (eg. for sole tenancy).\n  Please see [Provisioning VMs on\n  sole-tenant nodes](https://cloud.google.com/compute/docs/nodes/provisioning-sole-tenant-vms)\n  for more information.\n  \n  ```hcl\n    key = \"workload\"\n    operator = \"IN\"\n    values = [\"packer\"]\n  ```\n  \n  Refer to the [Node Affinity](#node-affinities) for more information on affinities.\n\n- `state_timeout` (duration string | ex: \"1h5m2s\") - The time to wait for instance state changes. Defaults to \"5m\".\n\n- `region` (string) - The region in which to launch the instance. Defaults to the region\n  hosting the specified zone.\n\n- `scopes` ([]string) - The service account scopes for launched\n  instance. Defaults to:\n  \n  ```json\n  [\n    \"https://www.googleapis.com/auth/userinfo.email\",\n    \"https://www.googleapis.com/auth/compute\",\n    \"https://www.googleapis.com/auth/devstorage.full_control\"\n  ]\n  ```\n\n- `service_account_email` (string) - The service account to be used for launched instance. Defaults to the\n  project's default service account unless disable_default_service_account\n  is true.\n\n- `source_image_project_id` ([]string) - A list of project IDs to search for the source image. Packer will search the first\n  project ID in the list first, and fall back to the next in the list, until it finds the source image.\n\n- `startup_script_file` (string) - The path to a startup script to run on the launched instance from which the image will\n  be made. When set, the contents of the startup script file will be added to the instance metadata\n  under the `\"startup_script\"` metadata property. See [Providing startup script contents directly](https://cloud.google.com/compute/docs/startupscript#providing_startup_script_contents_directly) for more details.\n  \n  When using `startup_script_file` the following rules apply:\n  - The contents of the script file will overwrite the value of the `\"startup_script\"` metadata property at runtime.\n  - The contents of the script file will be wrapped in Packer's startup script wrapper, unless `wrap_startup_script` is disabled. See `wrap_startup_script` for more details.\n  - Not supported by Windows instances. See [Startup Scripts for Windows](https://cloud.google.com/compute/docs/startupscript#providing_a_startup_script_for_windows_instances) for more details.\n\n- `windows_password_timeout` (duration string | ex: \"1h5m2s\") - The time to wait for windows password to be retrieved. Defaults to \"3m\".\n\n- `wrap_startup_script` (boolean) - For backwards compatibility this option defaults to `\"true\"` in the future it will default to `\"false\"`.\n  If \"true\", the contents of `startup_script_file` or `\"startup_script\"` in the instance metadata\n  is wrapped in a Packer specific script that tracks the execution and completion of the provided\n  startup script. The wrapper ensures that the builder will not continue until the startup script has been executed.\n  - The use of the wrapped script file requires that the user or service account\n  running the build has the compute.instance.Metadata role.\n\n- `subnetwork` (string) - The Google Compute subnetwork id or URL to use for the launched\n  instance. Only required if the network has been created with custom\n  subnetting. Note, the region of the subnetwork must match the region or\n  zone in which the VM is launched. If the value is not a URL, it will be\n  interpolated to\n  `projects/((network_project_id))/regions/((region))/subnetworks/((subnetwork))`\n\n- `tags` ([]string) - Assign network tags to apply firewall rules to VM instance.\n\n- `use_internal_ip` (bool) - If true, use the instance's internal IP instead of its external IP\n  during building.\n\n- `use_os_login` (bool) - If true, OSLogin will be used to manage SSH access to the compute instance by\n  dynamically importing a temporary SSH key to the Google account's login profile,\n  and setting the `enable-oslogin` to `TRUE` in the instance metadata.\n  Optionally, `use_os_login` can be used with an existing `ssh_username` and `ssh_private_key_file`\n  if a SSH key has already been added to the Google account's login profile - See [Adding SSH Keys](https://cloud.google.com/compute/docs/instances/managing-instance-access#add_oslogin_keys).\n  \n  SSH keys can be added to an individual user account\n  \n  ```shell-session\n  $ gcloud compute os-login ssh-keys add --key-file=/home/user/.ssh/my-key.pub\n  \n  $ gcloud compute os-login describe-profile\n  PosixAccounts:\n  - accountId: \u003cproject-id\u003e\n   gid: '34567890754'\n   homeDirectory: /home/user_example_com\n   ...\n   primary: true\n   uid: '2504818925'\n   username: user_example_com\n  sshPublicKeys:\n   000000000000000000000000000000000000000000000000000000000000000a:\n     fingerprint: 000000000000000000000000000000000000000000000000000000000000000a\n  ```\n  \n  Or SSH keys can be added to an associated service account\n  ```shell-session\n  $ gcloud auth activate-service-account --key-file=\u003cpath to service account credentials file (e.g account.json)\u003e\n  $ gcloud compute os-login ssh-keys add --key-file=/home/user/.ssh/my-key.pub\n  \n  $ gcloud compute os-login describe-profile\n  PosixAccounts:\n  - accountId: \u003cproject-id\u003e\n   gid: '34567890754'\n   homeDirectory: /home/sa_000000000000000000000\n   ...\n   primary: true\n   uid: '2504818925'\n   username: sa_000000000000000000000\n  sshPublicKeys:\n   000000000000000000000000000000000000000000000000000000000000000a:\n     fingerprint: 000000000000000000000000000000000000000000000000000000000000000a\n  ```\n\n- `wait_to_add_ssh_keys` (duration string | ex: \"1h5m2s\") - The time to wait between the creation of the instance used to create the image,\n  and the addition of SSH configuration, including SSH keys, to that instance.\n  The delay is intended to protect packer from anything in the instance boot\n  sequence that has potential to disrupt the creation of SSH configuration\n  (e.g. SSH user creation, SSH key creation) on the instance.\n  Note: All other instance metadata, including startup scripts, are still added to the instance\n  during it's creation.\n  Example value: `5m`.\n\n\u003c!-- End of code generated from the comments of the Config struct in builder/googlecompute/config.go; --\u003e\n\n\n\u003c!-- Code generated from the comments of the IAPConfig struct in builder/googlecompute/step_start_tunnel.go; DO NOT EDIT MANUALLY --\u003e\n\n- `use_iap` (bool) - Whether to use an IAP proxy.\n  Prerequisites and limitations for using IAP:\n  - You must manually enable the IAP API in the Google Cloud console.\n  - You must have the gcloud sdk installed on the computer running Packer.\n  - If you use a service account, you must add it to project level IAP permissions\n    in https://console.cloud.google.com/security/iap. To do so, click\n    \"project\" \u003e \"SSH and TCP resources\" \u003e \"All Tunnel Resources\" \u003e\n    \"Add Member\". Then add your service account and choose the role\n    \"IAP-secured Tunnel User\" and add any conditions you may care about.\n\n- `iap_localhost_port` (int) - Which port to connect the local end of the IAM localhost proxy to. If\n  left blank, Packer will choose a port for you from available ports.\n\n- `iap_hashbang` (string) - What \"hashbang\" to use to invoke script that sets up gcloud.\n  Default: \"/bin/sh\"\n\n- `iap_ext` (string) - What file extension to use for script that sets up gcloud.\n  Default: \".sh\"\n\n- `iap_tunnel_launch_wait` (int) - How long to wait, in seconds, before assuming a tunnel launch was\n  successful. Defaults to 30 seconds for SSH or 40 seconds for WinRM.\n\n\u003c!-- End of code generated from the comments of the IAPConfig struct in builder/googlecompute/step_start_tunnel.go; --\u003e\n\n\n### Startup Scripts\n\nStartup scripts can be a powerful tool for configuring the instance from which\nthe image is made. The builder will wait for a startup script to terminate. A\nstartup script can be provided via the `startup_script_file` or\n`startup-script` instance creation `metadata` field. Therefore, the build time\nwill vary depending on the duration of the startup script. If\n`startup_script_file` is set, the `startup-script` `metadata` field will be\noverwritten. In other words, `startup_script_file` takes precedence.\n\nThe builder does check for a pass/fail/error signal from the startup\nscript by tracking the `startup-script-status` metadata. Packer will check if this key\nis set to done and if it not set to done before the timeout, Packer will fail the build.\n\n### Windows\nA Windows startup script can only be provided as a metadata field option. The\nbuilder will _not_ wait for a Windows startup script to terminate. You have\nto ensure that it finishes before the instance shuts down. For a list of\nsupported startup script keys refer to [Using startup scripts on Windows](https://cloud.google.com/compute/docs/instances/startup-scripts/windows)\n\n```hcl\nmetadata = {\n  sysprep-specialize-script-cmd = \"...\"\n}\n```\n\n### Logging\n\nStartup script logs can be copied to a Google Cloud Storage (GCS) location\nspecified via the `startup-script-log-dest` instance creation `metadata` field.\nThe GCS location must be writeable by the service account of the instance that Packer created.\n\n### Communicator Configuration\n\n#### Optional:\n\n\u003c!-- Code generated from the comments of the Config struct in communicator/config.go; DO NOT EDIT MANUALLY --\u003e\n\n- `communicator` (string) - Packer currently supports three kinds of communicators:\n  \n  -   `none` - No communicator will be used. If this is set, most\n      provisioners also can't be used.\n  \n  -   `ssh` - An SSH connection will be established to the machine. This\n      is usually the default.\n  \n  -   `winrm` - A WinRM connection will be established.\n  \n  In addition to the above, some builders have custom communicators they\n  can use. For example, the Docker builder has a \"docker\" communicator\n  that uses `docker exec` and `docker cp` to execute scripts and copy\n  files.\n\n- `pause_before_connecting` (duration string | ex: \"1h5m2s\") - We recommend that you enable SSH or WinRM as the very last step in your\n  guest's bootstrap script, but sometimes you may have a race condition\n  where you need Packer to wait before attempting to connect to your\n  guest.\n  \n  If you end up in this situation, you can use the template option\n  `pause_before_connecting`. By default, there is no pause. For example if\n  you set `pause_before_connecting` to `10m` Packer will check whether it\n  can connect, as normal. But once a connection attempt is successful, it\n  will disconnect and then wait 10 minutes before connecting to the guest\n  and beginning provisioning.\n\n\u003c!-- End of code generated from the comments of the Config struct in communicator/config.go; --\u003e\n\n\n\u003c!-- Code generated from the comments of the SSH struct in communicator/config.go; DO NOT EDIT MANUALLY --\u003e\n\n- `ssh_host` (string) - The address to SSH to. This usually is automatically configured by the\n  builder.\n\n- `ssh_port` (int) - The port to connect to SSH. This defaults to `22`.\n\n- `ssh_username` (string) - The username to connect to SSH with. Required if using SSH.\n\n- `ssh_password` (string) - A plaintext password to use to authenticate with SSH.\n\n- `ssh_ciphers` ([]string) - This overrides the value of ciphers supported by default by Golang.\n  The default value is [\n    \"aes128-gcm@openssh.com\",\n    \"chacha20-poly1305@openssh.com\",\n    \"aes128-ctr\", \"aes192-ctr\", \"aes256-ctr\",\n  ]\n  \n  Valid options for ciphers include:\n  \"aes128-ctr\", \"aes192-ctr\", \"aes256-ctr\", \"aes128-gcm@openssh.com\",\n  \"chacha20-poly1305@openssh.com\",\n  \"arcfour256\", \"arcfour128\", \"arcfour\", \"aes128-cbc\", \"3des-cbc\",\n\n- `ssh_clear_authorized_keys` (bool) - If true, Packer will attempt to remove its temporary key from\n  `~/.ssh/authorized_keys` and `/root/.ssh/authorized_keys`. This is a\n  mostly cosmetic option, since Packer will delete the temporary private\n  key from the host system regardless of whether this is set to true\n  (unless the user has set the `-debug` flag). Defaults to \"false\";\n  currently only works on guests with `sed` installed.\n\n- `ssh_key_exchange_algorithms` ([]string) - If set, Packer will override the value of key exchange (kex) algorithms\n  supported by default by Golang. Acceptable values include:\n  \"curve25519-sha256@libssh.org\", \"ecdh-sha2-nistp256\",\n  \"ecdh-sha2-nistp384\", \"ecdh-sha2-nistp521\",\n  \"diffie-hellman-group14-sha1\", and \"diffie-hellman-group1-sha1\".\n\n- `ssh_certificate_file` (string) - Path to user certificate used to authenticate with SSH.\n  The `~` can be used in path and will be expanded to the\n  home directory of current user.\n\n- `ssh_pty` (bool) - If `true`, a PTY will be requested for the SSH connection. This defaults\n  to `false`.\n\n- `ssh_timeout` (duration string | ex: \"1h5m2s\") - The time to wait for SSH to become available. Packer uses this to\n  determine when the machine has booted so this is usually quite long.\n  Example value: `10m`.\n  This defaults to `5m`, unless `ssh_handshake_attempts` is set.\n\n- `ssh_disable_agent_forwarding` (bool) - If true, SSH agent forwarding will be disabled. Defaults to `false`.\n\n- `ssh_handshake_attempts` (int) - The number of handshakes to attempt with SSH once it can connect.\n  This defaults to `10`, unless a `ssh_timeout` is set.\n\n- `ssh_bastion_host` (string) - A bastion host to use for the actual SSH connection.\n\n- `ssh_bastion_port` (int) - The port of the bastion host. Defaults to `22`.\n\n- `ssh_bastion_agent_auth` (bool) - If `true`, the local SSH agent will be used to authenticate with the\n  bastion host. Defaults to `false`.\n\n- `ssh_bastion_username` (string) - The username to connect to the bastion host.\n\n- `ssh_bastion_password` (string) - The password to use to authenticate with the bastion host.\n\n- `ssh_bastion_interactive` (bool) - If `true`, the keyboard-interactive used to authenticate with bastion host.\n\n- `ssh_bastion_private_key_file` (string) - Path to a PEM encoded private key file to use to authenticate with the\n  bastion host. The `~` can be used in path and will be expanded to the\n  home directory of current user.\n\n- `ssh_bastion_certificate_file` (string) - Path to user certificate used to authenticate with bastion host.\n  The `~` can be used in path and will be expanded to the\n  home directory of current user.\n\n- `ssh_file_transfer_method` (string) - `scp` or `sftp` - How to transfer files, Secure copy (default) or SSH\n  File Transfer Protocol.\n  \n  **NOTE**: Guests using Windows with Win32-OpenSSH v9.1.0.0p1-Beta, scp\n  (the default protocol for copying data) returns a a non-zero error code since the MOTW\n  cannot be set, which cause any file transfer to fail. As a workaround you can override the transfer protocol\n  with SFTP instead `ssh_file_transfer_method = \"sftp\"`.\n\n- `ssh_proxy_host` (string) - A SOCKS proxy host to use for SSH connection\n\n- `ssh_proxy_port` (int) - A port of the SOCKS proxy. Defaults to `1080`.\n\n- `ssh_proxy_username` (string) - The optional username to authenticate with the proxy server.\n\n- `ssh_proxy_password` (string) - The optional password to use to authenticate with the proxy server.\n\n- `ssh_keep_alive_interval` (duration string | ex: \"1h5m2s\") - How often to send \"keep alive\" messages to the server. Set to a negative\n  value (`-1s`) to disable. Example value: `10s`. Defaults to `5s`.\n\n- `ssh_read_write_timeout` (duration string | ex: \"1h5m2s\") - The amount of time to wait for a remote command to end. This might be\n  useful if, for example, packer hangs on a connection after a reboot.\n  Example: `5m`. Disabled by default.\n\n- `ssh_remote_tunnels` ([]string) - \n\n- `ssh_local_tunnels` ([]string) - \n\n\u003c!-- End of code generated from the comments of the SSH struct in communicator/config.go; --\u003e\n\n\n- `ssh_private_key_file` (string) - Path to a PEM encoded private key file to use to authenticate with SSH.\n  The `~` can be used in path and will be expanded to the home directory\n  of current user.\n\n\n\n### Temporary SSH keypair\n\n\u003c!-- Code generated from the comments of the SSHTemporaryKeyPair struct in communicator/config.go; DO NOT EDIT MANUALLY --\u003e\n\nWhen no ssh credentials are specified, Packer will generate a temporary SSH\nkeypair for the instance. You can change the algorithm type and bits\nsettings.\n\n\u003c!-- End of code generated from the comments of the SSHTemporaryKeyPair struct in communicator/config.go; --\u003e\n\n\n#### Optional:\n\n\u003c!-- Code generated from the comments of the SSHTemporaryKeyPair struct in communicator/config.go; DO NOT EDIT MANUALLY --\u003e\n\n- `temporary_key_pair_type` (string) - `dsa` | `ecdsa` | `ed25519` | `rsa` ( the default )\n  \n  Specifies the type of key to create. The possible values are 'dsa',\n  'ecdsa', 'ed25519', or 'rsa'.\n  \n  NOTE: DSA is deprecated and no longer recognized as secure, please\n  consider other alternatives like RSA or ED25519.\n\n- `temporary_key_pair_bits` (int) - Specifies the number of bits in the key to create. For RSA keys, the\n  minimum size is 1024 bits and the default is 4096 bits. Generally, 3072\n  bits is considered sufficient. DSA keys must be exactly 1024 bits as\n  specified by FIPS 186-2. For ECDSA keys, bits determines the key length\n  by selecting from one of three elliptic curve sizes: 256, 384 or 521\n  bits. Attempting to use bit lengths other than these three values for\n  ECDSA keys will fail. Ed25519 keys have a fixed length and bits will be\n  ignored.\n  \n  NOTE: DSA is deprecated and no longer recognized as secure as specified\n  by FIPS 186-5, please consider other alternatives like RSA or ED25519.\n\n\u003c!-- End of code generated from the comments of the SSHTemporaryKeyPair struct in communicator/config.go; --\u003e\n\n\n### Gotchas\n\nCentOS and recent Debian images have root ssh access disabled by default. Set\n`ssh_username` to any user, which will be created by packer with sudo access.\n\nThe machine type must have a scratch disk, which means you can't use an\n`f1-micro` or `g1-small` to build images.\n\n## Extra disk attachments\n\n\u003c!-- Code generated from the comments of the BlockDevice struct in lib/common/block_device.go; DO NOT EDIT MANUALLY --\u003e\n\nBlockDevice is a block device attachement/creation to an instance when building an image.\n\n\u003c!-- End of code generated from the comments of the BlockDevice struct in lib/common/block_device.go; --\u003e\n\n\nThese can be defined using the [disk_attachment](#disk_attachment) block in the configuration.\n\nNote that this is an array, and therefore in HCL2 can be defined as multiple blocks, each\none corresponding to a disk that will be attached to the instance you are booting.\n\nExample:\n\n```hcl\nsource \"googlecompute\" \"example\" {\n  # Add whichever is necessary to build the image\n\n  disk_attachment {\n    volume_type     = \"scratch\"\n    volume_size     = 375\n  }\n\n  disk_attachment {\n    volume_type     = \"pd-standard\"\n    volume_size     = 25\n    interface_type  = \"SCSI\"\n  }\n}\n```\n\n### Required:\n\n\u003c!-- Code generated from the comments of the BlockDevice struct in lib/common/block_device.go; DO NOT EDIT MANUALLY --\u003e\n\n- `volume_size` (int) - Size of the volume to request, in gigabytes.\n  \n  The size specified must be in range of the sizes for the chosen volume type.\n\n- `volume_type` (BlockDeviceType) - The volume type is the type of storage to reserve and attach to the instance being provisioned.\n  \n  The following values are supported by this builder:\n  * scratch: local SSD data, always 375 GiB (default)\n  * pd_standard: persistent, HDD-backed disk\n  * pd_balanced: persistent, SSD-backed disk\n  * pd_ssd: persistent, SSD-backed disk, with extra performance guarantees\n  * pd_extreme: persistent, fastest SSD-backed disk, with custom IOPS\n  * hyperdisk-balanced: persistent hyperdisk volume, bootable\n  * hyperdisk-extreme: persistent hyperdisk volume, optimised for performance\n  * hyperdisk-ml: persistent, shareable, hyperdisk volume, highest throughput\n  * hyperdisk-throughput: persistent hyperdisk volume with flexible throughput\n  \n  For details on the different types, refer to: https://cloud.google.com/compute/docs/disks#disk-types\n  For more information on hyperdisk volumes, refer to: https://cloud.google.com/compute/docs/disks/hyperdisks#throughput\n\n\u003c!-- End of code generated from the comments of the BlockDevice struct in lib/common/block_device.go; --\u003e\n\n\n### Optional:\n\n\u003c!-- Code generated from the comments of the BlockDevice struct in lib/common/block_device.go; DO NOT EDIT MANUALLY --\u003e\n\n- `attachment_mode` (string) - How to attach the volume to the instance\n  \n  Can be either READ_ONLY or READ_WRITE (default).\n\n- `create_image` (bool) - If true, an image will be created for this disk, instead of the boot disk.\n  \n  This only applies to non-scratch disks, and can only be specified on one disk at a\n  time.\n\n- `device_name` (string) - The device name as exposed to the OS in the /dev/disk/by-id/google-* directory\n  \n  If unspecified, the disk will have a default name in the form\n  persistent-disk-x with 'x' being a number assigned by GCE\n  \n  This field only applies to persistent disks, local SSDs will always\n  be exposed as /dev/disk/by-id/google-local-nvme-ssd-x.\n\n- `disk_encryption_key` (CustomerEncryptionKey) - Disk encryption key to apply to the requested disk.\n  \n  Possible values:\n  * kmsKeyName -  The name of the encryption key that is stored in Google Cloud KMS.\n  * RawKey: - A 256-bit customer-supplied encryption key, encodes in RFC 4648 base64.\n  \n  Refer to the [Customer Encryption Key](#customer-encryption-key) section for more information on the contents of this block.\n\n- `disk_name` (string) - Name of the disk to create.\n  This only applies to non-scratch disks. If the disk is persistent, and\n  not specified, Packer will generate a unique name for the disk.\n  \n  The name must be 1-63 characters long and comply to the regexp\n  '[a-z]([-a-z0-9]*[a-z0-9])?'\n\n- `interface_type` (string) - The interface to use for attaching the disk.\n  Can be either NVME or SCSI. Defaults to SCSI.\n  \n  The available options depend on the type of disk, SEE: https://cloud.google.com/compute/docs/disks/persistent-disks#choose_an_interface\n\n- `iops` (int) - The requested IOPS for the disk.\n  \n  This is only available for pd_extreme disks.\n\n- `keep_device` (bool) - Keep the device in the created disks after the instance is terminated.\n  By default, the builder will remove the disks at the end of the build.\n  \n  This cannot be used with 'scratch' volumes.\n\n- `replica_zones` ([]string) - The list of extra zones to replicate the disk into\n  \n  The zone in which the instance is created will automatically be\n  added to the zones in which the disk is replicated.\n\n- `source_volume` (string) - The URI of the volume to attach\n  \n  If this is specified, it won't be deleted after the instance is shut-down.\n\n- `source_image` (string) - The URI of the image to load\n  \n  This cannot be used with SourceVolume.\n\n- `_` (string) - Zone is the zone in which to create the disk in.\n  \n  It is not exposed since the parent config already specifies it\n  and it will be set for the block device when preparing it.\n\n\u003c!-- End of code generated from the comments of the BlockDevice struct in lib/common/block_device.go; --\u003e\n\n\n## Customer Encryption Key\n\nSpecifying a custom key allows you to use your own encryption keys to encrypt the data\nof the image you are creating.\n\nNote: you will need to reuse the same key later on when reusing the image.\n\n\u003c!-- Code generated from the comments of the CustomerEncryptionKey struct in lib/common/client_keys.go; DO NOT EDIT MANUALLY --\u003e\n\n- `kmsKeyName` (string) - KmsKeyName: The name of the encryption key that is stored in Google\n  Cloud KMS.\n\n- `rawKey` (string) - RawKey: Specifies a 256-bit customer-supplied encryption key, encoded\n  in RFC 4648 base64 to either encrypt or decrypt this resource.\n\n\u003c!-- End of code generated from the comments of the CustomerEncryptionKey struct in lib/common/client_keys.go; --\u003e\n\n\n## Node Affinities\n\nNode affinity configuration allows you to restrict the nodes on which to run the\ninstance that Packer will build the image from.\nThis requires configuring [sole-tenant node groups](https://cloud.google.com/compute/docs/nodes/provisioning-sole-tenant-vms) first.\n\n\u003c!-- Code generated from the comments of the NodeAffinity struct in lib/common/affinities.go; DO NOT EDIT MANUALLY --\u003e\n\n- `key` (string) - Key: Corresponds to the label key of Node resource.\n\n- `operator` (string) - Operator: Defines the operation of node selection. Valid operators are IN for affinity and\n  NOT_IN for anti-affinity.\n\n- `values` ([]string) - Values: Corresponds to the label values of Node resource.\n\n\u003c!-- End of code generated from the comments of the NodeAffinity struct in lib/common/affinities.go; --\u003e\n","created_at":"2025-04-09T08:55:07.139Z","updated_at":"2025-04-09T08:55:07.139Z","name":"Google Cloud Platform","slug":"googlecompute","component":{"id":"36076511-3ced-4faf-addf-101fce0405ff","slug":"builder","name":"Builder","plural_name":"Builders","product_id":"4c2b00c6-7cc1-4e4c-b596-4ab57e319f21","created_at":"2022-11-09T22:56:30.937Z","updated_at":"2022-11-09T22:56:30.937Z"},"variable_groups":[]},{"id":"8451cdbf-07d3-40f5-bf02-3c323a07e2b5","integration_release_id":"29dd004b-bffb-4ea8-95ba-cee16ce953d6","component_id":"73965f1c-ad56-4f38-a31b-dc17d08c0ba6","readme":"Type: `googlecompute-export`\nArtifact BuilderId: `packer.post-processor.googlecompute-export`\n\nThe Google Compute Image Exporter post-processor exports the resultant image\nfrom a googlecompute build as a gzipped tarball to Google Cloud Storage (GCS).\n\nThe exporter uses the same Google Cloud Platform (GCP) project and\nauthentication credentials as the googlecompute build that produced the image.\nA temporary VM is started in the GCP project using these credentials. The VM\nmounts the built image as a disk then dumps, compresses, and tars the image.\nThe VM then uploads the tarball to the provided GCS `paths` using the same\ncredentials.\n\nAs such, the authentication credentials that built the image must have write\npermissions to the GCS `paths`.\n\n~\u003e **Note**: By default the GCE image being exported will be deleted once the image has been exported.\nTo prevent Packer from deleting the image set the `keep_input_artifact` configuration option to `true`. See [Post-Processor Input Artifacts](/packer/docs/templates/legacy_json_templates/post-processors#input-artifacts) for more details.\n\n## Authentication\n\nTo authenticate with GCE, this builder supports everything the plugin does.\nTo get more information on this, refer to the plugin's description page, under\nthe [authentication](/packer/integrations/hashicorp/googlecompute#authentication) section.\n\n## Configuration\n\n### Required\n\n\u003c!-- Code generated from the comments of the Config struct in post-processor/googlecompute-export/post-processor.go; DO NOT EDIT MANUALLY --\u003e\n\n- `paths` ([]string) - A list of GCS paths where the image will be exported.\n  For example `'gs://mybucket/path/to/file.tar.gz'`\n\n\u003c!-- End of code generated from the comments of the Config struct in post-processor/googlecompute-export/post-processor.go; --\u003e\n\n\n### Optional\n\n\u003c!-- Code generated from the comments of the Config struct in post-processor/googlecompute-export/post-processor.go; DO NOT EDIT MANUALLY --\u003e\n\n- `scopes` ([]string) - The service account scopes for launched exporter post-processor instance.\n  Defaults to:\n  \n  ```json\n  [\n    \"https://www.googleapis.com/auth/cloud-platform\"\n  ]\n  ```\n\n- `disk_size` (int64) - The size of the export instances disk.\n  The disk is unused for the export but a larger size will increase `pd-ssd` read speed.\n  This defaults to `200`, which is 200GB.\n\n- `disk_type` (string) - Type of disk used to back the export instance, like\n  `pd-ssd` or `pd-standard`. Defaults to `pd-ssd`.\n\n- `machine_type` (string) - The export instance machine type. Defaults to `\"n1-highcpu-4\"`.\n\n- `source_image_family` (string) - Image used to launch a temp VM for export. Defaults to `\"debian-12-worker\"`\n\n- `network` (string) - The Google Compute network id or URL to use for the export instance.\n  Defaults to `\"default\"`. If the value is not a URL, it\n  will be interpolated to `projects/((builder_project_id))/global/networks/((network))`.\n  This value is not required if a `subnet` is specified.\n\n- `subnetwork` (string) - The Google Compute subnetwork id or URL to use for\n  the export instance. Only required if the `network` has been created with\n  custom subnetting. Note, the region of the subnetwork must match the\n  `zone` in which the VM is launched. If the value is not a URL,\n  it will be interpolated to\n  `projects/((builder_project_id))/regions/((region))/subnetworks/((subnetwork))`\n\n- `zone` (string) - The zone in which to launch the export instance. Defaults\n  to `googlecompute` builder zone. Example: `\"us-central1-a\"`\n\n- `service_account_email` (string) - Service Account Email\n\n- `omit_external_ip` (bool) - If true, the exporter instance will not have an external IP.\n\n\u003c!-- End of code generated from the comments of the Config struct in post-processor/googlecompute-export/post-processor.go; --\u003e\n\n\n## Basic Example\n\nThe following example builds a GCE image in the project, `my-project`, with an\naccount whose keyfile is `account.json`. After the image build, a temporary VM\nwill be created to export the image as a gzipped tarball to\n`gs://mybucket1/path/to/file1.tar.gz` and\n`gs://mybucket2/path/to/file2.tar.gz`. `keep_input_artifact` is true, so the\nGCE image won't be deleted after the export.\n\nIn order for this example to work, the account associated with `account.json`\nmust have write access to both `gs://mybucket1/path/to/file1.tar.gz` and\n`gs://mybucket2/path/to/file2.tar.gz`.\n\n**JSON**\n\n```json\n{\n  \"builders\": [\n    {\n      \"type\": \"googlecompute\",\n      \"account_file\": \"account.json\",\n      \"project_id\": \"my-project\",\n      \"source_image\": \"debian-7-wheezy-v20150127\",\n      \"zone\": \"us-central1-a\"\n    }\n  ],\n  \"post-processors\": [\n    {\n      \"type\": \"googlecompute-export\",\n      \"paths\": [\n        \"gs://mybucket1/path/to/file1.tar.gz\",\n        \"gs://mybucket2/path/to/file2.tar.gz\"\n      ],\n      \"keep_input_artifact\": true\n    }\n  ]\n}\n```\n\n\n**HCL2**\n\n```hcl\n\n  source \"googlecompute\" \"example\" {\n    account_file = \"account.json\"\n    project_id = \"my-project\"\n    source_image = \"debian-7-wheezy-v20150127\"\n    zone = \"us-central1-a\"\n  }\n\n  build {\n    sources = [\"source.googlecompute.example\"]\n\n    post-processor \"googlecompute-export\" {\n      paths = [\n        \"gs://mybucket1/path/to/file1.tar.gz\",\n        \"gs://mybucket2/path/to/file2.tar.gz\"\n      ]\n      keep_input_artifact = true\n    }\n  }\n```\n","created_at":"2025-04-09T08:55:08.007Z","updated_at":"2025-04-09T08:55:08.007Z","name":"Google Cloud Platform Image Exporter","slug":"googlecompute-export","component":{"id":"73965f1c-ad56-4f38-a31b-dc17d08c0ba6","slug":"post-processor","name":"Post-Processor","plural_name":"Post-Processors","product_id":"4c2b00c6-7cc1-4e4c-b596-4ab57e319f21","created_at":"2022-11-09T22:56:31.157Z","updated_at":"2023-07-26T17:26:54.831Z"},"variable_groups":[]},{"id":"7865129a-0861-4f12-b1fa-bc6700d0e4f5","integration_release_id":"29dd004b-bffb-4ea8-95ba-cee16ce953d6","component_id":"73965f1c-ad56-4f38-a31b-dc17d08c0ba6","readme":"Type: `googlecompute-import`\nArtifact BuilderId: `packer.post-processor.googlecompute-import`\n\nThe Google Compute Image Import post-processor takes a compressed raw disk\nimage and imports it to a GCE image available to Google Compute Engine.\n\n~\u003e This post-processor is for advanced users. Please ensure you read the\n[GCE import documentation](https://cloud.google.com/compute/docs/images/import-existing-image)\nbefore using this post-processor.\n\n## How Does it Work?\n\nThe import process operates by uploading a temporary copy of the compressed raw\ndisk image to a GCS bucket, and calling an import task in GCP on the raw disk\nfile. Once completed, a GCE image is created containing the converted virtual\nmachine. The temporary raw disk image copy in GCS can be discarded after the import is complete.\n\nGoogle Cloud has very specific requirements for images being imported. Please\nsee the [GCE import documentation](https://cloud.google.com/compute/docs/images/import-existing-image)\nfor details.\n\n~\u003e **Note**: To prevent Packer from deleting the compressed RAW disk image set the `keep_input_artifact` configuration option to `true`.\nSee [Post-Processor Input Artifacts](/packer/docs/templates/legacy_json_templates/post-processors#input-artifacts) for more details.\n\n## Authentication\n\nTo authenticate with GCE, this builder supports everything the plugin does.\nTo get more information on this, refer to the plugin's description page, under\nthe [authentication](/packer/integrations/hashicorp/googlecompute#authentication) section.\n\n## Configuration\n\n### Required\n\n\u003c!-- Code generated from the comments of the Config struct in post-processor/googlecompute-import/post-processor.go; DO NOT EDIT MANUALLY --\u003e\n\n- `project_id` (string) - The project ID where the GCS bucket exists and where the GCE image is stored.\n\n- `bucket` (string) - The name of the GCS bucket where the raw disk image will be uploaded.\n\n- `image_name` (string) - The unique name of the resulting image.\n\n\u003c!-- End of code generated from the comments of the Config struct in post-processor/googlecompute-import/post-processor.go; --\u003e\n\n\n### Optional\n\n\u003c!-- Code generated from the comments of the Config struct in post-processor/googlecompute-import/post-processor.go; DO NOT EDIT MANUALLY --\u003e\n\n- `scopes` ([]string) - The service account scopes for launched importer post-processor instance.\n  Defaults to:\n  \n  ```json\n  [\n    \"https://www.googleapis.com/auth/cloud-platform\"\n  ]\n  ```\n\n- `gcs_object_name` (string) - The name of the GCS object in `bucket` where\n  the RAW disk image will be copied for import. This is treated as a\n  [template engine](/packer/docs/templates/legacy_json_templates/engine). Therefore, you\n  may use user variables and template functions in this field. Defaults to\n  `packer-import-{{timestamp}}.tar.gz`.\n\n- `image_architecture` (string) - Specifies the architecture or processor type that this image can support. Must be one of: `arm64` or `x86_64`. Defaults to `ARCHITECTURE_UNSPECIFIED`.\n\n- `image_description` (string) - The description of the resulting image.\n\n- `image_family` (string) - The name of the image family to which the resulting image belongs.\n\n- `image_guest_os_features` ([]string) - A list of features to enable on the guest operating system. Applicable only for bootable images. Valid\n  values are `MULTI_IP_SUBNET`, `UEFI_COMPATIBLE`,\n  `VIRTIO_SCSI_MULTIQUEUE`, `GVNIC` and `WINDOWS` currently.\n\n- `image_labels` (map[string]string) - Key/value pair labels to apply to the created image.\n\n- `image_storage_locations` ([]string) - Specifies a Cloud Storage location, either regional or multi-regional, where image content is to be stored. If not specified, the multi-region location closest to the source is chosen automatically.\n\n- `skip_clean` (bool) - Skip removing the TAR file uploaded to the GCS\n  bucket after the import process has completed. \"true\" means that we should\n  leave it in the GCS bucket, \"false\" means to clean it out. Defaults to\n  `false`.\n\n- `image_platform_key` (string) - A key used to establish the trust relationship between the platform owner and the firmware. You may only specify one platform key, and it must be a valid X.509 certificate.\n\n- `image_key_exchange_key` ([]string) - A key used to establish a trust relationship between the firmware and the OS. You may specify multiple comma-separated keys for this value.\n\n- `image_signatures_db` ([]string) - A database of certificates that are trusted and can be used to sign boot files. You may specify single or multiple comma-separated values for this value.\n\n- `image_forbidden_signatures_db` ([]string) - A database of certificates that have been revoked and will cause the system to stop booting if a boot file is signed with one of them. You may specify single or multiple comma-separated values for this value.\n\n\u003c!-- End of code generated from the comments of the Config struct in post-processor/googlecompute-import/post-processor.go; --\u003e\n\n\n## Basic Example\n\nHere is a basic example. This assumes that the builder has produced an\ncompressed raw disk image artifact for us to work with, and that the GCS bucket\nhas been created.\n\n**HCL**\n\n```hcl\npost-processor \"googlecompute-import\"{\n  account_file = \"account.json\"\n  bucket = \"my-bucket\"\n  project_id = \"my-project\"\n  image_name = \"my-gce-image\"\n}\n```\n\n**JSON**\n\n```json\n{\n  \"type\": \"googlecompute-import\",\n  \"account_file\": \"account.json\",\n  \"project_id\": \"my-project\",\n  \"bucket\": \"my-bucket\",\n  \"image_name\": \"my-gce-image\"\n}\n```\n\n\n## QEMU Builder Example\n\nHere is a complete example for building a Fedora 31 server GCE image. For this\nexample Packer was run from a Debian Linux host with KVM installed.\n\n    $ packer build -var serial=$(tty) build.pkr.hcl\n\n**HCL2**\n\n```hcl\nvariables {\n  account_file = \"account.json\"\n  bucket = \"my-bucket\"\n  project = \"my-project\"\n  serial = \"\"\n}\n\nsource \"qemu\" \"example\" {\n    accelerator = \"kvm\"\n    boot_command = [\n      \"\u003ctab\u003e console=ttyS0,115200n8 inst.text inst.ks=http://{{ .HTTPIP }}:{{ .HTTPPort }}/fedora-31-ks.cfg rd.live.check=0\u003center\u003e\u003cwait\u003e\"\n    ]\n    disk_size = \"15000\"\n    format = \"raw\"\n    iso_checksum = \"sha256:225ebc160e40bb43c5de28bad9680e3a78a9db40c9e3f4f42f3ee3f10f95dbeb\"\n    iso_url = \"https://download-ib01.fedoraproject.org/pub/fedora/linux/releases/31/Server/x86_64/iso/Fedora-Server-dvd-x86_64-31-1.9.iso\"\n    headless = \"true\"\n    http_directory = \"http\"\n    http_port_max = \"10089\"\n    http_port_min = \"10082\"\n    output_directory = \"output\"\n    shutdown_timeout = \"30m\"\n\t\tshutdown_command = \"echo 'vagrant'|sudo -S shutdown -P now\"\n\t\tssh_username = \"vagrant\"\n\t\tssh_password = \"vagrant\"\n    vm_name = \"disk.raw\"\n    qemu_binary = \"/usr/bin/kvm\"\n    qemuargs = [\n      [\"-m\", \"1024\"],\n      [\"-cpu\", \"host\"],\n      [\"-chardev\", \"tty,id=pts,path=${var.serial}\"],\n      [\"-device\", \"isa-serial,chardev=pts\"],\n      [\"-device\", \"virtio-net,netdev=user.0\"]\n    ]\n}\n\nbuild {\n  sources = [\"source.qemu.example\"]\n\n  post-processors {\n    post-processor \"compress\" {\n        output = \"output/disk.raw.tar.gz\"\n    }\n    post-processor \"googlecompute-import\"  {\n        account_file = var.account_file\n        bucket = var.bucket\n        project_id = var.project\n        image_name = \"fedora31-server-packertest\"\n        image_description = \"Fedora 31 Server\"\n        image_family = \"fedora31-server\"\n      }\n    }\n}\n```\n\n  **JSON**\n\n```json\n{\n  \"variables\": {\n    \"account_file\": \"account.json\",\n    \"bucket\": \"my-bucket\",\n    \"project\": \"my-project\",\n    \"serial\": \"\"\n  },\n  \"builders\": [\n    {\n      \"type\": \"qemu\",\n      \"accelerator\": \"kvm\",\n      \"boot_command\": [\n        \"\u003ctab\u003e console=ttyS0,115200n8 inst.text inst.ks=http://{{ .HTTPIP }}:{{ .HTTPPort }}/fedora-31-ks.cfg rd.live.check=0\u003center\u003e\u003cwait\u003e\"\n      ],\n      \"disk_size\": \"15000\",\n      \"format\": \"raw\",\n      \"iso_checksum\": \"sha256:225ebc160e40bb43c5de28bad9680e3a78a9db40c9e3f4f42f3ee3f10f95dbeb\",\n      \"iso_url\": \"https://download-ib01.fedoraproject.org/pub/fedora/linux/releases/31/Server/x86_64/iso/Fedora-Server-dvd-x86_64-31-1.9.iso\",\n      \"headless\": \"true\",\n      \"http_directory\": \"http\",\n      \"http_port_max\": \"10089\",\n      \"http_port_min\": \"10082\",\n      \"output_directory\": \"output\",\n      \"shutdown_timeout\": \"30m\",\n      \"shutdown_command\": \"echo 'vagrant'|sudo -S shutdown -P now\",\n      \"ssh_username\": \"vagrant\",\n      \"ssh_password\": \"vagrant\",\n      \"vm_name\": \"disk.raw\",\n      \"qemu_binary\": \"/usr/bin/kvm\",\n      \"qemuargs\": [\n        [\"-m\", \"1024\"],\n        [\"-cpu\", \"host\"],\n        [\"-chardev\", \"tty,id=pts,path={{user `serial`}}\"],\n        [\"-device\", \"isa-serial,chardev=pts\"],\n        [\"-device\", \"virtio-net,netdev=user.0\"]\n      ]\n    }\n  ],\n  \"post-processors\": [\n    [\n      {\n        \"type\": \"compress\",\n        \"output\": \"output/disk.raw.tar.gz\"\n      },\n      {\n        \"type\": \"googlecompute-import\",\n        \"project_id\": \"{{user `project`}}\",\n        \"account_file\": \"{{user `account_file`}}\",\n        \"bucket\": \"{{user `bucket`}}\",\n        \"image_name\": \"fedora31-server-packertest\",\n        \"image_description\": \"Fedora 31 Server\",\n        \"image_family\": \"fedora31-server\"\n      }\n    ]\n  ]\n}\n```\n","created_at":"2025-04-09T08:55:07.637Z","updated_at":"2025-04-09T08:55:07.637Z","name":"Google Cloud Platform Image Import","slug":"googlecompute-import","component":{"id":"73965f1c-ad56-4f38-a31b-dc17d08c0ba6","slug":"post-processor","name":"Post-Processor","plural_name":"Post-Processors","product_id":"4c2b00c6-7cc1-4e4c-b596-4ab57e319f21","created_at":"2022-11-09T22:56:31.157Z","updated_at":"2023-07-26T17:26:54.831Z"},"variable_groups":[]}]},"component":{"id":"7865129a-0861-4f12-b1fa-bc6700d0e4f5","integration_release_id":"29dd004b-bffb-4ea8-95ba-cee16ce953d6","component_id":"73965f1c-ad56-4f38-a31b-dc17d08c0ba6","readme":"Type: `googlecompute-import`\nArtifact BuilderId: `packer.post-processor.googlecompute-import`\n\nThe Google Compute Image Import post-processor takes a compressed raw disk\nimage and imports it to a GCE image available to Google Compute Engine.\n\n~\u003e This post-processor is for advanced users. Please ensure you read the\n[GCE import documentation](https://cloud.google.com/compute/docs/images/import-existing-image)\nbefore using this post-processor.\n\n## How Does it Work?\n\nThe import process operates by uploading a temporary copy of the compressed raw\ndisk image to a GCS bucket, and calling an import task in GCP on the raw disk\nfile. Once completed, a GCE image is created containing the converted virtual\nmachine. The temporary raw disk image copy in GCS can be discarded after the import is complete.\n\nGoogle Cloud has very specific requirements for images being imported. Please\nsee the [GCE import documentation](https://cloud.google.com/compute/docs/images/import-existing-image)\nfor details.\n\n~\u003e **Note**: To prevent Packer from deleting the compressed RAW disk image set the `keep_input_artifact` configuration option to `true`.\nSee [Post-Processor Input Artifacts](/packer/docs/templates/legacy_json_templates/post-processors#input-artifacts) for more details.\n\n## Authentication\n\nTo authenticate with GCE, this builder supports everything the plugin does.\nTo get more information on this, refer to the plugin's description page, under\nthe [authentication](/packer/integrations/hashicorp/googlecompute#authentication) section.\n\n## Configuration\n\n### Required\n\n\u003c!-- Code generated from the comments of the Config struct in post-processor/googlecompute-import/post-processor.go; DO NOT EDIT MANUALLY --\u003e\n\n- `project_id` (string) - The project ID where the GCS bucket exists and where the GCE image is stored.\n\n- `bucket` (string) - The name of the GCS bucket where the raw disk image will be uploaded.\n\n- `image_name` (string) - The unique name of the resulting image.\n\n\u003c!-- End of code generated from the comments of the Config struct in post-processor/googlecompute-import/post-processor.go; --\u003e\n\n\n### Optional\n\n\u003c!-- Code generated from the comments of the Config struct in post-processor/googlecompute-import/post-processor.go; DO NOT EDIT MANUALLY --\u003e\n\n- `scopes` ([]string) - The service account scopes for launched importer post-processor instance.\n  Defaults to:\n  \n  ```json\n  [\n    \"https://www.googleapis.com/auth/cloud-platform\"\n  ]\n  ```\n\n- `gcs_object_name` (string) - The name of the GCS object in `bucket` where\n  the RAW disk image will be copied for import. This is treated as a\n  [template engine](/packer/docs/templates/legacy_json_templates/engine). Therefore, you\n  may use user variables and template functions in this field. Defaults to\n  `packer-import-{{timestamp}}.tar.gz`.\n\n- `image_architecture` (string) - Specifies the architecture or processor type that this image can support. Must be one of: `arm64` or `x86_64`. Defaults to `ARCHITECTURE_UNSPECIFIED`.\n\n- `image_description` (string) - The description of the resulting image.\n\n- `image_family` (string) - The name of the image family to which the resulting image belongs.\n\n- `image_guest_os_features` ([]string) - A list of features to enable on the guest operating system. Applicable only for bootable images. Valid\n  values are `MULTI_IP_SUBNET`, `UEFI_COMPATIBLE`,\n  `VIRTIO_SCSI_MULTIQUEUE`, `GVNIC` and `WINDOWS` currently.\n\n- `image_labels` (map[string]string) - Key/value pair labels to apply to the created image.\n\n- `image_storage_locations` ([]string) - Specifies a Cloud Storage location, either regional or multi-regional, where image content is to be stored. If not specified, the multi-region location closest to the source is chosen automatically.\n\n- `skip_clean` (bool) - Skip removing the TAR file uploaded to the GCS\n  bucket after the import process has completed. \"true\" means that we should\n  leave it in the GCS bucket, \"false\" means to clean it out. Defaults to\n  `false`.\n\n- `image_platform_key` (string) - A key used to establish the trust relationship between the platform owner and the firmware. You may only specify one platform key, and it must be a valid X.509 certificate.\n\n- `image_key_exchange_key` ([]string) - A key used to establish a trust relationship between the firmware and the OS. You may specify multiple comma-separated keys for this value.\n\n- `image_signatures_db` ([]string) - A database of certificates that are trusted and can be used to sign boot files. You may specify single or multiple comma-separated values for this value.\n\n- `image_forbidden_signatures_db` ([]string) - A database of certificates that have been revoked and will cause the system to stop booting if a boot file is signed with one of them. You may specify single or multiple comma-separated values for this value.\n\n\u003c!-- End of code generated from the comments of the Config struct in post-processor/googlecompute-import/post-processor.go; --\u003e\n\n\n## Basic Example\n\nHere is a basic example. This assumes that the builder has produced an\ncompressed raw disk image artifact for us to work with, and that the GCS bucket\nhas been created.\n\n**HCL**\n\n```hcl\npost-processor \"googlecompute-import\"{\n  account_file = \"account.json\"\n  bucket = \"my-bucket\"\n  project_id = \"my-project\"\n  image_name = \"my-gce-image\"\n}\n```\n\n**JSON**\n\n```json\n{\n  \"type\": \"googlecompute-import\",\n  \"account_file\": \"account.json\",\n  \"project_id\": \"my-project\",\n  \"bucket\": \"my-bucket\",\n  \"image_name\": \"my-gce-image\"\n}\n```\n\n\n## QEMU Builder Example\n\nHere is a complete example for building a Fedora 31 server GCE image. For this\nexample Packer was run from a Debian Linux host with KVM installed.\n\n    $ packer build -var serial=$(tty) build.pkr.hcl\n\n**HCL2**\n\n```hcl\nvariables {\n  account_file = \"account.json\"\n  bucket = \"my-bucket\"\n  project = \"my-project\"\n  serial = \"\"\n}\n\nsource \"qemu\" \"example\" {\n    accelerator = \"kvm\"\n    boot_command = [\n      \"\u003ctab\u003e console=ttyS0,115200n8 inst.text inst.ks=http://{{ .HTTPIP }}:{{ .HTTPPort }}/fedora-31-ks.cfg rd.live.check=0\u003center\u003e\u003cwait\u003e\"\n    ]\n    disk_size = \"15000\"\n    format = \"raw\"\n    iso_checksum = \"sha256:225ebc160e40bb43c5de28bad9680e3a78a9db40c9e3f4f42f3ee3f10f95dbeb\"\n    iso_url = \"https://download-ib01.fedoraproject.org/pub/fedora/linux/releases/31/Server/x86_64/iso/Fedora-Server-dvd-x86_64-31-1.9.iso\"\n    headless = \"true\"\n    http_directory = \"http\"\n    http_port_max = \"10089\"\n    http_port_min = \"10082\"\n    output_directory = \"output\"\n    shutdown_timeout = \"30m\"\n\t\tshutdown_command = \"echo 'vagrant'|sudo -S shutdown -P now\"\n\t\tssh_username = \"vagrant\"\n\t\tssh_password = \"vagrant\"\n    vm_name = \"disk.raw\"\n    qemu_binary = \"/usr/bin/kvm\"\n    qemuargs = [\n      [\"-m\", \"1024\"],\n      [\"-cpu\", \"host\"],\n      [\"-chardev\", \"tty,id=pts,path=${var.serial}\"],\n      [\"-device\", \"isa-serial,chardev=pts\"],\n      [\"-device\", \"virtio-net,netdev=user.0\"]\n    ]\n}\n\nbuild {\n  sources = [\"source.qemu.example\"]\n\n  post-processors {\n    post-processor \"compress\" {\n        output = \"output/disk.raw.tar.gz\"\n    }\n    post-processor \"googlecompute-import\"  {\n        account_file = var.account_file\n        bucket = var.bucket\n        project_id = var.project\n        image_name = \"fedora31-server-packertest\"\n        image_description = \"Fedora 31 Server\"\n        image_family = \"fedora31-server\"\n      }\n    }\n}\n```\n\n  **JSON**\n\n```json\n{\n  \"variables\": {\n    \"account_file\": \"account.json\",\n    \"bucket\": \"my-bucket\",\n    \"project\": \"my-project\",\n    \"serial\": \"\"\n  },\n  \"builders\": [\n    {\n      \"type\": \"qemu\",\n      \"accelerator\": \"kvm\",\n      \"boot_command\": [\n        \"\u003ctab\u003e console=ttyS0,115200n8 inst.text inst.ks=http://{{ .HTTPIP }}:{{ .HTTPPort }}/fedora-31-ks.cfg rd.live.check=0\u003center\u003e\u003cwait\u003e\"\n      ],\n      \"disk_size\": \"15000\",\n      \"format\": \"raw\",\n      \"iso_checksum\": \"sha256:225ebc160e40bb43c5de28bad9680e3a78a9db40c9e3f4f42f3ee3f10f95dbeb\",\n      \"iso_url\": \"https://download-ib01.fedoraproject.org/pub/fedora/linux/releases/31/Server/x86_64/iso/Fedora-Server-dvd-x86_64-31-1.9.iso\",\n      \"headless\": \"true\",\n      \"http_directory\": \"http\",\n      \"http_port_max\": \"10089\",\n      \"http_port_min\": \"10082\",\n      \"output_directory\": \"output\",\n      \"shutdown_timeout\": \"30m\",\n      \"shutdown_command\": \"echo 'vagrant'|sudo -S shutdown -P now\",\n      \"ssh_username\": \"vagrant\",\n      \"ssh_password\": \"vagrant\",\n      \"vm_name\": \"disk.raw\",\n      \"qemu_binary\": \"/usr/bin/kvm\",\n      \"qemuargs\": [\n        [\"-m\", \"1024\"],\n        [\"-cpu\", \"host\"],\n        [\"-chardev\", \"tty,id=pts,path={{user `serial`}}\"],\n        [\"-device\", \"isa-serial,chardev=pts\"],\n        [\"-device\", \"virtio-net,netdev=user.0\"]\n      ]\n    }\n  ],\n  \"post-processors\": [\n    [\n      {\n        \"type\": \"compress\",\n        \"output\": \"output/disk.raw.tar.gz\"\n      },\n      {\n        \"type\": \"googlecompute-import\",\n        \"project_id\": \"{{user `project`}}\",\n        \"account_file\": \"{{user `account_file`}}\",\n        \"bucket\": \"{{user `bucket`}}\",\n        \"image_name\": \"fedora31-server-packertest\",\n        \"image_description\": \"Fedora 31 Server\",\n        \"image_family\": \"fedora31-server\"\n      }\n    ]\n  ]\n}\n```\n","created_at":"2025-04-09T08:55:07.637Z","updated_at":"2025-04-09T08:55:07.637Z","name":"Google Cloud Platform Image Import","slug":"googlecompute-import","component":{"id":"73965f1c-ad56-4f38-a31b-dc17d08c0ba6","slug":"post-processor","name":"Post-Processor","plural_name":"Post-Processors","product_id":"4c2b00c6-7cc1-4e4c-b596-4ab57e319f21","created_at":"2022-11-09T22:56:31.157Z","updated_at":"2023-07-26T17:26:54.831Z"},"variable_groups":[]},"processedVariablesMarkdown":{},"anchorLinks":[{"id":"how-does-it-work","level":2,"title":"How Does it Work?"},{"id":"authentication","level":2,"title":"Authentication"},{"id":"configuration","level":2,"title":"Configuration"},{"id":"required","level":3,"title":"Required"},{"id":"optional","level":3,"title":"Optional"},{"id":"basic-example","level":2,"title":"Basic Example"},{"id":"qemu-builder-example","level":2,"title":"QEMU Builder Example"}],"serializedREADME":{"compiledSource":"const layoutProps={};const MDXLayout=\"wrapper\";function MDXContent({components,...props}){return mdx(MDXLayout,{...layoutProps,...props,components:components,mdxType:\"MDXLayout\"},mdx(\"p\",{\"className\":\"g-type-long-body\"},`Type: `,mdx(\"inlineCode\",{parentName:\"p\"},`googlecompute-import`),`\nArtifact BuilderId: `,mdx(\"inlineCode\",{parentName:\"p\"},`packer.post-processor.googlecompute-import`)),mdx(\"p\",{\"className\":\"g-type-long-body\"},`The Google Compute Image Import post-processor takes a compressed raw disk\nimage and imports it to a GCE image available to Google Compute Engine.`),mdx(\"div\",{\"className\":\"alert alert-warning g-type-body\"},mdx(\"p\",{parentName:\"div\",\"className\":\"g-type-long-body\"},`This post-processor is for advanced users. Please ensure you read the\n`,mdx(\"a\",{parentName:\"p\",\"href\":\"https://cloud.google.com/compute/docs/images/import-existing-image\"},`GCE import documentation`),`\nbefore using this post-processor.`)),mdx(\"h2\",{\"id\":\"user-content-how-does-it-work\",\"data-text-content\":\"How Does it Work\",\"className\":\"g-type-display-3\"},`How Does it Work?`),mdx(\"p\",{\"className\":\"g-type-long-body\"},`The import process operates by uploading a temporary copy of the compressed raw\ndisk image to a GCS bucket, and calling an import task in GCP on the raw disk\nfile. Once completed, a GCE image is created containing the converted virtual\nmachine. The temporary raw disk image copy in GCS can be discarded after the import is complete.`),mdx(\"p\",{\"className\":\"g-type-long-body\"},`Google Cloud has very specific requirements for images being imported. Please\nsee the `,mdx(\"a\",{parentName:\"p\",\"href\":\"https://cloud.google.com/compute/docs/images/import-existing-image\"},`GCE import documentation`),`\nfor details.`),mdx(\"div\",{\"className\":\"alert alert-warning g-type-body\"},mdx(\"p\",{parentName:\"div\",\"className\":\"g-type-long-body\"},``,mdx(\"strong\",{parentName:\"p\"},`Note`),`: To prevent Packer from deleting the compressed RAW disk image set the `,mdx(\"inlineCode\",{parentName:\"p\"},`keep_input_artifact`),` configuration option to `,mdx(\"inlineCode\",{parentName:\"p\"},`true`),`.\nSee `,mdx(\"a\",{parentName:\"p\",\"href\":\"/packer/docs/templates/legacy_json_templates/post-processors#input-artifacts\"},`Post-Processor Input Artifacts`),` for more details.`)),mdx(\"h2\",{\"id\":\"user-content-authentication\",\"data-text-content\":\"Authentication\",\"className\":\"g-type-display-3\"},`Authentication`),mdx(\"p\",{\"className\":\"g-type-long-body\"},`To authenticate with GCE, this builder supports everything the plugin does.\nTo get more information on this, refer to the plugin's description page, under\nthe `,mdx(\"a\",{parentName:\"p\",\"href\":\"/packer/integrations/hashicorp/googlecompute#authentication\"},`authentication`),` section.`),mdx(\"h2\",{\"id\":\"user-content-configuration\",\"data-text-content\":\"Configuration\",\"className\":\"g-type-display-3\"},`Configuration`),mdx(\"h3\",{\"id\":\"user-content-required\",\"data-text-content\":\"Required\",\"className\":\"g-type-display-4\"},`Required`),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`project_id`),` (string) - The project ID where the GCS bucket exists and where the GCE image is stored.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`bucket`),` (string) - The name of the GCS bucket where the raw disk image will be uploaded.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`image_name`),` (string) - The unique name of the resulting image.`))),mdx(\"h3\",{\"id\":\"user-content-optional\",\"data-text-content\":\"Optional\",\"className\":\"g-type-display-4\"},`Optional`),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`scopes`),` ([]string) - The service account scopes for launched importer post-processor instance.\nDefaults to:`),mdx(\"pre\",{parentName:\"li\"},mdx(\"code\",{parentName:\"pre\"},mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`[`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`  \"https://www.googleapis.com/auth/cloud-platform\"`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`]`)),`\n`))),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`gcs_object_name`),` (string) - The name of the GCS object in `,mdx(\"inlineCode\",{parentName:\"p\"},`bucket`),` where\nthe RAW disk image will be copied for import. This is treated as a\n`,mdx(\"a\",{parentName:\"p\",\"href\":\"/packer/docs/templates/legacy_json_templates/engine\"},`template engine`),`. Therefore, you\nmay use user variables and template functions in this field. Defaults to\n`,mdx(\"inlineCode\",{parentName:\"p\"},`packer-import-{{timestamp}}.tar.gz`),`.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`image_architecture`),` (string) - Specifies the architecture or processor type that this image can support. Must be one of: `,mdx(\"inlineCode\",{parentName:\"p\"},`arm64`),` or `,mdx(\"inlineCode\",{parentName:\"p\"},`x86_64`),`. Defaults to `,mdx(\"inlineCode\",{parentName:\"p\"},`ARCHITECTURE_UNSPECIFIED`),`.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`image_description`),` (string) - The description of the resulting image.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`image_family`),` (string) - The name of the image family to which the resulting image belongs.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`image_guest_os_features`),` ([]string) - A list of features to enable on the guest operating system. Applicable only for bootable images. Valid\nvalues are `,mdx(\"inlineCode\",{parentName:\"p\"},`MULTI_IP_SUBNET`),`, `,mdx(\"inlineCode\",{parentName:\"p\"},`UEFI_COMPATIBLE`),`,\n`,mdx(\"inlineCode\",{parentName:\"p\"},`VIRTIO_SCSI_MULTIQUEUE`),`, `,mdx(\"inlineCode\",{parentName:\"p\"},`GVNIC`),` and `,mdx(\"inlineCode\",{parentName:\"p\"},`WINDOWS`),` currently.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`image_labels`),` (map`,`[string]`,`string) - Key/value pair labels to apply to the created image.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`image_storage_locations`),` ([]string) - Specifies a Cloud Storage location, either regional or multi-regional, where image content is to be stored. If not specified, the multi-region location closest to the source is chosen automatically.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`skip_clean`),` (bool) - Skip removing the TAR file uploaded to the GCS\nbucket after the import process has completed. \"true\" means that we should\nleave it in the GCS bucket, \"false\" means to clean it out. Defaults to\n`,mdx(\"inlineCode\",{parentName:\"p\"},`false`),`.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`image_platform_key`),` (string) - A key used to establish the trust relationship between the platform owner and the firmware. You may only specify one platform key, and it must be a valid X.509 certificate.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`image_key_exchange_key`),` ([]string) - A key used to establish a trust relationship between the firmware and the OS. You may specify multiple comma-separated keys for this value.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`image_signatures_db`),` ([]string) - A database of certificates that are trusted and can be used to sign boot files. You may specify single or multiple comma-separated values for this value.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`image_forbidden_signatures_db`),` ([]string) - A database of certificates that have been revoked and will cause the system to stop booting if a boot file is signed with one of them. You may specify single or multiple comma-separated values for this value.`))),mdx(\"h2\",{\"id\":\"user-content-basic-example\",\"data-text-content\":\"Basic Example\",\"className\":\"g-type-display-3\"},`Basic Example`),mdx(\"p\",{\"className\":\"g-type-long-body\"},`Here is a basic example. This assumes that the builder has produced an\ncompressed raw disk image artifact for us to work with, and that the GCS bucket\nhas been created.`),mdx(\"p\",{\"className\":\"g-type-long-body\"},mdx(\"strong\",{parentName:\"p\"},`HCL`)),mdx(\"pre\",null,mdx(\"code\",{parentName:\"pre\"},mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-function)\"}},`post-processor`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-constant)\"}},` \"googlecompute-import\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`{`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`  account_file `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`=`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"account.json\"`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`  bucket `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`=`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"my-bucket\"`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`  project_id `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`=`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"my-project\"`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`  image_name `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`=`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"my-gce-image\"`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`}`)),`\n`)),mdx(\"p\",{\"className\":\"g-type-long-body\"},mdx(\"strong\",{parentName:\"p\"},`JSON`)),mdx(\"pre\",null,mdx(\"code\",{parentName:\"pre\"},mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`{`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`  \"type\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"googlecompute-import\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`  \"account_file\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"account.json\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`  \"project_id\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"my-project\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`  \"bucket\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"my-bucket\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`  \"image_name\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"my-gce-image\"`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`}`)),`\n`)),mdx(\"h2\",{\"id\":\"user-content-qemu-builder-example\",\"data-text-content\":\"QEMU Builder Example\",\"className\":\"g-type-display-3\"},`QEMU Builder Example`),mdx(\"p\",{\"className\":\"g-type-long-body\"},`Here is a complete example for building a Fedora 31 server GCE image. For this\nexample Packer was run from a Debian Linux host with KVM installed.`),mdx(\"pre\",null,mdx(\"code\",{parentName:\"pre\"},`$ packer build -var serial=$(tty) build.pkr.hcl\n`)),mdx(\"p\",{\"className\":\"g-type-long-body\"},mdx(\"strong\",{parentName:\"p\"},`HCL2`)),mdx(\"pre\",null,mdx(\"code\",{parentName:\"pre\"},mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-function)\"}},`variables`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` {`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`  account_file `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`=`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"account.json\"`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`  bucket `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`=`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"my-bucket\"`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`  project `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`=`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"my-project\"`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`  serial `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`=`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"\"`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`}`)),`\n`,`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-function)\"}},`source`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-constant)\"}},` \"qemu\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-constant)\"}},` \"example\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` {`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`    accelerator `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`=`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"kvm\"`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`    boot_command `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`=`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` [`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`      \"\u003ctab\u003e console=ttyS0,115200n8 inst.text inst.ks=http://{{ .HTTPIP }}:{{ .HTTPPort }}/fedora-31-ks.cfg rd.live.check=0\u003center\u003e\u003cwait\u003e\"`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`    ]`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`    disk_size `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`=`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"15000\"`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`    format `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`=`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"raw\"`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`    iso_checksum `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`=`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"sha256:225ebc160e40bb43c5de28bad9680e3a78a9db40c9e3f4f42f3ee3f10f95dbeb\"`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`    iso_url `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`=`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"https://download-ib01.fedoraproject.org/pub/fedora/linux/releases/31/Server/x86_64/iso/Fedora-Server-dvd-x86_64-31-1.9.iso\"`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`    headless `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`=`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"true\"`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`    http_directory `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`=`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"http\"`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`    http_port_max `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`=`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"10089\"`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`    http_port_min `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`=`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"10082\"`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`    output_directory `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`=`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"output\"`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`    shutdown_timeout `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`=`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"30m\"`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`        shutdown_command `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`=`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"echo 'vagrant'|sudo -S shutdown -P now\"`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`        ssh_username `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`=`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"vagrant\"`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`        ssh_password `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`=`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"vagrant\"`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`    vm_name `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`=`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"disk.raw\"`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`    qemu_binary `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`=`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"/usr/bin/kvm\"`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`    qemuargs `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`=`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` [`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`      [`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`\"-m\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"1024\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`]`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`      [`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`\"-cpu\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"host\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`]`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`      [`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`\"-chardev\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"tty,id=pts,path=`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`\\${`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`var`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`.`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`serial`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`}`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`]`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`      [`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`\"-device\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"isa-serial,chardev=pts\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`]`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`      [`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`\"-device\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"virtio-net,netdev=user.0\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`]`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`    ]`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`}`)),`\n`,`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-function)\"}},`build`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` {`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`  sources `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`=`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` [`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`\"source.qemu.example\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`]`)),`\n`,`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-function)\"}},`  post-processors`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` {`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-function)\"}},`    post-processor`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-constant)\"}},` \"compress\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` {`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`        output `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`=`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"output/disk.raw.tar.gz\"`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`    }`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-function)\"}},`    post-processor`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-constant)\"}},` \"googlecompute-import\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`  {`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`        account_file `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`=`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` var.account_file`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`        bucket `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`=`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` var.bucket`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`        project_id `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`=`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` var.project`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`        image_name `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`=`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"fedora31-server-packertest\"`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`        image_description `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`=`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"Fedora 31 Server\"`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`        image_family `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`=`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"fedora31-server\"`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`      }`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`    }`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`}`)),`\n`)),mdx(\"p\",{\"className\":\"g-type-long-body\"},`  `,mdx(\"strong\",{parentName:\"p\"},`JSON`)),mdx(\"pre\",null,mdx(\"code\",{parentName:\"pre\"},mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`{`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`  \"variables\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` {`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`    \"account_file\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"account.json\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`    \"bucket\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"my-bucket\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`    \"project\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"my-project\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`    \"serial\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"\"`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`  }`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`  \"builders\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` [`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`    {`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`      \"type\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"qemu\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`      \"accelerator\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"kvm\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`      \"boot_command\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` [`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`        \"\u003ctab\u003e console=ttyS0,115200n8 inst.text inst.ks=http://{{ .HTTPIP }}:{{ .HTTPPort }}/fedora-31-ks.cfg rd.live.check=0\u003center\u003e\u003cwait\u003e\"`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`      ]`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`      \"disk_size\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"15000\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`      \"format\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"raw\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`      \"iso_checksum\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"sha256:225ebc160e40bb43c5de28bad9680e3a78a9db40c9e3f4f42f3ee3f10f95dbeb\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`      \"iso_url\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"https://download-ib01.fedoraproject.org/pub/fedora/linux/releases/31/Server/x86_64/iso/Fedora-Server-dvd-x86_64-31-1.9.iso\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`      \"headless\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"true\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`      \"http_directory\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"http\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`      \"http_port_max\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"10089\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`      \"http_port_min\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"10082\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`      \"output_directory\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"output\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`      \"shutdown_timeout\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"30m\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`      \"shutdown_command\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"echo 'vagrant'|sudo -S shutdown -P now\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`      \"ssh_username\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"vagrant\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`      \"ssh_password\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"vagrant\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`      \"vm_name\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"disk.raw\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`      \"qemu_binary\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"/usr/bin/kvm\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`      \"qemuargs\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` [`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`        [`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`\"-m\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"1024\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`]`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`        [`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`\"-cpu\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"host\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`]`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`        [`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`\"-chardev\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"tty,id=pts,path={{user \\`serial\\`}}\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`]`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`        [`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`\"-device\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"isa-serial,chardev=pts\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`]`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`        [`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`\"-device\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"virtio-net,netdev=user.0\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`]`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`      ]`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`    }`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`  ]`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`  \"post-processors\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` [`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`    [`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`      {`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`        \"type\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"compress\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`        \"output\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"output/disk.raw.tar.gz\"`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`      }`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`      {`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`        \"type\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"googlecompute-import\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`        \"project_id\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"{{user \\`project\\`}}\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`        \"account_file\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"{{user \\`account_file\\`}}\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`        \"bucket\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"{{user \\`bucket\\`}}\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`        \"image_name\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"fedora31-server-packertest\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`        \"image_description\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"Fedora 31 Server\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`        \"image_family\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"fedora31-server\"`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`      }`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`    ]`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`  ]`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`}`)),`\n`)))};MDXContent.isMDXComponent=true;","scope":{}},"breadcrumbLinks":[{"title":"Developer","url":"/"},{"title":"Packer","url":"/packer"},{"title":"Integrations","url":"/packer/integrations"},{"title":"Google Cloud Platform","url":"/packer/integrations/hashicorp/googlecompute","isCurrentPage":false},{"title":"v1.1.9","url":"/packer/integrations/hashicorp/googlecompute/v1.1.9","isCurrentPage":false},{"title":"Components"},{"title":"Post-Processor"},{"title":"Google Cloud Platform Image Import","url":"/packer/integrations/hashicorp/googlecompute/latest/components/post-processor/googlecompute-import","isCurrentPage":true}]},"__N_SSG":true},"page":"/[productSlug]/integrations/[organizationSlug]/[integrationSlug]/[integrationVersion]/components/[componentType]/[componentSlug]","query":{"productSlug":"packer","organizationSlug":"hashicorp","integrationSlug":"googlecompute","integrationVersion":"latest","componentType":"post-processor","componentSlug":"googlecompute-import"},"buildId":"gg1aOOFCrsB-hhXSHeYPh","isFallback":false,"gsp":true,"scriptLoader":[]}</script><script nomodule="">window.MSInputMethodContext && document.documentMode && document.write('<script src="/ie-warning.js"><\x2fscript>');</script></body></html>