<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><title>Outscale Builder | Integrations | Packer | HashiCorp Developer</title><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta property="og:locale" content="en_US"/><meta property="og:type" content="website"/><meta property="article:publisher" content="https://www.facebook.com/HashiCorp/"/><meta name="twitter:site" content="@HashiCorp"/><meta name="twitter:card" content="summary_large_image"/><meta name="theme-color" content="#000"/><meta name="description" property="og:description" content="Explore Packer product documentation, tutorials, and examples."/><meta name="twitter:description" content="Explore Packer product documentation, tutorials, and examples."/><meta property="og:site_name" content="Outscale Builder | Integrations | Packer | HashiCorp Developer"/><meta property="og:title" content="Outscale Builder | Integrations | Packer | HashiCorp Developer"/><meta property="og:image" content="https://developer.hashicorp.com/og-image/packer.jpg"/><link rel="canonical" href="https://developer.hashicorp.com/packer/integrations/outscale/outscale/latest/components/builder/chroot"/><link rel="icon" href="/favicon.ico" sizes="48x48"/><link rel="icon" href="/favicon.svg" sizes="any" type="image/svg+xml"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta name="google-site-verification" content="zRQZqfAsOX-ypXfU0mzAIzb5rUvj5fA4Zw2jWJRN-JI"/><meta name="ahrefs-site-verification" content="9d739b21c466a84dae91df1c79396081a9072152e64f765c9390fed6f249fb84"/><meta name="zd-site-verification" content="xnvnvv1i0wl4tf0pzaymb" data-product="hcp"/><meta name="zd-site-verification" content="36fp2i1pj67d8cjtzf4fi9" data-product="terraform"/><meta name="zd-site-verification" content="nbe87kfyp1sck7b13vj1i" data-product="packer"/><meta name="zd-site-verification" content="wvsmmqa1cfb9am9zlwfj" data-product="consul"/><meta name="zd-site-verification" content="cw22oopfwr68ujj0n5pn9i" data-product="boundary"/><meta name="zd-site-verification" content="lkslvganwfgfqfwpdeicgh" data-product="vault"/><meta name="zd-site-verification" content="jl2wp2hoej9rz6c8rmqdns" data-product="nomad"/><meta name="zd-site-verification" content="2eb0cu6xceo73t0038m0tb" data-product="waypoint"/><meta name="zd-site-verification" content="n52xisxdf3higs2q9kuogd" data-product="vagrant"/><meta name="twitter:image" content="https://developer.hashicorp.com/og-image/packer.jpg"/><link rel="prefetch" href="https://www.datadoghq-browser-agent.com/datadog-rum-v4.js"/><script type="application/ld+json">[{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Developer","item":"https://developer.hashicorp.com/"},{"@type":"ListItem","position":2,"name":"Packer","item":"https://developer.hashicorp.com/packer"},{"@type":"ListItem","position":3,"name":"Integrations","item":"https://developer.hashicorp.com/packer/integrations"},{"@type":"ListItem","position":4,"name":"Outscale","item":"https://developer.hashicorp.com/packer/integrations/outscale/outscale"},{"@type":"ListItem","position":5,"name":"v1.4.0","item":"https://developer.hashicorp.com/packer/integrations/outscale/outscale/v1.4.0"},{"@type":"ListItem","position":6,"name":"Outscale chroot","item":"https://developer.hashicorp.com/packer/integrations/outscale/outscale/latest/components/builder/chroot"}]}]</script><meta name="next-head-count" content="32"/><link data-next-font="" rel="preconnect" href="/" crossorigin="anonymous"/><link rel="preload" href="/_next/static/css/f49486d3b4c819d0.css" as="style"/><link rel="stylesheet" href="/_next/static/css/f49486d3b4c819d0.css" data-n-g=""/><link rel="preload" href="/_next/static/css/a3fdbf75d77eb323.css" as="style"/><link rel="stylesheet" href="/_next/static/css/a3fdbf75d77eb323.css" data-n-p=""/><link rel="preload" href="/_next/static/css/a23a4d5b8f64c49d.css" as="style"/><link rel="stylesheet" href="/_next/static/css/a23a4d5b8f64c49d.css" data-n-p=""/><link rel="preload" href="/_next/static/css/686380cdcb9bba8b.css" as="style"/><link rel="stylesheet" href="/_next/static/css/686380cdcb9bba8b.css" data-n-p=""/><link rel="preload" href="/_next/static/css/6fa5efbca95ceafa.css" as="style"/><link rel="stylesheet" href="/_next/static/css/6fa5efbca95ceafa.css" data-n-p=""/><link rel="preload" href="/_next/static/css/5939e59586e095e7.css" as="style"/><link rel="stylesheet" href="/_next/static/css/5939e59586e095e7.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-78c92fac7aa8fdd8.js"></script><script src="/_next/static/chunks/webpack-842277f4ad2b003f.js" defer=""></script><script src="/_next/static/chunks/framework-7063787c3be570d0.js" defer=""></script><script src="/_next/static/chunks/main-7bf85f85b965ad61.js" defer=""></script><script src="/_next/static/chunks/pages/_app-0a33c1c146a72462.js" defer=""></script><script src="/_next/static/chunks/7166-70084e7c41a66411.js" defer=""></script><script src="/_next/static/chunks/1395-1eb65df04043100c.js" defer=""></script><script src="/_next/static/chunks/2273-6dfd48e8418afcdf.js" defer=""></script><script src="/_next/static/chunks/5675-7108b5e9113ea2a3.js" defer=""></script><script src="/_next/static/chunks/2298-0bfeeb8538768036.js" defer=""></script><script src="/_next/static/chunks/4491-3e2af2e825fdeeca.js" defer=""></script><script src="/_next/static/chunks/9554-d740b5e666a16cc0.js" defer=""></script><script src="/_next/static/chunks/7427-61de0b9ecdc61a14.js" defer=""></script><script src="/_next/static/chunks/5261-c0c32f534b764eb3.js" defer=""></script><script src="/_next/static/chunks/6787-5406eb82ed1c8857.js" defer=""></script><script src="/_next/static/chunks/3786-bfb5477c5f7f7c76.js" defer=""></script><script src="/_next/static/chunks/5064-fcee060f06383f45.js" defer=""></script><script src="/_next/static/chunks/pages/%5BproductSlug%5D/integrations/%5BorganizationSlug%5D/%5BintegrationSlug%5D/%5BintegrationVersion%5D/components/%5BcomponentType%5D/%5BcomponentSlug%5D-5371b3a8c62f9aca.js" defer=""></script><script src="/_next/static/i1glH3PnGnj_dkPgEfQpe/_buildManifest.js" defer=""></script><script src="/_next/static/i1glH3PnGnj_dkPgEfQpe/_ssgManifest.js" defer=""></script></head><body><div id="__next"><div class="style_root__dZhZu"><a href="https://www.hashicorp.com/en/blog/hashicorp-officially-joins-the-ibm-family" class="style_linkElem__hCESK"><span class="style_textContainer__6CuI7 g-grid-container"><span class="style_tag__jbHGz g-type-body-small-x-strong">Acquisition complete<!-- --> </span><span class="style_text__rwS0u g-type-body-small">HashiCorp officially joins the IBM family.<span class="style_linkText__E8GJf g-type-body-small-x-strong"> <!-- -->Learn more</span></span></span></a><button class="style_closeButton__57J9w"><div><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 20 20"><path stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M15 5 5 15M5 5l10 10"/></svg></div><span style="position:absolute;border:0;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;word-wrap:normal">Dismiss alert</span></button></div><script type="text/javascript">
(function checkDismissAlertBanner() {
  try {
    if (document.cookie.includes('banner_hashicorp-officially-joins-the-ibm-family.=1')) {
      const element = document.querySelector('.style_root__dZhZu')
      element.classList.remove('style_isShown__D4mb6')
    }
  } catch (_) {
    // do nothing
  }
})()
</script><script>!function(){try{var d=document.documentElement,n='data-theme',s='setAttribute';var e=localStorage.getItem('theme');if('system'===e||(!e&&true)){var t='(prefers-color-scheme: dark)',m=window.matchMedia(t);if(m.media!==t||m.matches){d.style.colorScheme = 'dark';d[s](n,'dark')}else{d.style.colorScheme = 'light';d[s](n,'light')}}else if(e){d[s](n,e|| '')}if(e==='light'||e==='dark')d.style.colorScheme=e}catch(e){}}()</script><div class="core-dev-dot-layout_root__MT1PZ"><div class="base-layout_root___qiZs" data-layout="base-new"><div class="base-layout_header__XhkxS"><header class="navigation-header_root__oE_HT"><div class="navigation-header_leftSide__V0xlc"><div class="product-page-content_productsDropdown__haUyw"><nav aria-label="Main" data-orientation="horizontal" dir="ltr"><div class="dropdown-menu_root__Hwy5S"><div class="dropdown-menu_activatorWrapper__LxPRt"><button aria-controls="navigation-header-menu-react-aria-1" aria-expanded="false" aria-label="Main menu" class="dropdown-menu_activator__xXb00 g-focus-ring-from-box-shadow-dark product-page-content_productsDropdownButton__bnKKs"><span class="dropdown-menu_activatorLeadingIcon__YQQlH"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24" aria-hidden="true" class="product-page-content_productsDropdownIcon__gXtly"><g fill="currentColor"><path d="M10.336 1.5L2 6.268v11.456l3.131 1.793V8.061l5.205-2.979V1.5z"></path><path d="M13.664 1.5v9.123h-3.328V7.219L7.203 9.012V20.7l3.133 1.796V13.4h3.328v3.381l3.131-1.793V3.293L13.664 1.5z"></path><path d="M22 17.732L13.664 22.5v-3.582l5.203-2.98V4.484L22 6.276v11.456z"></path></g></svg></span><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="dropdown-menu_activatorTrailingIcon__r_cCd"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></button></div><div class="dropdown-menu_dropdownContainer__AZWxN" id="navigation-header-menu-react-aria-1" style="display:none"><div class="style_root__z3EwE style_productPanel__Z4UFi style_hasSide__15FV8 style_hasSide__ecwjD"><div class="style_mainPanel__MpQn1"><div class="style_column__9is2G style_hasSide__A3F31"><ul class="style_productCategories__j1h4T"><li class="style_productCategory__9UHKG"><span class="hds-text hdsplus-typography-body-300 style_eyebrow__OCUlS">Infrastructure Lifecycle Management</span><ul class="style_productList__uPlTj"><li><a aria-label="Terraform - Manage infrastructure as code" class="style_focusIndicator__uTVwt" data-radix-collection-item="" href="/terraform"><div class="style_productWrapper__ACHaw"><div class="style_productLogo__cTxLO"><svg class="flight-icon flight-icon-terraform-fill flight-icon-display-inline style_terraform__nU44i" aria-hidden="true" fill="currentColor" id=":R9imld6j6:" width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-terraform-fill-16"></use></svg></div><div class="style_productTextContent__o8DJ6"><span>Terraform</span><span class="style_productDesc__bi44f">Manage infrastructure as code</span></div></div></a></li><li><a aria-label="Packer - Build machine images" class="style_focusIndicator__uTVwt" data-radix-collection-item="" href="/packer"><div class="style_productWrapper__ACHaw"><div class="style_productLogo__cTxLO"><svg class="flight-icon flight-icon-packer-fill-color flight-icon-display-inline" aria-hidden="true" fill="currentColor" id=":Raimld6j6:" width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-packer-fill-color-16"></use></svg></div><div class="style_productTextContent__o8DJ6"><span>Packer</span><span class="style_productDesc__bi44f">Build machine images</span></div></div></a></li><li><a aria-label="Nomad - Orchestrate workloads" class="style_focusIndicator__uTVwt" data-radix-collection-item="" href="/nomad"><div class="style_productWrapper__ACHaw"><div class="style_productLogo__cTxLO"><svg class="flight-icon flight-icon-nomad-fill-color flight-icon-display-inline" aria-hidden="true" fill="currentColor" id=":Rbimld6j6:" width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-nomad-fill-color-16"></use></svg></div><div class="style_productTextContent__o8DJ6"><span>Nomad</span><span class="style_productDesc__bi44f">Orchestrate workloads</span></div></div></a></li><li><a aria-label="Waypoint - Standardize application patterns" class="style_focusIndicator__uTVwt" data-radix-collection-item="" href="/waypoint"><div class="style_productWrapper__ACHaw"><div class="style_productLogo__cTxLO"><svg class="flight-icon flight-icon-waypoint-fill-color flight-icon-display-inline" aria-hidden="true" fill="currentColor" id=":Rcimld6j6:" width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-waypoint-fill-color-16"></use></svg></div><div class="style_productTextContent__o8DJ6"><span>Waypoint</span><span class="style_productDesc__bi44f">Standardize application patterns</span></div></div></a></li><li><a aria-label="Vagrant - Build developer environments" class="style_focusIndicator__uTVwt" data-radix-collection-item="" href="/vagrant"><div class="style_productWrapper__ACHaw"><div class="style_productLogo__cTxLO"><svg class="flight-icon flight-icon-vagrant-fill-color flight-icon-display-inline" aria-hidden="true" fill="currentColor" id=":Rdimld6j6:" width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-vagrant-fill-color-16"></use></svg></div><div class="style_productTextContent__o8DJ6"><span>Vagrant</span><span class="style_productDesc__bi44f">Build developer environments</span></div></div></a></li></ul></li><li class="style_productCategory__9UHKG"><span class="hds-text hdsplus-typography-body-300 style_eyebrow__OCUlS">Security Lifecycle Management</span><ul class="style_productList__uPlTj"><li><a aria-label="Vault - Centrally manage secrets" class="style_focusIndicator__uTVwt" data-radix-collection-item="" href="/vault"><div class="style_productWrapper__ACHaw"><div class="style_productLogo__cTxLO"><svg class="flight-icon flight-icon-vault-fill-color flight-icon-display-inline" aria-hidden="true" fill="currentColor" id=":R9kmld6j6:" width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-vault-fill-color-16"></use></svg></div><div class="style_productTextContent__o8DJ6"><span>Vault</span><span class="style_productDesc__bi44f">Centrally manage secrets</span></div></div></a></li><li><a aria-label="Boundary - Secure remote access" class="style_focusIndicator__uTVwt" data-radix-collection-item="" href="/boundary"><div class="style_productWrapper__ACHaw"><div class="style_productLogo__cTxLO"><svg class="flight-icon flight-icon-boundary-fill-color flight-icon-display-inline" aria-hidden="true" fill="currentColor" id=":Rakmld6j6:" width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-boundary-fill-color-16"></use></svg></div><div class="style_productTextContent__o8DJ6"><span>Boundary</span><span class="style_productDesc__bi44f">Secure remote access</span></div></div></a></li><li><a aria-label="HCP Vault Secrets - Manage secrets as a service" class="style_focusIndicator__uTVwt" data-radix-collection-item="" href="/hcp/docs/vault-secrets"><div class="style_productWrapper__ACHaw"><div class="style_productLogo__cTxLO"><svg class="flight-icon flight-icon-vault-secrets flight-icon-display-inline style_hcpVaultSecrets__11wgG" aria-hidden="true" fill="currentColor" id=":Rbkmld6j6:" width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-vault-secrets-16"></use></svg></div><div class="style_productTextContent__o8DJ6"><span>HCP Vault Secrets</span><span class="style_productDesc__bi44f">Manage secrets as a service</span></div></div></a></li><li><a aria-label="Consul - Secure network services" class="style_focusIndicator__uTVwt" data-radix-collection-item="" href="/consul"><div class="style_productWrapper__ACHaw"><div class="style_productLogo__cTxLO"><svg class="flight-icon flight-icon-consul-fill-color flight-icon-display-inline" aria-hidden="true" fill="currentColor" id=":Rckmld6j6:" width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-consul-fill-color-16"></use></svg></div><div class="style_productTextContent__o8DJ6"><span>Consul</span><span class="style_productDesc__bi44f">Secure network services</span></div></div></a></li><li><a aria-label="HCP Vault Radar - Scan for embedded secrets" class="style_focusIndicator__uTVwt" data-radix-collection-item="" href="/hcp/docs/vault-radar"><div class="style_productWrapper__ACHaw"><div class="style_productLogo__cTxLO"><svg class="flight-icon flight-icon-vault-radar flight-icon-display-inline style_hcpVaultRadar__nukMV" aria-hidden="true" fill="currentColor" id=":Rdkmld6j6:" width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-vault-radar-16"></use></svg></div><div class="style_productTextContent__o8DJ6"><span>HCP Vault Radar</span><span class="style_productDesc__bi44f">Scan for embedded secrets</span></div></div></a></li></ul></li></ul></div><div class="style_promo__e6yXp style_hasSide__635Xt"><div class="style_icon__rYEcI"><svg class="flight-icon flight-icon-hashicorp flight-icon-display-inline" aria-hidden="true" fill="currentColor" id=":R36ld6j6:" width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-hashicorp-16"></use></svg></div><div class="style_rightContent__zvciM"><div><div class="style_title__eEtAF">HashiCorp Cloud Platform</div><div class="style_description__ATQzz">Get started in minutes with our cloud products</div></div><a class="style_link__U4Sfy" data-radix-collection-item="" href="/hcp">All HCP Products<svg class="flight-icon flight-icon-external-link flight-icon-display-inline" aria-hidden="true" fill="currentColor" id=":R2l6ld6j6:" width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-external-link-16"></use></svg></a></div></div></div><div class="style_column__9is2G style_sidePanel__qxYNB"><span class="hds-text hdsplus-typography-body-200 hds-font-weight-semibold">Learn</span><ul class="style_sidePanelItems__i8_HV"><li><a aria-label="Certifications - Get HashiCorp certified" class="style_sidePanelItem__j0j0G style_focusIndicator__uTVwt" href="/certifications"><div class="style_iconBackground__fn5_s"><svg class="flight-icon flight-icon-award flight-icon-display-inline" aria-hidden="true" fill="var(--token-color-foreground-faint)" id=":Rjald6j6:" width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-award-16"></use></svg></div><div class="style_sidePanelItemContent__xFcSA"><span class="hds-text hdsplus-typography-body-200 hds-font-weight-semibold">Certifications</span><span class="style_sidePanelItemDesc__UrOLh">Get HashiCorp certified</span></div></a></li><li><a aria-label="Tutorials - Learn HashiCorp products" class="style_sidePanelItem__j0j0G style_focusIndicator__uTVwt" href="/tutorials"><div class="style_iconBackground__fn5_s"><svg class="flight-icon flight-icon-learn flight-icon-display-inline" aria-hidden="true" fill="var(--token-color-foreground-faint)" id=":Rlald6j6:" width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-learn-16"></use></svg></div><div class="style_sidePanelItemContent__xFcSA"><span class="hds-text hdsplus-typography-body-200 hds-font-weight-semibold">Tutorials</span><span class="style_sidePanelItemDesc__UrOLh">Learn HashiCorp products</span></div></a></li><li><a aria-label="Validated Patterns - Field-tested patterns for using HashiCorp products" class="style_sidePanelItem__j0j0G style_focusIndicator__uTVwt" href="/validated-patterns"><div class="style_iconBackground__fn5_s"><svg class="flight-icon flight-icon-check-circle flight-icon-display-inline" aria-hidden="true" fill="var(--token-color-foreground-faint)" id=":Rnald6j6:" width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-check-circle-16"></use></svg></div><div class="style_sidePanelItemContent__xFcSA"><span class="hds-text hdsplus-typography-body-200 hds-font-weight-semibold">Validated Patterns</span><span class="style_sidePanelItemDesc__UrOLh">Field-tested patterns for using HashiCorp products</span></div></a></li><li><a aria-label="Well-Architected Framework - Adopt HashiCorp best practices" class="style_sidePanelItem__j0j0G style_focusIndicator__uTVwt" href="/well-architected-framework"><div class="style_iconBackground__fn5_s"><svg class="flight-icon flight-icon-layers flight-icon-display-inline" aria-hidden="true" fill="var(--token-color-foreground-faint)" id=":Rpald6j6:" width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-layers-16"></use></svg></div><div class="style_sidePanelItemContent__xFcSA"><span class="hds-text hdsplus-typography-body-200 hds-font-weight-semibold">Well-Architected Framework</span><span class="style_sidePanelItemDesc__UrOLh">Adopt HashiCorp best practices</span></div></a></li></ul></div></div></div></div></nav></div><div class="product-page-content_productLinkAndNav__YTzcr"><a aria-label="Packer home" class="product-icon-text-link_root__bNTSz g-focus-ring-from-box-shadow-dark" href="/packer"><div class="product-icon-text-lockup_root__358wV"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="product-icon-text-lockup_icon__Zp_5o"><g fill="var(--token-color-packer-brand)"><path d="M5.163 0l5.762 3.247c1.138.646 2.074 2.085 2.075 3.2v4.963c0 1.123-.933 1.502-2.074.858L9.083 11.23V4.469l-3.92-2.216V0z"></path><path d="M8.3 4.953L3 1.956v11.047L8.3 16V4.953z"></path></g></svg><span class="product-icon-text-lockup_text__nHTL7 hds-typography-body-200">Packer</span></div></a><nav aria-label="Main" data-orientation="horizontal" dir="ltr" class="nav-bar-list-container_nav__C_i0_"><div style="position:relative"><ul data-orientation="horizontal" class="nav-bar-list-container_ul___04HI" dir="ltr"><li><a aria-label="Packer Install" class="primary-nav-link_root__RXZIC g-focus-ring-from-box-shadow-dark" href="/packer/install"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-medium primary-nav-link_linkText__58O0C">Install</span></a></li><li><a aria-label="Packer Tutorials" class="primary-nav-link_root__RXZIC g-focus-ring-from-box-shadow-dark" href="/packer/tutorials"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-medium primary-nav-link_linkText__58O0C">Tutorials</span></a></li><li><a aria-label="Packer Documentation" class="primary-nav-link_root__RXZIC g-focus-ring-from-box-shadow-dark" href="/packer/docs"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-medium primary-nav-link_linkText__58O0C">Documentation</span></a></li><li><a aria-label="Packer Guides" class="primary-nav-link_root__RXZIC g-focus-ring-from-box-shadow-dark" href="/packer/guides"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-medium primary-nav-link_linkText__58O0C">Guides</span></a></li><li><a aria-label="Packer Integrations" class="primary-nav-link_root__RXZIC g-focus-ring-from-box-shadow-dark" href="/packer/integrations"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-medium primary-nav-link_linkText__58O0C">Integrations</span></a></li><li><a aria-label="Packer Try Cloud" class="primary-nav-link_root__RXZIC g-focus-ring-from-box-shadow-dark" aria-describedby="opens-in-new-tab-label-react-aria-8" target="_blank" href="https://portal.cloud.hashicorp.com/sign-up"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-medium primary-nav-link_linkText__58O0C">Try Cloud</span><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><g fill="currentColor"><path d="M9 .75A.75.75 0 019.75 0h4.5c.206 0 .393.083.529.218l.001.002.002.001A.748.748 0 0115 .75v4.5a.75.75 0 01-1.5 0V2.56L7.28 8.78a.75.75 0 01-1.06-1.06l6.22-6.22H9.75A.75.75 0 019 .75z"></path><path d="M3.25 3.5a.75.75 0 00-.75.75v7.5c0 .414.336.75.75.75h7.5a.75.75 0 00.75-.75v-4a.75.75 0 011.5 0v4A2.25 2.25 0 0110.75 14h-7.5A2.25 2.25 0 011 11.75v-7.5A2.25 2.25 0 013.25 2h4a.75.75 0 010 1.5h-4z"></path></g></svg></a><span class="g-screen-reader-only" id="opens-in-new-tab-label-react-aria-8">(opens in new tab)</span></li></ul></div></nav></div></div><div class="navigation-header_rightSide___Vvh_"><button aria-label="Search" class="command-bar-activator_root__qgVMy g-focus-ring-from-box-shadow-dark"><span class="command-bar-activator_left__ATQTg"><span class="command-bar-activator_leadingIcon__jECP5"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M6.344.969a5.375 5.375 0 103.233 9.669l4.174 4.174a.75.75 0 001.06-1.061l-4.173-4.174A5.375 5.375 0 006.344.97zM2.469 6.344a3.875 3.875 0 117.75 0 3.875 3.875 0 01-7.75 0z" clip-rule="evenodd"></path></svg></span><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular command-bar-activator_text__pTZN_">Search</span></span><span class="command-bar-activator_right__XejfJ"><span class="g-screen-reader-only">Command or control key</span><span aria-hidden="true" class="badge_root___Z7Nt badge_small__GI0Zk badge_filled-neutral-dark-mode__VC3Ba command-bar-activator_keyBadge__xnKpi"><div class="cmd-ctrl-icon_root___TToz"><svg xmlns="http://www.w3.org/2000/svg" width="41" height="11" fill="none" viewBox="0 0 41 11"><path fill="#fff" fill-rule="evenodd" d="M4.125 2.063V3h2.25v-.937a2.062 2.062 0 1 1 2.063 2.062H7.5v2.25h.938a2.062 2.062 0 1 1-2.063 2.063V7.5h-2.25v.938a2.062 2.062 0 1 1-2.062-2.063H3v-2.25h-.937a2.062 2.062 0 1 1 2.062-2.062m-2.062-.938a.937.937 0 1 0 0 1.875H3v-.937a.937.937 0 0 0-.937-.938M7.5 7.5v.938a.937.937 0 1 0 .938-.938zM6.375 6.375v-2.25h-2.25v2.25zM2.063 7.5H3v.938a.937.937 0 1 1-.937-.938M7.5 3h.938a.937.937 0 1 0-.938-.937z" clip-rule="evenodd"/><path fill="#fff" d="M15.09 10.5 18.085 0h-1.097L14 10.5zM26.387 5.308c-.183-1.445-1.263-2.534-3.05-2.534C21.264 2.774 20 4.247 20 6.61c0 2.41 1.27 3.89 3.344 3.89 1.76 0 2.86-1.034 3.043-2.5H25.02c-.184.808-.792 1.247-1.682 1.247-1.172 0-1.898-.994-1.898-2.637 0-1.61.72-2.583 1.898-2.583.942 0 1.518.555 1.681 1.281zM28.6 1.041v1.897h-1.133v1.178H28.6v4.281c0 1.432.622 2.007 2.186 2.007.275 0 .537-.034.766-.075V9.158c-.196.02-.32.034-.537.034-.7 0-1.008-.35-1.008-1.15V4.115h1.545V2.938h-1.545V1.041zM33.207 10.356h1.407V5.911c0-1.048.752-1.767 1.819-1.767.249 0 .667.048.785.082V2.842a3.372 3.372 0 0 0-.628-.054c-.93 0-1.721.527-1.924 1.26h-.105v-1.13h-1.354zM38.638 10.356h1.407V0h-1.407z"/></svg></div></span><span class="g-screen-reader-only">K key</span><span aria-hidden="true" class="badge_root___Z7Nt badge_small__GI0Zk badge_filled-neutral-dark-mode__VC3Ba command-bar-activator_keyBadge__xnKpi"><div class="k-icon_root__a_5pR"><svg xmlns="http://www.w3.org/2000/svg" width="8" height="10" fill="none" viewBox="0 0 8 10"><path fill="#fff" d="M1.512 9.84v-3l.986-1.147L5.445 9.84h1.704L3.46 4.745 6.857.84H5.244L1.61 5.094h-.098V.84H.15v9z"/></svg></div></span></span></button><div class="navigation-header_authenticationControls__EP1LY"><div class="disclosure_root__rcBaW dropdown-disclosure_root__pzZlN dropdown-disclosure_list-position--right__WP_Kj"><button aria-controls="disclosure-react-aria-9-content" aria-expanded="false" aria-label="User menu" class="disclosure_activator__pORI0 activator_root__pOfAQ dropdown-disclosure_activator__nGgNo navigation-header_userDropdownDisclosureActivator__RayIV g-focus-ring-from-box-shadow-dark activator_hasIcon__5HO6W g-focus-ring-from-box-shadow"><span class="activator_childrenWrapper__kaK0w"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24" aria-hidden="true"><g fill="currentColor"><path fill-rule="evenodd" d="M12 3a5 5 0 100 10 5 5 0 000-10zM8.5 8a3.5 3.5 0 117 0 3.5 3.5 0 01-7 0z" clip-rule="evenodd"></path><path d="M7.75 14.5A4.75 4.75 0 003 19.25v1a.75.75 0 001.5 0v-1A3.25 3.25 0 017.75 16h8.5a3.25 3.25 0 013.25 3.25v1a.75.75 0 001.5 0v-1a4.75 4.75 0 00-4.75-4.75h-8.5z"></path></g></svg></span><span class="activator_chevronWrapper__4_AVG"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></span></button><div class="disclosure_contentContainer__QQ4kt dropdown-disclosure_content__ZZRPG undefined" id="disclosure-react-aria-9-content"><ul class="dropdown-disclosure_list__urBXU"><li class="list-item_root__ZdUej"><button class="list-item_button__nXy5K g-focus-ring-from-box-shadow"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-medium">Sign in</span></button></li><li class="list-item_root__ZdUej"><a class="list-item_link__l6lDd g-focus-ring-from-box-shadow" href="/sign-up"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-medium">Sign up</span></a></li><li class="list-item_root__ZdUej"><hr class="list-item_separator__cBVLs"/></li><li class="list-item_root__ZdUej user-dropdown-switcher_listItem__Q_GIj hds-font-weight-medium"><label class="theme-switcher_label__7Boh2 hds-typography-body-200" for="react-aria-11">Theme</label></li></ul></div></div></div><button aria-label="Open navigation menu" class="navigation-header_mobileMenuButton__74S4w"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24" aria-hidden="true"><g fill="currentColor"><path d="M2 5.75A.75.75 0 012.75 5h18.5a.75.75 0 010 1.5H2.75A.75.75 0 012 5.75zM2 11.75a.75.75 0 01.75-.75h18.5a.75.75 0 010 1.5H2.75a.75.75 0 01-.75-.75zM2.75 17a.75.75 0 000 1.5h18.5a.75.75 0 000-1.5H2.75z"></path></g></svg></button></div></header></div><div class="base-layout_contentArea__BMvQn"><div class="sidebar-sidecar-layout_root__h5rD8 sidebar-sidecar-layout_mainWidth-wide__TwGq8"><div class="mobile-menu-container_root__fPUFu sidebar-sidecar-layout_sidebarContainer__4fcF8"><div class="sidebar-sidecar-layout_sidebarContentWrapper__ftn5q"><div class="sidebar-sidecar-layout_sidePadding__iwNw_"><div class="sidebar_sidebar___fTlC"><div class="sidebar_backToLinkWrapper__F6iLs"><div class="sidebar-back-to-link_root__z_Hj1"><a class="standalone-link_standaloneLink__ahuej g-focus-ring-from-box-shadow standalone-link_primary__ESNCA" href="/packer/integrations"><div class="standalone-link_standaloneLinkContents__4I2XN standalone-link_medium__J2yVM"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M10.795 3.235a.75.75 0 01-.03 1.06L6.842 8l3.923 3.705a.75.75 0 01-1.03 1.09l-4.5-4.25a.75.75 0 010-1.09l4.5-4.25a.75.75 0 011.06.03z" clip-rule="evenodd"></path></svg><span class="standalone-link_text__7GEyG">Packer Integrations</span></div></a></div></div><nav aria-labelledby="sidebar-label" class="sidebar_nav__IworY" id="sidebar-nav"><div><h2 class="sidebar-headings_root__tGfxC" id="sidebar-label"></h2></div><ul class="sidebar_navList__4Rg4g"><li><a class="sidebar-nav-highlight-item_root___pPhp g-focus-ring-from-box-shadow sidebar-nav-highlight-item_theme-packer__I5KHY" href="/packer/integrations/outscale/outscale"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="sidebar-nav-highlight-item_icon__G8JxG"><g fill="var(--token-color-packer-brand)"><path d="M5.163 0l5.762 3.247c1.138.646 2.074 2.085 2.075 3.2v4.963c0 1.123-.933 1.502-2.074.858L9.083 11.23V4.469l-3.92-2.216V0z"></path><path d="M8.3 4.953L3 1.956v11.047L8.3 16V4.953z"></path></g></svg><span class="sidebar-nav-highlight-item_text__VORFJ hds-typography-body-200">Outscale</span></a></li><li><button aria-controls="undefined-list" aria-expanded="true" class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" id="undefined-button"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Data Sources</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></div></button><ul id="undefined-list"><li><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" href="/packer/integrations/outscale/outscale/latest/components/data-source/omi"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Outscale OMI</span></a></li></ul></li><li><button aria-controls="undefined-list" aria-expanded="true" class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" id="undefined-button"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Builders</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></div></button><ul id="undefined-list"><li><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" href="/packer/integrations/outscale/outscale/latest/components/builder/bsuvolume"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Outscale BSU Volume</span></a></li><li><a aria-current="page" class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" href="/packer/integrations/outscale/outscale/latest/components/builder/chroot"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Outscale chroot</span></a></li><li><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" href="/packer/integrations/outscale/outscale/latest/components/builder/bsusurrogate"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Outscale BSU Surrogate</span></a></li><li><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" href="/packer/integrations/outscale/outscale/latest/components/builder/bsu"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Outscale BSU</span></a></li></ul></li></ul><hr class="sidebar-horizontal-rule_root__UY7oh"/><ul class="sidebar_navList__4Rg4g"><li><h3 class="sidebar-headings_root__tGfxC">Resources</h3></li><li><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" href="/tutorials/library?product=packer"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Tutorial Library</span></a></li><li><a aria-label="Community Forum. Opens in a new tab." class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" rel="noreferrer noopener" aria-describedby="opens-in-new-tab-label-react-aria-20" target="_blank" href="https://discuss.hashicorp.com/c/packer/23"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Community Forum</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><g fill="currentColor"><path d="M9 .75A.75.75 0 019.75 0h4.5c.206 0 .393.083.529.218l.001.002.002.001A.748.748 0 0115 .75v4.5a.75.75 0 01-1.5 0V2.56L7.28 8.78a.75.75 0 01-1.06-1.06l6.22-6.22H9.75A.75.75 0 019 .75z"></path><path d="M3.25 3.5a.75.75 0 00-.75.75v7.5c0 .414.336.75.75.75h7.5a.75.75 0 00.75-.75v-4a.75.75 0 011.5 0v4A2.25 2.25 0 0110.75 14h-7.5A2.25 2.25 0 011 11.75v-7.5A2.25 2.25 0 013.25 2h4a.75.75 0 010 1.5h-4z"></path></g></svg></div></a><span class="g-screen-reader-only" id="opens-in-new-tab-label-react-aria-20">(opens in new tab)</span></li><li><a aria-label="Support. Opens in a new tab." class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" rel="noreferrer noopener" aria-describedby="opens-in-new-tab-label-react-aria-21" target="_blank" href="https://www.hashicorp.com/customer-success"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Support</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><g fill="currentColor"><path d="M9 .75A.75.75 0 019.75 0h4.5c.206 0 .393.083.529.218l.001.002.002.001A.748.748 0 0115 .75v4.5a.75.75 0 01-1.5 0V2.56L7.28 8.78a.75.75 0 01-1.06-1.06l6.22-6.22H9.75A.75.75 0 019 .75z"></path><path d="M3.25 3.5a.75.75 0 00-.75.75v7.5c0 .414.336.75.75.75h7.5a.75.75 0 00.75-.75v-4a.75.75 0 011.5 0v4A2.25 2.25 0 0110.75 14h-7.5A2.25 2.25 0 011 11.75v-7.5A2.25 2.25 0 013.25 2h4a.75.75 0 010 1.5h-4z"></path></g></svg></div></a><span class="g-screen-reader-only" id="opens-in-new-tab-label-react-aria-21">(opens in new tab)</span></li><li><a aria-label="GitHub. Opens in a new tab." class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" rel="noreferrer noopener" aria-describedby="opens-in-new-tab-label-react-aria-22" target="_blank" href="https://github.com/hashicorp/packer"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">GitHub</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><g fill="currentColor"><path d="M9 .75A.75.75 0 019.75 0h4.5c.206 0 .393.083.529.218l.001.002.002.001A.748.748 0 0115 .75v4.5a.75.75 0 01-1.5 0V2.56L7.28 8.78a.75.75 0 01-1.06-1.06l6.22-6.22H9.75A.75.75 0 019 .75z"></path><path d="M3.25 3.5a.75.75 0 00-.75.75v7.5c0 .414.336.75.75.75h7.5a.75.75 0 00.75-.75v-4a.75.75 0 011.5 0v4A2.25 2.25 0 0110.75 14h-7.5A2.25 2.25 0 011 11.75v-7.5A2.25 2.25 0 013.25 2h4a.75.75 0 010 1.5h-4z"></path></g></svg></div></a><span class="g-screen-reader-only" id="opens-in-new-tab-label-react-aria-22">(opens in new tab)</span></li></ul></nav></div></div></div></div><div class="sidebar-sidecar-layout_contentWrapper__Z5BK4"><div class="sidebar-sidecar-layout_paddedAreaWrapper___S_Ff"><div class="sidebar-sidecar-layout_breadcrumbContainer__3uz7P"><div class="sidebar-sidecar-layout_breadcrumbMaxWidth__coOcu"><nav aria-label="Breadcrumb" class="breadcrumb-bar_root__wd_C5"><ol class="breadcrumb-bar_listRoot__8eupO"><li class="text_root__r0DFB hds-typography-body-100 hds-font-weight-medium breadcrumb-bar_listItem__2sevd"><a class="breadcrumb-bar_breadcrumbText__JvOrd g-focus-ring-from-box-shadow" href="/">Developer</a></li><li class="text_root__r0DFB hds-typography-body-100 hds-font-weight-medium breadcrumb-bar_listItem__2sevd"><a class="breadcrumb-bar_breadcrumbText__JvOrd g-focus-ring-from-box-shadow" href="/packer">Packer</a></li><li class="text_root__r0DFB hds-typography-body-100 hds-font-weight-medium breadcrumb-bar_listItem__2sevd"><a class="breadcrumb-bar_breadcrumbText__JvOrd g-focus-ring-from-box-shadow" href="/packer/integrations">Integrations</a></li><li class="text_root__r0DFB hds-typography-body-100 hds-font-weight-medium breadcrumb-bar_listItem__2sevd"><a class="breadcrumb-bar_breadcrumbText__JvOrd g-focus-ring-from-box-shadow" href="/packer/integrations/outscale/outscale">Outscale</a></li><li class="text_root__r0DFB hds-typography-body-100 hds-font-weight-medium breadcrumb-bar_listItem__2sevd"><a class="breadcrumb-bar_breadcrumbText__JvOrd g-focus-ring-from-box-shadow" href="/packer/integrations/outscale/outscale/v1.4.0">v1.4.0</a></li><li class="text_root__r0DFB hds-typography-body-100 hds-font-weight-medium breadcrumb-bar_listItem__2sevd"><span class="breadcrumb-bar_breadcrumbText__JvOrd g-focus-ring-from-box-shadow" aria-current="page">Outscale chroot</span></li></ol></nav></div></div><div class="sidebar-sidecar-layout_mainAndSidecar__UDm3Z"><main id="main" class="sidebar-sidecar-layout_main__0SN51"><div class="hds-surface-base card_root__RyqjV content-header-card_contentHeaderCard__SDMMP style_header__b3NdM"><div class="content-header-card_cardTop__GTpii"><span class="icon-tile_root__ShC0s icon-tile_size-large__NxGIv icon-tile_color-packer__LRaQF content-header-card_icon__A1Xna"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><g fill="var(--token-color-packer-brand)"><path d="M5.163 0l5.762 3.247c1.138.646 2.074 2.085 2.075 3.2v4.963c0 1.123-.933 1.502-2.074.858L9.083 11.23V4.469l-3.92-2.216V0z"></path><path d="M8.3 4.953L3 1.956v11.047L8.3 16V4.953z"></path></g></svg></span><div class="content-header-card_content__XPCtf"><div class="content-header-card_upper__PQsUG"><div class="disclosure_root__rcBaW dropdown-disclosure_root__pzZlN dropdown-disclosure_list-position--right__WP_Kj content-header-card_dropdown__Gt1Vp g-hide-on-desktop g-hide-on-tablet"><button aria-controls="disclosure-react-aria-28-content" aria-expanded="false" class="button_root__itF9E hds-font-weight-medium button_medium__Cm2eg button_secondary__m5f7i disclosure_activator__pORI0 activator_root__pOfAQ dropdown-disclosure_activator__nGgNo" type="button"><span>v1.4.0 (latest)</span><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="activator_chevronWrapper__4_AVG"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></button><div class="disclosure_contentContainer__QQ4kt dropdown-disclosure_content__ZZRPG undefined" id="disclosure-react-aria-28-content"><ul class="dropdown-disclosure_list__urBXU"><li class="list-item_root__ZdUej"><a class="list-item_link__l6lDd g-focus-ring-from-box-shadow" href="/packer/integrations/outscale/outscale/v1.3.0/components/builder/chroot"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-medium">v1.3.0</span></a></li><li class="list-item_root__ZdUej"><a class="list-item_link__l6lDd g-focus-ring-from-box-shadow" href="/packer/integrations/outscale/outscale/v1.2.0/components/builder/chroot"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-medium">v1.2.0</span></a></li><li class="list-item_root__ZdUej"><a class="list-item_link__l6lDd g-focus-ring-from-box-shadow" href="/packer/integrations/outscale/outscale/v1.1.5/components/builder/chroot"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-medium">v1.1.5</span></a></li><li class="list-item_root__ZdUej"><a class="list-item_link__l6lDd g-focus-ring-from-box-shadow" href="/packer/integrations/outscale/outscale/v1.1.4/components/builder/chroot"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-medium">v1.1.4</span></a></li><li class="list-item_root__ZdUej"><a class="list-item_link__l6lDd g-focus-ring-from-box-shadow" href="/packer/integrations/outscale/outscale/v1.1.3/components/builder/chroot"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-medium">v1.1.3</span></a></li></ul></div></div><div class="content-header-card_left__FSNcW"><div class="content-header-card_titleWrap__IAC6o"><span class="content-header-card_title__HGHfo hds-typography-display-300 from global, hds-font-weight-bold">Outscale</span><p class="text_root__r0DFB hds-typography-body-100 hds-font-weight-medium content-header-card_attribution__yKU4q">@outscale</p></div><p class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular content-header-card_description__M_DkB">Use Packer to create Outscale OMIs.</p></div><div class="disclosure_root__rcBaW dropdown-disclosure_root__pzZlN dropdown-disclosure_list-position--right__WP_Kj content-header-card_dropdown__Gt1Vp g-hide-on-mobile"><button aria-controls="disclosure-react-aria-34-content" aria-expanded="false" class="button_root__itF9E hds-font-weight-medium button_medium__Cm2eg button_secondary__m5f7i disclosure_activator__pORI0 activator_root__pOfAQ dropdown-disclosure_activator__nGgNo" type="button"><span>v1.4.0 (latest)</span><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="activator_chevronWrapper__4_AVG"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></button><div class="disclosure_contentContainer__QQ4kt dropdown-disclosure_content__ZZRPG undefined" id="disclosure-react-aria-34-content"><ul class="dropdown-disclosure_list__urBXU"><li class="list-item_root__ZdUej"><a class="list-item_link__l6lDd g-focus-ring-from-box-shadow" href="/packer/integrations/outscale/outscale/v1.3.0/components/builder/chroot"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-medium">v1.3.0</span></a></li><li class="list-item_root__ZdUej"><a class="list-item_link__l6lDd g-focus-ring-from-box-shadow" href="/packer/integrations/outscale/outscale/v1.2.0/components/builder/chroot"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-medium">v1.2.0</span></a></li><li class="list-item_root__ZdUej"><a class="list-item_link__l6lDd g-focus-ring-from-box-shadow" href="/packer/integrations/outscale/outscale/v1.1.5/components/builder/chroot"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-medium">v1.1.5</span></a></li><li class="list-item_root__ZdUej"><a class="list-item_link__l6lDd g-focus-ring-from-box-shadow" href="/packer/integrations/outscale/outscale/v1.1.4/components/builder/chroot"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-medium">v1.1.4</span></a></li><li class="list-item_root__ZdUej"><a class="list-item_link__l6lDd g-focus-ring-from-box-shadow" href="/packer/integrations/outscale/outscale/v1.1.3/components/builder/chroot"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-medium">v1.1.3</span></a></li></ul></div></div></div><div class="content-header-card_lower__ut_Dv"><ul class="badge-list_badgeList__l_z6s content-header-card_badgeList__I_FGK"><li class="badge-list_badge__mQSlF"><span data-state="tooltip-hidden" data-reach-tooltip-trigger=""><span class="g-screen-reader-only">Partner</span><span aria-hidden="true" class="badge_root___Z7Nt badge_small__GI0Zk badge_filled-neutral__NhUW0"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><g fill="currentColor"><path fill-rule="evenodd" d="M5 2.75a.75.75 0 00-.53.22l-.78.78H.75a.75.75 0 000 1.5H2v5a.75.75 0 01-.75.75h-.5a.75.75 0 000 1.5h.5a2.25 2.25 0 002.016-1.25h.557l3.063 1.531a2.25 2.25 0 002.254-.14l2.087-1.391h1.507a2.25 2.25 0 002.016 1.25h.5a.75.75 0 000-1.5h-.5a.75.75 0 01-.75-.75v-5h1.25a.75.75 0 000-1.5h-2.94l-.78-.78a.75.75 0 00-.53-.22H5zm-1 2.5h-.5v4.5H4a.75.75 0 01.335.08l3.222 1.61a.75.75 0 00.751-.047l1.652-1.101-.584-.876a.75.75 0 011.248-.832l.777 1.166H12.5v-4.5H12a.75.75 0 01-.53-.22l-.78-.78H8.81L7.065 5.997a.711.711 0 00.971 1.038l.971-.85a.75.75 0 11.988 1.13l-.971.85a2.211 2.211 0 01-3.02-3.229l.686-.686H5.311l-.78.78A.75.75 0 014 5.25z" clip-rule="evenodd"></path><path d="M1.25 9.625a.625.625 0 11-1.25 0 .625.625 0 011.25 0zM16 9.625a.625.625 0 11-1.25 0 .625.625 0 011.25 0z"></path></g></svg><span>Partner</span></span></span></li></ul><p class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular content-header-card_note__QTtmc">Updated 2 years ago</p></div></div></div><div class="content-header-card_cardBottom__ndKDE"><ul class="content-header-card_linksList__vaxQ3"><li class="content-header-card_link___8sUH"><a class="standalone-link_standaloneLink__ahuej g-focus-ring-from-box-shadow standalone-link_secondary__H0E0A" rel="noreferrer noopener" aria-describedby="opens-in-new-tab-label-react-aria-40" target="_blank" href="https://github.com/outscale/packer-plugin-outscale/tree/main/docs"><div class="standalone-link_standaloneLinkContents__4I2XN standalone-link_medium__J2yVM"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M8 1C4.133 1 1 4.13 1 7.993c0 3.09 2.006 5.71 4.787 6.635.35.064.478-.152.478-.337 0-.166-.006-.606-.01-1.19-1.947.423-2.357-.937-2.357-.937-.319-.808-.778-1.023-.778-1.023-.635-.434.048-.425.048-.425.703.05 1.073.72 1.073.72.624 1.07 1.638.76 2.037.582.063-.452.244-.76.444-.935-1.554-.176-3.188-.776-3.188-3.456 0-.763.273-1.388.72-1.876-.072-.177-.312-.888.07-1.85 0 0 .586-.189 1.924.716A6.711 6.711 0 018 4.381c.595.003 1.194.08 1.753.236 1.336-.905 1.923-.717 1.923-.717.382.963.142 1.674.07 1.85.448.49.72 1.114.72 1.877 0 2.686-1.638 3.278-3.197 3.45.251.216.475.643.475 1.296 0 .934-.009 1.688-.009 1.918 0 .187.127.404.482.336A6.996 6.996 0 0015 7.993 6.997 6.997 0 008 1z" clip-rule="evenodd"></path></svg><span class="standalone-link_text__7GEyG">GitHub</span></div></a><span class="g-screen-reader-only" id="opens-in-new-tab-label-react-aria-40">(opens in new tab)</span></li></ul></div></div><h1>Outscale chroot</h1><div class="style_integrationComponentView__dxO7C"><div class="style_mdxWrapper__6wQJC"><div class="dev-dot-content_root__UJDct hds-typography-body-300"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Type: <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">outscale-chroot</code>
Artifact BuilderId: <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">oapi.outscale.chroot</code></p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">The <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">outscale-chroot</code> Packer builder is able to create Outscale Machine Images (OMIs) backed by an
BSU volume as the root device. For more information on the difference between
instance storage and BSU-backed instances, see the <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="https://docs.outscale.com/en/userguide/Home.html">&quot;storage for the root
device&quot; section in the Outscale
documentation</a>.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">The difference between this builder and the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">outscale-bsu</code> builder is that this
builder is able to build an BSU-backed OMI without launching a new Outscale
VM. This can dramatically speed up OMI builds for organizations who need
the extra fast build.</p><div class="alert alert-warning g-type-body"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><strong>This is an advanced builder</strong> If you&#x27;re just getting started with
Packer, we recommend starting with the <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/docs/builder/outscale-bsu">outscale-bsu
builder</a>, which is much easier to use.</p></div><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">The builder does <em>not</em> manage OMIs. Once it creates an OMI and stores it in
your account, it is up to you to use, delete, etc., the OMI.</p><h2 class="hds-typography-display-500 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h2__9ZcX_" id="user-content-how-does-it-work"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h2__CA9g8" aria-label="How Does it Work permalink" href="/packer/integrations/outscale/outscale/latest/components/builder/chroot#how-does-it-work"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>How Does it Work?</h2><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">This builder works by creating a new BSU volume from an existing source OMI and
attaching it into an already-running Outscale VM. Once attached, a
<a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="https://en.wikipedia.org/wiki/Chroot">chroot</a> is used to provision the system
within that volume. After provisioning, the volume is detached, snapshotted,
and an OMI is made.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Using this process, minutes can be shaved off the OMI creation process because
a new Outscale VM doesn&#x27;t need to be launched.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">There are some restrictions, however. The host Outscale instance where the volume is
attached to must be a similar system (generally the same OS version, kernel
versions, etc.) as the OMI being built. Additionally, this process is much more
expensive because the Outscale VM must be kept running persistently in order
to build OMIs, whereas the other OMI builders start VMs on-demand to
build OMIs as needed.</p><h2 class="hds-typography-display-500 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h2__9ZcX_" id="user-content-configuration-reference"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h2__CA9g8" aria-label="Configuration Reference permalink" href="/packer/integrations/outscale/outscale/latest/components/builder/chroot#configuration-reference"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Configuration Reference</h2><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">There are many configuration options available for the builder. They are
segmented below into two categories: required and optional parameters. Within
each category, the available configuration keys are alphabetized.</p><h3 class="hds-typography-display-400 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h3__xmS_z" id="user-content-required:"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h3__SkrrS" aria-label="Required permalink" href="/packer/integrations/outscale/outscale/latest/components/builder/chroot#required:"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Required:</h3><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">access_key</code> (string) - The access key used to communicate with OUTSCALE. <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/docs/builder/outscale#authentication">Learn how to set this</a></p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">omi_name</code> (string) - The name of the resulting OMIS that will appear when managing OMIs in the Outscale console or via APIs. This must be unique. To help make this unique, use a function like <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">timestamp</code> (see <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/docs/templates/legacy_json_templates/engine">template engine</a> for more info).</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">secret_key</code> (string) - The secret key used to communicate with Outscale. <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/docs/builder/outscale#authentication">Learn how to set this</a></p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">source_omi</code> (string) - The initial OMI used as a base for the newly created machine. <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">source_omi_filter</code> may be used instead to populate this automatically.</p></li></ul><h3 class="hds-typography-display-400 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h3__xmS_z" id="user-content-optional:"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h3__SkrrS" aria-label="Optional permalink" href="/packer/integrations/outscale/outscale/latest/components/builder/chroot#optional:"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Optional:</h3><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">omi_description</code> (string) - The description to set for the resulting OMI(s).
By default this description is empty. This is a <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/docs/templates/legacy_json_templates/engine">template engine</a>,
see <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/packer/integrations/outscale/outscale/latest/components/builder/chroot#build-template-data">Build template data</a> for more information.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">omi_account_ids</code> (array of strings) - A list of account IDs that have access to launch the resulting OMI(s). By default no additional users other than the user creating the OMIS has permissions to launch it.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">product_codes</code> ([]string) - A list of product codes to associate with the OMI. By default no product codes are associated with the OMI.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">global_permission</code> (boolean) - This option is useful to make the OMI publicly accessible.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">omi_virtualization_type</code> (string) - The type of virtualization for the OMI you are building. This option must match the supported virtualization type of <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">source_omi</code>. Can be <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">paravirtual</code> or <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">hvm</code>.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">chroot_mounts</code> (array of array of strings) - This is a list of devices to
mount into the chroot environment. This configuration parameter requires
some additional documentation which is in the <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/packer/integrations/outscale/outscale/latest/components/builder/chroot#chroot-mounts">Chroot
Mounts</a> section. Please read that section for more
information on how to use this.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">command_wrapper</code> (string) - How to run shell commands. This defaults to
<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">{{.Command}}</code>. This may be useful to set if you want to set environmental
variables or perhaps run it with <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">sudo</code> or so on. This is a configuration
template where the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">.Command</code> variable is replaced with the command to be
run. Defaults to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">{{.Command}}</code>.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">copy_files</code> (array of strings) - Paths to files on the running Outscale
VM that will be copied into the chroot environment prior to
provisioning. Defaults to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">/etc/resolv.conf</code> so that DNS lookups work. Pass
an empty list to skip copying <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">/etc/resolv.conf</code>. You may need to do this
if you&#x27;re building an image that uses systemd.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">custom_endpoint_oapi</code> (string) - This option is useful if you use a cloud
provider whose API is compatible with Outscale OAPI. Specify another endpoint
like this <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">outscale.com/oapi/latest</code>.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">device_path</code> (string) - The path to the device where the root volume of
the source OMI will be attached. This defaults to &quot;&quot; (empty string), which
forces Packer to find an open device automatically.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">force_deregister</code> (boolean) - Force Packer to first deregister an existing
OMIS if one with the same name already exists. Default <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">false</code>.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">force_delete_snapshot</code> (boolean) - Force Packer to delete snapshots
associated with OMIs, which have been deregistered by <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">force_deregister</code>.
Default <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">false</code>.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">insecure_skip_tls_verify</code> (boolean) - This allows skipping TLS
verification of the OAPI endpoint. The default is <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">false</code>.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">from_scratch</code> (boolean) - Build a new volume instead of starting from an
existing OMI root volume snapshot. Default <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">false</code>. If <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">true</code>, <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">source_omi</code>
is no longer used and the following options become required:
<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">omi_virtualization_type</code>, <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">pre_mount_commands</code> and <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">root_volume_size</code>. The
below options are also required in this mode only:</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">omi_block_device_mappings</code> (array of block device mappings) - Add one or more <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="https://docs.outscale.com/en/userguide/Defining-Block-Device-Mappings.html">block device mappings</a> to the OMI. These will be attached when booting a new VM from your OMI. To add a block device during the Packer build see <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">launch_block_device_mappings</code> below. Your options here may vary depending on the type of VM you use. The block device mappings allow for the following configuration:</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">delete_on_vm_deletion</code> (boolean) - Indicates whether the BSU volume is deleted on VM termination. Default <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">false</code>. <strong>NOTE</strong>: If this value is not explicitly set to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">true</code> and volumes are not cleaned up by an alternative method, additional volumes will accumulate after every build.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">device_name</code> (string) - The device name exposed to the VM (for example, <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">/dev/sdh</code> or <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">xvdh</code>). Required for every device in the block device mapping.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">iops</code> (number) - The number of I/O operations per second (IOPS) that the volume supports. See the documentation on
<a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="https://docs.outscale.com/en/userguide/About-Volumes.html#_volume_types_and_iops">IOPs</a>
for more information</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">no_device</code> (boolean) - Suppresses the specified device included in the
block device mapping of the OMI</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">snapshot_id</code> (string) - The ID of the snapshot</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">virtual_name</code> (string) - The virtual device name. See the documentation on <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="https://docs.outscale.com/en/userguide/Defining-Block-Device-Mappings.html">Block Device Mapping</a> for more information</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">volume_size</code> (number) - The size of the volume, in GiB. Required if not specifying a <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">snapshot_id</code></p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">volume_type</code> (string) - The volume type. <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">gp2</code> for General Purpose (SSD) volumes, <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">io1</code> for Provisioned IOPS (SSD) volumes, and <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">standard</code> for Magnetic volumes</p></li></ul></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">root_device_name</code> (string) - The root device name. For example, <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">xvda</code>.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">mount_path</code> (string) - The path where the volume will be mounted. This is
where the chroot environment will be. This defaults to
<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">/mnt/packer-amazon-chroot-volumes/{{.Device}}</code>. This is a configuration
template where the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">.Device</code> variable is replaced with the name of the
device where the volume is attached.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">mount_partition</code> (string) - The partition number containing the /
partition. By default this is the first partition of the volume, (for
example, <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">xvdf1</code>) but you can designate the entire block device by setting
<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">&quot;mount_partition&quot;: &quot;0&quot;</code> in your config, which will mount <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">xvdf</code> instead.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">mount_options</code> (array of strings) - Options to supply the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">mount</code> command
when mounting devices. Each option will be prefixed with <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-o</code> and supplied
to the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">mount</code> command ran by Packer. Because this command is ran in a
shell, user discretion is advised. See <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="https://linux.die.net/man/8/mount">this manual page for the mount
command</a> for valid file
system specific options.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">nvme_device_path</code> (string) - When we call the mount command (by default
<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">mount -o device dir</code>), the string provided in <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">nvme_mount_path</code> will
replace <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">device</code> in that command. When this option is not set, <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">device</code> in
that command will be something like <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">/dev/sdf1</code>, mirroring the attached
device name. This assumption works for most instances but will fail with c5
and m5 instances. In order to use the chroot builder with c5 and m5
instances, you must manually set <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">nvme_device_path</code> and <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">device_path</code>.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">pre_mount_commands</code> (array of strings) - A series of commands to execute
after attaching the root volume and before mounting the chroot. This is not
required unless using <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">from_scratch</code>. If so, this should include any
partitioning and filesystem creation commands. The path to the device is
provided by <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">{{.Device}}</code>.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">post_mount_commands</code> (array of strings) - As <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">pre_mount_commands</code>, but the
commands are executed after mounting the root device and before the extra
mount and copy steps. The device and mount path are provided by
<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">{{.Device}}</code> and <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">{{.MountPath}}</code>.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">root_volume_size</code> (number) - The size of the root volume in GB for the
chroot environment and the resulting OMI. Default size is the snapshot size
of the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">source_omi</code> unless <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">from_scratch</code> is <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">true</code>, in which case this
field must be defined.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">root_volume_type</code> (string) - The type of BSU volume for the chroot
environment and resulting OMI. The default value is the type of the
<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">source_omi</code>, unless <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">from_scratch</code> is <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">true</code>, in which case the default
value is <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">gp2</code>. You can only specify <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">io1</code> if building based on top of a
<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">source_omi</code> which is also <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">io1</code>.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">root_volume_tags</code> (object of key/value strings) - Tags to apply to the
volumes that are <em>launched</em>. This is a <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/docs/templates/legacy_json_templates/engine">template
engine</a>, see <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/packer/integrations/outscale/outscale/latest/components/builder/chroot#build-template-data">Build template
data</a> for more information.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">skip_region_validation</code> (boolean) - Set to true if you want to skip
validation of the region configuration option. Default <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">false</code>.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">snapshot_tags</code> (object of key/value strings) - Tags to apply to snapshot.
They will override OMI tags if already applied to snapshot. This is a
<a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/docs/templates/legacy_json_templates/engine">template engine</a>, see <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/packer/integrations/outscale/outscale/latest/components/builder/chroot#build-template-data">Build template
data</a> for more information.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">source_omi_filter</code> (object) - Filters used to populate the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">source_omi</code> field.</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">filters</code> (map of strings) - filters used to select a <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">source_omi</code>.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">owners</code> (array of strings) - Filters the images by their owner. You may specify one or more Outscale account IDs, &quot;self&quot; (which will use the account whose credentials you are using to run Packer) or an Outscale owner alias. This option is required for security reasons.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Example:</p><div class="hds-code-block hds-code-block--theme-dark hds-code-block--is-standalone mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":Ren1uhdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">{</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-keyword)">  &quot;source_omi_filter&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">:</span><span style="color:var(--hds-code-block-color-token)"> {</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-keyword)">    &quot;filters&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">:</span><span style="color:var(--hds-code-block-color-token)"> {</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-keyword)">      &quot;virtualization-type&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">:</span><span style="color:var(--hds-code-block-color-string)"> &quot;hvm&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-keyword)">      &quot;image-name&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">:</span><span style="color:var(--hds-code-block-color-string)"> &quot;ubuntu/images/*ubuntu-xenial-16.04-amd64-server-*&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-keyword)">      &quot;root-device-type&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">:</span><span style="color:var(--hds-code-block-color-string)"> &quot;ebs&quot;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">    }</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-keyword)">    &quot;owners&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">:</span><span style="color:var(--hds-code-block-color-token)"> [</span><span style="color:var(--hds-code-block-color-string)">&quot;099720109477&quot;</span><span style="color:var(--hds-code-block-color-token)">]</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">  }</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">}</span></span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary-white hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":Ren1uhdal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":Rten1uhdal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">This selects an Ubuntu 16.04 HVM BSU OMIS from Canonical. NOTE:
This will fail unless <em>exactly</em> one OMIS is returned. In the above example,
<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">most_recent</code> will cause this to succeed by selecting the newest image.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">You may set this in place of <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">source_omi</code> or in conjunction with it. If you
set this in conjunction with <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">source_omi</code>, the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">source_omi</code> will be added
to the filter. The provided <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">source_omi</code> must meet all of the filtering
criteria provided in <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">source_omi_filter</code>; this pins the OMI returned by the
filter, but will cause Packer to fail if the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">source_omi</code> does not exist.</p></li></ul></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">tags</code> (object of key/value strings) - Tags applied to the OMI. This is a
<a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/docs/templates/legacy_json_templates/engine">template engine</a>, see <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/packer/integrations/outscale/outscale/latest/components/builder/chroot#build-template-data">Build template
data</a> for more information.</p></li></ul><h2 class="hds-typography-display-500 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h2__9ZcX_" id="user-content-basic-example"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h2__CA9g8" aria-label="Basic Example permalink" href="/packer/integrations/outscale/outscale/latest/components/builder/chroot#basic-example"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Basic Example</h2><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Here is a basic example. It is completely valid except for the access keys:</p><div class="hds-code-block hds-code-block--theme-dark hds-code-block--is-standalone mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":R2ahdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">{</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-keyword)">  &quot;type&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">:</span><span style="color:var(--hds-code-block-color-string)"> &quot;outscale-chroot&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-keyword)">  &quot;access_key&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">:</span><span style="color:var(--hds-code-block-color-string)"> &quot;YOUR KEY HERE&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-keyword)">  &quot;secret_key&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">:</span><span style="color:var(--hds-code-block-color-string)"> &quot;YOUR SECRET KEY HERE&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-keyword)">  &quot;source_omi&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">:</span><span style="color:var(--hds-code-block-color-string)"> &quot;ami-3e158364&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-keyword)">  &quot;omi_name&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">:</span><span style="color:var(--hds-code-block-color-string)"> &quot;packer-outscale-chroot {{timestamp}}&quot;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">}</span></span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary-white hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":R2ahdal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":R7aahdal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div><h2 class="hds-typography-display-500 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h2__9ZcX_" id="user-content-chroot-mounts"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h2__CA9g8" aria-label="Chroot Mounts permalink" href="/packer/integrations/outscale/outscale/latest/components/builder/chroot#chroot-mounts"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Chroot Mounts</h2><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">The <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">chroot_mounts</code> configuration can be used to mount specific devices within
the chroot. By default, the following additional mounts are added into the
chroot by Packer:</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">/proc</code> (proc)</li><li class="mdx-lists_listItem__nkqhg"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">/sys</code> (sysfs)</li><li class="mdx-lists_listItem__nkqhg"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">/dev</code> (bind to real <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">/dev</code>)</li><li class="mdx-lists_listItem__nkqhg"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">/dev/pts</code> (devpts)</li><li class="mdx-lists_listItem__nkqhg"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">/proc/sys/fs/binfmt_misc</code> (binfmt_misc)</li></ul><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">These default mounts are usually good enough for anyone and are sane defaults.
However, if you want to change or add the mount points, you may using the
<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">chroot_mounts</code> configuration. Here is an example configuration which only
mounts <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">/proc</code> and <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">/dev</code>:</p><div class="hds-code-block hds-code-block--theme-dark hds-code-block--is-standalone mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":R2uhdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">{</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-keyword)">  &quot;chroot_mounts&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">:</span><span style="color:var(--hds-code-block-color-token)"> [</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">    [</span><span style="color:var(--hds-code-block-color-string)">&quot;proc&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">,</span><span style="color:var(--hds-code-block-color-string)"> &quot;proc&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">,</span><span style="color:var(--hds-code-block-color-string)"> &quot;/proc&quot;</span><span style="color:var(--hds-code-block-color-token)">]</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">    [</span><span style="color:var(--hds-code-block-color-string)">&quot;bind&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">,</span><span style="color:var(--hds-code-block-color-string)"> &quot;/dev&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">,</span><span style="color:var(--hds-code-block-color-string)"> &quot;/dev&quot;</span><span style="color:var(--hds-code-block-color-token)">]</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">  ]</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">}</span></span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary-white hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":R2uhdal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":R7auhdal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">chroot_mounts</code> is a list of a 3-tuples of strings. The three components of the
3-tuple, in order, are:</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">The filesystem type. If this is &quot;bind&quot;, then Packer will properly bind the
filesystem to another mount point.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">The source device.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">The mount directory.</p></li></ul><h2 class="hds-typography-display-500 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h2__9ZcX_" id="user-content-parallelism"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h2__CA9g8" aria-label="Parallelism permalink" href="/packer/integrations/outscale/outscale/latest/components/builder/chroot#parallelism"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Parallelism</h2><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">A quick note on parallelism: it is perfectly safe to run multiple <em>separate</em>
Packer processes with the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">outscale-chroot</code> builder on the same Outscale VM. In
fact, this is recommended as a way to push the most performance out of your OMI
builds.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Packer properly obtains a process lock for the parallelism-sensitive parts of
its internals such as finding an available device.</p><h2 class="hds-typography-display-500 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h2__9ZcX_" id="user-content-gotchas"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h2__CA9g8" aria-label="Gotchas permalink" href="/packer/integrations/outscale/outscale/latest/components/builder/chroot#gotchas"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Gotchas</h2><h3 class="hds-typography-display-400 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h3__xmS_z" id="user-content-unmounting-the-filesystem"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h3__SkrrS" aria-label="Unmounting the Filesystem permalink" href="/packer/integrations/outscale/outscale/latest/components/builder/chroot#unmounting-the-filesystem"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Unmounting the Filesystem</h3><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">One of the difficulties with using the chroot builder is that your provisioning
scripts must not leave any processes running or packer will be unable to
unmount the filesystem.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">For debian based distributions you can setup a
<a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="http://people.debian.org/~hmh/invokerc.d-policyrc.d-specification.txt">policy-rc.d</a>
file which will prevent packages installed by your provisioners from starting
services:</p><div class="hds-code-block hds-code-block--theme-dark hds-code-block--is-standalone mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":R46hdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">({</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-keyword)">  &quot;type&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">:</span><span style="color:var(--hds-code-block-color-string)"> &quot;shell&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-keyword)">  &quot;inline&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">:</span><span style="color:var(--hds-code-block-color-token)"> [</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-string)">    &quot;echo &#x27;#!/bin/sh&#x27; &gt; /usr/sbin/policy-rc.d&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-string)">    &quot;echo &#x27;exit 101&#x27; &gt;&gt; /usr/sbin/policy-rc.d&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-string)">    &quot;chmod a+x /usr/sbin/policy-rc.d&quot;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">  ]</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">},</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">{</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-keyword)">  &quot;type&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">:</span><span style="color:var(--hds-code-block-color-string)"> &quot;shell&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-keyword)">  &quot;inline&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">:</span><span style="color:var(--hds-code-block-color-token)"> [</span><span style="color:var(--hds-code-block-color-string)">&quot;rm -f /usr/sbin/policy-rc.d&quot;</span><span style="color:var(--hds-code-block-color-token)">]</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">})</span></span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary-white hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":R46hdal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":R7c6hdal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div><h3 class="hds-typography-display-400 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h3__xmS_z" id="user-content-ansible-provisioner"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h3__SkrrS" aria-label="Ansible provisioner permalink" href="/packer/integrations/outscale/outscale/latest/components/builder/chroot#ansible-provisioner"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Ansible provisioner</h3><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Running <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ansible</code> against <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">outscale-chroot</code> requires changing the Ansible connection
to chroot and running Ansible as root/sudo.</p><h2 class="hds-typography-display-500 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h2__9ZcX_" id="user-content-building-from-scratch"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h2__CA9g8" aria-label="Building From Scratch permalink" href="/packer/integrations/outscale/outscale/latest/components/builder/chroot#building-from-scratch"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Building From Scratch</h2><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">This example demonstrates the essentials of building an image from scratch. A
15G gp2 (SSD) device is created (overriding the default of standard/magnetic).
The device setup commands partition the device with one partition for use as an
HVM image and format it ext4. This builder block should be followed by
provisioning commands to install the os and bootloader.</p><div class="hds-code-block hds-code-block--theme-dark hds-code-block--is-standalone mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":R4qhdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">{</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-keyword)">  &quot;type&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">:</span><span style="color:var(--hds-code-block-color-string)"> &quot;outscale-chroot&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-keyword)">  &quot;ami_name&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">:</span><span style="color:var(--hds-code-block-color-string)"> &quot;packer-from-scratch {{timestamp}}&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-keyword)">  &quot;from_scratch&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">:</span><span style="color:var(--hds-code-block-color-constant)"> true</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-keyword)">  &quot;ami_virtualization_type&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">:</span><span style="color:var(--hds-code-block-color-string)"> &quot;hvm&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-keyword)">  &quot;pre_mount_commands&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">:</span><span style="color:var(--hds-code-block-color-token)"> [</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-string)">    &quot;parted {{.Device}} mklabel msdos mkpart primary 1M 100% set 1 boot on print&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-string)">    &quot;mkfs.ext4 {{.Device}}1&quot;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">  ]</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-keyword)">  &quot;root_volume_size&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">:</span><span style="color:var(--hds-code-block-color-constant)"> 15</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-keyword)">  &quot;root_device_name&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">:</span><span style="color:var(--hds-code-block-color-string)"> &quot;xvdf&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-keyword)">  &quot;ami_block_device_mappings&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">:</span><span style="color:var(--hds-code-block-color-token)"> [</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">    {</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-keyword)">      &quot;device_name&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">:</span><span style="color:var(--hds-code-block-color-string)"> &quot;xvdf&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-keyword)">      &quot;delete_on_termination&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">:</span><span style="color:var(--hds-code-block-color-constant)"> true</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-keyword)">      &quot;volume_type&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">:</span><span style="color:var(--hds-code-block-color-string)"> &quot;gp2&quot;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">    }</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">  ]</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">}</span></span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary-white hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":R4qhdal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":R7cqhdal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div><h2 class="hds-typography-display-500 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h2__9ZcX_" id="user-content-build-template-data"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h2__CA9g8" aria-label="Build template data permalink" href="/packer/integrations/outscale/outscale/latest/components/builder/chroot#build-template-data"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Build template data</h2><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">In configuration directives marked as a template engine above, the following
variables are available:</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">BuildRegion</code> - The region (for example <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">eu-west-2</code>) where Packer is building the OMI.</li><li class="mdx-lists_listItem__nkqhg"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">SourceOMI</code> - The source OMIS ID (for example <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ami-a2412fcd</code>) used to build the OMI.</li><li class="mdx-lists_listItem__nkqhg"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">SourceOMIName</code> - The source OMIS Name (for example <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ubuntu-390</code>) used to build the OMI.</li><li class="mdx-lists_listItem__nkqhg"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">SourceOMITags</code> - The source OMIS Tags, as a <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">map[string]string</code> object</li></ul></div></div></div></main><div class="sidebar-sidecar-layout_sidecarPosition__WtTq0"><div class="sidebar-sidecar-layout_sidecarTopSlot__qRAEI"></div><div class="sidecar-scroll-container_root__a8nIj"><div class="sidecar-scroll-container_scrollContainer__Dw9id"><div><nav aria-labelledby="react-aria-61"><p id="react-aria-61" class="outline-nav_navLabel__HrjQb hds-typography-body-100">On this page:</p><ol class="outline-nav_listRoot__Sm1fr"><li><a class="outline-link_root__S7fQg hds-typography-body-200 g-focus-ring-from-box-shadow" href="/packer/integrations/outscale/outscale/latest/components/builder/chroot#how-does-it-work">How Does it Work?</a></li><li><a class="outline-link_root__S7fQg hds-typography-body-200 g-focus-ring-from-box-shadow" href="/packer/integrations/outscale/outscale/latest/components/builder/chroot#configuration-reference">Configuration Reference</a></li><li><a class="outline-link_root__S7fQg hds-typography-body-200 g-focus-ring-from-box-shadow" href="/packer/integrations/outscale/outscale/latest/components/builder/chroot#required:">Required:</a></li><li><a class="outline-link_root__S7fQg hds-typography-body-200 g-focus-ring-from-box-shadow" href="/packer/integrations/outscale/outscale/latest/components/builder/chroot#optional:">Optional:</a></li><li><a class="outline-link_root__S7fQg hds-typography-body-200 g-focus-ring-from-box-shadow" href="/packer/integrations/outscale/outscale/latest/components/builder/chroot#basic-example">Basic Example</a></li><li><a class="outline-link_root__S7fQg hds-typography-body-200 g-focus-ring-from-box-shadow" href="/packer/integrations/outscale/outscale/latest/components/builder/chroot#chroot-mounts">Chroot Mounts</a></li><li><a class="outline-link_root__S7fQg hds-typography-body-200 g-focus-ring-from-box-shadow" href="/packer/integrations/outscale/outscale/latest/components/builder/chroot#parallelism">Parallelism</a></li><li><a class="outline-link_root__S7fQg hds-typography-body-200 g-focus-ring-from-box-shadow" href="/packer/integrations/outscale/outscale/latest/components/builder/chroot#gotchas">Gotchas</a></li><li><a class="outline-link_root__S7fQg hds-typography-body-200 g-focus-ring-from-box-shadow" href="/packer/integrations/outscale/outscale/latest/components/builder/chroot#unmounting-the-filesystem">Unmounting the Filesystem</a></li><li><a class="outline-link_root__S7fQg hds-typography-body-200 g-focus-ring-from-box-shadow" href="/packer/integrations/outscale/outscale/latest/components/builder/chroot#ansible-provisioner">Ansible provisioner</a></li><li><a class="outline-link_root__S7fQg hds-typography-body-200 g-focus-ring-from-box-shadow" href="/packer/integrations/outscale/outscale/latest/components/builder/chroot#building-from-scratch">Building From Scratch</a></li><li><a class="outline-link_root__S7fQg hds-typography-body-200 g-focus-ring-from-box-shadow" href="/packer/integrations/outscale/outscale/latest/components/builder/chroot#build-template-data">Build template data</a></li></ol></nav></div></div></div></div></div></div></div></div></div><div class="base-layout_footer__HGqK8 base-layout_showFooterTopBorder__4_CwH"><footer class="footer_root__qJO_k"><span class="footer_logoAndSwitcher__CJkN3"><a href="https://www.hashicorp.com/" aria-label="Go to HashiCorp home page" class="footer_logo__pe9i3 g-focus-ring-from-box-shadow"><div><svg xmlns="http://www.w3.org/2000/svg" width="266" height="65" fill="none" viewBox="0 0 266 65"><path fill="#000" d="M71.823 62.023c-.817 0-1.171-.519-1.253-1.174h-.081c-.3.874-1.09 1.365-2.097 1.365-1.524 0-2.423-.846-2.423-2.185 0-1.338.98-2.13 3.077-2.13h1.443v-.71c0-1.038-.572-1.584-1.716-1.584-1.143 0-1.443.41-1.851 1.093l-.68-.629c.38-.764 1.252-1.42 2.559-1.42 1.306 0 2.777.929 2.777 2.458v3.987h.816v.984h-.626zm-1.307-2.103v-1.202h-1.498c-1.28 0-1.85.383-1.85 1.093v.3c0 .71.57 1.12 1.442 1.12.871 0 1.906-.573 1.906-1.31M74.137 62.023v-7.265h1.116v1.175h.055c.354-.82.98-1.366 2.042-1.366 1.062 0 2.423 1.01 2.423 2.786v4.67h-1.117v-4.452c0-1.283-.571-1.966-1.633-1.966s-1.77.464-1.77 1.393v5.052h-1.116zM84.646 62.023v-.983h1.389v-7.866h-1.389v-.983h3.92v.983h-1.388v7.866h1.389v.983zM90.8 52.191h4.029c1.606 0 2.614 1.01 2.614 2.54s-.953 1.994-1.58 2.076v.082c.708.054 1.934.655 1.934 2.294 0 1.638-1.09 2.84-2.532 2.84h-4.466zm1.17 4.26h2.723c.925 0 1.497-.49 1.497-1.365v-.492c0-.873-.572-1.365-1.497-1.365H91.97zm0 4.534h2.913c1.008 0 1.634-.546 1.634-1.53v-.49c0-.984-.626-1.53-1.634-1.53H91.97v3.523zM100.056 52.191h1.579l2.805 5.298h.081l2.832-5.298h1.525v9.832h-1.144v-8.275h-.082l-.816 1.639-2.342 4.287-2.341-4.287-.817-1.64h-.082v8.276h-1.143v-9.832zM113.86 57.162c0-3.278 1.47-5.135 3.948-5.135 2.477 0 2.75.792 3.376 2.158l-.953.573c-.381-1.01-1.198-1.666-2.423-1.666s-2.696 1.339-2.696 3.36v1.474c0 2.021 1.008 3.25 2.696 3.25 1.688 0 2.096-.71 2.505-1.775l.953.601c-.627 1.393-1.825 2.24-3.431 2.24-2.478 0-3.948-1.748-3.948-5.026zM122.491 58.39c0-2.32 1.334-3.796 3.267-3.796 1.933 0 3.267 1.503 3.267 3.797 0 2.294-1.334 3.796-3.267 3.796-1.933 0-3.267-1.502-3.267-3.796m5.336.52v-1.038c0-1.53-.844-2.294-2.069-2.294s-2.069.737-2.069 2.294v1.038c0 1.53.844 2.294 2.069 2.294s2.069-.738 2.069-2.294M130.958 62.023v-7.265h1.116v1.175h.055c.327-.738.817-1.366 1.96-1.366 1.144 0 1.824.437 2.205 1.475h.028c.272-.792.98-1.475 2.205-1.475s2.369 1.01 2.369 2.786v4.67h-1.117v-4.452c0-1.283-.49-1.966-1.579-1.966s-1.688.464-1.688 1.393v5.052h-1.116V57.6c0-1.284-.49-1.967-1.552-1.967s-1.715.465-1.715 1.393v5.053h-1.116zM143.292 54.758h1.116v1.175h.054c.381-.929 1.117-1.366 2.124-1.366 1.824 0 2.94 1.475 2.94 3.796 0 2.322-1.143 3.797-2.94 3.797s-1.688-.465-2.124-1.366h-.054v3.987h-1.116V54.704zm5.036 4.26V57.79c0-1.284-.789-2.158-2.042-2.158-1.252 0-1.878.601-1.878 1.393v2.704c0 .956.844 1.475 1.878 1.475 1.035 0 2.042-.874 2.042-2.158zM156.768 62.023c-.816 0-1.17-.519-1.252-1.174h-.082c-.299.874-1.089 1.365-2.096 1.365-1.525 0-2.423-.846-2.423-2.185 0-1.338.98-2.13 3.076-2.13h1.443v-.71c0-1.038-.571-1.584-1.715-1.584-1.143 0-1.443.41-1.851 1.093l-.681-.629c.381-.764 1.253-1.42 2.559-1.42 1.307 0 2.777.929 2.777 2.458v3.987h.817v.984h-.626zm-1.334-2.103v-1.202h-1.497c-1.28 0-1.851.383-1.851 1.093v.3c0 .71.571 1.12 1.443 1.12.871 0 1.905-.573 1.905-1.31M159.056 62.023v-7.265h1.116v1.175h.054c.354-.82.98-1.366 2.042-1.366 1.062 0 2.423 1.01 2.423 2.786v4.67h-1.116v-4.452c0-1.283-.572-1.966-1.633-1.966-1.062 0-1.77.464-1.77 1.393v5.052h-1.116zM171.471 54.758h1.116l-3.24 8.958c-.327.874-.626 1.12-1.688 1.12h-.572v-.983h1.144l.544-1.557-2.722-7.538h1.116l1.742 4.944.327 1.174h.082l.381-1.174 1.742-4.944zM66.132 12.863h5.582v12.045H84.51V12.863h5.636V42.36H84.51V29.96H71.714v12.4h-5.582zM93.74 36.651c0-4.424 3.104-5.899 6.888-6.8l6.398-1.475v-.519c0-2.157-1.388-3.496-3.621-3.496-2.232 0-3.54 1.23-3.948 3.25l-4.791-.546c.707-4.042 4.11-6.664 8.957-6.664 4.846 0 8.821 3.387 8.821 8.303v8.63c0 .546.164.71.545.71h1.17v4.288h-3.267c-2.069 0-2.995-.683-2.995-2.349 0-1.666.082-1.092.3-1.857l-.463-.164c-1.525 3.277-3.73 4.725-6.888 4.725s-7.106-2.403-7.106-6.063zm8.549 2.103c2.777 0 4.737-2.02 4.737-5.216v-1.693l-4.574 1.092c-2.314.546-3.267 1.338-3.267 3.113 0 1.776 1.225 2.704 3.104 2.704M116.147 36.542l5.119-1.01c.544 2.266 2.341 3.413 4.737 3.413s3.73-.983 3.73-2.621c0-1.64-1.606-1.994-4.629-2.54-3.811-.601-8.766-1.311-8.766-6.61 0-5.298 3.403-6.8 8.957-6.8s8.74 2.076 9.611 6.227l-5.173.847c-.463-2.104-2.178-3.196-4.465-3.196s-3.649 1.065-3.649 2.485 1.634 1.994 4.656 2.54c3.785.601 8.74 1.311 8.74 6.61 0 5.298-3.376 6.964-9.039 6.964s-8.958-2.103-9.883-6.336zM143.836 42.387h-5.472V12.044h5.472v9.45c0 1.092-.218 2.157-.517 3.714l.517.164c1.307-3.114 3.267-4.943 6.943-4.943 3.675 0 7.133 2.95 7.133 7.974v13.984h-5.473v-13.82c0-2.458-1.225-3.796-3.648-3.796s-4.955 2.103-4.955 5.817zM169.129 36.924c0 .847.3 1.093.926 1.093h2.396v4.342h-4.955c-2.478 0-3.812-1.393-3.812-3.96V25.263h-3.022V20.92h8.494v16.004zm-6.207-21.74c0-1.856 1.524-3.386 3.321-3.386 1.797 0 3.322 1.53 3.322 3.387a3.305 3.305 0 0 1-3.322 3.332 3.305 3.305 0 0 1-3.321-3.332M174.248 27.639c0-8.85 5.799-15.24 14.185-15.24 8.385 0 11.897 4.097 13.177 9.64l-5.554 1.34c-1.062-3.879-3.621-6.064-7.651-6.064-4.029 0-8.358 4.26-8.358 10.324 0 6.063 3.376 10.323 8.576 10.323 5.2 0 6.643-2.24 7.705-6.363l5.255.6c-1.253 6.61-6.126 10.707-13.014 10.707-6.889 0-14.321-6.419-14.321-15.24zM203.87 31.626c0-6.527 4.574-11.197 10.918-11.197 6.343 0 10.917 4.67 10.917 11.197 0 6.527-4.574 11.252-10.917 11.252-6.344 0-10.918-4.725-10.918-11.252m16.39 0c0-4.042-2.151-6.746-5.472-6.746-3.322 0-5.473 2.704-5.473 6.746s2.178 6.8 5.473 6.8c3.294 0 5.472-2.703 5.472-6.8M229.163 20.92h5.037v.847c0 1.147-.055 2.075-.381 3.796l.517.137c.79-2.813 2.26-4.752 5.717-4.752h1.552v5.325h-2.232c-3.077 0-4.738 1.857-4.738 5.271v10.87h-5.472v-21.44zM244.165 20.92h5.39v.983c0 .984-.081 1.72-.381 3.469l.517.136c1.307-3.413 3.73-5.052 6.889-5.052 5.2 0 9.338 4.288 9.338 11.197 0 6.91-4.111 11.253-9.338 11.253-5.228 0-5.473-1.64-6.807-5.108l-.463.164c.245 1.694.327 2.485.327 3.414v9.64h-5.472zm16.308 10.706c0-4.178-2.26-6.746-5.472-6.746-3.213 0-5.473 2.568-5.473 6.746 0 4.179 2.26 6.8 5.473 6.8 3.212 0 5.472-2.567 5.472-6.8M21.781 0 0 12.618v30.26l8.168 4.725v-30.26L21.78 9.476z"/><path fill="#000" d="M30.466 0v24.116h-8.685v-9.013l-8.195 4.752v30.889l8.195 4.724V31.435h8.685v8.958l8.195-4.752V4.752z"/><path fill="#000" d="m30.466 55.496 21.781-12.618v-30.26l-8.195-4.725v30.26L30.466 46.02z"/></svg></div></a><span class="footer_themeSwitcher__CPJxw hds-font-weight-regular"><label class="theme-switcher_label__7Boh2 hds-typography-body-200" for="react-aria-74">Theme</label></span></span><ul class="footer_links__t81SU"><li><a class="footer_linkAction__bR3OW g-focus-ring-from-box-shadow" href="/certifications"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular">Certifications</span></a></li><li><a class="footer_linkAction__bR3OW g-focus-ring-from-box-shadow" href="https://status.hashicorp.com"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular">System Status</span></a></li><li><button class="footer_linkAction__bR3OW g-focus-ring-from-box-shadow"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular">Cookie Manager</span></button></li><li><a class="footer_linkAction__bR3OW g-focus-ring-from-box-shadow" href="https://www.hashicorp.com/terms-of-service"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular">Terms of Use</span></a></li><li><a class="footer_linkAction__bR3OW g-focus-ring-from-box-shadow" href="https://www.hashicorp.com/trust/security"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular">Security</span></a></li><li><a class="footer_linkAction__bR3OW g-focus-ring-from-box-shadow" href="https://www.hashicorp.com/privacy"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular">Privacy</span></a></li><li><a class="footer_linkAction__bR3OW g-focus-ring-from-box-shadow" href="https://www.hashicorp.com/trademark-policy"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular">Trademark Policy</span></a></li><li><a class="footer_linkAction__bR3OW g-focus-ring-from-box-shadow" href="https://www.hashicorp.com/trade-controls"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular">Trade Controls</span></a></li><li><a class="footer_linkAction__bR3OW g-focus-ring-from-box-shadow" href="https://www.hashicorp.com/trust/accessibility"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular">Accessibility</span></a></li><li><a class="footer_linkAction__bR3OW g-focus-ring-from-box-shadow" aria-describedby="opens-in-new-tab-label-react-aria-83" target="_blank" href="https://forms.gle/fnHLuNahLEhjuKvE6"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular">Give Feedback</span><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><g fill="currentColor"><path d="M9 .75A.75.75 0 019.75 0h4.5c.206 0 .393.083.529.218l.001.002.002.001A.748.748 0 0115 .75v4.5a.75.75 0 01-1.5 0V2.56L7.28 8.78a.75.75 0 01-1.06-1.06l6.22-6.22H9.75A.75.75 0 019 .75z"></path><path d="M3.25 3.5a.75.75 0 00-.75.75v7.5c0 .414.336.75.75.75h7.5a.75.75 0 00.75-.75v-4a.75.75 0 011.5 0v4A2.25 2.25 0 0110.75 14h-7.5A2.25 2.25 0 011 11.75v-7.5A2.25 2.25 0 013.25 2h4a.75.75 0 010 1.5h-4z"></path></g></svg></a><span class="g-screen-reader-only" id="opens-in-new-tab-label-react-aria-83">(opens in new tab)</span></li></ul></footer></div></div></div><div style="position:fixed;z-index:99;top:16px;left:16px;right:16px;bottom:16px;pointer-events:none;inset:24px"></div><!--$--><!--/$--></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"metadata":{"title":"Outscale Builder | Integrations"},"product":{"name":"Packer","slug":"packer","algoliaConfig":{"indexName":"product_PACKER","searchOnlyApiKey":"4e1ea7f4bf4335ac43d9f28463e42148"},"analyticsConfig":{"includedDomains":"packer.io www.packer.io","segmentWriteKey":"AjXdfmTTk1I9q9dfyePuDFHBrz1tCO3l"},"datoToken":"88b4984480dad56295a8aadae6caad","metadata":{"title":"Packer by HashiCorp","description":"Packer helps you create golden images for multiple platforms from a single source configuration.","image":"https://www.packer.io/packer-public/img/og-image.png","icon":[{"href":"/packer-public/_favicon.ico"}]},"alertBannerActive":true,"alertBanner":{"tag":"HashiDays","url":"https://hashicorp.com/conferences/hashidays","text":"One conference. Three cities.","linkText":"Find a city near you","expirationDate":"2024-06-14T00:00:00-08:00"},"version":"1.7.10","basePaths":["docs","guides","intro","downloads"],"rootDocsPaths":[{"iconName":"docs","name":"Documentation","path":"docs"},{"iconName":"guide","name":"Guides","path":"guides"}],"integrationsConfig":{"description":"A curated collection of official, partner, and community Packer Integrations."}},"integration":{"id":"b93b7d1a-6c1a-46ec-b6db-40700b26064b","slug":"outscale","name":"Outscale","description":"Use Packer to create Outscale OMIs.","license_type":null,"license_url":null,"external_only":false,"external_url":null,"tier":"partner","repo_url":"https://github.com/outscale/packer-plugin-outscale","subdirectory":"/.web-docs","created_at":"2024-02-01T19:12:59.518Z","updated_at":"2024-02-02T12:49:25.936Z","hide_versions":false,"organization":{"id":"95bc2628-31a8-4e24-b626-71c4040a238e","slug":"outscale","created_at":"2022-11-09T22:56:34.420Z","updated_at":"2022-11-09T22:56:34.420Z"},"product":{"id":"4c2b00c6-7cc1-4e4c-b596-4ab57e319f21","slug":"packer","name":"Packer","created_at":"2022-11-09T22:56:29.896Z","updated_at":"2022-11-09T22:56:29.896Z"},"versions":["1.4.0","1.3.0","1.2.0","1.1.5","1.1.4","1.1.3"],"components":[{"id":"4d1ac7a7-f708-453c-9663-16fa8b3e2e11","slug":"data-source","name":"Data Source","plural_name":"Data Sources"},{"id":"36076511-3ced-4faf-addf-101fce0405ff","slug":"builder","name":"Builder","plural_name":"Builders"},{"id":"36076511-3ced-4faf-addf-101fce0405ff","slug":"builder","name":"Builder","plural_name":"Builders"},{"id":"36076511-3ced-4faf-addf-101fce0405ff","slug":"builder","name":"Builder","plural_name":"Builders"},{"id":"36076511-3ced-4faf-addf-101fce0405ff","slug":"builder","name":"Builder","plural_name":"Builders"}],"flags":[],"integration_type":null},"activeRelease":{"id":"366af2f3-624d-4e27-a154-9571730b61e1","integration_id":"b93b7d1a-6c1a-46ec-b6db-40700b26064b","version":"1.4.0","readme":"\nThe Outscale Packer Plugin is able to create Outscale OMIs. To achieve this, the plugin comes with\nmultiple builders depending on the strategy you want to use to build the OMI.\nPacker supports the following builders at the moment:\n\n### Installation\n\nTo install this plugin, copy and paste this code into your Packer configuration, then run [`packer init`](https://www.packer.io/docs/commands/init).\n\n```hcl\npacker {\n  required_plugins {\n    outscale = {\n      version = \"~\u003e 1\"\n      source  = \"github.com/outscale/outscale\"\n    }\n  }\n}\n```\n\nAlternatively, you can use `packer plugins install` to manage installation of this plugin.\n\n```sh\n$ packer plugins install github.com/outscale/outscale\n```\n\n#### TLDR for Dev:\nyou can set environement variable PACKER_PLUGIN_PATH to outscale_packer_plugins directory.\n\nIf you do that, you can remove `required_plugins` from packer file.\n\n### Components\n\n#### Builders\n\n-\u003e **Don't know which builder to use?** If in doubt, use the [osc-bsu builder](/packer/integrations/outscale/outscale/latest/components/builder/bsu). It is much easier to use and Outscale generally recommends BSU-backed images nowadays.\n\n- [outscale-bsu](/packer/integrations/outscale/outscale/latest/components/builder/bsu) - Create BSU-backed OMIs by\n  launching a source OMI and re-packaging it into a new OMI after\n  provisioning. If in doubt, use this builder, which is the easiest to get\n  started with.\n- [outscale-chroot](/packer/integrations/outscale/outscale/latest/components/builder/chroot) - Create EBS-backed OMIs\n  from an existing OUTSCALE VM by mounting the root device and using a\n  [Chroot](https://en.wikipedia.org/wiki/Chroot) environment to provision\n  that device. This is an **advanced builder and should not be used by\n  newcomers**. However, it is also the fastest way to build an EBS-backed OMI\n  since no new OUTSCALE VM needs to be launched.\n- [outscale-bsusurrogate](/packer/integrations/outscale/outscale/latest/components/builder/bsusurrogate) - Create BSU-backed OMIs from scratch. Works similarly to the `chroot` builder but does\n  not require running in Outscale VM. This is an **advanced builder and should not be\n  used by newcomers**.\n- [outscale-bsuvolume](/packer/integrations/outscale/outscale/latest/components/builder/bsuvolume) - Create EBS volumes by launching a source OMI with block devices mapped. Provision the VM, then destroy it, retaining the EBS volumes.\n\n#### Data Sources\n- [outscale-omi](/packer/integrations/outscale/outscale/latest/components/data-source/omi) - The Outscale OMI Data source will filter and fetch an Outscale OMI.\n\n\n### Authentication\n\nThe OUTSCALE provider offers a flexible means of providing credentials for authentication. The following methods are supported, in this order, and explained below:\n\n- Static credentials\n- Environment variables\n- Shared credentials file\n- Outscale Role\n\n#### Static Credentials\n\nStatic credentials can be provided in the form of an access key id and secret.\nThese look like:\n\n```json\n{\n  \"access_key\": \"XXX_ACCESS_KEY_XXX\",\n  \"secret_key\": \"XXX_SECRET_KEY_XXX\",\n  \"region\": \"us-east-1\",\n  \"type\": \"outscale-bsu\",\n  \"custom_endpoint_oapi\": \"outscale.com/oapi/latest\"\n}\n```\n\n#### Environment variables\n\nYou can provide your credentials via the `OUTSCALE_ACCESSKEYID` and\n`OUTSCALE_SECRETKEYID`, environment variables, representing your Outscale Access\nKey and Outscale Secret Key, respectively. The `OUTSCALE_REGION` and\n`OUTSCALE_OAPI_URL` environment variables are also used, if applicable:\n\nUsage:\n\n    $ export OUTSCALE_ACCESSKEYID=\"XXX_ACCESS_KEY_XXX\"\n    $ export OUTSCALE_SECRETKEYID=\"XXX_SECRET_KEY_XXX\"\n    $ export OUTSCALE_REGION=\"eu-west-2\"\n    $ packer build template.pkr.hcl\n\n#### x509 Certificate Authentication\n\nOutscale API now supports x509 Client certificate authentication, in addition of traditional AK/SK HMAC based auth.\nThis adds an additional layer of security, especially desirable on SecNumCloud compliant regions (`cloudgouv-eu-west-1`).\n\nYou can set this certificates either by environment variables or by the static credentials inside the Packer configuration file.\n\n##### Environment variables\n\n```bash\nexport OUTSCALE_X509CERT=\"the/path/to/your/x509cert\"\nexport OUTSCALE_X509KEY=\"the/path/to/your/x509key\"\n```\n\n##### Static Credentials\n\n```json\n{\n  \"x509_cert_path\": \"the/path/to/your/x509cert\",\n  \"x509_key_path\": \"the/path/to/your/x509key\",\n  \"region\": \"cloudgouv-eu-west-1\",\n  \"type\": \"outscale-bsu\"\n}\n```\n\n#### Checking that system time is current\n\nOutscale uses the current time as part of the [request signing\nprocess](https://docs.outscale.com/en/userguide/About-Signatures-of-API-Requests.html). If\nyour system clock is too skewed from the current time, your requests might\nfail. If that's the case, you might see an error like this:\n\n    ==\u003e outscale-bsu: Error querying OMI: AuthFailure: OUTSCALE was not able to validate the provided access credentials\n\nIf you suspect your system's date is wrong, you can compare it against\n\u003chttps://www.time.gov/\u003e. On Linux/OS X, you can run the `date` command to get\nthe current time. If you're on Linux, you can try setting the time with ntp by\nrunning `sudo ntpd -q`.\n","created_at":"2025-01-30T14:55:37.426Z","updated_at":"2025-01-30T14:55:37.426Z","components":[{"id":"f90c5583-a5d0-4dc0-bd8d-9bea1a4a34e8","integration_release_id":"366af2f3-624d-4e27-a154-9571730b61e1","component_id":"4d1ac7a7-f708-453c-9663-16fa8b3e2e11","readme":"Type: `outscale-omi`\n\nThe Outscale OMI Data source will filter and fetch an Outscale OMI, and output all the OMI information that will\nbe then available to use in the [Outscale builders](https://developer.hashicorp.com/packer/plugins/builder/outscale).\n\n-\u003e **Note:** Data sources is a feature exclusively available to HCL2 templates.\n\nBasic example of usage:\n\n```hcl\ndata \"outscale-omi\" \"basic-example\" {\n    filters = {\n        virtualization-type = \"hvm\"\n        name = \"ubuntu/images/*ubuntu-xenial-16.04-amd64-server-*\"\n        root-device-type = \"ebs\"\n    }\n    owners = [\"099720109477\"]\n    most_recent = true\n}\n```\nThis selects the most recent Ubuntu 16.04 HVM EBS OMI from Canonical. Note that the data source will fail unless\n*exactly* one OMI is returned. In the above example, `most_recent` will cause this to succeed by selecting the newest image.\n","created_at":"2025-01-30T14:55:38.028Z","updated_at":"2025-01-30T14:55:38.028Z","name":"Outscale OMI","slug":"omi","component":{"id":"4d1ac7a7-f708-453c-9663-16fa8b3e2e11","slug":"data-source","name":"Data Source","plural_name":"Data Sources","product_id":"4c2b00c6-7cc1-4e4c-b596-4ab57e319f21","created_at":"2022-11-09T22:56:31.255Z","updated_at":"2022-11-09T22:56:31.255Z"},"variable_groups":[]},{"id":"ee7eebe8-cd24-459f-8b0b-04f061de9cef","integration_release_id":"366af2f3-624d-4e27-a154-9571730b61e1","component_id":"36076511-3ced-4faf-addf-101fce0405ff","readme":"Type: `outscale-bsuvolume`\nArtifact BuilderId: `oapi.outscale.bsuvolume`\n\nThe `outscale-bsuvolume` Packer builder is able to create Ouscale Block Stogate Unit\nvolumes which are prepopulated with filesystems or data.\n\nThis builder builds BSU volumes by launching an Outscale VM from a source OMI,\nprovisioning that running machine, and then destroying the source machine,\nkeeping the volumes intact.\n\nThis is all done in your own Outscale account. The builder will create temporary key\npairs, security group rules, etc. that provide it temporary access to the\ninstance while the image is being created.\n\nThe builder does _not_ manage BSU Volumes. Once it creates volumes and stores\nit in your account, it is up to you to use, delete, etc. the volumes.\n\n-\u003e **Note:** Temporary resources are, by default, all created with the\nprefix `packer`. This can be useful if you want to restrict the security groups\nand key pairs Packer is able to operate on.\n\n## Configuration Reference\n\nThere are many configuration options available for the builder. They are\nsegmented below into two categories: required and optional parameters. Within\neach category, the available configuration keys are alphabetized.\n\nIn addition to the options listed here, a\n[communicator](/docs/templates/legacy_json_templates/communicator) can be configured for this\nbuilder.\n\n### Required:\n\n- `access_key` (string) - The access key used to communicate with OUTSCALE. [Learn how to set this](/docs/builder/outscale#authentication)\n\n- `vm_type` (string) - The Outscale VM type to use while building the OMI, such as `t2.small`.\n\n- `region` (string) - The name of the region, such as `us-east-1`, in which to launch the Outscale VM to create the OMI.\n\n- `secret_key` (string) - The secret key used to communicate with Outscale. [Learn how to set this](/docs/builder/outscale#authentication)\n\n- `source_omi` (string) - The initial OMI used as a base for the newly created machine. `source_omi_filter` may be used instead to populate this automatically.\n\n### Optional:\n\n- `ebs_volumes` (array of block device mappings) - Add the block device\n  mappings to the OMI. The block device mappings allow for keys:\n\n  - `device_name` (string) - The device name exposed to the VM (for example, `/dev/sdh` or `xvdh`). Required for every device in the block device mapping.\n\n  - `delete_on_vm_deletion` (boolean) - Indicates whether the BSU volume is deleted on instance termination.\n  - `iops` (number) - The number of I/O operations per second (IOPS) that the volume supports. See the documentation on\n    [IOPs](https://docs.outscale.com/en/userguide/About-Volumes.html#_volume_types_and_iops)\n    for more information.\n\n  - `no_device` (boolean) - Suppresses the specified device included in the block device mapping of the OMI.\n\n  - `snapshot_id` (string) - The ID of the snapshot\n\n  - `virtual_name` (string) - The virtual device name. See the documentation on [Block Device Mapping](https://docs.outscale.com/en/userguide/Defining-Block-Device-Mappings.html) for more information\n\n  - `volume_size` (number) - The size of the volume, in GiB. Required if not specifying a `snapshot_id`\n\n  - `volume_type` (string) - The volume type. `gp2` for General Purpose (SSD) volumes, `io1` for Provisioned IOPS (SSD) volumes, and `standard` for Magnetic volumes\n\n  - `tags` (map) - Tags to apply to the volume. These are retained after\n    the builder completes. This is a [template\n    engine](/docs/templates/legacy_json_templates/engine), see [Build template\n    data](#build-template-data) for more information.\n\n- `associate_public_ip_address` (boolean) - If using a non-default Net, public IP addresses are not provided by default. If this is toggled, your new VM will get a Public IP.\n\n- `subregion_name` (string) - Destination subregion to launch VM in. Leave this empty to allow Outscale to auto-assign.\n\n- `custom_endpoint_oapi` (string) - This option is useful if you use a cloud\n  provider whose API is compatible with Outscale OAPI. Specify another endpoint\n  like this `outscale.com/oapi/latest`.\n\n- `disable_stop_vm` (boolean) - Packer normally stops the build\n  VM after all provisioners have run. For Windows VMs, it is\n  sometimes desirable to [run Sysprep](\u003chttps://docs.microsoft.com/en-us/previous-versions/windows/it-pro/windows-vista/cc721940(v=ws.10)\u003e) which will stop the VM for you. If this is set to `true`, Packer\n  _will not_ stop the VM but will assume that you will send the stop\n  signal yourself through your final provisioner. You can do this with a\n  [windows-shell provisioner](/docs/provisioner/windows-shell).\n\n  Note that Packer will still wait for the VM to be stopped, and\n  failing to send the stop signal yourself, when you have set this flag to\n  `true`, will cause a timeout.\n\n- `bsu_optimized` (boolean) - If true, the VM is created with optimized BSU I/O.\n\n- `insecure_skip_tls_verify` (boolean) - This allows skipping TLS\n  verification of the OAPI endpoint. The default is `false`.\n\n- `run_tags` (object of key/value strings) - Tags to apply to the instance\n  that is _launched_ to create the OMI. These tags are _not_ applied to the\n  resulting OMI unless they're duplicated in `tags`. This is a [template\n  engine](/docs/templates/legacy_json_templates/engine), see [Build template\n  data](#build-template-data) for more information.\n\n- `security_group_id` (string) - The ID (_not_ the name) of the security\n  group to assign to the VM. By default this is not set and Packer will\n  automatically create a new temporary security group to allow SSH access.\n  Note that if this is specified, you must be sure the security group allows\n  access to the `ssh_port` given below.\n\n- `security_group_ids` (array of strings) - A list of security groups as\n  described above. Note that if this is specified, you must omit the\n  `security_group_id`.\n\n- `shutdown_behavior` (string) - Automatically terminate instances on\n  shutdown in case Packer exits ungracefully. Possible values are `stop` and\n  `terminate`. Defaults to `stop`.\n\n- `shutdown_behavior` (string) - Automatically terminate VMs on\n  shutdown in case Packer exits ungracefully. Possible values are \"stop\" and\n  \"terminate\", default is `stop`.\n\n- `source_omi_filter` (object) - Filters used to populate the `source_omi` field.\n\n  - `filters` (map of strings) - filters used to select a `source_omi`.\n  - `owners` (array of strings) - Filters the images by their owner. You may specify one or more Outscale account IDs, \"self\" (which will use the account whose credentials you are using to run Packer), or an Outscale owner alias. This option is required for security reasons.\n\n    Example:\n\n    ```json\n    {\n      \"source_omi_filter\": {\n        \"filters\": {\n          \"virtualization-type\": \"hvm\",\n          \"image-name\": \"ubuntu/images/*ubuntu-xenial-16.04-amd64-server-*\",\n          \"root-device-type\": \"ebs\"\n        },\n        \"owners\": [\"099720109477\"]\n      }\n    }\n    ```\n\n    This selects an Ubuntu 16.04 HVM BSU OMIS from Canonical. NOTE:\n    This will fail unless _exactly_ one OMIS is returned. In the above example,\n    `most_recent` will cause this to succeed by selecting the newest image.\n\n- `ssh_keypair_name` (string) - If specified, this is the key that will be used for SSH with the machine. The key must match a key pair name loaded up into Outscale. By default, this is blank, and Packer will generate a temporary keypair unless [`ssh_password`](/docs/communicators/ssh#ssh_password) is used. [`ssh_private_key_file`](/docs/communicators/ssh#ssh_private_key_file) or `ssh_agent_auth` must be specified when `ssh_keypair_name` is utilized.\n\n- `ssh_interface` (string) - One of `public_ip`, `private_ip`, `public_dns`, or `private_dns`. If set, either the public IP address, private IP address, public DNS name or private DNS name will used as the host for SSH. The default behaviour if inside a Net is to use the public IP address if available, otherwise the private IP address will be used. If not in a Net the public DNS name will be used. Also works for WinRM.\n\n  Where Packer is configured for an outbound proxy but WinRM traffic should be direct, `ssh_interface` must be set to `private_dns` and `\u003cregion\u003e.compute.internal` included in the `NO_PROXY` environment variable.\n\n- `subnet_id` (string) - If using Net, the ID of the subnet, such as `subnet-12345def`, where Packer will launch the VM. This field is required if you are using an non-default Net.\n\n- `temporary_key_pair_name` (string) - The name of the temporary key pair to generate. By default, Packer generates a name that looks like `packer_\u003cUUID\u003e`, where \u0026lt;UUID\u0026gt; is a 36 character unique identifier.\n\n- `temporary_security_group_source_cidr` (string) - An IPv4 CIDR block to be authorized access to the VM, when packer is creating a temporary security group. The default is `0.0.0.0/0` (i.e., allow any IPv4 source). This is only used when `security_group_id` or `security_group_ids` is not specified.\n\n- `user_data` (string) - User data to apply when launching the VM. Note that you need to be careful about escaping characters due to the templates being JSON. It is often more convenient to use `user_data_file`, instead. Packer will not automatically wait for a user script to finish before shutting down the VM this must be handled in a provisioner.\n\n- `user_data_file` (string) - Path to a file that will be used for the user data when launching the VM.\n\n- `net_id` (string) - If launching into a Net subnet, Packer needs the Net ID in order to create a temporary security group within the Net. Requires `subnet_id` to be set. If this field is left blank, Packer will try to get the Net ID from the `subnet_id`.\n\n- `net_filter` (object) - Filters used to populate the `net_id` field.\n  Example:\n\n  ```json\n  {\n    \"net_filter\": {\n      \"filters\": {\n        \"is-default\": \"false\",\n        \"ip-range\": \"/24\"\n      }\n    }\n  }\n  ```\n\n  This selects the Net with a IPv4 CIDR block of `/24`. NOTE: This will fail unless _exactly_ one Net is returned.\n\n  - `filters` (map of strings) - filters used to select a `vpc_id`. NOTE: This will fail unless _exactly_ one Net is returned.\n\n    `net_id` take precedence over this.\n\n- `windows_password_timeout` (string) - The timeout for waiting for a Windows password for Windows VMs. Defaults to 20 minutes. Example value: `10m`\n\n## Basic Example\n\n```json\n{\n  \"builders\": [\n    {\n      \"type\": \"outscale-bsuvolume\",\n      \"region\": \"eu-west-2\",\n      \"vm_type\": \"t2.micro\",\n      \"source_omi\": \"ami-65efcc11\",\n      \"ssh_username\": \"outscale\",\n      \"ebs_volumes\": [\n        {\n          \"volume_type\": \"gp2\",\n          \"device_name\": \"/dev/xvdf\",\n          \"delete_on_vm_deletion\": false,\n          \"tags\": {\n            \"zpool\": \"data\",\n            \"Name\": \"Data1\"\n          },\n          \"volume_size\": 10\n        },\n        {\n          \"volume_type\": \"gp2\",\n          \"device_name\": \"/dev/xvdg\",\n          \"tags\": {\n            \"zpool\": \"data\",\n            \"Name\": \"Data2\"\n          },\n          \"delete_on_vm_deletion\": false,\n          \"volume_size\": 10\n        },\n        {\n          \"volume_size\": 10,\n          \"tags\": {\n            \"Name\": \"Data3\",\n            \"zpool\": \"data\"\n          },\n          \"delete_on_vm_deletion\": false,\n          \"device_name\": \"/dev/xvdh\",\n          \"volume_type\": \"gp2\"\n        }\n      ]\n    }\n  ]\n}\n```\n\n-\u003e **Note:** Packer can also read the access key and secret access key from\nenvironmental variables. See the configuration reference in the section above\nfor more information on what environmental variables Packer will look for.\n\nFurther information on locating OMI's IDs and their relationship to VM\ntypes and regions can be found in the Outscale Documentation [reference](https://docs.outscale.com/en/userguide/Official-OMIs-Reference.html).\n\n## Accessing the Instance to Debug\n\nIf you need to access the instance to debug for some reason, run the builder\nwith the `-debug` flag. In debug mode, the Amazon builder will save the private\nkey in the current directory and will output the DNS or IP information as well.\nYou can use this information to access the instance as it is running.\n\n## Build template data\n\nIn configuration directives marked as a template engine above, the following\nvariables are available:\n\n- `BuildRegion` - The region (for example `eu-west-2`) where Packer is\n  building the OMI.\n- `SourceOMI` - The source OMI ID (for example `ami-a2412fcd`) used to build\n  the OMI.\n- `SourceOMIName` - The source OMI Name (for example\n  `ubuntu/images/ebs-ssd/ubuntu-xenial-16.04-amd64-server-20180306`) used to\n  build the OMI.\n- `SourceOMITags` - The source OMI Tags, as a `map[string]string` object.\n\n-\u003e **Note:** Packer uses pre-built OMIs as the source for building images.\nThese source OMIs may include volumes that are not flagged to be destroyed on\ntermination of the instance building the new image. In addition to those\nvolumes created by this builder, any volumes in the source OMI which are not\nmarked for deletion on termination will remain in your account.\n","created_at":"2025-01-30T14:55:38.221Z","updated_at":"2025-01-30T14:55:38.221Z","name":"Outscale BSU Volume","slug":"bsuvolume","component":{"id":"36076511-3ced-4faf-addf-101fce0405ff","slug":"builder","name":"Builder","plural_name":"Builders","product_id":"4c2b00c6-7cc1-4e4c-b596-4ab57e319f21","created_at":"2022-11-09T22:56:30.937Z","updated_at":"2022-11-09T22:56:30.937Z"},"variable_groups":[]},{"id":"ad6ddaf5-f31d-4ed2-a413-d653ee2b0562","integration_release_id":"366af2f3-624d-4e27-a154-9571730b61e1","component_id":"36076511-3ced-4faf-addf-101fce0405ff","readme":"Type: `outscale-chroot`\nArtifact BuilderId: `oapi.outscale.chroot`\n\nThe `outscale-chroot` Packer builder is able to create Outscale Machine Images (OMIs) backed by an\nBSU volume as the root device. For more information on the difference between\ninstance storage and BSU-backed instances, see the [\"storage for the root\ndevice\" section in the Outscale\ndocumentation](https://docs.outscale.com/en/userguide/Home.html).\n\nThe difference between this builder and the `outscale-bsu` builder is that this\nbuilder is able to build an BSU-backed OMI without launching a new Outscale\nVM. This can dramatically speed up OMI builds for organizations who need\nthe extra fast build.\n\n~\u003e **This is an advanced builder** If you're just getting started with\nPacker, we recommend starting with the [outscale-bsu\nbuilder](/docs/builder/outscale-bsu), which is much easier to use.\n\nThe builder does _not_ manage OMIs. Once it creates an OMI and stores it in\nyour account, it is up to you to use, delete, etc., the OMI.\n\n## How Does it Work?\n\nThis builder works by creating a new BSU volume from an existing source OMI and\nattaching it into an already-running Outscale VM. Once attached, a\n[chroot](https://en.wikipedia.org/wiki/Chroot) is used to provision the system\nwithin that volume. After provisioning, the volume is detached, snapshotted,\nand an OMI is made.\n\nUsing this process, minutes can be shaved off the OMI creation process because\na new Outscale VM doesn't need to be launched.\n\nThere are some restrictions, however. The host Outscale instance where the volume is\nattached to must be a similar system (generally the same OS version, kernel\nversions, etc.) as the OMI being built. Additionally, this process is much more\nexpensive because the Outscale VM must be kept running persistently in order\nto build OMIs, whereas the other OMI builders start VMs on-demand to\nbuild OMIs as needed.\n\n## Configuration Reference\n\nThere are many configuration options available for the builder. They are\nsegmented below into two categories: required and optional parameters. Within\neach category, the available configuration keys are alphabetized.\n\n### Required:\n\n- `access_key` (string) - The access key used to communicate with OUTSCALE. [Learn how to set this](/docs/builder/outscale#authentication)\n\n- `omi_name` (string) - The name of the resulting OMIS that will appear when managing OMIs in the Outscale console or via APIs. This must be unique. To help make this unique, use a function like `timestamp` (see [template engine](/docs/templates/legacy_json_templates/engine) for more info).\n\n- `secret_key` (string) - The secret key used to communicate with Outscale. [Learn how to set this](/docs/builder/outscale#authentication)\n\n- `source_omi` (string) - The initial OMI used as a base for the newly created machine. `source_omi_filter` may be used instead to populate this automatically.\n\n### Optional:\n\n- `omi_description` (string) - The description to set for the resulting OMI(s).\n  By default this description is empty. This is a [template engine](/docs/templates/legacy_json_templates/engine),\n  see [Build template data](#build-template-data) for more information.\n\n- `omi_account_ids` (array of strings) - A list of account IDs that have access to launch the resulting OMI(s). By default no additional users other than the user creating the OMIS has permissions to launch it.\n\n- `product_codes` ([]string) - A list of product codes to associate with the OMI. By default no product codes are associated with the OMI.\n\n- `global_permission` (boolean) - This option is useful to make the OMI publicly accessible.\n\n- `omi_virtualization_type` (string) - The type of virtualization for the OMI you are building. This option must match the supported virtualization type of `source_omi`. Can be `paravirtual` or `hvm`.\n\n- `chroot_mounts` (array of array of strings) - This is a list of devices to\n  mount into the chroot environment. This configuration parameter requires\n  some additional documentation which is in the [Chroot\n  Mounts](#chroot-mounts) section. Please read that section for more\n  information on how to use this.\n\n- `command_wrapper` (string) - How to run shell commands. This defaults to\n  `{{.Command}}`. This may be useful to set if you want to set environmental\n  variables or perhaps run it with `sudo` or so on. This is a configuration\n  template where the `.Command` variable is replaced with the command to be\n  run. Defaults to `{{.Command}}`.\n\n- `copy_files` (array of strings) - Paths to files on the running Outscale\n  VM that will be copied into the chroot environment prior to\n  provisioning. Defaults to `/etc/resolv.conf` so that DNS lookups work. Pass\n  an empty list to skip copying `/etc/resolv.conf`. You may need to do this\n  if you're building an image that uses systemd.\n\n- `custom_endpoint_oapi` (string) - This option is useful if you use a cloud\n  provider whose API is compatible with Outscale OAPI. Specify another endpoint\n  like this `outscale.com/oapi/latest`.\n\n- `device_path` (string) - The path to the device where the root volume of\n  the source OMI will be attached. This defaults to \"\" (empty string), which\n  forces Packer to find an open device automatically.\n\n- `force_deregister` (boolean) - Force Packer to first deregister an existing\n  OMIS if one with the same name already exists. Default `false`.\n\n- `force_delete_snapshot` (boolean) - Force Packer to delete snapshots\n  associated with OMIs, which have been deregistered by `force_deregister`.\n  Default `false`.\n\n- `insecure_skip_tls_verify` (boolean) - This allows skipping TLS\n  verification of the OAPI endpoint. The default is `false`.\n\n- `from_scratch` (boolean) - Build a new volume instead of starting from an\n  existing OMI root volume snapshot. Default `false`. If `true`, `source_omi`\n  is no longer used and the following options become required:\n  `omi_virtualization_type`, `pre_mount_commands` and `root_volume_size`. The\n  below options are also required in this mode only:\n\n- `omi_block_device_mappings` (array of block device mappings) - Add one or more [block device mappings](https://docs.outscale.com/en/userguide/Defining-Block-Device-Mappings.html) to the OMI. These will be attached when booting a new VM from your OMI. To add a block device during the Packer build see `launch_block_device_mappings` below. Your options here may vary depending on the type of VM you use. The block device mappings allow for the following configuration:\n\n  - `delete_on_vm_deletion` (boolean) - Indicates whether the BSU volume is deleted on VM termination. Default `false`. **NOTE**: If this value is not explicitly set to `true` and volumes are not cleaned up by an alternative method, additional volumes will accumulate after every build.\n\n  - `device_name` (string) - The device name exposed to the VM (for example, `/dev/sdh` or `xvdh`). Required for every device in the block device mapping.\n\n  - `iops` (number) - The number of I/O operations per second (IOPS) that the volume supports. See the documentation on\n    [IOPs](https://docs.outscale.com/en/userguide/About-Volumes.html#_volume_types_and_iops)\n    for more information\n\n  - `no_device` (boolean) - Suppresses the specified device included in the\n    block device mapping of the OMI\n\n  - `snapshot_id` (string) - The ID of the snapshot\n\n  - `virtual_name` (string) - The virtual device name. See the documentation on [Block Device Mapping](https://docs.outscale.com/en/userguide/Defining-Block-Device-Mappings.html) for more information\n\n  - `volume_size` (number) - The size of the volume, in GiB. Required if not specifying a `snapshot_id`\n\n  - `volume_type` (string) - The volume type. `gp2` for General Purpose (SSD) volumes, `io1` for Provisioned IOPS (SSD) volumes, and `standard` for Magnetic volumes\n\n- `root_device_name` (string) - The root device name. For example, `xvda`.\n\n- `mount_path` (string) - The path where the volume will be mounted. This is\n  where the chroot environment will be. This defaults to\n  `/mnt/packer-amazon-chroot-volumes/{{.Device}}`. This is a configuration\n  template where the `.Device` variable is replaced with the name of the\n  device where the volume is attached.\n\n- `mount_partition` (string) - The partition number containing the /\n  partition. By default this is the first partition of the volume, (for\n  example, `xvdf1`) but you can designate the entire block device by setting\n  `\"mount_partition\": \"0\"` in your config, which will mount `xvdf` instead.\n\n- `mount_options` (array of strings) - Options to supply the `mount` command\n  when mounting devices. Each option will be prefixed with `-o` and supplied\n  to the `mount` command ran by Packer. Because this command is ran in a\n  shell, user discretion is advised. See [this manual page for the mount\n  command](https://linux.die.net/man/8/mount) for valid file\n  system specific options.\n\n- `nvme_device_path` (string) - When we call the mount command (by default\n  `mount -o device dir`), the string provided in `nvme_mount_path` will\n  replace `device` in that command. When this option is not set, `device` in\n  that command will be something like `/dev/sdf1`, mirroring the attached\n  device name. This assumption works for most instances but will fail with c5\n  and m5 instances. In order to use the chroot builder with c5 and m5\n  instances, you must manually set `nvme_device_path` and `device_path`.\n\n- `pre_mount_commands` (array of strings) - A series of commands to execute\n  after attaching the root volume and before mounting the chroot. This is not\n  required unless using `from_scratch`. If so, this should include any\n  partitioning and filesystem creation commands. The path to the device is\n  provided by `{{.Device}}`.\n\n- `post_mount_commands` (array of strings) - As `pre_mount_commands`, but the\n  commands are executed after mounting the root device and before the extra\n  mount and copy steps. The device and mount path are provided by\n  `{{.Device}}` and `{{.MountPath}}`.\n\n- `root_volume_size` (number) - The size of the root volume in GB for the\n  chroot environment and the resulting OMI. Default size is the snapshot size\n  of the `source_omi` unless `from_scratch` is `true`, in which case this\n  field must be defined.\n\n- `root_volume_type` (string) - The type of BSU volume for the chroot\n  environment and resulting OMI. The default value is the type of the\n  `source_omi`, unless `from_scratch` is `true`, in which case the default\n  value is `gp2`. You can only specify `io1` if building based on top of a\n  `source_omi` which is also `io1`.\n\n- `root_volume_tags` (object of key/value strings) - Tags to apply to the\n  volumes that are _launched_. This is a [template\n  engine](/docs/templates/legacy_json_templates/engine), see [Build template\n  data](#build-template-data) for more information.\n\n- `skip_region_validation` (boolean) - Set to true if you want to skip\n  validation of the region configuration option. Default `false`.\n\n- `snapshot_tags` (object of key/value strings) - Tags to apply to snapshot.\n  They will override OMI tags if already applied to snapshot. This is a\n  [template engine](/docs/templates/legacy_json_templates/engine), see [Build template\n  data](#build-template-data) for more information.\n\n- `source_omi_filter` (object) - Filters used to populate the `source_omi` field.\n\n  - `filters` (map of strings) - filters used to select a `source_omi`.\n  - `owners` (array of strings) - Filters the images by their owner. You may specify one or more Outscale account IDs, \"self\" (which will use the account whose credentials you are using to run Packer) or an Outscale owner alias. This option is required for security reasons.\n\n    Example:\n\n    ```json\n    {\n      \"source_omi_filter\": {\n        \"filters\": {\n          \"virtualization-type\": \"hvm\",\n          \"image-name\": \"ubuntu/images/*ubuntu-xenial-16.04-amd64-server-*\",\n          \"root-device-type\": \"ebs\"\n        },\n        \"owners\": [\"099720109477\"]\n      }\n    }\n    ```\n\n    This selects an Ubuntu 16.04 HVM BSU OMIS from Canonical. NOTE:\n    This will fail unless _exactly_ one OMIS is returned. In the above example,\n    `most_recent` will cause this to succeed by selecting the newest image.\n\n    You may set this in place of `source_omi` or in conjunction with it. If you\n    set this in conjunction with `source_omi`, the `source_omi` will be added\n    to the filter. The provided `source_omi` must meet all of the filtering\n    criteria provided in `source_omi_filter`; this pins the OMI returned by the\n    filter, but will cause Packer to fail if the `source_omi` does not exist.\n\n- `tags` (object of key/value strings) - Tags applied to the OMI. This is a\n  [template engine](/docs/templates/legacy_json_templates/engine), see [Build template\n  data](#build-template-data) for more information.\n\n## Basic Example\n\nHere is a basic example. It is completely valid except for the access keys:\n\n```json\n{\n  \"type\": \"outscale-chroot\",\n  \"access_key\": \"YOUR KEY HERE\",\n  \"secret_key\": \"YOUR SECRET KEY HERE\",\n  \"source_omi\": \"ami-3e158364\",\n  \"omi_name\": \"packer-outscale-chroot {{timestamp}}\"\n}\n```\n\n## Chroot Mounts\n\nThe `chroot_mounts` configuration can be used to mount specific devices within\nthe chroot. By default, the following additional mounts are added into the\nchroot by Packer:\n\n- `/proc` (proc)\n- `/sys` (sysfs)\n- `/dev` (bind to real `/dev`)\n- `/dev/pts` (devpts)\n- `/proc/sys/fs/binfmt_misc` (binfmt_misc)\n\nThese default mounts are usually good enough for anyone and are sane defaults.\nHowever, if you want to change or add the mount points, you may using the\n`chroot_mounts` configuration. Here is an example configuration which only\nmounts `/proc` and `/dev`:\n\n```json\n{\n  \"chroot_mounts\": [\n    [\"proc\", \"proc\", \"/proc\"],\n    [\"bind\", \"/dev\", \"/dev\"]\n  ]\n}\n```\n\n`chroot_mounts` is a list of a 3-tuples of strings. The three components of the\n3-tuple, in order, are:\n\n- The filesystem type. If this is \"bind\", then Packer will properly bind the\n  filesystem to another mount point.\n\n- The source device.\n\n- The mount directory.\n\n## Parallelism\n\nA quick note on parallelism: it is perfectly safe to run multiple _separate_\nPacker processes with the `outscale-chroot` builder on the same Outscale VM. In\nfact, this is recommended as a way to push the most performance out of your OMI\nbuilds.\n\nPacker properly obtains a process lock for the parallelism-sensitive parts of\nits internals such as finding an available device.\n\n## Gotchas\n\n### Unmounting the Filesystem\n\nOne of the difficulties with using the chroot builder is that your provisioning\nscripts must not leave any processes running or packer will be unable to\nunmount the filesystem.\n\nFor debian based distributions you can setup a\n[policy-rc.d](http://people.debian.org/~hmh/invokerc.d-policyrc.d-specification.txt)\nfile which will prevent packages installed by your provisioners from starting\nservices:\n\n```json\n({\n  \"type\": \"shell\",\n  \"inline\": [\n    \"echo '#!/bin/sh' \u003e /usr/sbin/policy-rc.d\",\n    \"echo 'exit 101' \u003e\u003e /usr/sbin/policy-rc.d\",\n    \"chmod a+x /usr/sbin/policy-rc.d\"\n  ]\n},\n{\n  \"type\": \"shell\",\n  \"inline\": [\"rm -f /usr/sbin/policy-rc.d\"]\n})\n```\n\n### Ansible provisioner\n\nRunning `ansible` against `outscale-chroot` requires changing the Ansible connection\nto chroot and running Ansible as root/sudo.\n\n## Building From Scratch\n\nThis example demonstrates the essentials of building an image from scratch. A\n15G gp2 (SSD) device is created (overriding the default of standard/magnetic).\nThe device setup commands partition the device with one partition for use as an\nHVM image and format it ext4. This builder block should be followed by\nprovisioning commands to install the os and bootloader.\n\n```json\n{\n  \"type\": \"outscale-chroot\",\n  \"ami_name\": \"packer-from-scratch {{timestamp}}\",\n  \"from_scratch\": true,\n  \"ami_virtualization_type\": \"hvm\",\n  \"pre_mount_commands\": [\n    \"parted {{.Device}} mklabel msdos mkpart primary 1M 100% set 1 boot on print\",\n    \"mkfs.ext4 {{.Device}}1\"\n  ],\n  \"root_volume_size\": 15,\n  \"root_device_name\": \"xvdf\",\n  \"ami_block_device_mappings\": [\n    {\n      \"device_name\": \"xvdf\",\n      \"delete_on_termination\": true,\n      \"volume_type\": \"gp2\"\n    }\n  ]\n}\n```\n\n## Build template data\n\nIn configuration directives marked as a template engine above, the following\nvariables are available:\n\n- `BuildRegion` - The region (for example `eu-west-2`) where Packer is building the OMI.\n- `SourceOMI` - The source OMIS ID (for example `ami-a2412fcd`) used to build the OMI.\n- `SourceOMIName` - The source OMIS Name (for example `ubuntu-390`) used to build the OMI.\n- `SourceOMITags` - The source OMIS Tags, as a `map[string]string` object\n","created_at":"2025-01-30T14:55:38.395Z","updated_at":"2025-01-30T14:55:38.395Z","name":"Outscale chroot","slug":"chroot","component":{"id":"36076511-3ced-4faf-addf-101fce0405ff","slug":"builder","name":"Builder","plural_name":"Builders","product_id":"4c2b00c6-7cc1-4e4c-b596-4ab57e319f21","created_at":"2022-11-09T22:56:30.937Z","updated_at":"2022-11-09T22:56:30.937Z"},"variable_groups":[]},{"id":"a5f33a38-d82d-4174-b2a0-07a0b561262f","integration_release_id":"366af2f3-624d-4e27-a154-9571730b61e1","component_id":"36076511-3ced-4faf-addf-101fce0405ff","readme":"Type: `outscale-bsusurrogate`\nArtifact BuilderId: `oapi.outscale.bsusurrogate`\n\nThe `outscale-bsusurrogate` Packer builder is able to create Outscale OMIs by\nrunning a source virtual machine with an attached volume, provisioning the attached\nvolume in such a way that it can be used as the root volume for the OMI, and\nthen snapshotting and creating the OMI from that volume.\n\nThis builder can therefore be used to bootstrap scratch-build images - for\nexample FreeBSD or Ubuntu using ZFS as the root file system.\n\nThis is all done in your own Outscale account. This builder will create temporary\nkey pairs, security group rules, etc., that provide it temporary access to the\nvirtual machine while the image is being created.\n\n## Configuration Reference\n\nThere are many configuration options available for this builder. They are\nsegmented below into two categories: required and optional parameters. Within\neach category, the available configuration keys are alphabetized.\n\nIn addition to the options listed here, a\n[communicator](/docs/templates/legacy_json_templates/communicator) can be configured for this\nbuilder.\n\n### Required:\n\n- `access_key` (string) - The access key used to communicate with OUTSCALE. [Learn how to set this](/docs/builder/outscale#authentication)\n\n- `omi_name` (string) - The name of the resulting OMIS that will appear when managing OMIs in the Outscale console or via APIs. This must be unique. To help make this unique, use a function like `timestamp` (see [template engine](/packer/docs/templates/legacy_json_templates/engine) for more info).\n\n- `vm_type` (string) - The Outscale VM type to use while building the OMI, such as `t2.small`.\n\n- `region` (string) - The name of the region, such as `us-east-1`, in which to launch the Outscale VM to create the OMI.\n\n- `secret_key` (string) - The secret key used to communicate with Outscale. [Learn how to set this](/docs/builder/outscale#authentication)\n\n- `source_omi` (string) - The initial OMI used as a base for the newly created machine. `source_omi_filter` may be used instead to populate this automatically.\n\n- `omi_root_device` (block device mapping) - A block device mapping\n  describing the root device of the OMI. This looks like the mappings in\n  `omi_block_device_mapping`, except with an additional field:\n\n  - `source_device_name` (string) - The device name of the block device on\n    the source virtual machine to be used as the root device for the OMI. This\n    must correspond to a block device in `launch_block_device_mapping`.\n\n### Optional:\n\n- `omi_block_device_mappings` (array of block device mappings) - Add one or more [block device mappings](https://docs.outscale.com/en/userguide/Defining-Block-Device-Mappings.html) to the OMI. These will be attached when booting a new VM from your OMI. To add a block device during the Packer build see `launch_block_device_mappings` below. Your options here may vary depending on the type of VM you use. The block device mappings allow for the following configuration:\n\n  - `delete_on_vm_deletion` (boolean) - Indicates whether the BSU volume is deleted on VM termination. Default `false`. **NOTE**: If this value is not explicitly set to `true` and volumes are not cleaned up by an alternative method, additional volumes will accumulate after every build.\n\n  - `device_name` (string) - The device name exposed to the VM (for example, `/dev/sdh` or `xvdh`). Required for every device in the block device mapping.\n\n  - `iops` (number) - The number of I/O operations per second (IOPS) that the volume supports. See the documentation on\n    [IOPs](https://docs.outscale.com/en/userguide/About-Volumes.html#_volume_types_and_iops)\n    for more information.\n\n  - `no_device` (boolean) - Suppresses the specified device included in the\n    block device mapping of the OMI.\n\n  - `snapshot_id` (string) - The ID of the snapshot\n\n  - `volume_size` (number) - The size of the volume, in GiB. Required if not specifying a `snapshot_id`\n\n  - `volume_type` (string) - The volume type. `gp2` for General Purpose (SSD) volumes, `io1` for Provisioned IOPS (SSD) volumes, and `standard` for Magnetic volumes\n\n- `omi_description` (string) - The description to set for the resulting OMI(s). By default this description is empty. This is a [template engine](/packer/docs/templates/legacy_json_templates/engine), see [Build template\n  data](#build-template-data) for more information.\n\n- `omi_account_ids` (array of strings) - A list of account IDs that have access to launch the resulting OMI(s). By default no additional users other than the user creating the OMIS has permissions to launch it.\n\n- `product_codes` ([]string) - A list of product codes to associate with the OMI. By default no product codes are associated with the OMI.\n\n- `global_permission` (boolean) - This option is useful to make the OMI publicly accessible.\n\n- `omi_virtualization_type` (string) - The type of virtualization for the OMI you are building. This option must match the supported virtualization type of `source_omi`. Can be `paravirtual` or `hvm`.\n\n- `associate_public_ip_address` (boolean) - If using a non-default Net, public IP addresses are not provided by default. If this is toggled, your new VM will get a Public IP.\n\n- `subregion_name` (string) - Destination subregion to launch VM in. Leave this empty to allow Outscale to auto-assign.\n\n- `custom_endpoint_oapi` (string) - This option is useful if you use a cloud\n  provider whose API is compatible with Outscale OAPI. Specify another endpoint\n  like this `outscale.com/oapi/latest`.\n\n- `disable_stop_vm` (boolean) - Packer normally stops the build\n  VM after all provisioners have run. For Windows VMs, it is\n  sometimes desirable to [run Sysprep](\u003chttps://docs.microsoft.com/en-us/previous-versions/windows/it-pro/windows-vista/cc721940(v=ws.10)\u003e) which will stop the VM for you. If this is set to `true`, Packer\n  _will not_ stop the VM but will assume that you will send the stop\n  signal yourself through your final provisioner. You can do this with a\n  [windows-shell provisioner](/docs/provisioner/windows-shell).\n\n  Note that Packer will still wait for the VM to be stopped, and\n  failing to send the stop signal yourself, when you have set this flag to\n  `true`, will cause a timeout.\n\n- `bsu_optimized` (boolean) - If true, the VM is created with optimized BSU I/O.\n\n- `force_deregister` (boolean) - Force Packer to first deregister an existing\n  OMI if one with the same name already exists. Default `false`.\n\n- `force_delete_snapshot` (boolean) - Force Packer to delete snapshots\n  associated with OMIs, which have been deregistered by `force_deregister`.\n  Default `false`.\n\n- `insecure_skip_tls_verify` (boolean) - This allows skipping TLS\n  verification of the OAPI endpoint. The default is `false`.\n\n- `launch_block_device_mappings` (array of block device mappings) - Add one\n  or more block devices before the Packer build starts. If you add VM\n  store volumes or BSU volumes in addition to the root device volume, the\n  created OMIS will contain block device mapping information for those\n  volumes. Outscale creates snapshots of the source VM's root volume and\n  any other BSU volumes described here. When you launch an VM from this\n  new OMI, the VM automatically launches with these additional volumes,\n  and will restore them from snapshots taken from the source VM.\n\n  - `delete_on_vm_deletion` (boolean) - Indicates whether the BSU volume is deleted on VM termination. Default `false`. **NOTE**: If this value is not explicitly set to `true` and volumes are not cleaned up by an alternative method, additional volumes will accumulate after every build.\n\n  - `device_name` (string) - The device name exposed to the VM (for example, `/dev/sdh` or `xvdh`). Required for every device in the block device mapping.\n\n  - `iops` (number) - The number of I/O operations per second (IOPS) that the volume supports. See the documentation on\n    [IOPs](https://docs.outscale.com/en/userguide/About-Volumes.html#_volume_types_and_iops)\n    for more information.\n\n  - `volume_size` (number) - The size of the volume, in GiB. Required if not specifying a `snapshot_id`\n\n  - `volume_type` (string) - The volume type. `gp2` for General Purpose (SSD) volumes, `io1` for Provisioned IOPS (SSD) volumes, and `standard` for Magnetic volumes\n\n- `run_tags` (object of key/value strings) - Tags to apply to the VM\n  that is _launched_ to create the OMI. These tags are _not_ applied to the\n  resulting OMIS unless they're duplicated in `tags`. This is a [template\n  engine](/packer/docs/templates/legacy_json_templates/engine), see [Build template\n  data](#build-template-data) for more information.\n\n- `run_volume_tags` (object of key/value strings) - Tags to apply to the\n  volumes that are _launched_ to create the OMI. These tags are _not_ applied\n  to the resulting OMIS unless they're duplicated in `tags`. This is a\n  [template engine](/packer/docs/templates/legacy_json_templates/engine), see [Build template\n  data](#build-template-data) for more information.\n\n- `security_group_id` (string) - The ID (_not_ the name) of the security\n  group to assign to the VM. By default this is not set and Packer will\n  automatically create a new temporary security group to allow SSH access.\n  Note that if this is specified, you must be sure the security group allows\n  access to the `ssh_port` given below.\n\n- `security_group_ids` (array of strings) - A list of security groups as\n  described above. Note that if this is specified, you must omit the\n  `security_group_id`.\n\n- `shutdown_behavior` (string) - Automatically terminate VMs on\n  shutdown in case Packer exits ungracefully. Possible values are \"stop\" and\n  \"terminate\", default is `stop`.\n\n- `skip_region_validation` (boolean) - Set to true if you want to skip\n  validation of the region configuration option. Default `false`.\n\n- `snapshot_groups` (array of strings) - A list of groups that have access to\n  create volumes from the snapshot(s). By default no groups have permission\n  to create volumes from the snapshot(s). `all` will make the snapshot\n  publicly accessible.\n\n- `snapshot_users` (array of strings) - A list of account IDs that have\n  access to create volumes from the snapshot(s). By default no additional\n  users other than the user creating the OMIS has permissions to create\n  volumes from the backing snapshot(s).\n\n- `snapshot_tags` (object of key/value strings) - Tags to apply to snapshot.\n  They will override OMIS tags if already applied to snapshot. This is a\n  [template engine](/packer/docs/templates/legacy_json_templates/engine), see [Build template\n  data](#build-template-data) for more information.\n\n- `source_omi_filter` (object) - Filters used to populate the `source_omi` field.\n\n  - `filters` (map of strings) - filters used to select a `source_omi`.\n  - `owners` (array of strings) - Filters the images by their owner. You may specify one or more Outscale account IDs, \"self\" (which will use the account whose credentials you are using to run Packer), or an Outscale owner alias. This option is required for security reasons.\n\n    Example:\n\n#### HCL\n```hcl\nsource_omi_filter {\n  filters = {\n    image-name          = \"image-name\"\n    root-device-type    = \"ebs\"\n    virtualization-type = \"hvm\"\n  }\n  owners      = [\"099720109477\"]\n}\n```\n\n#### JSON\n```json\n{\n  \"source_omi_filter\": {\n    \"filters\": {\n      \"virtualization-type\": \"hvm\",\n      \"image-name\": \"image-name\",\n      \"root-device-type\": \"ebs\"\n    },\n    \"owners\": [\"099720109477\"]\n  }\n}\n```\n\n    This selects an Ubuntu 16.04 HVM BSU OMIS from Canonical. NOTE:\n    This will fail unless _exactly_ one OMIS is returned. In the above example,\n    `most_recent` will cause this to succeed by selecting the newest image.\n\n- `ssh_keypair_name` (string) - If specified, this is the key that will be used for SSH with the machine. The key must match a key pair name loaded up into Outscale. By default, this is blank, and Packer will generate a temporary keypair unless [`ssh_password`](/docs/communicators/ssh#ssh_password) is used. [`ssh_private_key_file`](/docs/communicators/ssh#ssh_private_key_file) or `ssh_agent_auth` must be specified when `ssh_keypair_name` is utilized.\n\n- `ssh_agent_auth` (boolean) - If true, the local SSH agent will be used to authenticate connections to the source VM. No temporary keypair will be created, and the values of `ssh_password` and `ssh_private_key_file` will be ignored. To use this option with a key pair already configured in the source OMI, leave the `ssh_keypair_name` blank. To associate an existing key pair in Outscale with the source VM, set the `ssh_keypair_name` field to the name of the key pair.\n\n- `ssh_interface` (string) - One of `public_ip`, `private_ip`, `public_dns`, or `private_dns`. If set, either the public IP address, private IP address, public DNS name or private DNS name will used as the host for SSH. The default behaviour if inside a Net is to use the public IP address if available, otherwise the private IP address will be used. If not in a Net the public DNS name will be used. Also works for WinRM.\n\n  Where Packer is configured for an outbound proxy but WinRM traffic should be direct, `ssh_interface` must be set to `private_dns` and `\u003cregion\u003e.compute.internal` included in the `NO_PROXY` environment variable.\n\n- `subnet_id` (string) - If using Net, the ID of the subnet, such as `subnet-12345def`, where Packer will launch the VM. This field is required if you are using an non-default Net.\n\n- `tags` (object of key/value strings) - Tags applied to the OMIS and relevant snapshots. This is a [template engine](/packer/docs/templates/legacy_json_templates/engine), see [Build template data](#build-template-data) for more information.\n\n- `temporary_key_pair_name` (string) - The name of the temporary key pair to generate. By default, Packer generates a name that looks like `packer_\u003cUUID\u003e`, where \u0026lt;UUID\u0026gt; is a 36 character unique identifier.\n\n- `temporary_security_group_source_cidr` (string) - An IPv4 CIDR block to be authorized access to the VM, when Packer is creating a temporary security group. The default is `0.0.0.0/0` (i.e., allow any IPv4 source). This is only used when `security_group_id` or `security_group_ids` is not specified.\n\n- `user_data` (string) - User data to apply when launching the VM. Note that you need to be careful about escaping characters due to the templates being JSON. It is often more convenient to use `user_data_file`, instead. Packer will not automatically wait for a user script to finish before shutting down the VM this must be handled in a provisioner.\n\n- `user_data_file` (string) - Path to a file that will be used for the user data when launching the VM.\n\n- `net_id` (string) - If launching into a Net subnet, Packer needs the Net ID in order to create a temporary security group within the Net. Requires `subnet_id` to be set. If this field is left blank, Packer will try to get the Net ID from the `subnet_id`.\n\n- `net_filter` (object) - Filters used to populate the `net_id` field.\n  Example:\n\n  ```json\n  {\n    \"net_filter\": {\n      \"filters\": {\n        \"is-default\": \"false\",\n        \"ip-range\": \"/24\"\n      }\n    }\n  }\n  ```\n\n  This selects the Net with a IPv4 CIDR block of `/24`. NOTE: This will fail unless _exactly_ one Net is returned.\n\n  - `filters` (map of strings) - filters used to select a `vpc_id`. NOTE: This will fail unless _exactly_ one Net is returned.\n\n    `net_id` take precedence over this.\n\n- `windows_password_timeout` (string) - The timeout for waiting for a Windows password for Windows VMs. Defaults to 20 minutes. Example value: `10m`\n\n## Basic Example\n\n#### HCL\n```hcl\n// export osc_access_key=$YOURKEY\nvariable \"osc_access_key\" {\n  type = string\n  // default = \"hardcoded_key\"\n}\n\n// export osc_secret_key=$YOURSECRETKEY\nvariable \"osc_secret_key\" {\n  type = string\n  // default = \"hardcoded_secret_key\"\n}\n\nsource \"outscale-bsusurrogate\" \"example-bsusurrogate\" {\n  launch_block_device_mappings {\n    delete_on_vm_deletion = true\n    device_name           = \"/dev/xvdf\"\n    iops                  = 3000\n    volume_size           = 200\n    volume_type           = \"io1\"\n  }\n  source_omi_filter {\n    filters = {\n      image-name          = \"image-name\"\n      root-device-type    = \"ebs\"\n      virtualization-type = \"hvm\"\n    }\n    owners      = [\"099720109477\"]\n  }\n  omi_root_device {\n    delete_on_vm_deletion = true\n    device_name           = \"/dev/sda1\"\n    source_device_name    = \"/dev/xvdf\"\n    volume_size           = 50\n    volume_type           = \"standard\"\n  }\n  omi_name = \"packer_osc_{{timestamp}}\"\n  source_omi    = \"ami-bcfc34e0\"\n  ssh_interface = \"public_ip\"\n  ssh_username  = \"outscale\"\n  vm_type       = \"t2.medium\"\n  region        = \"eu-west-2\"\n}\n```\n#### JSON\n```json\n{\n  \"type\": \"outscale-bsusurrogate\",\n  \"secret_key\": \"YOUR SECRET KEY HERE\",\n  \"access_key\": \"YOUR KEY HERE\",\n  \"region\": \"eu-west-2\",\n  \"ssh_username\": \"outscale\",\n  \"vm_type\": \"t2.medium\",\n  \"source_omi\": \"ami-bcfc34e0\",\n  \"subregion_name\": \"eu-west-2a\",\n  \"launch_block_device_mappings\": [\n    {\n      \"volume_type\": \"io1\",\n      \"device_name\": \"/dev/xvdf\",\n      \"delete_on_vm_deletion\": false,\n      \"volume_size\": 10,\n      \"iops\": 300\n    }\n  ],\n  \"omi_root_device\": {\n    \"source_device_name\": \"/dev/xvdf\",\n    \"device_name\": \"/dev/sda1\",\n    \"delete_on_vm_deletion\": true,\n    \"volume_size\": 10,\n    \"volume_type\": \"standard\"\n  }\n}\n```\n\n-\u003e **Note:** Packer can also read the access key and secret access key from\nenvironmental variables. See the configuration reference in the section above\nfor more information on what environmental variables Packer will look for.\n\nFurther information on locating OMIS IDs and their relationship to VM\ntypes and regions can be found in the Outscale Documentation [reference](https://docs.outscale.com/en/userguide/Official-OMIs-Reference.html).\n\n## Accessing the Virtual Machine to Debug\n\nIf you need to access the virtual machine to debug for some reason, run this builder\nwith the `-debug` flag. In debug mode, the Outscale builder will save the private\nkey in the current directory and will output the DNS or IP information as well.\nYou can use this information to access the virtual machine as it is running.\n\n## Build template data\n\nIn configuration directives marked as a template engine above, the following variables are available:\n\n- `BuildRegion` - The region (for example `eu-west-2`) where Packer is building the OMI.\n- `SourceOMI` - The source OMIS ID (for example `ami-a2412fcd`) used to build the OMI.\n- `SourceOMIName` - The source OMIS Name (for example `ubutu-390`) used to build the OMI.\n- `SourceOMITags` - The source OMIS Tags, as a `map[string]string` object.\n\n-\u003e **Note:** Packer uses pre-built OMIs as the source for building images.\nThese source OMIs may include volumes that are not flagged to be destroyed on\ntermination of the virtual machine building the new image. In addition to those\nvolumes created by this builder, any volumes inn the source OMI which are not\nmarked for deletion on termination will remain in your account.\n","created_at":"2025-01-30T14:55:38.557Z","updated_at":"2025-01-30T14:55:38.557Z","name":"Outscale BSU Surrogate","slug":"bsusurrogate","component":{"id":"36076511-3ced-4faf-addf-101fce0405ff","slug":"builder","name":"Builder","plural_name":"Builders","product_id":"4c2b00c6-7cc1-4e4c-b596-4ab57e319f21","created_at":"2022-11-09T22:56:30.937Z","updated_at":"2022-11-09T22:56:30.937Z"},"variable_groups":[]},{"id":"13659333-5c20-4d97-8c3b-058b53ab8823","integration_release_id":"366af2f3-624d-4e27-a154-9571730b61e1","component_id":"36076511-3ced-4faf-addf-101fce0405ff","readme":"Type: `outscale-bsu`\nArtifact BuilderId: `oapi.outscale.bsu`\n\nThe `outscale-bsu` Packer builder is able to create Outscale OMIs backed by BSU\nvolumes for use in [Flexible Compute Unit](https://docs.outscale.com/en/userguide/Flexible-Compute-Unit-(FCU).html). For more information on\nthe difference between BSU-backed VMs and VM-store backed\nVMs, see the [\"storage for the root device\" section in the Outscale\ndocumentation](https://docs.outscale.com/en/userguide/Defining-Block-Device-Mappings.html).\n\nThis builder builds an OMI by launching an Outscale VM from a source OMI,\nprovisioning that running machine, and then creating an OMI from that machine.\nThis is all done in your own Outscale account. The builder will create temporary\nkeypairs, security group rules, etc. that provide it temporary access to the\nVM while the image is being created. This simplifies configuration quite\na bit.\n\nThe builder does _not_ manage OMIs. Once it creates an OMI and stores it in\nyour account, it is up to you to use, delete, etc. the OMI.\n\n-\u003e **Note:** Temporary resources are, by default, all created with the\nprefix `packer`. This can be useful if you want to restrict the security groups\nand key pairs Packer is able to operate on.\n\n## Configuration Reference\n\nThere are many configuration options available for the builder. They are\nsegmented below into two categories: required and optional parameters. Within\neach category, the available configuration keys are alphabetized.\n\nIn addition to the options listed here, a\n[communicator](/docs/templates/legacy_json_templates/communicator) can be configured for this\nbuilder.\n\n### Required:\n\n- `access_key` (string) - The access key used to communicate with OUTSCALE. [Learn how to set this](/docs/builder/outscale#authentication)\n\n- `omi_name` (string) - The name of the resulting OMIS that will appear when managing OMIs in the Outscale console or via APIs. This must be unique. To help make this unique, use a function like `timestamp` (see [template engine](/docs/templates/legacy_json_templates/engine) for more info).\n\n- `vm_type` (string) - The Outscale VM type to use while building the OMI, such as `t2.small`.\n\n- `region` (string) - The name of the region, such as `us-east-1`, in which to launch the Outscale VM to create the OMI.\n\n- `secret_key` (string) - The secret key used to communicate with Outscale. [Learn how to set this](/docs/builder/outscale#authentication)\n\n- `source_omi` (string) - The initial OMI used as a base for the newly created machine. `source_omi_filter` may be used instead to populate this automatically.\n\n### Optional:\n\n- `omi_block_device_mappings` (array of block device mappings) - Add one or more [block device mappings](https://docs.outscale.com/en/userguide/Defining-Block-Device-Mappings.html) to the OMI. These will be attached when booting a new VM from your OMI. To add a block device during the Packer build see `launch_block_device_mappings` below. Your options here may vary depending on the type of VM you use. The block device mappings allow for the following configuration:\n\n  - `delete_on_vm_deletion` (boolean) - Indicates whether the BSU volume is deleted on VM termination. Default `false`. **NOTE**: If this value is not explicitly set to `true` and volumes are not cleaned up by an alternative method, additional volumes will accumulate after every build.\n\n  - `device_name` (string) - The device name exposed to the VM (for example, `/dev/sdh` or `xvdh`). Required for every device in the block device mapping.\n\n  - `iops` (number) - The number of I/O operations per second (IOPS) that the volume supports. See the documentation on\n    [IOPs](https://docs.outscale.com/en/userguide/About-Volumes.html#_volume_types_and_iops)\n    for more information\n\n  - `no_device` (boolean) - Suppresses the specified device included in the\n    block device mapping of the OMI\n\n  - `snapshot_id` (string) - The ID of the snapshot\n\n  - `volume_size` (number) - The size of the volume, in GiB. Required if not specifying a `snapshot_id`\n\n  - `volume_type` (string) - The volume type. `gp2` for General Purpose (SSD) volumes, `io1` for Provisioned IOPS (SSD) volumes, and `standard` for Magnetic volumes\n\n- `omi_description` (string) - The description to set for the resulting OMI(s). By default this description is empty. This is a [template engine](/docs/templates/legacy_json_templates/engine), see [Build template\n  data](#build-template-data) for more information.\n\n- `omi_account_ids` (array of strings) - A list of account IDs that have access to launch the resulting OMI(s). By default no additional users other than the user creating the OMIS has permissions to launch it.\n\n- `product_codes` ([]string) - A list of product codes to associate with the OMI. By default no product codes are associated with the OMI.\n\n- `global_permission` (boolean) - This option is useful to make the OMI publicly accessible.\n\n- `omi_virtualization_type` (string) - The type of virtualization for the OMI you are building. This option must match the supported virtualization type of `source_omi`. Can be `paravirtual` or `hvm`.\n\n- `associate_public_ip_address` (boolean) - If using a non-default Net, public IP addresses are not provided by default. If this is toggled, your new VM will get a Public IP.\n\n- `subregion_name` (string) - Destination subregion to launch VM in. Leave this empty to allow Outscale to auto-assign.\n\n- `custom_endpoint_oapi` (string) - This option is useful if you use a cloud\n  provider whose API is compatible with Outscale OAPI. Specify another endpoint\n  like this `outscale.com/oapi/latest`.\n\n- `disable_stop_vm` (boolean) - Packer normally stops the build\n  VM after all provisioners have run. For Windows VMs, it is\n  sometimes desirable to [run Sysprep](\u003chttps://docs.microsoft.com/en-us/previous-versions/windows/it-pro/windows-vista/cc721940(v=ws.10)\u003e) which will stop the VM for you. If this is set to `true`, Packer\n  _will not_ stop the VM but will assume that you will send the stop\n  signal yourself through your final provisioner. You can do this with a\n  [windows-shell provisioner](/docs/provisioner/windows-shell).\n\n  Note that Packer will still wait for the VM to be stopped, and\n  failing to send the stop signal yourself, when you have set this flag to\n  `true`, will cause a timeout.\n\n- `bsu_optimized` (boolean) - If true, the VM is created with optimized BSU I/O.\n\n- `force_delete_snapshot` (boolean) - Force Packer to delete snapshots\n  associated with OMIs, which have been deregistered by `force_deregister`.\n  Default `false`.\n\n- `force_deregister` (boolean) - Force Packer to first deregister an existing\n  OMIS if one with the same name already exists. Default `false`.\n\n- `insecure_skip_tls_verify` (boolean) - This allows skipping TLS\n  verification of the OAPI endpoint. The default is `false`.\n\n- `launch_block_device_mappings` (array of block device mappings) - Add one\n  or more block devices before the Packer build starts. If you add VM\n  store volumes or BSU volumes in addition to the root device volume, the\n  created OMIS will contain block device mapping information for those\n  volumes. Outscale creates snapshots of the source VM's root volume and\n  any other BSU volumes described here. When you launch an VM from this\n  new OMI, the VM automatically launches with these additional volumes,\n  and will restore them from snapshots taken from the source VM.\n\n- `run_tags` (object of key/value strings) - Tags to apply to the VM\n  that is _launched_ to create the OMI. These tags are _not_ applied to the\n  resulting OMIS unless they're duplicated in `tags`. This is a [template\n  engine](/docs/templates/legacy_json_templates/engine), see [Build template\n  data](#build-template-data) for more information.\n\n- `run_volume_tags` (object of key/value strings) - Tags to apply to the\n  volumes that are _launched_ to create the OMI. These tags are _not_ applied\n  to the resulting OMIS unless they're duplicated in `tags`. This is a\n  [template engine](/docs/templates/legacy_json_templates/engine), see [Build template\n  data](#build-template-data) for more information.\n\n- `security_group_id` (string) - The ID (_not_ the name) of the security\n  group to assign to the VM. By default this is not set and Packer will\n  automatically create a new temporary security group to allow SSH access.\n  Note that if this is specified, you must be sure the security group allows\n  access to the `ssh_port` given below.\n\n- `security_group_ids` (array of strings) - A list of security groups as\n  described above. Note that if this is specified, you must omit the\n  `security_group_id`.\n\n- `shutdown_behavior` (string) - Automatically terminate VMs on\n  shutdown in case Packer exits ungracefully. Possible values are \"stop\" and\n  \"terminate\", default is `stop`.\n\n- `skip_create_omi` (boolean) - Set to true if you want to skip snapshot creation.\n  No image will be created if set to true. Default `false`.\n\n- `skip_region_validation` (boolean) - Set to true if you want to skip\n  validation of the region configuration option. Default `false`.\n\n- `snapshot_groups` (array of strings) - A list of groups that have access to\n  create volumes from the snapshot(s). By default no groups have permission\n  to create volumes from the snapshot(s). `all` will make the snapshot\n  publicly accessible.\n\n- `snapshot_tags` (object of key/value strings) - Tags to apply to snapshot.\n  They will override OMIS tags if already applied to snapshot. This is a\n  [template engine](/docs/templates/legacy_json_templates/engine), see [Build template\n  data](#build-template-data) for more information.\n\n- `source_omi_filter` (object) - Filters used to populate the `source_omi` field.\n\n  - `filters` (map of strings) - filters used to select a `source_omi`.\n  - `owners` (array of strings) - Filters the images by their owner. You may specify one or more Outscale account IDs, \"self\" (which will use the account whose credentials you are using to run Packer). This option is required for security reasons.\n\n    Example:\n    #### HCL\n    ```hcl\n    source_omi_filter {\n      filters = {\n        image-name = \"image-name-in-account\"\n        root-device-type    = \"ebs\" # or \"bsu\"\n        virtualization-type = \"hvm\"\n      }\n      owners      = [\"339215505907\"]\n    }\n    ```\n\n    #### JSON\n    ```json\n    {\n      \"source_omi_filter\": {\n        \"filters\": {\n          \"virtualization-type\": \"hvm\",\n          \"image-name\": \"image-name-in-account\",\n          \"root-device-type\": \"ebs\"\n        },\n        \"owners\": [\"099720109477\"]\n      }\n    }\n    ```\n\n    This selects an Ubuntu 16.04 HVM BSU OMIS from Canonical. NOTE:\n    This will fail unless _exactly_ one OMIS is returned. In the above example,\n    `most_recent` will cause this to succeed by selecting the newest image.\n\n- `ssh_private_key_file` (string) - Path to a PEM encoded private key file to use to authenticate with SSH.\n  The `~` can be used in path and will be expanded to the home directory\n  of current user.\n\n\n- `ssh_keypair_name` (string) - If specified, this is the key that will be used for SSH with the\n  machine. The key must match a key pair name loaded up into the remote.\n  By default, this is blank, and Packer will generate a temporary keypair\n  unless [`ssh_password`](#ssh_password) is used.\n  [`ssh_private_key_file`](#ssh_private_key_file) or\n  [`ssh_agent_auth`](#ssh_agent_auth) must be specified when\n  [`ssh_keypair_name`](#ssh_keypair_name) is utilized.\n\n\n- `ssh_agent_auth` (bool) - If true, the local SSH agent will be used to authenticate connections to\n  the source instance. No temporary keypair will be created, and the\n  values of [`ssh_password`](#ssh_password) and\n  [`ssh_private_key_file`](#ssh_private_key_file) will be ignored. The\n  environment variable `SSH_AUTH_SOCK` must be set for this option to work\n  properly.\n\n\n- `ssh_interface` (string) - One of `public_ip`, `private_ip`, `public_dns`, or `private_dns`. If set, either the public IP address, private IP address, public DNS name or private DNS name will used as the host for SSH. The default behaviour if inside a Net is to use the public IP address if available, otherwise the private IP address will be used. If not in a Net the public DNS name will be used. Also works for WinRM.\n\n  Where Packer is configured for an outbound proxy but WinRM traffic should be direct, `ssh_interface` must be set to `private_dns` and `\u003cregion\u003e.compute.internal` included in the `NO_PROXY` environment variable.\n\n- `subnet_id` (string) - If using Net, the ID of the subnet, such as `subnet-12345def`, where Packer will launch the VM. This field is required if you are using an non-default Net.\n\n- `tags` (object of key/value strings) - Tags applied to the OMIS and relevant snapshots. This is a [template engine](/docs/templates/legacy_json_templates/engine), see [Build template data](#build-template-data) for more information.\n\n- `temporary_key_pair_name` (string) - The name of the temporary key pair to generate. By default, Packer generates a name that looks like `packer_\u003cUUID\u003e`, where \u0026lt;UUID\u0026gt; is a 36 character unique identifier.\n\n- `temporary_security_group_source_cidr` (string) - An IPv4 CIDR block to be authorized access to the VM, when packer is creating a temporary security group. The default is `0.0.0.0/0` (i.e., allow any IPv4 source). This is only used when `security_group_id` or `security_group_ids` is not specified.\n\n- `user_data` (string) - User data to apply when launching the VM. Note that you need to be careful about escaping characters due to the templates being JSON. It is often more convenient to use `user_data_file`, instead. Packer will not automatically wait for a user script to finish before shutting down the VM this must be handled in a provisioner.\n\n- `user_data_file` (string) - Path to a file that will be used for the user data when launching the VM.\n\n- `net_id` (string) - If launching into a Net subnet, Packer needs the Net ID in order to create a temporary security group within the Net. Requires `subnet_id` to be set. If this field is left blank, Packer will try to get the Net ID from the `subnet_id`.\n\n- `net_filter` (object) - Filters used to populate the `net_id` field.\n  Example:\n\n  ```json\n  {\n    \"net_filter\": {\n      \"filters\": {\n        \"is-default\": \"false\",\n        \"ip-range\": \"/24\"\n      }\n    }\n  }\n  ```\n\n  This selects the Net with a IPv4 CIDR block of `/24`. NOTE: This will fail unless _exactly_ one Net is returned.\n\n  - `filters` (map of strings) - filters used to select a `vpc_id`. NOTE: This will fail unless _exactly_ one Net is returned.\n\n    `net_id` take precedence over this.\n\n- `windows_password_timeout` (string) - The timeout for waiting for a Windows password for Windows VMs. Defaults to 20 minutes. Example value: `10m`\n\n## Basic Example\n\nHere is a basic example. You will need to provide access keys, and may need to change the OMIS IDs according to what images exist at the time the template is run:\n#### HCL\n```hcl\nsource \"outscale-bsu\" \"basic-example\" {\n   region             = \"us-east-1\"\n   vm_type            = \"t2.micro\"\n   source_omi         = \"ami-abcfd0283\"\n   omi_name           = \"packer_osc_{{timestamp}}\"\n   ssh_username       = \"outscale\"\n   ssh_interface      = \"public_ip\"\n}\n\n```\n#### JSON\n```json\n{\n  \"variables\": {\n    \"access_key\": \"{{env `OUTSCALE_ACCESSKEYID`}}\",\n    \"secret_key\": \"{{env `OUTSCALE_SECRETKEYID`}}\"\n  },\n  \"builders\": [\n    {\n      \"type\": \"outscale-bsu\",\n      \"access_key\": \"{{user `access_key`}}\",\n      \"secret_key\": \"{{user `secret_key`}}\",\n      \"region\": \"us-east-1\",\n      \"source_omi\": \"ami-abcfd0283\",\n      \"vm_type\": \"t2.micro\",\n      \"ssh_username\": \"outscale\",\n      \"omi_name\": \"packer_osc {{timestamp}}\"\n    }\n  ]\n}\n```\n\n-\u003e **Note:** Packer can also read the access key and secret access key from\nenvironmental variables. See the configuration reference in the section above\nfor more information on what environmental variables Packer will look for.\n\nFurther information on locating OMIS IDs and their relationship to VM\ntypes and regions can be found in the Outscale Documentation [reference](https://docs.outscale.com/en/userguide/Official-OMIs-Reference.html).\n\n## Accessing the Instance to Debug\n\nIf you need to access the VM to debug for some reason, run the builder\nwith the `-debug` flag. In debug mode, the Outscale builder will save the private key in the current directory and will output the DNS or IP information as well.\nYou can use this information to access the VM as it is running.\n\n## OMIS Block Device Mappings Example\n\nHere is an example using the optional OMIS block device mappings. Our\nconfiguration of `launch_block_device_mappings` will expand the root volume\n(`/dev/sda`) to 40gb during the build (up from the default of 8gb). With\n`omi_block_device_mappings` Outscale will attach additional volumes `/dev/sdb` and\n`/dev/sdc` when we boot a new VM of our OMI.\n\n#### HCL\n##### with `launch_block_device_mappings`\n```hcl\n// export osc_access_key=$YOURKEY\nvariable \"osc_access_key\" {\n  type = string\n  // default = \"hardcoded_key\"\n}\n\n// export osc_secret_key=$YOURSECRETKEY\nvariable \"osc_secret_key\" {\n  type = string\n  // default = \"hardcoded_secret_key\"\n}\n\nsource \"outscale-bsu\" \"basic-example\" {\n  region             = \"us-east-1\"\n  vm_type            = \"t2.micro\"\n  source_omi         = \"ami-abcfd0283\"\n  omi_name           = \"packer_osc_{{timestamp}}\"\n  ssh_username       = \"outscale\"\n  ssh_interface      = \"public_ip\"\n\n  launch_block_device_mappings {\n    delete_on_vm_deletion = false\n    device_name           = \"/dev/sda1\"\n    volume_size           = 40\n    volume_type           = \"gp2\"\n  }\n  launch_block_device_mappings {\n    device_name = \"/dev/sdc\"\n    volume_size = 50\n    volume_type = \"gp2\"\n  }\n  launch_block_device_mappings {\n    device_name = \"/dev/sdc\"\n    volume_size = 100\n    volume_type = \"gp2\"\n  }\n}\n\n```\n##### with `omi_block_device_mappings`\n```hcl\n// export osc_access_key=$YOURKEY\nvariable \"aws_access_key\" {\n  type = string\n  // default = \"hardcoded_key\"\n}\n\n// export osc_secret_key=$YOURSECRETKEY\nvariable \"aws_secret_key\" {\n  type = string\n  // default = \"hardcoded_secret_key\"\n}\n\nsource \"outscale-bsu\" \"basic-example\" {\n  region             = \"us-east-1\"\n  vm_type            = \"t2.micro\"\n  source_omi         = \"ami-abcfd0283\"\n  omi_name           = \"packer_osc_{{timestamp}}\"\n  root_device_name   = \"/dev/sda1\"\n  ssh_username       = \"outscale\"\n  ssh_interface      = \"public_ip\"\n\n  omi_block_device_mappings {\n    delete_on_vm_deletion = false\n    device_name           = \"/dev/sda1\"\n    snapshot_id           = \"snap-792fce69\"\n    volume_size           = 40\n    volume_type           = \"gp2\"\n  }\n  omi_block_device_mappings {\n    device_name = \"/dev/sdc\"\n    snapshot_id = \"snap-792fce69\"\n    volume_size = 50\n    volume_type = \"gp2\"\n  }\n}\n\n```\n\n```json\n{\n  \"type\": \"outscale-bsu\",\n  \"access_key\": \"YOUR KEY HERE\",\n  \"secret_key\": \"YOUR SECRET KEY HERE\",\n  \"region\": \"us-east-1\",\n  \"source_omi\": \"ami-fce3c696\",\n  \"vm_type\": \"t2.micro\",\n  \"ssh_username\": \"ubuntu\",\n  \"omi_name\": \"packer-quick-start {{timestamp}}\",\n  \"launch_block_device_mappings\": [\n    {\n      \"device_name\": \"/dev/sda1\",\n      \"volume_size\": 40,\n      \"volume_type\": \"gp2\",\n      \"delete_on_vm_deletion\": true\n    }\n  ],\n  \"launch_block_device_mappings\": [\n    {\n      \"device_name\": \"/dev/sdb\",\n      \"volume_size\": 50,\n      \"volume_type\": \"gp2\"\n    },\n    {\n      \"device_name\": \"/dev/sdc\",\n      \"volume_size\": 100,\n      \"volume_type\": \"gp2\"\n    }\n  ]\n}\n```\n\n## Build template data\n\nIn configuration directives marked as a template engine above, the following variables are available:\n\n- `BuildRegion` - The region (for example `eu-west-2`) where Packer is building the OMI.\n- `SourceOMI` - The source OMIS ID (for example `ami-a2412fcd`) used to build the OMI.\n- `SourceOMIName` - The source OMIS Name (for example `ubutu-390`) used to build the OMI.\n- `SourceOMITags` - The source OMIS Tags, as a `map[string]string` object.\n\n## Tag Example\n\nHere is an example using the optional OMIS tags. This will add the tags `OS_Version` and `Release` to the finished OMI. As before, you will need to provide your access keys, and may need to change the source OMIS ID based on what images exist when this template is run:\n\n```json\n{\n  \"type\": \"outscale-bsu\",\n  \"access_key\": \"YOUR KEY HERE\",\n  \"secret_key\": \"YOUR SECRET KEY HERE\",\n  \"region\": \"us-east-1\",\n  \"source_omi\": \"ami-fce3c696\",\n  \"vm_type\": \"t2.micro\",\n  \"ssh_username\": \"ubuntu\",\n  \"omi_name\": \"packer-quick-start {{timestamp}}\",\n  \"tags\": {\n    \"OS_Version\": \"Ubuntu\",\n    \"Release\": \"Latest\",\n    \"Base_OMI_Name\": \"{{ .SourceOMIName }}\",\n    \"Extra\": \"{{ .SourceOMITags.TagName }}\"\n  }\n}\n```\n\n-\u003e **Note:** Packer uses pre-built OMIs as the source for building images.\nThese source OMIs may include volumes that are not flagged to be destroyed on\ntermination of the VM building the new image. Packer will attempt to\nclean up all residual volumes that are not designated by the user to remain\nafter termination. If you need to preserve those source volumes, you can\noverwrite the termination setting by specifying `delete_on_vm_deletion=false`\nin the `launch_block_device_mappings` block for the device.\n","created_at":"2025-01-30T14:55:38.724Z","updated_at":"2025-01-30T14:55:38.724Z","name":"Outscale BSU","slug":"bsu","component":{"id":"36076511-3ced-4faf-addf-101fce0405ff","slug":"builder","name":"Builder","plural_name":"Builders","product_id":"4c2b00c6-7cc1-4e4c-b596-4ab57e319f21","created_at":"2022-11-09T22:56:30.937Z","updated_at":"2022-11-09T22:56:30.937Z"},"variable_groups":[]}]},"component":{"id":"ad6ddaf5-f31d-4ed2-a413-d653ee2b0562","integration_release_id":"366af2f3-624d-4e27-a154-9571730b61e1","component_id":"36076511-3ced-4faf-addf-101fce0405ff","readme":"Type: `outscale-chroot`\nArtifact BuilderId: `oapi.outscale.chroot`\n\nThe `outscale-chroot` Packer builder is able to create Outscale Machine Images (OMIs) backed by an\nBSU volume as the root device. For more information on the difference between\ninstance storage and BSU-backed instances, see the [\"storage for the root\ndevice\" section in the Outscale\ndocumentation](https://docs.outscale.com/en/userguide/Home.html).\n\nThe difference between this builder and the `outscale-bsu` builder is that this\nbuilder is able to build an BSU-backed OMI without launching a new Outscale\nVM. This can dramatically speed up OMI builds for organizations who need\nthe extra fast build.\n\n~\u003e **This is an advanced builder** If you're just getting started with\nPacker, we recommend starting with the [outscale-bsu\nbuilder](/docs/builder/outscale-bsu), which is much easier to use.\n\nThe builder does _not_ manage OMIs. Once it creates an OMI and stores it in\nyour account, it is up to you to use, delete, etc., the OMI.\n\n## How Does it Work?\n\nThis builder works by creating a new BSU volume from an existing source OMI and\nattaching it into an already-running Outscale VM. Once attached, a\n[chroot](https://en.wikipedia.org/wiki/Chroot) is used to provision the system\nwithin that volume. After provisioning, the volume is detached, snapshotted,\nand an OMI is made.\n\nUsing this process, minutes can be shaved off the OMI creation process because\na new Outscale VM doesn't need to be launched.\n\nThere are some restrictions, however. The host Outscale instance where the volume is\nattached to must be a similar system (generally the same OS version, kernel\nversions, etc.) as the OMI being built. Additionally, this process is much more\nexpensive because the Outscale VM must be kept running persistently in order\nto build OMIs, whereas the other OMI builders start VMs on-demand to\nbuild OMIs as needed.\n\n## Configuration Reference\n\nThere are many configuration options available for the builder. They are\nsegmented below into two categories: required and optional parameters. Within\neach category, the available configuration keys are alphabetized.\n\n### Required:\n\n- `access_key` (string) - The access key used to communicate with OUTSCALE. [Learn how to set this](/docs/builder/outscale#authentication)\n\n- `omi_name` (string) - The name of the resulting OMIS that will appear when managing OMIs in the Outscale console or via APIs. This must be unique. To help make this unique, use a function like `timestamp` (see [template engine](/docs/templates/legacy_json_templates/engine) for more info).\n\n- `secret_key` (string) - The secret key used to communicate with Outscale. [Learn how to set this](/docs/builder/outscale#authentication)\n\n- `source_omi` (string) - The initial OMI used as a base for the newly created machine. `source_omi_filter` may be used instead to populate this automatically.\n\n### Optional:\n\n- `omi_description` (string) - The description to set for the resulting OMI(s).\n  By default this description is empty. This is a [template engine](/docs/templates/legacy_json_templates/engine),\n  see [Build template data](#build-template-data) for more information.\n\n- `omi_account_ids` (array of strings) - A list of account IDs that have access to launch the resulting OMI(s). By default no additional users other than the user creating the OMIS has permissions to launch it.\n\n- `product_codes` ([]string) - A list of product codes to associate with the OMI. By default no product codes are associated with the OMI.\n\n- `global_permission` (boolean) - This option is useful to make the OMI publicly accessible.\n\n- `omi_virtualization_type` (string) - The type of virtualization for the OMI you are building. This option must match the supported virtualization type of `source_omi`. Can be `paravirtual` or `hvm`.\n\n- `chroot_mounts` (array of array of strings) - This is a list of devices to\n  mount into the chroot environment. This configuration parameter requires\n  some additional documentation which is in the [Chroot\n  Mounts](#chroot-mounts) section. Please read that section for more\n  information on how to use this.\n\n- `command_wrapper` (string) - How to run shell commands. This defaults to\n  `{{.Command}}`. This may be useful to set if you want to set environmental\n  variables or perhaps run it with `sudo` or so on. This is a configuration\n  template where the `.Command` variable is replaced with the command to be\n  run. Defaults to `{{.Command}}`.\n\n- `copy_files` (array of strings) - Paths to files on the running Outscale\n  VM that will be copied into the chroot environment prior to\n  provisioning. Defaults to `/etc/resolv.conf` so that DNS lookups work. Pass\n  an empty list to skip copying `/etc/resolv.conf`. You may need to do this\n  if you're building an image that uses systemd.\n\n- `custom_endpoint_oapi` (string) - This option is useful if you use a cloud\n  provider whose API is compatible with Outscale OAPI. Specify another endpoint\n  like this `outscale.com/oapi/latest`.\n\n- `device_path` (string) - The path to the device where the root volume of\n  the source OMI will be attached. This defaults to \"\" (empty string), which\n  forces Packer to find an open device automatically.\n\n- `force_deregister` (boolean) - Force Packer to first deregister an existing\n  OMIS if one with the same name already exists. Default `false`.\n\n- `force_delete_snapshot` (boolean) - Force Packer to delete snapshots\n  associated with OMIs, which have been deregistered by `force_deregister`.\n  Default `false`.\n\n- `insecure_skip_tls_verify` (boolean) - This allows skipping TLS\n  verification of the OAPI endpoint. The default is `false`.\n\n- `from_scratch` (boolean) - Build a new volume instead of starting from an\n  existing OMI root volume snapshot. Default `false`. If `true`, `source_omi`\n  is no longer used and the following options become required:\n  `omi_virtualization_type`, `pre_mount_commands` and `root_volume_size`. The\n  below options are also required in this mode only:\n\n- `omi_block_device_mappings` (array of block device mappings) - Add one or more [block device mappings](https://docs.outscale.com/en/userguide/Defining-Block-Device-Mappings.html) to the OMI. These will be attached when booting a new VM from your OMI. To add a block device during the Packer build see `launch_block_device_mappings` below. Your options here may vary depending on the type of VM you use. The block device mappings allow for the following configuration:\n\n  - `delete_on_vm_deletion` (boolean) - Indicates whether the BSU volume is deleted on VM termination. Default `false`. **NOTE**: If this value is not explicitly set to `true` and volumes are not cleaned up by an alternative method, additional volumes will accumulate after every build.\n\n  - `device_name` (string) - The device name exposed to the VM (for example, `/dev/sdh` or `xvdh`). Required for every device in the block device mapping.\n\n  - `iops` (number) - The number of I/O operations per second (IOPS) that the volume supports. See the documentation on\n    [IOPs](https://docs.outscale.com/en/userguide/About-Volumes.html#_volume_types_and_iops)\n    for more information\n\n  - `no_device` (boolean) - Suppresses the specified device included in the\n    block device mapping of the OMI\n\n  - `snapshot_id` (string) - The ID of the snapshot\n\n  - `virtual_name` (string) - The virtual device name. See the documentation on [Block Device Mapping](https://docs.outscale.com/en/userguide/Defining-Block-Device-Mappings.html) for more information\n\n  - `volume_size` (number) - The size of the volume, in GiB. Required if not specifying a `snapshot_id`\n\n  - `volume_type` (string) - The volume type. `gp2` for General Purpose (SSD) volumes, `io1` for Provisioned IOPS (SSD) volumes, and `standard` for Magnetic volumes\n\n- `root_device_name` (string) - The root device name. For example, `xvda`.\n\n- `mount_path` (string) - The path where the volume will be mounted. This is\n  where the chroot environment will be. This defaults to\n  `/mnt/packer-amazon-chroot-volumes/{{.Device}}`. This is a configuration\n  template where the `.Device` variable is replaced with the name of the\n  device where the volume is attached.\n\n- `mount_partition` (string) - The partition number containing the /\n  partition. By default this is the first partition of the volume, (for\n  example, `xvdf1`) but you can designate the entire block device by setting\n  `\"mount_partition\": \"0\"` in your config, which will mount `xvdf` instead.\n\n- `mount_options` (array of strings) - Options to supply the `mount` command\n  when mounting devices. Each option will be prefixed with `-o` and supplied\n  to the `mount` command ran by Packer. Because this command is ran in a\n  shell, user discretion is advised. See [this manual page for the mount\n  command](https://linux.die.net/man/8/mount) for valid file\n  system specific options.\n\n- `nvme_device_path` (string) - When we call the mount command (by default\n  `mount -o device dir`), the string provided in `nvme_mount_path` will\n  replace `device` in that command. When this option is not set, `device` in\n  that command will be something like `/dev/sdf1`, mirroring the attached\n  device name. This assumption works for most instances but will fail with c5\n  and m5 instances. In order to use the chroot builder with c5 and m5\n  instances, you must manually set `nvme_device_path` and `device_path`.\n\n- `pre_mount_commands` (array of strings) - A series of commands to execute\n  after attaching the root volume and before mounting the chroot. This is not\n  required unless using `from_scratch`. If so, this should include any\n  partitioning and filesystem creation commands. The path to the device is\n  provided by `{{.Device}}`.\n\n- `post_mount_commands` (array of strings) - As `pre_mount_commands`, but the\n  commands are executed after mounting the root device and before the extra\n  mount and copy steps. The device and mount path are provided by\n  `{{.Device}}` and `{{.MountPath}}`.\n\n- `root_volume_size` (number) - The size of the root volume in GB for the\n  chroot environment and the resulting OMI. Default size is the snapshot size\n  of the `source_omi` unless `from_scratch` is `true`, in which case this\n  field must be defined.\n\n- `root_volume_type` (string) - The type of BSU volume for the chroot\n  environment and resulting OMI. The default value is the type of the\n  `source_omi`, unless `from_scratch` is `true`, in which case the default\n  value is `gp2`. You can only specify `io1` if building based on top of a\n  `source_omi` which is also `io1`.\n\n- `root_volume_tags` (object of key/value strings) - Tags to apply to the\n  volumes that are _launched_. This is a [template\n  engine](/docs/templates/legacy_json_templates/engine), see [Build template\n  data](#build-template-data) for more information.\n\n- `skip_region_validation` (boolean) - Set to true if you want to skip\n  validation of the region configuration option. Default `false`.\n\n- `snapshot_tags` (object of key/value strings) - Tags to apply to snapshot.\n  They will override OMI tags if already applied to snapshot. This is a\n  [template engine](/docs/templates/legacy_json_templates/engine), see [Build template\n  data](#build-template-data) for more information.\n\n- `source_omi_filter` (object) - Filters used to populate the `source_omi` field.\n\n  - `filters` (map of strings) - filters used to select a `source_omi`.\n  - `owners` (array of strings) - Filters the images by their owner. You may specify one or more Outscale account IDs, \"self\" (which will use the account whose credentials you are using to run Packer) or an Outscale owner alias. This option is required for security reasons.\n\n    Example:\n\n    ```json\n    {\n      \"source_omi_filter\": {\n        \"filters\": {\n          \"virtualization-type\": \"hvm\",\n          \"image-name\": \"ubuntu/images/*ubuntu-xenial-16.04-amd64-server-*\",\n          \"root-device-type\": \"ebs\"\n        },\n        \"owners\": [\"099720109477\"]\n      }\n    }\n    ```\n\n    This selects an Ubuntu 16.04 HVM BSU OMIS from Canonical. NOTE:\n    This will fail unless _exactly_ one OMIS is returned. In the above example,\n    `most_recent` will cause this to succeed by selecting the newest image.\n\n    You may set this in place of `source_omi` or in conjunction with it. If you\n    set this in conjunction with `source_omi`, the `source_omi` will be added\n    to the filter. The provided `source_omi` must meet all of the filtering\n    criteria provided in `source_omi_filter`; this pins the OMI returned by the\n    filter, but will cause Packer to fail if the `source_omi` does not exist.\n\n- `tags` (object of key/value strings) - Tags applied to the OMI. This is a\n  [template engine](/docs/templates/legacy_json_templates/engine), see [Build template\n  data](#build-template-data) for more information.\n\n## Basic Example\n\nHere is a basic example. It is completely valid except for the access keys:\n\n```json\n{\n  \"type\": \"outscale-chroot\",\n  \"access_key\": \"YOUR KEY HERE\",\n  \"secret_key\": \"YOUR SECRET KEY HERE\",\n  \"source_omi\": \"ami-3e158364\",\n  \"omi_name\": \"packer-outscale-chroot {{timestamp}}\"\n}\n```\n\n## Chroot Mounts\n\nThe `chroot_mounts` configuration can be used to mount specific devices within\nthe chroot. By default, the following additional mounts are added into the\nchroot by Packer:\n\n- `/proc` (proc)\n- `/sys` (sysfs)\n- `/dev` (bind to real `/dev`)\n- `/dev/pts` (devpts)\n- `/proc/sys/fs/binfmt_misc` (binfmt_misc)\n\nThese default mounts are usually good enough for anyone and are sane defaults.\nHowever, if you want to change or add the mount points, you may using the\n`chroot_mounts` configuration. Here is an example configuration which only\nmounts `/proc` and `/dev`:\n\n```json\n{\n  \"chroot_mounts\": [\n    [\"proc\", \"proc\", \"/proc\"],\n    [\"bind\", \"/dev\", \"/dev\"]\n  ]\n}\n```\n\n`chroot_mounts` is a list of a 3-tuples of strings. The three components of the\n3-tuple, in order, are:\n\n- The filesystem type. If this is \"bind\", then Packer will properly bind the\n  filesystem to another mount point.\n\n- The source device.\n\n- The mount directory.\n\n## Parallelism\n\nA quick note on parallelism: it is perfectly safe to run multiple _separate_\nPacker processes with the `outscale-chroot` builder on the same Outscale VM. In\nfact, this is recommended as a way to push the most performance out of your OMI\nbuilds.\n\nPacker properly obtains a process lock for the parallelism-sensitive parts of\nits internals such as finding an available device.\n\n## Gotchas\n\n### Unmounting the Filesystem\n\nOne of the difficulties with using the chroot builder is that your provisioning\nscripts must not leave any processes running or packer will be unable to\nunmount the filesystem.\n\nFor debian based distributions you can setup a\n[policy-rc.d](http://people.debian.org/~hmh/invokerc.d-policyrc.d-specification.txt)\nfile which will prevent packages installed by your provisioners from starting\nservices:\n\n```json\n({\n  \"type\": \"shell\",\n  \"inline\": [\n    \"echo '#!/bin/sh' \u003e /usr/sbin/policy-rc.d\",\n    \"echo 'exit 101' \u003e\u003e /usr/sbin/policy-rc.d\",\n    \"chmod a+x /usr/sbin/policy-rc.d\"\n  ]\n},\n{\n  \"type\": \"shell\",\n  \"inline\": [\"rm -f /usr/sbin/policy-rc.d\"]\n})\n```\n\n### Ansible provisioner\n\nRunning `ansible` against `outscale-chroot` requires changing the Ansible connection\nto chroot and running Ansible as root/sudo.\n\n## Building From Scratch\n\nThis example demonstrates the essentials of building an image from scratch. A\n15G gp2 (SSD) device is created (overriding the default of standard/magnetic).\nThe device setup commands partition the device with one partition for use as an\nHVM image and format it ext4. This builder block should be followed by\nprovisioning commands to install the os and bootloader.\n\n```json\n{\n  \"type\": \"outscale-chroot\",\n  \"ami_name\": \"packer-from-scratch {{timestamp}}\",\n  \"from_scratch\": true,\n  \"ami_virtualization_type\": \"hvm\",\n  \"pre_mount_commands\": [\n    \"parted {{.Device}} mklabel msdos mkpart primary 1M 100% set 1 boot on print\",\n    \"mkfs.ext4 {{.Device}}1\"\n  ],\n  \"root_volume_size\": 15,\n  \"root_device_name\": \"xvdf\",\n  \"ami_block_device_mappings\": [\n    {\n      \"device_name\": \"xvdf\",\n      \"delete_on_termination\": true,\n      \"volume_type\": \"gp2\"\n    }\n  ]\n}\n```\n\n## Build template data\n\nIn configuration directives marked as a template engine above, the following\nvariables are available:\n\n- `BuildRegion` - The region (for example `eu-west-2`) where Packer is building the OMI.\n- `SourceOMI` - The source OMIS ID (for example `ami-a2412fcd`) used to build the OMI.\n- `SourceOMIName` - The source OMIS Name (for example `ubuntu-390`) used to build the OMI.\n- `SourceOMITags` - The source OMIS Tags, as a `map[string]string` object\n","created_at":"2025-01-30T14:55:38.395Z","updated_at":"2025-01-30T14:55:38.395Z","name":"Outscale chroot","slug":"chroot","component":{"id":"36076511-3ced-4faf-addf-101fce0405ff","slug":"builder","name":"Builder","plural_name":"Builders","product_id":"4c2b00c6-7cc1-4e4c-b596-4ab57e319f21","created_at":"2022-11-09T22:56:30.937Z","updated_at":"2022-11-09T22:56:30.937Z"},"variable_groups":[]},"processedVariablesMarkdown":{},"anchorLinks":[{"id":"how-does-it-work","level":2,"title":"How Does it Work?"},{"id":"configuration-reference","level":2,"title":"Configuration Reference"},{"id":"required:","level":3,"title":"Required:"},{"id":"optional:","level":3,"title":"Optional:"},{"id":"basic-example","level":2,"title":"Basic Example"},{"id":"chroot-mounts","level":2,"title":"Chroot Mounts"},{"id":"parallelism","level":2,"title":"Parallelism"},{"id":"gotchas","level":2,"title":"Gotchas"},{"id":"unmounting-the-filesystem","level":3,"title":"Unmounting the Filesystem"},{"id":"ansible-provisioner","level":3,"title":"Ansible provisioner"},{"id":"building-from-scratch","level":2,"title":"Building From Scratch"},{"id":"build-template-data","level":2,"title":"Build template data"}],"serializedREADME":{"compiledSource":"const layoutProps={};const MDXLayout=\"wrapper\";function MDXContent({components,...props}){return mdx(MDXLayout,{...layoutProps,...props,components:components,mdxType:\"MDXLayout\"},mdx(\"p\",{\"className\":\"g-type-long-body\"},`Type: `,mdx(\"inlineCode\",{parentName:\"p\"},`outscale-chroot`),`\nArtifact BuilderId: `,mdx(\"inlineCode\",{parentName:\"p\"},`oapi.outscale.chroot`)),mdx(\"p\",{\"className\":\"g-type-long-body\"},`The `,mdx(\"inlineCode\",{parentName:\"p\"},`outscale-chroot`),` Packer builder is able to create Outscale Machine Images (OMIs) backed by an\nBSU volume as the root device. For more information on the difference between\ninstance storage and BSU-backed instances, see the `,mdx(\"a\",{parentName:\"p\",\"href\":\"https://docs.outscale.com/en/userguide/Home.html\"},`\"storage for the root\ndevice\" section in the Outscale\ndocumentation`),`.`),mdx(\"p\",{\"className\":\"g-type-long-body\"},`The difference between this builder and the `,mdx(\"inlineCode\",{parentName:\"p\"},`outscale-bsu`),` builder is that this\nbuilder is able to build an BSU-backed OMI without launching a new Outscale\nVM. This can dramatically speed up OMI builds for organizations who need\nthe extra fast build.`),mdx(\"div\",{\"className\":\"alert alert-warning g-type-body\"},mdx(\"p\",{parentName:\"div\",\"className\":\"g-type-long-body\"},``,mdx(\"strong\",{parentName:\"p\"},`This is an advanced builder`),` If you're just getting started with\nPacker, we recommend starting with the `,mdx(\"a\",{parentName:\"p\",\"href\":\"/docs/builder/outscale-bsu\"},`outscale-bsu\nbuilder`),`, which is much easier to use.`)),mdx(\"p\",{\"className\":\"g-type-long-body\"},`The builder does `,mdx(\"em\",{parentName:\"p\"},`not`),` manage OMIs. Once it creates an OMI and stores it in\nyour account, it is up to you to use, delete, etc., the OMI.`),mdx(\"h2\",{\"id\":\"user-content-how-does-it-work\",\"data-text-content\":\"How Does it Work\",\"className\":\"g-type-display-3\"},`How Does it Work?`),mdx(\"p\",{\"className\":\"g-type-long-body\"},`This builder works by creating a new BSU volume from an existing source OMI and\nattaching it into an already-running Outscale VM. Once attached, a\n`,mdx(\"a\",{parentName:\"p\",\"href\":\"https://en.wikipedia.org/wiki/Chroot\"},`chroot`),` is used to provision the system\nwithin that volume. After provisioning, the volume is detached, snapshotted,\nand an OMI is made.`),mdx(\"p\",{\"className\":\"g-type-long-body\"},`Using this process, minutes can be shaved off the OMI creation process because\na new Outscale VM doesn't need to be launched.`),mdx(\"p\",{\"className\":\"g-type-long-body\"},`There are some restrictions, however. The host Outscale instance where the volume is\nattached to must be a similar system (generally the same OS version, kernel\nversions, etc.) as the OMI being built. Additionally, this process is much more\nexpensive because the Outscale VM must be kept running persistently in order\nto build OMIs, whereas the other OMI builders start VMs on-demand to\nbuild OMIs as needed.`),mdx(\"h2\",{\"id\":\"user-content-configuration-reference\",\"data-text-content\":\"Configuration Reference\",\"className\":\"g-type-display-3\"},`Configuration Reference`),mdx(\"p\",{\"className\":\"g-type-long-body\"},`There are many configuration options available for the builder. They are\nsegmented below into two categories: required and optional parameters. Within\neach category, the available configuration keys are alphabetized.`),mdx(\"h3\",{\"id\":\"user-content-required:\",\"data-text-content\":\"Required\",\"className\":\"g-type-display-4\"},`Required:`),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`access_key`),` (string) - The access key used to communicate with OUTSCALE. `,mdx(\"a\",{parentName:\"p\",\"href\":\"/docs/builder/outscale#authentication\"},`Learn how to set this`))),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`omi_name`),` (string) - The name of the resulting OMIS that will appear when managing OMIs in the Outscale console or via APIs. This must be unique. To help make this unique, use a function like `,mdx(\"inlineCode\",{parentName:\"p\"},`timestamp`),` (see `,mdx(\"a\",{parentName:\"p\",\"href\":\"/docs/templates/legacy_json_templates/engine\"},`template engine`),` for more info).`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`secret_key`),` (string) - The secret key used to communicate with Outscale. `,mdx(\"a\",{parentName:\"p\",\"href\":\"/docs/builder/outscale#authentication\"},`Learn how to set this`))),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`source_omi`),` (string) - The initial OMI used as a base for the newly created machine. `,mdx(\"inlineCode\",{parentName:\"p\"},`source_omi_filter`),` may be used instead to populate this automatically.`))),mdx(\"h3\",{\"id\":\"user-content-optional:\",\"data-text-content\":\"Optional\",\"className\":\"g-type-display-4\"},`Optional:`),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`omi_description`),` (string) - The description to set for the resulting OMI(s).\nBy default this description is empty. This is a `,mdx(\"a\",{parentName:\"p\",\"href\":\"/docs/templates/legacy_json_templates/engine\"},`template engine`),`,\nsee `,mdx(\"a\",{parentName:\"p\",\"href\":\"#build-template-data\"},`Build template data`),` for more information.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`omi_account_ids`),` (array of strings) - A list of account IDs that have access to launch the resulting OMI(s). By default no additional users other than the user creating the OMIS has permissions to launch it.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`product_codes`),` ([]string) - A list of product codes to associate with the OMI. By default no product codes are associated with the OMI.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`global_permission`),` (boolean) - This option is useful to make the OMI publicly accessible.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`omi_virtualization_type`),` (string) - The type of virtualization for the OMI you are building. This option must match the supported virtualization type of `,mdx(\"inlineCode\",{parentName:\"p\"},`source_omi`),`. Can be `,mdx(\"inlineCode\",{parentName:\"p\"},`paravirtual`),` or `,mdx(\"inlineCode\",{parentName:\"p\"},`hvm`),`.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`chroot_mounts`),` (array of array of strings) - This is a list of devices to\nmount into the chroot environment. This configuration parameter requires\nsome additional documentation which is in the `,mdx(\"a\",{parentName:\"p\",\"href\":\"#chroot-mounts\"},`Chroot\nMounts`),` section. Please read that section for more\ninformation on how to use this.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`command_wrapper`),` (string) - How to run shell commands. This defaults to\n`,mdx(\"inlineCode\",{parentName:\"p\"},`{{.Command}}`),`. This may be useful to set if you want to set environmental\nvariables or perhaps run it with `,mdx(\"inlineCode\",{parentName:\"p\"},`sudo`),` or so on. This is a configuration\ntemplate where the `,mdx(\"inlineCode\",{parentName:\"p\"},`.Command`),` variable is replaced with the command to be\nrun. Defaults to `,mdx(\"inlineCode\",{parentName:\"p\"},`{{.Command}}`),`.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`copy_files`),` (array of strings) - Paths to files on the running Outscale\nVM that will be copied into the chroot environment prior to\nprovisioning. Defaults to `,mdx(\"inlineCode\",{parentName:\"p\"},`/etc/resolv.conf`),` so that DNS lookups work. Pass\nan empty list to skip copying `,mdx(\"inlineCode\",{parentName:\"p\"},`/etc/resolv.conf`),`. You may need to do this\nif you're building an image that uses systemd.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`custom_endpoint_oapi`),` (string) - This option is useful if you use a cloud\nprovider whose API is compatible with Outscale OAPI. Specify another endpoint\nlike this `,mdx(\"inlineCode\",{parentName:\"p\"},`outscale.com/oapi/latest`),`.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`device_path`),` (string) - The path to the device where the root volume of\nthe source OMI will be attached. This defaults to \"\" (empty string), which\nforces Packer to find an open device automatically.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`force_deregister`),` (boolean) - Force Packer to first deregister an existing\nOMIS if one with the same name already exists. Default `,mdx(\"inlineCode\",{parentName:\"p\"},`false`),`.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`force_delete_snapshot`),` (boolean) - Force Packer to delete snapshots\nassociated with OMIs, which have been deregistered by `,mdx(\"inlineCode\",{parentName:\"p\"},`force_deregister`),`.\nDefault `,mdx(\"inlineCode\",{parentName:\"p\"},`false`),`.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`insecure_skip_tls_verify`),` (boolean) - This allows skipping TLS\nverification of the OAPI endpoint. The default is `,mdx(\"inlineCode\",{parentName:\"p\"},`false`),`.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`from_scratch`),` (boolean) - Build a new volume instead of starting from an\nexisting OMI root volume snapshot. Default `,mdx(\"inlineCode\",{parentName:\"p\"},`false`),`. If `,mdx(\"inlineCode\",{parentName:\"p\"},`true`),`, `,mdx(\"inlineCode\",{parentName:\"p\"},`source_omi`),`\nis no longer used and the following options become required:\n`,mdx(\"inlineCode\",{parentName:\"p\"},`omi_virtualization_type`),`, `,mdx(\"inlineCode\",{parentName:\"p\"},`pre_mount_commands`),` and `,mdx(\"inlineCode\",{parentName:\"p\"},`root_volume_size`),`. The\nbelow options are also required in this mode only:`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`omi_block_device_mappings`),` (array of block device mappings) - Add one or more `,mdx(\"a\",{parentName:\"p\",\"href\":\"https://docs.outscale.com/en/userguide/Defining-Block-Device-Mappings.html\"},`block device mappings`),` to the OMI. These will be attached when booting a new VM from your OMI. To add a block device during the Packer build see `,mdx(\"inlineCode\",{parentName:\"p\"},`launch_block_device_mappings`),` below. Your options here may vary depending on the type of VM you use. The block device mappings allow for the following configuration:`),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`delete_on_vm_deletion`),` (boolean) - Indicates whether the BSU volume is deleted on VM termination. Default `,mdx(\"inlineCode\",{parentName:\"p\"},`false`),`. `,mdx(\"strong\",{parentName:\"p\"},`NOTE`),`: If this value is not explicitly set to `,mdx(\"inlineCode\",{parentName:\"p\"},`true`),` and volumes are not cleaned up by an alternative method, additional volumes will accumulate after every build.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`device_name`),` (string) - The device name exposed to the VM (for example, `,mdx(\"inlineCode\",{parentName:\"p\"},`/dev/sdh`),` or `,mdx(\"inlineCode\",{parentName:\"p\"},`xvdh`),`). Required for every device in the block device mapping.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`iops`),` (number) - The number of I/O operations per second (IOPS) that the volume supports. See the documentation on\n`,mdx(\"a\",{parentName:\"p\",\"href\":\"https://docs.outscale.com/en/userguide/About-Volumes.html#_volume_types_and_iops\"},`IOPs`),`\nfor more information`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`no_device`),` (boolean) - Suppresses the specified device included in the\nblock device mapping of the OMI`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`snapshot_id`),` (string) - The ID of the snapshot`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`virtual_name`),` (string) - The virtual device name. See the documentation on `,mdx(\"a\",{parentName:\"p\",\"href\":\"https://docs.outscale.com/en/userguide/Defining-Block-Device-Mappings.html\"},`Block Device Mapping`),` for more information`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`volume_size`),` (number) - The size of the volume, in GiB. Required if not specifying a `,mdx(\"inlineCode\",{parentName:\"p\"},`snapshot_id`))),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`volume_type`),` (string) - The volume type. `,mdx(\"inlineCode\",{parentName:\"p\"},`gp2`),` for General Purpose (SSD) volumes, `,mdx(\"inlineCode\",{parentName:\"p\"},`io1`),` for Provisioned IOPS (SSD) volumes, and `,mdx(\"inlineCode\",{parentName:\"p\"},`standard`),` for Magnetic volumes`)))),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`root_device_name`),` (string) - The root device name. For example, `,mdx(\"inlineCode\",{parentName:\"p\"},`xvda`),`.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`mount_path`),` (string) - The path where the volume will be mounted. This is\nwhere the chroot environment will be. This defaults to\n`,mdx(\"inlineCode\",{parentName:\"p\"},`/mnt/packer-amazon-chroot-volumes/{{.Device}}`),`. This is a configuration\ntemplate where the `,mdx(\"inlineCode\",{parentName:\"p\"},`.Device`),` variable is replaced with the name of the\ndevice where the volume is attached.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`mount_partition`),` (string) - The partition number containing the /\npartition. By default this is the first partition of the volume, (for\nexample, `,mdx(\"inlineCode\",{parentName:\"p\"},`xvdf1`),`) but you can designate the entire block device by setting\n`,mdx(\"inlineCode\",{parentName:\"p\"},`\"mount_partition\": \"0\"`),` in your config, which will mount `,mdx(\"inlineCode\",{parentName:\"p\"},`xvdf`),` instead.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`mount_options`),` (array of strings) - Options to supply the `,mdx(\"inlineCode\",{parentName:\"p\"},`mount`),` command\nwhen mounting devices. Each option will be prefixed with `,mdx(\"inlineCode\",{parentName:\"p\"},`-o`),` and supplied\nto the `,mdx(\"inlineCode\",{parentName:\"p\"},`mount`),` command ran by Packer. Because this command is ran in a\nshell, user discretion is advised. See `,mdx(\"a\",{parentName:\"p\",\"href\":\"https://linux.die.net/man/8/mount\"},`this manual page for the mount\ncommand`),` for valid file\nsystem specific options.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`nvme_device_path`),` (string) - When we call the mount command (by default\n`,mdx(\"inlineCode\",{parentName:\"p\"},`mount -o device dir`),`), the string provided in `,mdx(\"inlineCode\",{parentName:\"p\"},`nvme_mount_path`),` will\nreplace `,mdx(\"inlineCode\",{parentName:\"p\"},`device`),` in that command. When this option is not set, `,mdx(\"inlineCode\",{parentName:\"p\"},`device`),` in\nthat command will be something like `,mdx(\"inlineCode\",{parentName:\"p\"},`/dev/sdf1`),`, mirroring the attached\ndevice name. This assumption works for most instances but will fail with c5\nand m5 instances. In order to use the chroot builder with c5 and m5\ninstances, you must manually set `,mdx(\"inlineCode\",{parentName:\"p\"},`nvme_device_path`),` and `,mdx(\"inlineCode\",{parentName:\"p\"},`device_path`),`.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`pre_mount_commands`),` (array of strings) - A series of commands to execute\nafter attaching the root volume and before mounting the chroot. This is not\nrequired unless using `,mdx(\"inlineCode\",{parentName:\"p\"},`from_scratch`),`. If so, this should include any\npartitioning and filesystem creation commands. The path to the device is\nprovided by `,mdx(\"inlineCode\",{parentName:\"p\"},`{{.Device}}`),`.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`post_mount_commands`),` (array of strings) - As `,mdx(\"inlineCode\",{parentName:\"p\"},`pre_mount_commands`),`, but the\ncommands are executed after mounting the root device and before the extra\nmount and copy steps. The device and mount path are provided by\n`,mdx(\"inlineCode\",{parentName:\"p\"},`{{.Device}}`),` and `,mdx(\"inlineCode\",{parentName:\"p\"},`{{.MountPath}}`),`.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`root_volume_size`),` (number) - The size of the root volume in GB for the\nchroot environment and the resulting OMI. Default size is the snapshot size\nof the `,mdx(\"inlineCode\",{parentName:\"p\"},`source_omi`),` unless `,mdx(\"inlineCode\",{parentName:\"p\"},`from_scratch`),` is `,mdx(\"inlineCode\",{parentName:\"p\"},`true`),`, in which case this\nfield must be defined.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`root_volume_type`),` (string) - The type of BSU volume for the chroot\nenvironment and resulting OMI. The default value is the type of the\n`,mdx(\"inlineCode\",{parentName:\"p\"},`source_omi`),`, unless `,mdx(\"inlineCode\",{parentName:\"p\"},`from_scratch`),` is `,mdx(\"inlineCode\",{parentName:\"p\"},`true`),`, in which case the default\nvalue is `,mdx(\"inlineCode\",{parentName:\"p\"},`gp2`),`. You can only specify `,mdx(\"inlineCode\",{parentName:\"p\"},`io1`),` if building based on top of a\n`,mdx(\"inlineCode\",{parentName:\"p\"},`source_omi`),` which is also `,mdx(\"inlineCode\",{parentName:\"p\"},`io1`),`.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`root_volume_tags`),` (object of key/value strings) - Tags to apply to the\nvolumes that are `,mdx(\"em\",{parentName:\"p\"},`launched`),`. This is a `,mdx(\"a\",{parentName:\"p\",\"href\":\"/docs/templates/legacy_json_templates/engine\"},`template\nengine`),`, see `,mdx(\"a\",{parentName:\"p\",\"href\":\"#build-template-data\"},`Build template\ndata`),` for more information.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`skip_region_validation`),` (boolean) - Set to true if you want to skip\nvalidation of the region configuration option. Default `,mdx(\"inlineCode\",{parentName:\"p\"},`false`),`.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`snapshot_tags`),` (object of key/value strings) - Tags to apply to snapshot.\nThey will override OMI tags if already applied to snapshot. This is a\n`,mdx(\"a\",{parentName:\"p\",\"href\":\"/docs/templates/legacy_json_templates/engine\"},`template engine`),`, see `,mdx(\"a\",{parentName:\"p\",\"href\":\"#build-template-data\"},`Build template\ndata`),` for more information.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`source_omi_filter`),` (object) - Filters used to populate the `,mdx(\"inlineCode\",{parentName:\"p\"},`source_omi`),` field.`),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`filters`),` (map of strings) - filters used to select a `,mdx(\"inlineCode\",{parentName:\"p\"},`source_omi`),`.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`owners`),` (array of strings) - Filters the images by their owner. You may specify one or more Outscale account IDs, \"self\" (which will use the account whose credentials you are using to run Packer) or an Outscale owner alias. This option is required for security reasons.`),mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},`Example:`),mdx(\"pre\",{parentName:\"li\"},mdx(\"code\",{parentName:\"pre\"},mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`{`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`  \"source_omi_filter\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` {`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`    \"filters\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` {`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`      \"virtualization-type\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"hvm\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`      \"image-name\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"ubuntu/images/*ubuntu-xenial-16.04-amd64-server-*\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`      \"root-device-type\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"ebs\"`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`    }`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`    \"owners\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` [`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`\"099720109477\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`]`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`  }`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`}`)),`\n`)),mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},`This selects an Ubuntu 16.04 HVM BSU OMIS from Canonical. NOTE:\nThis will fail unless `,mdx(\"em\",{parentName:\"p\"},`exactly`),` one OMIS is returned. In the above example,\n`,mdx(\"inlineCode\",{parentName:\"p\"},`most_recent`),` will cause this to succeed by selecting the newest image.`),mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},`You may set this in place of `,mdx(\"inlineCode\",{parentName:\"p\"},`source_omi`),` or in conjunction with it. If you\nset this in conjunction with `,mdx(\"inlineCode\",{parentName:\"p\"},`source_omi`),`, the `,mdx(\"inlineCode\",{parentName:\"p\"},`source_omi`),` will be added\nto the filter. The provided `,mdx(\"inlineCode\",{parentName:\"p\"},`source_omi`),` must meet all of the filtering\ncriteria provided in `,mdx(\"inlineCode\",{parentName:\"p\"},`source_omi_filter`),`; this pins the OMI returned by the\nfilter, but will cause Packer to fail if the `,mdx(\"inlineCode\",{parentName:\"p\"},`source_omi`),` does not exist.`)))),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`tags`),` (object of key/value strings) - Tags applied to the OMI. This is a\n`,mdx(\"a\",{parentName:\"p\",\"href\":\"/docs/templates/legacy_json_templates/engine\"},`template engine`),`, see `,mdx(\"a\",{parentName:\"p\",\"href\":\"#build-template-data\"},`Build template\ndata`),` for more information.`))),mdx(\"h2\",{\"id\":\"user-content-basic-example\",\"data-text-content\":\"Basic Example\",\"className\":\"g-type-display-3\"},`Basic Example`),mdx(\"p\",{\"className\":\"g-type-long-body\"},`Here is a basic example. It is completely valid except for the access keys:`),mdx(\"pre\",null,mdx(\"code\",{parentName:\"pre\"},mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`{`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`  \"type\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"outscale-chroot\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`  \"access_key\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"YOUR KEY HERE\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`  \"secret_key\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"YOUR SECRET KEY HERE\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`  \"source_omi\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"ami-3e158364\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`  \"omi_name\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"packer-outscale-chroot {{timestamp}}\"`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`}`)),`\n`)),mdx(\"h2\",{\"id\":\"user-content-chroot-mounts\",\"data-text-content\":\"Chroot Mounts\",\"className\":\"g-type-display-3\"},`Chroot Mounts`),mdx(\"p\",{\"className\":\"g-type-long-body\"},`The `,mdx(\"inlineCode\",{parentName:\"p\"},`chroot_mounts`),` configuration can be used to mount specific devices within\nthe chroot. By default, the following additional mounts are added into the\nchroot by Packer:`),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"inlineCode\",{parentName:\"li\"},`/proc`),` (proc)`),mdx(\"li\",{parentName:\"ul\"},mdx(\"inlineCode\",{parentName:\"li\"},`/sys`),` (sysfs)`),mdx(\"li\",{parentName:\"ul\"},mdx(\"inlineCode\",{parentName:\"li\"},`/dev`),` (bind to real `,mdx(\"inlineCode\",{parentName:\"li\"},`/dev`),`)`),mdx(\"li\",{parentName:\"ul\"},mdx(\"inlineCode\",{parentName:\"li\"},`/dev/pts`),` (devpts)`),mdx(\"li\",{parentName:\"ul\"},mdx(\"inlineCode\",{parentName:\"li\"},`/proc/sys/fs/binfmt_misc`),` (binfmt_misc)`)),mdx(\"p\",{\"className\":\"g-type-long-body\"},`These default mounts are usually good enough for anyone and are sane defaults.\nHowever, if you want to change or add the mount points, you may using the\n`,mdx(\"inlineCode\",{parentName:\"p\"},`chroot_mounts`),` configuration. Here is an example configuration which only\nmounts `,mdx(\"inlineCode\",{parentName:\"p\"},`/proc`),` and `,mdx(\"inlineCode\",{parentName:\"p\"},`/dev`),`:`),mdx(\"pre\",null,mdx(\"code\",{parentName:\"pre\"},mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`{`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`  \"chroot_mounts\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` [`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`    [`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`\"proc\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"proc\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"/proc\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`]`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`    [`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`\"bind\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"/dev\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"/dev\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`]`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`  ]`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`}`)),`\n`)),mdx(\"p\",{\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`chroot_mounts`),` is a list of a 3-tuples of strings. The three components of the\n3-tuple, in order, are:`),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},`The filesystem type. If this is \"bind\", then Packer will properly bind the\nfilesystem to another mount point.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},`The source device.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},`The mount directory.`))),mdx(\"h2\",{\"id\":\"user-content-parallelism\",\"data-text-content\":\"Parallelism\",\"className\":\"g-type-display-3\"},`Parallelism`),mdx(\"p\",{\"className\":\"g-type-long-body\"},`A quick note on parallelism: it is perfectly safe to run multiple `,mdx(\"em\",{parentName:\"p\"},`separate`),`\nPacker processes with the `,mdx(\"inlineCode\",{parentName:\"p\"},`outscale-chroot`),` builder on the same Outscale VM. In\nfact, this is recommended as a way to push the most performance out of your OMI\nbuilds.`),mdx(\"p\",{\"className\":\"g-type-long-body\"},`Packer properly obtains a process lock for the parallelism-sensitive parts of\nits internals such as finding an available device.`),mdx(\"h2\",{\"id\":\"user-content-gotchas\",\"data-text-content\":\"Gotchas\",\"className\":\"g-type-display-3\"},`Gotchas`),mdx(\"h3\",{\"id\":\"user-content-unmounting-the-filesystem\",\"data-text-content\":\"Unmounting the Filesystem\",\"className\":\"g-type-display-4\"},`Unmounting the Filesystem`),mdx(\"p\",{\"className\":\"g-type-long-body\"},`One of the difficulties with using the chroot builder is that your provisioning\nscripts must not leave any processes running or packer will be unable to\nunmount the filesystem.`),mdx(\"p\",{\"className\":\"g-type-long-body\"},`For debian based distributions you can setup a\n`,mdx(\"a\",{parentName:\"p\",\"href\":\"http://people.debian.org/~hmh/invokerc.d-policyrc.d-specification.txt\"},`policy-rc.d`),`\nfile which will prevent packages installed by your provisioners from starting\nservices:`),mdx(\"pre\",null,mdx(\"code\",{parentName:\"pre\"},mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`({`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`  \"type\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"shell\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`  \"inline\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` [`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`    \"echo '#!/bin/sh' \u003e /usr/sbin/policy-rc.d\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`    \"echo 'exit 101' \u003e\u003e /usr/sbin/policy-rc.d\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`    \"chmod a+x /usr/sbin/policy-rc.d\"`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`  ]`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`},`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`{`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`  \"type\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"shell\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`  \"inline\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` [`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`\"rm -f /usr/sbin/policy-rc.d\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`]`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`})`)),`\n`)),mdx(\"h3\",{\"id\":\"user-content-ansible-provisioner\",\"data-text-content\":\"Ansible provisioner\",\"className\":\"g-type-display-4\"},`Ansible provisioner`),mdx(\"p\",{\"className\":\"g-type-long-body\"},`Running `,mdx(\"inlineCode\",{parentName:\"p\"},`ansible`),` against `,mdx(\"inlineCode\",{parentName:\"p\"},`outscale-chroot`),` requires changing the Ansible connection\nto chroot and running Ansible as root/sudo.`),mdx(\"h2\",{\"id\":\"user-content-building-from-scratch\",\"data-text-content\":\"Building From Scratch\",\"className\":\"g-type-display-3\"},`Building From Scratch`),mdx(\"p\",{\"className\":\"g-type-long-body\"},`This example demonstrates the essentials of building an image from scratch. A\n15G gp2 (SSD) device is created (overriding the default of standard/magnetic).\nThe device setup commands partition the device with one partition for use as an\nHVM image and format it ext4. This builder block should be followed by\nprovisioning commands to install the os and bootloader.`),mdx(\"pre\",null,mdx(\"code\",{parentName:\"pre\"},mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`{`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`  \"type\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"outscale-chroot\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`  \"ami_name\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"packer-from-scratch {{timestamp}}\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`  \"from_scratch\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-constant)\"}},` true`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`  \"ami_virtualization_type\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"hvm\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`  \"pre_mount_commands\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` [`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`    \"parted {{.Device}} mklabel msdos mkpart primary 1M 100% set 1 boot on print\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`    \"mkfs.ext4 {{.Device}}1\"`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`  ]`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`  \"root_volume_size\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-constant)\"}},` 15`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`  \"root_device_name\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"xvdf\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`  \"ami_block_device_mappings\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` [`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`    {`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`      \"device_name\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"xvdf\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`      \"delete_on_termination\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-constant)\"}},` true`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`      \"volume_type\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"gp2\"`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`    }`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`  ]`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`}`)),`\n`)),mdx(\"h2\",{\"id\":\"user-content-build-template-data\",\"data-text-content\":\"Build template data\",\"className\":\"g-type-display-3\"},`Build template data`),mdx(\"p\",{\"className\":\"g-type-long-body\"},`In configuration directives marked as a template engine above, the following\nvariables are available:`),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"inlineCode\",{parentName:\"li\"},`BuildRegion`),` - The region (for example `,mdx(\"inlineCode\",{parentName:\"li\"},`eu-west-2`),`) where Packer is building the OMI.`),mdx(\"li\",{parentName:\"ul\"},mdx(\"inlineCode\",{parentName:\"li\"},`SourceOMI`),` - The source OMIS ID (for example `,mdx(\"inlineCode\",{parentName:\"li\"},`ami-a2412fcd`),`) used to build the OMI.`),mdx(\"li\",{parentName:\"ul\"},mdx(\"inlineCode\",{parentName:\"li\"},`SourceOMIName`),` - The source OMIS Name (for example `,mdx(\"inlineCode\",{parentName:\"li\"},`ubuntu-390`),`) used to build the OMI.`),mdx(\"li\",{parentName:\"ul\"},mdx(\"inlineCode\",{parentName:\"li\"},`SourceOMITags`),` - The source OMIS Tags, as a `,mdx(\"inlineCode\",{parentName:\"li\"},`map[string]string`),` object`)))};MDXContent.isMDXComponent=true;","scope":{}},"breadcrumbLinks":[{"title":"Developer","url":"/"},{"title":"Packer","url":"/packer"},{"title":"Integrations","url":"/packer/integrations"},{"title":"Outscale","url":"/packer/integrations/outscale/outscale","isCurrentPage":false},{"title":"v1.4.0","url":"/packer/integrations/outscale/outscale/v1.4.0","isCurrentPage":false},{"title":"Components"},{"title":"Builder"},{"title":"Outscale chroot","url":"/packer/integrations/outscale/outscale/latest/components/builder/chroot","isCurrentPage":true}]},"__N_SSG":true},"page":"/[productSlug]/integrations/[organizationSlug]/[integrationSlug]/[integrationVersion]/components/[componentType]/[componentSlug]","query":{"productSlug":"packer","organizationSlug":"outscale","integrationSlug":"outscale","integrationVersion":"latest","componentType":"builder","componentSlug":"chroot"},"buildId":"i1glH3PnGnj_dkPgEfQpe","isFallback":false,"gsp":true,"scriptLoader":[]}</script><script nomodule="">window.MSInputMethodContext && document.documentMode && document.write('<script src="/ie-warning.js"><\x2fscript>');</script></body></html>