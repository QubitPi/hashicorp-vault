<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><title>VMware vSphere Builder | Integrations | Packer | HashiCorp Developer</title><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta property="og:locale" content="en_US"/><meta property="og:type" content="website"/><meta property="article:publisher" content="https://www.facebook.com/HashiCorp/"/><meta name="twitter:site" content="@HashiCorp"/><meta name="twitter:card" content="summary_large_image"/><meta name="theme-color" content="#000"/><meta name="description" property="og:description" content="Explore Packer product documentation, tutorials, and examples."/><meta name="twitter:description" content="Explore Packer product documentation, tutorials, and examples."/><meta property="og:site_name" content="VMware vSphere Builder | Integrations | Packer | HashiCorp Developer"/><meta property="og:title" content="VMware vSphere Builder | Integrations | Packer | HashiCorp Developer"/><meta property="og:image" content="https://developer.hashicorp.com/og-image/packer.jpg"/><link rel="canonical" href="https://developer.hashicorp.com/packer/integrations/hashicorp/vsphere/latest/components/builder/vsphere-supervisor"/><link rel="icon" href="/favicon.ico" sizes="48x48"/><link rel="icon" href="/favicon.svg" sizes="any" type="image/svg+xml"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta name="google-site-verification" content="zRQZqfAsOX-ypXfU0mzAIzb5rUvj5fA4Zw2jWJRN-JI"/><meta name="ahrefs-site-verification" content="9d739b21c466a84dae91df1c79396081a9072152e64f765c9390fed6f249fb84"/><meta name="zd-site-verification" content="xnvnvv1i0wl4tf0pzaymb" data-product="hcp"/><meta name="zd-site-verification" content="36fp2i1pj67d8cjtzf4fi9" data-product="terraform"/><meta name="zd-site-verification" content="nbe87kfyp1sck7b13vj1i" data-product="packer"/><meta name="zd-site-verification" content="wvsmmqa1cfb9am9zlwfj" data-product="consul"/><meta name="zd-site-verification" content="cw22oopfwr68ujj0n5pn9i" data-product="boundary"/><meta name="zd-site-verification" content="lkslvganwfgfqfwpdeicgh" data-product="vault"/><meta name="zd-site-verification" content="jl2wp2hoej9rz6c8rmqdns" data-product="nomad"/><meta name="zd-site-verification" content="2eb0cu6xceo73t0038m0tb" data-product="waypoint"/><meta name="zd-site-verification" content="n52xisxdf3higs2q9kuogd" data-product="vagrant"/><meta name="twitter:image" content="https://developer.hashicorp.com/og-image/packer.jpg"/><link rel="prefetch" href="https://www.datadoghq-browser-agent.com/datadog-rum-v4.js"/><script type="application/ld+json">[{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Developer","item":"https://developer.hashicorp.com/"},{"@type":"ListItem","position":2,"name":"Packer","item":"https://developer.hashicorp.com/packer"},{"@type":"ListItem","position":3,"name":"Integrations","item":"https://developer.hashicorp.com/packer/integrations"},{"@type":"ListItem","position":4,"name":"VMware vSphere","item":"https://developer.hashicorp.com/packer/integrations/hashicorp/vsphere"},{"@type":"ListItem","position":5,"name":"v1.4.2","item":"https://developer.hashicorp.com/packer/integrations/hashicorp/vsphere/v1.4.2"},{"@type":"ListItem","position":6,"name":"vSphere Supervisor","item":"https://developer.hashicorp.com/packer/integrations/hashicorp/vsphere/latest/components/builder/vsphere-supervisor"}]}]</script><meta name="next-head-count" content="32"/><link data-next-font="" rel="preconnect" href="/" crossorigin="anonymous"/><link rel="preload" href="/_next/static/css/f49486d3b4c819d0.css" as="style"/><link rel="stylesheet" href="/_next/static/css/f49486d3b4c819d0.css" data-n-g=""/><link rel="preload" href="/_next/static/css/a3fdbf75d77eb323.css" as="style"/><link rel="stylesheet" href="/_next/static/css/a3fdbf75d77eb323.css" data-n-p=""/><link rel="preload" href="/_next/static/css/a23a4d5b8f64c49d.css" as="style"/><link rel="stylesheet" href="/_next/static/css/a23a4d5b8f64c49d.css" data-n-p=""/><link rel="preload" href="/_next/static/css/686380cdcb9bba8b.css" as="style"/><link rel="stylesheet" href="/_next/static/css/686380cdcb9bba8b.css" data-n-p=""/><link rel="preload" href="/_next/static/css/179074215f7f3711.css" as="style"/><link rel="stylesheet" href="/_next/static/css/179074215f7f3711.css" data-n-p=""/><link rel="preload" href="/_next/static/css/c4367c2f8a8aadc4.css" as="style"/><link rel="stylesheet" href="/_next/static/css/c4367c2f8a8aadc4.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-78c92fac7aa8fdd8.js"></script><script src="/_next/static/chunks/webpack-4951ac4c4a1cb7a7.js" defer=""></script><script src="/_next/static/chunks/framework-7063787c3be570d0.js" defer=""></script><script src="/_next/static/chunks/main-7bf85f85b965ad61.js" defer=""></script><script src="/_next/static/chunks/pages/_app-887082e040e96a38.js" defer=""></script><script src="/_next/static/chunks/8037-40e405fadd2f5f0d.js" defer=""></script><script src="/_next/static/chunks/1395-1eb65df04043100c.js" defer=""></script><script src="/_next/static/chunks/5800-0a549d9df584a94b.js" defer=""></script><script src="/_next/static/chunks/5675-7108b5e9113ea2a3.js" defer=""></script><script src="/_next/static/chunks/2298-0bfeeb8538768036.js" defer=""></script><script src="/_next/static/chunks/4491-ad22c44eea68067a.js" defer=""></script><script src="/_next/static/chunks/9554-d740b5e666a16cc0.js" defer=""></script><script src="/_next/static/chunks/7427-8c3100df221e0fcc.js" defer=""></script><script src="/_next/static/chunks/5261-c0c32f534b764eb3.js" defer=""></script><script src="/_next/static/chunks/6787-8d532ae3ad0e4d9b.js" defer=""></script><script src="/_next/static/chunks/6129-ab52b31a3f096d00.js" defer=""></script><script src="/_next/static/chunks/2124-d967b4011de70cb7.js" defer=""></script><script src="/_next/static/chunks/pages/%5BproductSlug%5D/integrations/%5BorganizationSlug%5D/%5BintegrationSlug%5D/%5BintegrationVersion%5D/components/%5BcomponentType%5D/%5BcomponentSlug%5D-af16f4db01f6028b.js" defer=""></script><script src="/_next/static/jabqMMMSVo6egmWfKMhsK/_buildManifest.js" defer=""></script><script src="/_next/static/jabqMMMSVo6egmWfKMhsK/_ssgManifest.js" defer=""></script></head><body><div id="__next"><div class="style_root__dZhZu style_isShown__D4mb6"><a href="https://www.hashicorp.com/en/conferences/hashiconf/register" class="style_linkElem__hCESK"><span class="style_textContainer__6CuI7 g-grid-container"><span class="style_tag__jbHGz g-type-body-small-x-strong">Save 10-15%<!-- --> </span><span class="style_text__rwS0u g-type-body-small">Register for HashiConf and save big when you buy 2+ tickets<span class="style_linkText__E8GJf g-type-body-small-x-strong"> <!-- -->Get your passes</span></span></span></a><button class="style_closeButton__57J9w"><div><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 20 20"><path stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M15 5 5 15M5 5l10 10"/></svg></div><span style="position:absolute;border:0;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;word-wrap:normal">Dismiss alert</span></button></div><script type="text/javascript">
(function checkDismissAlertBanner() {
  try {
    if (document.cookie.includes('banner_register-for-hashiconf-and-save-big-when-you-buy-2+-tickets=1')) {
      const element = document.querySelector('.style_root__dZhZu')
      element.classList.remove('style_isShown__D4mb6')
    }
  } catch (_) {
    // do nothing
  }
})()
</script><script>!function(){try{var d=document.documentElement,n='data-theme',s='setAttribute';var e=localStorage.getItem('theme');if('system'===e||(!e&&true)){var t='(prefers-color-scheme: dark)',m=window.matchMedia(t);if(m.media!==t||m.matches){d.style.colorScheme = 'dark';d[s](n,'dark')}else{d.style.colorScheme = 'light';d[s](n,'light')}}else if(e){d[s](n,e|| '')}if(e==='light'||e==='dark')d.style.colorScheme=e}catch(e){}}()</script><div class="core-dev-dot-layout_root__MT1PZ"><div class="base-layout_root___qiZs" data-layout="base-new"><div class="base-layout_header__XhkxS"><header class="navigation-header_root__oE_HT"><div class="navigation-header_leftSide__V0xlc"><div class="product-page-content_productsDropdown__haUyw"><nav aria-label="Main" data-orientation="horizontal" dir="ltr"><div class="dropdown-menu_root__Hwy5S"><div class="dropdown-menu_activatorWrapper__LxPRt"><button aria-controls="navigation-header-menu-react-aria-1" aria-expanded="false" aria-label="Main menu" class="dropdown-menu_activator__xXb00 g-focus-ring-from-box-shadow-dark product-page-content_productsDropdownButton__bnKKs"><span class="dropdown-menu_activatorLeadingIcon__YQQlH"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24" aria-hidden="true" class="product-page-content_productsDropdownIcon__gXtly"><g fill="currentColor"><path d="M10.336 1.5L2 6.268v11.456l3.131 1.793V8.061l5.205-2.979V1.5z"></path><path d="M13.664 1.5v9.123h-3.328V7.219L7.203 9.012V20.7l3.133 1.796V13.4h3.328v3.381l3.131-1.793V3.293L13.664 1.5z"></path><path d="M22 17.732L13.664 22.5v-3.582l5.203-2.98V4.484L22 6.276v11.456z"></path></g></svg></span><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="dropdown-menu_activatorTrailingIcon__r_cCd"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></button></div><div class="dropdown-menu_dropdownContainer__AZWxN" id="navigation-header-menu-react-aria-1" style="display:none"><div class="style_root__z3EwE style_productPanel__Z4UFi style_hasSide__15FV8 style_hasSide__ecwjD"><div class="style_mainPanel__MpQn1"><div class="style_column__9is2G style_hasSide__A3F31"><ul class="style_productCategories__j1h4T"><li class="style_productCategory__9UHKG"><span class="mds-typography-body-300 style_eyebrow__OCUlS">Infrastructure Lifecycle Management</span><ul class="style_productList__uPlTj"><li><a aria-label="Terraform - Manage infrastructure as code" class="style_focusIndicator__uTVwt" data-radix-collection-item="" href="/terraform"><div class="style_productWrapper__ACHaw"><div class="style_productLogo__cTxLO"><svg class="style_flight-icon__rrFs8 style_terraform__nU44i" aria-hidden="true" fill="currentColor" id=":R9j6ld6j6:" width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-terraform-fill-16"></use></svg></div><div class="style_productTextContent__o8DJ6"><span>Terraform</span><span class="style_productDesc__bi44f">Manage infrastructure as code</span></div></div></a></li><li><a aria-label="Packer - Build machine images" class="style_focusIndicator__uTVwt" data-radix-collection-item="" href="/packer"><div class="style_productWrapper__ACHaw"><div class="style_productLogo__cTxLO"><svg class="style_flight-icon__rrFs8" aria-hidden="true" fill="currentColor" id=":Raj6ld6j6:" width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-packer-fill-color-16"></use></svg></div><div class="style_productTextContent__o8DJ6"><span>Packer</span><span class="style_productDesc__bi44f">Build machine images</span></div></div></a></li><li><a aria-label="Nomad - Orchestrate workloads" class="style_focusIndicator__uTVwt" data-radix-collection-item="" href="/nomad"><div class="style_productWrapper__ACHaw"><div class="style_productLogo__cTxLO"><svg class="style_flight-icon__rrFs8" aria-hidden="true" fill="currentColor" id=":Rbj6ld6j6:" width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-nomad-fill-color-16"></use></svg></div><div class="style_productTextContent__o8DJ6"><span>Nomad</span><span class="style_productDesc__bi44f">Orchestrate workloads</span></div></div></a></li><li><a aria-label="Waypoint - Standardize application patterns" class="style_focusIndicator__uTVwt" data-radix-collection-item="" href="/waypoint"><div class="style_productWrapper__ACHaw"><div class="style_productLogo__cTxLO"><svg class="style_flight-icon__rrFs8" aria-hidden="true" fill="currentColor" id=":Rcj6ld6j6:" width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-waypoint-fill-color-16"></use></svg></div><div class="style_productTextContent__o8DJ6"><span>Waypoint</span><span class="style_productDesc__bi44f">Standardize application patterns</span></div></div></a></li><li><a aria-label="Vagrant - Build developer environments" class="style_focusIndicator__uTVwt" data-radix-collection-item="" href="/vagrant"><div class="style_productWrapper__ACHaw"><div class="style_productLogo__cTxLO"><svg class="style_flight-icon__rrFs8" aria-hidden="true" fill="currentColor" id=":Rdj6ld6j6:" width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-vagrant-fill-color-16"></use></svg></div><div class="style_productTextContent__o8DJ6"><span>Vagrant</span><span class="style_productDesc__bi44f">Build developer environments</span></div></div></a></li></ul></li><li class="style_productCategory__9UHKG"><span class="mds-typography-body-300 style_eyebrow__OCUlS">Security Lifecycle Management</span><ul class="style_productList__uPlTj"><li><a aria-label="Vault - Centrally manage secrets" class="style_focusIndicator__uTVwt" data-radix-collection-item="" href="/vault"><div class="style_productWrapper__ACHaw"><div class="style_productLogo__cTxLO"><svg class="style_flight-icon__rrFs8" aria-hidden="true" fill="currentColor" id=":R9l6ld6j6:" width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-vault-fill-color-16"></use></svg></div><div class="style_productTextContent__o8DJ6"><span>Vault</span><span class="style_productDesc__bi44f">Centrally manage secrets</span></div></div></a></li><li><a aria-label="Boundary - Secure remote access" class="style_focusIndicator__uTVwt" data-radix-collection-item="" href="/boundary"><div class="style_productWrapper__ACHaw"><div class="style_productLogo__cTxLO"><svg class="style_flight-icon__rrFs8" aria-hidden="true" fill="currentColor" id=":Ral6ld6j6:" width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-boundary-fill-color-16"></use></svg></div><div class="style_productTextContent__o8DJ6"><span>Boundary</span><span class="style_productDesc__bi44f">Secure remote access</span></div></div></a></li><li><a aria-label="HCP Vault Radar - Scan for embedded secrets" class="style_focusIndicator__uTVwt" data-radix-collection-item="" href="/hcp/docs/vault-radar"><div class="style_productWrapper__ACHaw"><div class="style_productLogo__cTxLO"><svg class="style_flight-icon__rrFs8 style_hcpVaultRadar__nukMV" aria-hidden="true" fill="currentColor" id=":Rbl6ld6j6:" width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-vault-radar-16"></use></svg></div><div class="style_productTextContent__o8DJ6"><span>HCP Vault Radar</span><span class="style_productDesc__bi44f">Scan for embedded secrets</span></div></div></a></li><li><a aria-label="Consul - Secure network services" class="style_focusIndicator__uTVwt" data-radix-collection-item="" href="/consul"><div class="style_productWrapper__ACHaw"><div class="style_productLogo__cTxLO"><svg class="style_flight-icon__rrFs8" aria-hidden="true" fill="currentColor" id=":Rcl6ld6j6:" width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-consul-fill-color-16"></use></svg></div><div class="style_productTextContent__o8DJ6"><span>Consul</span><span class="style_productDesc__bi44f">Secure network services</span></div></div></a></li></ul></li></ul></div><div class="style_promo__e6yXp style_hasSide__635Xt"><div class="style_icon__rYEcI"><svg class="style_flight-icon__rrFs8" aria-hidden="true" fill="currentColor" id=":R3mld6j6:" width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-hashicorp-16"></use></svg></div><div class="style_rightContent__zvciM"><div><div class="style_title__eEtAF">HashiCorp Cloud Platform</div><div class="style_description__ATQzz">Get started in minutes with our cloud products</div></div><a class="style_link__U4Sfy" data-radix-collection-item="" href="/hcp">All HCP Products<svg class="style_flight-icon__rrFs8" aria-hidden="true" fill="currentColor" id=":R2lmld6j6:" width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-external-link-16"></use></svg></a></div></div></div><div class="style_column__9is2G style_sidePanel__qxYNB"><span class="mds-typography-body-200 mds-typography-font-weight-semibold style_sidePanelText__APb7X">Learn</span><ul class="style_sidePanelItems__i8_HV"><li><a aria-label="Certifications - Get HashiCorp certified" class="style_sidePanelItem__j0j0G style_focusIndicator__uTVwt" href="/certifications"><div class="style_iconBackground__fn5_s"><svg class="style_flight-icon__rrFs8" aria-hidden="true" fill="var(--token-color-foreground-faint)" id=":Rjald6j6:" width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-award-16"></use></svg></div><div class="style_sidePanelItemContent__xFcSA"><span class="mds-typography-body-200 mds-typography-font-weight-semibold style_sidePanelText__APb7X">Certifications</span><span class="style_sidePanelItemDesc__UrOLh">Get HashiCorp certified</span></div></a></li><li><a aria-label="Tutorials - Learn HashiCorp products" class="style_sidePanelItem__j0j0G style_focusIndicator__uTVwt" href="/tutorials"><div class="style_iconBackground__fn5_s"><svg class="style_flight-icon__rrFs8" aria-hidden="true" fill="var(--token-color-foreground-faint)" id=":Rlald6j6:" width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-learn-16"></use></svg></div><div class="style_sidePanelItemContent__xFcSA"><span class="mds-typography-body-200 mds-typography-font-weight-semibold style_sidePanelText__APb7X">Tutorials</span><span class="style_sidePanelItemDesc__UrOLh">Learn HashiCorp products</span></div></a></li><li><a aria-label="Validated Patterns - Field-tested patterns for using HashiCorp products" class="style_sidePanelItem__j0j0G style_focusIndicator__uTVwt" href="/validated-patterns"><div class="style_iconBackground__fn5_s"><svg class="style_flight-icon__rrFs8" aria-hidden="true" fill="var(--token-color-foreground-faint)" id=":Rnald6j6:" width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-check-circle-16"></use></svg></div><div class="style_sidePanelItemContent__xFcSA"><span class="mds-typography-body-200 mds-typography-font-weight-semibold style_sidePanelText__APb7X">Validated Patterns</span><span class="style_sidePanelItemDesc__UrOLh">Field-tested patterns for using HashiCorp products</span></div></a></li><li><a aria-label="Well-Architected Framework - Adopt HashiCorp best practices" class="style_sidePanelItem__j0j0G style_focusIndicator__uTVwt" href="/well-architected-framework"><div class="style_iconBackground__fn5_s"><svg class="style_flight-icon__rrFs8" aria-hidden="true" fill="var(--token-color-foreground-faint)" id=":Rpald6j6:" width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-layers-16"></use></svg></div><div class="style_sidePanelItemContent__xFcSA"><span class="mds-typography-body-200 mds-typography-font-weight-semibold style_sidePanelText__APb7X">Well-Architected Framework</span><span class="style_sidePanelItemDesc__UrOLh">Adopt HashiCorp best practices</span></div></a></li></ul></div></div></div></div></nav></div><div class="product-page-content_productLinkAndNav__YTzcr"><a aria-label="Packer home" class="product-icon-text-link_root__bNTSz g-focus-ring-from-box-shadow-dark" href="/packer"><div class="product-icon-text-lockup_root__358wV"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="product-icon-text-lockup_icon__Zp_5o"><g fill="var(--token-color-packer-brand)"><path d="M5.163 0l5.762 3.247c1.138.646 2.074 2.085 2.075 3.2v4.963c0 1.123-.933 1.502-2.074.858L9.083 11.23V4.469l-3.92-2.216V0z"></path><path d="M8.3 4.953L3 1.956v11.047L8.3 16V4.953z"></path></g></svg><span class="product-icon-text-lockup_text__nHTL7 hds-typography-body-200">Packer</span></div></a><nav aria-label="Main" data-orientation="horizontal" dir="ltr" class="nav-bar-list-container_nav__C_i0_"><div style="position:relative"><ul data-orientation="horizontal" class="nav-bar-list-container_ul___04HI" dir="ltr"><li><a aria-label="Packer Install" class="primary-nav-link_root__RXZIC g-focus-ring-from-box-shadow-dark" href="/packer/install"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-medium primary-nav-link_linkText__58O0C">Install</span></a></li><li><a aria-label="Packer Tutorials" class="primary-nav-link_root__RXZIC g-focus-ring-from-box-shadow-dark" href="/packer/tutorials"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-medium primary-nav-link_linkText__58O0C">Tutorials</span></a></li><li><a aria-label="Packer Documentation" class="primary-nav-link_root__RXZIC g-focus-ring-from-box-shadow-dark" href="/packer/docs"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-medium primary-nav-link_linkText__58O0C">Documentation</span></a></li><li><a aria-label="Packer Guides" class="primary-nav-link_root__RXZIC g-focus-ring-from-box-shadow-dark" href="/packer/guides"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-medium primary-nav-link_linkText__58O0C">Guides</span></a></li><li><a aria-label="Packer Integrations" class="primary-nav-link_root__RXZIC g-focus-ring-from-box-shadow-dark" href="/packer/integrations"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-medium primary-nav-link_linkText__58O0C">Integrations</span></a></li><li><a aria-label="Packer Try Cloud" class="primary-nav-link_root__RXZIC g-focus-ring-from-box-shadow-dark" aria-describedby="opens-in-new-tab-label-react-aria-8" target="_blank" href="https://portal.cloud.hashicorp.com/sign-up"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-medium primary-nav-link_linkText__58O0C">Try Cloud</span><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><g fill="currentColor"><path d="M9 .75A.75.75 0 019.75 0h4.5c.206 0 .393.083.529.218l.001.002.002.001A.748.748 0 0115 .75v4.5a.75.75 0 01-1.5 0V2.56L7.28 8.78a.75.75 0 01-1.06-1.06l6.22-6.22H9.75A.75.75 0 019 .75z"></path><path d="M3.25 3.5a.75.75 0 00-.75.75v7.5c0 .414.336.75.75.75h7.5a.75.75 0 00.75-.75v-4a.75.75 0 011.5 0v4A2.25 2.25 0 0110.75 14h-7.5A2.25 2.25 0 011 11.75v-7.5A2.25 2.25 0 013.25 2h4a.75.75 0 010 1.5h-4z"></path></g></svg></a><span class="g-screen-reader-only" id="opens-in-new-tab-label-react-aria-8">(opens in new tab)</span></li></ul></div></nav></div></div><div class="navigation-header_rightSide___Vvh_"><button aria-label="Search" class="command-bar-activator_root__qgVMy g-focus-ring-from-box-shadow-dark"><span class="command-bar-activator_left__ATQTg"><span class="command-bar-activator_leadingIcon__jECP5"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M6.344.969a5.375 5.375 0 103.233 9.669l4.174 4.174a.75.75 0 001.06-1.061l-4.173-4.174A5.375 5.375 0 006.344.97zM2.469 6.344a3.875 3.875 0 117.75 0 3.875 3.875 0 01-7.75 0z" clip-rule="evenodd"></path></svg></span><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular command-bar-activator_text__pTZN_">Search</span></span><span class="command-bar-activator_right__XejfJ"><span class="g-screen-reader-only">Command or control key</span><span aria-hidden="true" class="badge_root___Z7Nt badge_small__GI0Zk badge_filled-neutral-dark-mode__VC3Ba command-bar-activator_keyBadge__xnKpi"><div class="cmd-ctrl-icon_root___TToz"><svg xmlns="http://www.w3.org/2000/svg" width="41" height="11" fill="none" viewBox="0 0 41 11"><path fill="#fff" fill-rule="evenodd" d="M4.125 2.063V3h2.25v-.937a2.062 2.062 0 1 1 2.063 2.062H7.5v2.25h.938a2.062 2.062 0 1 1-2.063 2.063V7.5h-2.25v.938a2.062 2.062 0 1 1-2.062-2.063H3v-2.25h-.937a2.062 2.062 0 1 1 2.062-2.062m-2.062-.938a.937.937 0 1 0 0 1.875H3v-.937a.937.937 0 0 0-.937-.938M7.5 7.5v.938a.937.937 0 1 0 .938-.938zM6.375 6.375v-2.25h-2.25v2.25zM2.063 7.5H3v.938a.937.937 0 1 1-.937-.938M7.5 3h.938a.937.937 0 1 0-.938-.937z" clip-rule="evenodd"/><path fill="#fff" d="M15.09 10.5 18.085 0h-1.097L14 10.5zM26.387 5.308c-.183-1.445-1.263-2.534-3.05-2.534C21.264 2.774 20 4.247 20 6.61c0 2.41 1.27 3.89 3.344 3.89 1.76 0 2.86-1.034 3.043-2.5H25.02c-.184.808-.792 1.247-1.682 1.247-1.172 0-1.898-.994-1.898-2.637 0-1.61.72-2.583 1.898-2.583.942 0 1.518.555 1.681 1.281zM28.6 1.041v1.897h-1.133v1.178H28.6v4.281c0 1.432.622 2.007 2.186 2.007.275 0 .537-.034.766-.075V9.158c-.196.02-.32.034-.537.034-.7 0-1.008-.35-1.008-1.15V4.115h1.545V2.938h-1.545V1.041zM33.207 10.356h1.407V5.911c0-1.048.752-1.767 1.819-1.767.249 0 .667.048.785.082V2.842a3.372 3.372 0 0 0-.628-.054c-.93 0-1.721.527-1.924 1.26h-.105v-1.13h-1.354zM38.638 10.356h1.407V0h-1.407z"/></svg></div></span><span class="g-screen-reader-only">K key</span><span aria-hidden="true" class="badge_root___Z7Nt badge_small__GI0Zk badge_filled-neutral-dark-mode__VC3Ba command-bar-activator_keyBadge__xnKpi"><div class="k-icon_root__a_5pR"><svg xmlns="http://www.w3.org/2000/svg" width="8" height="10" fill="none" viewBox="0 0 8 10"><path fill="#fff" d="M1.512 9.84v-3l.986-1.147L5.445 9.84h1.704L3.46 4.745 6.857.84H5.244L1.61 5.094h-.098V.84H.15v9z"/></svg></div></span></span></button><div class="navigation-header_authenticationControls__EP1LY"><div class="disclosure_root__rcBaW dropdown-disclosure_root__pzZlN dropdown-disclosure_list-position--right__WP_Kj"><button aria-controls="disclosure-react-aria-9-content" aria-expanded="false" aria-label="User menu" class="disclosure_activator__pORI0 activator_root__pOfAQ dropdown-disclosure_activator__nGgNo navigation-header_userDropdownDisclosureActivator__RayIV g-focus-ring-from-box-shadow-dark activator_hasIcon__5HO6W g-focus-ring-from-box-shadow"><span class="activator_childrenWrapper__kaK0w"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24" aria-hidden="true"><g fill="currentColor"><path fill-rule="evenodd" d="M12 3a5 5 0 100 10 5 5 0 000-10zM8.5 8a3.5 3.5 0 117 0 3.5 3.5 0 01-7 0z" clip-rule="evenodd"></path><path d="M7.75 14.5A4.75 4.75 0 003 19.25v1a.75.75 0 001.5 0v-1A3.25 3.25 0 017.75 16h8.5a3.25 3.25 0 013.25 3.25v1a.75.75 0 001.5 0v-1a4.75 4.75 0 00-4.75-4.75h-8.5z"></path></g></svg></span><span class="activator_chevronWrapper__4_AVG"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></span></button><div class="disclosure_contentContainer__QQ4kt dropdown-disclosure_content__ZZRPG undefined" id="disclosure-react-aria-9-content"><ul class="dropdown-disclosure_list__urBXU"><li class="list-item_root__ZdUej"><button class="list-item_button__nXy5K g-focus-ring-from-box-shadow"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-medium">Sign in</span></button></li><li class="list-item_root__ZdUej"><a class="list-item_link__l6lDd g-focus-ring-from-box-shadow" href="/sign-up"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-medium">Sign up</span></a></li><li class="list-item_root__ZdUej"><hr class="list-item_separator__cBVLs"/></li><li class="list-item_root__ZdUej user-dropdown-switcher_listItem__Q_GIj hds-font-weight-medium"><label class="theme-switcher_label__7Boh2 hds-typography-body-200" for="react-aria-11">Theme</label></li></ul></div></div></div><button aria-label="Open navigation menu" class="navigation-header_mobileMenuButton__74S4w"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24" aria-hidden="true"><g fill="currentColor"><path d="M2 5.75A.75.75 0 012.75 5h18.5a.75.75 0 010 1.5H2.75A.75.75 0 012 5.75zM2 11.75a.75.75 0 01.75-.75h18.5a.75.75 0 010 1.5H2.75a.75.75 0 01-.75-.75zM2.75 17a.75.75 0 000 1.5h18.5a.75.75 0 000-1.5H2.75z"></path></g></svg></button></div></header></div><div class="base-layout_contentArea__BMvQn"><div class="sidebar-sidecar-layout_root__h5rD8 sidebar-sidecar-layout_mainWidth-wide__TwGq8"><div class="mobile-menu-container_root__fPUFu sidebar-sidecar-layout_sidebarContainer__4fcF8"><div class="sidebar-sidecar-layout_sidebarContentWrapper__ftn5q"><div class="sidebar-sidecar-layout_sidePadding__iwNw_"><div class="sidebar_sidebar___fTlC"><div class="sidebar_backToLinkWrapper__F6iLs"><div class="sidebar-back-to-link_root__z_Hj1"><a class="standalone-link_standaloneLink__ahuej g-focus-ring-from-box-shadow standalone-link_primary__ESNCA" href="/packer/integrations"><div class="standalone-link_standaloneLinkContents__4I2XN standalone-link_medium__J2yVM"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M10.795 3.235a.75.75 0 01-.03 1.06L6.842 8l3.923 3.705a.75.75 0 01-1.03 1.09l-4.5-4.25a.75.75 0 010-1.09l4.5-4.25a.75.75 0 011.06.03z" clip-rule="evenodd"></path></svg><span class="standalone-link_text__7GEyG">Packer Integrations</span></div></a></div></div><nav aria-labelledby="sidebar-label" class="sidebar_nav__IworY" id="sidebar-nav"><div><h2 class="sidebar-headings_root__tGfxC" id="sidebar-label"></h2></div><ul class="sidebar_navList__4Rg4g"><li><a class="sidebar-nav-highlight-item_root___pPhp g-focus-ring-from-box-shadow sidebar-nav-highlight-item_theme-packer__I5KHY" href="/packer/integrations/hashicorp/vsphere"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="sidebar-nav-highlight-item_icon__G8JxG"><g fill="var(--token-color-packer-brand)"><path d="M5.163 0l5.762 3.247c1.138.646 2.074 2.085 2.075 3.2v4.963c0 1.123-.933 1.502-2.074.858L9.083 11.23V4.469l-3.92-2.216V0z"></path><path d="M8.3 4.953L3 1.956v11.047L8.3 16V4.953z"></path></g></svg><span class="sidebar-nav-highlight-item_text__VORFJ hds-typography-body-200">VMware vSphere</span></a></li><li><button aria-controls="undefined-list" aria-expanded="true" class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" id="undefined-button"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Builders</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></div></button><ul id="undefined-list"><li><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" href="/packer/integrations/hashicorp/vsphere/latest/components/builder/vsphere-iso"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">vSphere ISO</span></a></li><li><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" href="/packer/integrations/hashicorp/vsphere/latest/components/builder/vsphere-clone"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">vSphere Clone</span></a></li><li><a aria-current="page" class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" href="/packer/integrations/hashicorp/vsphere/latest/components/builder/vsphere-supervisor"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">vSphere Supervisor</span></a></li></ul></li><li><button aria-controls="undefined-list" aria-expanded="true" class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" id="undefined-button"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Post-Processors</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></div></button><ul id="undefined-list"><li><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" href="/packer/integrations/hashicorp/vsphere/latest/components/post-processor/vsphere"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">vSphere</span></a></li><li><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" href="/packer/integrations/hashicorp/vsphere/latest/components/post-processor/vsphere-template"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">vSphere Template</span></a></li></ul></li></ul><hr class="sidebar-horizontal-rule_root__UY7oh"/><ul class="sidebar_navList__4Rg4g"><li><h3 class="sidebar-headings_root__tGfxC">Resources</h3></li><li><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" href="/tutorials/library?product=packer"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Tutorial Library</span></a></li><li><a aria-label="Community Forum. Opens in a new tab." class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" rel="noreferrer noopener" aria-describedby="opens-in-new-tab-label-react-aria-20" target="_blank" href="https://discuss.hashicorp.com/c/packer/23"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Community Forum</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><g fill="currentColor"><path d="M9 .75A.75.75 0 019.75 0h4.5c.206 0 .393.083.529.218l.001.002.002.001A.748.748 0 0115 .75v4.5a.75.75 0 01-1.5 0V2.56L7.28 8.78a.75.75 0 01-1.06-1.06l6.22-6.22H9.75A.75.75 0 019 .75z"></path><path d="M3.25 3.5a.75.75 0 00-.75.75v7.5c0 .414.336.75.75.75h7.5a.75.75 0 00.75-.75v-4a.75.75 0 011.5 0v4A2.25 2.25 0 0110.75 14h-7.5A2.25 2.25 0 011 11.75v-7.5A2.25 2.25 0 013.25 2h4a.75.75 0 010 1.5h-4z"></path></g></svg></div></a><span class="g-screen-reader-only" id="opens-in-new-tab-label-react-aria-20">(opens in new tab)</span></li><li><a aria-label="Support. Opens in a new tab." class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" rel="noreferrer noopener" aria-describedby="opens-in-new-tab-label-react-aria-21" target="_blank" href="https://www.hashicorp.com/customer-success"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Support</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><g fill="currentColor"><path d="M9 .75A.75.75 0 019.75 0h4.5c.206 0 .393.083.529.218l.001.002.002.001A.748.748 0 0115 .75v4.5a.75.75 0 01-1.5 0V2.56L7.28 8.78a.75.75 0 01-1.06-1.06l6.22-6.22H9.75A.75.75 0 019 .75z"></path><path d="M3.25 3.5a.75.75 0 00-.75.75v7.5c0 .414.336.75.75.75h7.5a.75.75 0 00.75-.75v-4a.75.75 0 011.5 0v4A2.25 2.25 0 0110.75 14h-7.5A2.25 2.25 0 011 11.75v-7.5A2.25 2.25 0 013.25 2h4a.75.75 0 010 1.5h-4z"></path></g></svg></div></a><span class="g-screen-reader-only" id="opens-in-new-tab-label-react-aria-21">(opens in new tab)</span></li><li><a aria-label="GitHub. Opens in a new tab." class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" rel="noreferrer noopener" aria-describedby="opens-in-new-tab-label-react-aria-22" target="_blank" href="https://github.com/hashicorp/packer"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">GitHub</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><g fill="currentColor"><path d="M9 .75A.75.75 0 019.75 0h4.5c.206 0 .393.083.529.218l.001.002.002.001A.748.748 0 0115 .75v4.5a.75.75 0 01-1.5 0V2.56L7.28 8.78a.75.75 0 01-1.06-1.06l6.22-6.22H9.75A.75.75 0 019 .75z"></path><path d="M3.25 3.5a.75.75 0 00-.75.75v7.5c0 .414.336.75.75.75h7.5a.75.75 0 00.75-.75v-4a.75.75 0 011.5 0v4A2.25 2.25 0 0110.75 14h-7.5A2.25 2.25 0 011 11.75v-7.5A2.25 2.25 0 013.25 2h4a.75.75 0 010 1.5h-4z"></path></g></svg></div></a><span class="g-screen-reader-only" id="opens-in-new-tab-label-react-aria-22">(opens in new tab)</span></li></ul></nav></div></div></div></div><div class="sidebar-sidecar-layout_contentWrapper__Z5BK4"><div class="sidebar-sidecar-layout_paddedAreaWrapper___S_Ff"><div class="sidebar-sidecar-layout_breadcrumbContainer__3uz7P"><div class="sidebar-sidecar-layout_breadcrumbMaxWidth__coOcu"><nav aria-label="Breadcrumb" class="breadcrumb-bar_root__wd_C5"><ol class="breadcrumb-bar_listRoot__8eupO"><li class="text_root__r0DFB hds-typography-body-100 hds-font-weight-medium breadcrumb-bar_listItem__2sevd"><a class="breadcrumb-bar_breadcrumbText__JvOrd g-focus-ring-from-box-shadow" href="/">Developer</a></li><li class="text_root__r0DFB hds-typography-body-100 hds-font-weight-medium breadcrumb-bar_listItem__2sevd"><a class="breadcrumb-bar_breadcrumbText__JvOrd g-focus-ring-from-box-shadow" href="/packer">Packer</a></li><li class="text_root__r0DFB hds-typography-body-100 hds-font-weight-medium breadcrumb-bar_listItem__2sevd"><a class="breadcrumb-bar_breadcrumbText__JvOrd g-focus-ring-from-box-shadow" href="/packer/integrations">Integrations</a></li><li class="text_root__r0DFB hds-typography-body-100 hds-font-weight-medium breadcrumb-bar_listItem__2sevd"><a class="breadcrumb-bar_breadcrumbText__JvOrd g-focus-ring-from-box-shadow" href="/packer/integrations/hashicorp/vsphere">VMware vSphere</a></li><li class="text_root__r0DFB hds-typography-body-100 hds-font-weight-medium breadcrumb-bar_listItem__2sevd"><a class="breadcrumb-bar_breadcrumbText__JvOrd g-focus-ring-from-box-shadow" href="/packer/integrations/hashicorp/vsphere/v1.4.2">v1.4.2</a></li><li class="text_root__r0DFB hds-typography-body-100 hds-font-weight-medium breadcrumb-bar_listItem__2sevd"><span class="breadcrumb-bar_breadcrumbText__JvOrd g-focus-ring-from-box-shadow" aria-current="page">vSphere Supervisor</span></li></ol></nav></div></div><div class="sidebar-sidecar-layout_mainAndSidecar__UDm3Z"><main id="main" class="sidebar-sidecar-layout_main__0SN51"><div class="hds-surface-base card_root__RyqjV content-header-card_contentHeaderCard__SDMMP style_header__b3NdM"><div class="content-header-card_cardTop__GTpii"><span class="icon-tile_root__ShC0s icon-tile_size-large__NxGIv icon-tile_color-packer__LRaQF content-header-card_icon__A1Xna"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><g fill="var(--token-color-packer-brand)"><path d="M5.163 0l5.762 3.247c1.138.646 2.074 2.085 2.075 3.2v4.963c0 1.123-.933 1.502-2.074.858L9.083 11.23V4.469l-3.92-2.216V0z"></path><path d="M8.3 4.953L3 1.956v11.047L8.3 16V4.953z"></path></g></svg></span><div class="content-header-card_content__XPCtf"><div class="content-header-card_upper__PQsUG"><div class="disclosure_root__rcBaW dropdown-disclosure_root__pzZlN dropdown-disclosure_list-position--right__WP_Kj content-header-card_dropdown__Gt1Vp g-hide-on-desktop g-hide-on-tablet"><button aria-controls="disclosure-react-aria-28-content" aria-expanded="false" class="button_root__itF9E hds-font-weight-medium button_medium__Cm2eg button_secondary__m5f7i disclosure_activator__pORI0 activator_root__pOfAQ dropdown-disclosure_activator__nGgNo" type="button"><span>v1.4.2 (latest)</span><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="activator_chevronWrapper__4_AVG"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></button><div class="disclosure_contentContainer__QQ4kt dropdown-disclosure_content__ZZRPG undefined" id="disclosure-react-aria-28-content"><ul class="dropdown-disclosure_list__urBXU"><li class="list-item_root__ZdUej"><a class="list-item_link__l6lDd g-focus-ring-from-box-shadow" href="/packer/integrations/hashicorp/vsphere/v1.4.1/components/builder/vsphere-supervisor"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-medium">v1.4.1</span></a></li><li class="list-item_root__ZdUej"><a class="list-item_link__l6lDd g-focus-ring-from-box-shadow" href="/packer/integrations/hashicorp/vsphere/v1.4.0/components/builder/vsphere-supervisor"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-medium">v1.4.0</span></a></li><li class="list-item_root__ZdUej"><a class="list-item_link__l6lDd g-focus-ring-from-box-shadow" href="/packer/integrations/hashicorp/vsphere/v1.3.0/components/builder/vsphere-supervisor"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-medium">v1.3.0</span></a></li><li class="list-item_root__ZdUej"><a class="list-item_link__l6lDd g-focus-ring-from-box-shadow" href="/packer/integrations/hashicorp/vsphere/v1.2.7/components/builder/vsphere-supervisor"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-medium">v1.2.7</span></a></li><li class="list-item_root__ZdUej"><a class="list-item_link__l6lDd g-focus-ring-from-box-shadow" href="/packer/integrations/hashicorp/vsphere/v1.2.6/components/builder/vsphere-supervisor"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-medium">v1.2.6</span></a></li><li class="list-item_root__ZdUej"><a class="list-item_link__l6lDd g-focus-ring-from-box-shadow" href="/packer/integrations/hashicorp/vsphere/v1.2.5/components/builder/vsphere-supervisor"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-medium">v1.2.5</span></a></li><li class="list-item_root__ZdUej"><a class="list-item_link__l6lDd g-focus-ring-from-box-shadow" href="/packer/integrations/hashicorp/vsphere/v1.2.4/components/builder/vsphere-supervisor"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-medium">v1.2.4</span></a></li><li class="list-item_root__ZdUej"><a class="list-item_link__l6lDd g-focus-ring-from-box-shadow" href="/packer/integrations/hashicorp/vsphere/v1.2.3/components/builder/vsphere-supervisor"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-medium">v1.2.3</span></a></li><li class="list-item_root__ZdUej"><a class="list-item_link__l6lDd g-focus-ring-from-box-shadow" href="/packer/integrations/hashicorp/vsphere/v1.2.2/components/builder/vsphere-supervisor"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-medium">v1.2.2</span></a></li><li class="list-item_root__ZdUej"><a class="list-item_link__l6lDd g-focus-ring-from-box-shadow" href="/packer/integrations/hashicorp/vsphere/v1.2.1/components/builder/vsphere-supervisor"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-medium">v1.2.1</span></a></li><li class="list-item_root__ZdUej"><a class="list-item_link__l6lDd g-focus-ring-from-box-shadow" href="/packer/integrations/hashicorp/vsphere/v1.2.0/components/builder/vsphere-supervisor"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-medium">v1.2.0</span></a></li></ul></div></div><div class="content-header-card_left__FSNcW"><div class="content-header-card_titleWrap__IAC6o"><span class="content-header-card_title__HGHfo hds-typography-display-300 from global, hds-font-weight-bold">VMware vSphere</span><p class="text_root__r0DFB hds-typography-body-100 hds-font-weight-medium content-header-card_attribution__yKU4q">@hashicorp</p></div><p class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular content-header-card_description__M_DkB">The vSphere plugin is able to create vSphere virtual machines for use with any VMware product.</p></div><div class="disclosure_root__rcBaW dropdown-disclosure_root__pzZlN dropdown-disclosure_list-position--right__WP_Kj content-header-card_dropdown__Gt1Vp g-hide-on-mobile"><button aria-controls="disclosure-react-aria-40-content" aria-expanded="false" class="button_root__itF9E hds-font-weight-medium button_medium__Cm2eg button_secondary__m5f7i disclosure_activator__pORI0 activator_root__pOfAQ dropdown-disclosure_activator__nGgNo" type="button"><span>v1.4.2 (latest)</span><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="activator_chevronWrapper__4_AVG"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></button><div class="disclosure_contentContainer__QQ4kt dropdown-disclosure_content__ZZRPG undefined" id="disclosure-react-aria-40-content"><ul class="dropdown-disclosure_list__urBXU"><li class="list-item_root__ZdUej"><a class="list-item_link__l6lDd g-focus-ring-from-box-shadow" href="/packer/integrations/hashicorp/vsphere/v1.4.1/components/builder/vsphere-supervisor"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-medium">v1.4.1</span></a></li><li class="list-item_root__ZdUej"><a class="list-item_link__l6lDd g-focus-ring-from-box-shadow" href="/packer/integrations/hashicorp/vsphere/v1.4.0/components/builder/vsphere-supervisor"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-medium">v1.4.0</span></a></li><li class="list-item_root__ZdUej"><a class="list-item_link__l6lDd g-focus-ring-from-box-shadow" href="/packer/integrations/hashicorp/vsphere/v1.3.0/components/builder/vsphere-supervisor"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-medium">v1.3.0</span></a></li><li class="list-item_root__ZdUej"><a class="list-item_link__l6lDd g-focus-ring-from-box-shadow" href="/packer/integrations/hashicorp/vsphere/v1.2.7/components/builder/vsphere-supervisor"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-medium">v1.2.7</span></a></li><li class="list-item_root__ZdUej"><a class="list-item_link__l6lDd g-focus-ring-from-box-shadow" href="/packer/integrations/hashicorp/vsphere/v1.2.6/components/builder/vsphere-supervisor"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-medium">v1.2.6</span></a></li><li class="list-item_root__ZdUej"><a class="list-item_link__l6lDd g-focus-ring-from-box-shadow" href="/packer/integrations/hashicorp/vsphere/v1.2.5/components/builder/vsphere-supervisor"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-medium">v1.2.5</span></a></li><li class="list-item_root__ZdUej"><a class="list-item_link__l6lDd g-focus-ring-from-box-shadow" href="/packer/integrations/hashicorp/vsphere/v1.2.4/components/builder/vsphere-supervisor"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-medium">v1.2.4</span></a></li><li class="list-item_root__ZdUej"><a class="list-item_link__l6lDd g-focus-ring-from-box-shadow" href="/packer/integrations/hashicorp/vsphere/v1.2.3/components/builder/vsphere-supervisor"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-medium">v1.2.3</span></a></li><li class="list-item_root__ZdUej"><a class="list-item_link__l6lDd g-focus-ring-from-box-shadow" href="/packer/integrations/hashicorp/vsphere/v1.2.2/components/builder/vsphere-supervisor"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-medium">v1.2.2</span></a></li><li class="list-item_root__ZdUej"><a class="list-item_link__l6lDd g-focus-ring-from-box-shadow" href="/packer/integrations/hashicorp/vsphere/v1.2.1/components/builder/vsphere-supervisor"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-medium">v1.2.1</span></a></li><li class="list-item_root__ZdUej"><a class="list-item_link__l6lDd g-focus-ring-from-box-shadow" href="/packer/integrations/hashicorp/vsphere/v1.2.0/components/builder/vsphere-supervisor"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-medium">v1.2.0</span></a></li></ul></div></div></div><div class="content-header-card_lower__ut_Dv"><ul class="badge-list_badgeList__l_z6s content-header-card_badgeList__I_FGK"><li class="badge-list_badge__mQSlF"><span data-state="tooltip-hidden" data-reach-tooltip-trigger=""><span class="g-screen-reader-only">Official</span><span aria-hidden="true" class="badge_root___Z7Nt badge_small__GI0Zk badge_filled-neutral__NhUW0"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><g fill="currentColor"><path d="M6.835.6L1 3.96v8.074l2.192 1.264V5.224l3.643-2.1V.6z"></path><path d="M9.165.6v6.43h-2.33v-2.4L4.642 5.894v8.237l2.193 1.266v-6.41h2.33v2.383l2.192-1.264V1.864L9.165.6z"></path><path d="M15 12.04L9.165 15.4v-2.525l3.642-2.1V2.703L15 3.966v8.073z"></path></g></svg><span>Official</span></span></span></li><li class="badge-list_badge__mQSlF"><span data-state="tooltip-hidden" data-reach-tooltip-trigger=""><span class="g-screen-reader-only">HCP Ready</span><span aria-hidden="true" class="badge_root___Z7Nt badge_small__GI0Zk badge_filled-neutral__NhUW0"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><g fill="currentColor"><path d="M9.78 7.28a.75.75 0 00-1.06-1.06l-.5.5a.75.75 0 001.06 1.06l.5-.5z"></path><path fill-rule="evenodd" d="M12.627 1.32a1.731 1.731 0 012.054 2.053c-.27 1.28-.686 3.19-1.103 4.859a3.625 3.625 0 01-.58 1.224c.002.015.002.03.002.044v2.441a1.75 1.75 0 01-.833 1.49l-2.021 1.244a1.75 1.75 0 01-2.284-.397l-1.27-1.587a2.028 2.028 0 01-1.08-.917 3.426 3.426 0 00-.542-.744 3.428 3.428 0 00-.744-.542c-.4-.223-.755-.61-.917-1.08l-1.587-1.27a1.75 1.75 0 01-.398-2.284l1.244-2.021A1.75 1.75 0 014.058 3H6.5l.044.001c.37-.263.777-.467 1.224-.579 1.669-.417 3.58-.833 4.859-1.103zm-5.43 9.956a.754.754 0 00-.167-.025.517.517 0 01-.209-.208 4.913 4.913 0 00-.79-1.073 4.913 4.913 0 00-1.074-.791.516.516 0 01-.208-.21.754.754 0 00-.025-.166l.002-.008c.255-.78.694-1.941 1.307-2.958.634-1.05 1.353-1.773 2.099-1.96 1.641-.41 3.53-.821 4.804-1.09a.231.231 0 01.277.277c-.269 1.274-.68 3.163-1.09 4.804-.187.746-.91 1.465-1.96 2.099-1.017.613-2.177 1.052-2.958 1.307a.173.173 0 01-.008.002zm1.139 1.193l.697.872a.25.25 0 00.327.057l2.021-1.244a.25.25 0 00.119-.213v-1.056c-.186.13-.375.252-.562.366-.88.53-1.832.936-2.602 1.218zM2.659 6.967l.872.697c.282-.77.687-1.722 1.218-2.602.113-.187.235-.376.366-.562H4.059a.25.25 0 00-.213.119L2.602 6.64a.25.25 0 00.057.327z" clip-rule="evenodd"></path><path d="M4.442 11.558a.625.625 0 010 .884l-2 2a.625.625 0 11-.884-.884l2-2a.625.625 0 01.884 0zM2.692 10.308a.625.625 0 010 .884l-.75.75a.625.625 0 11-.884-.884l.75-.75a.625.625 0 01.884 0zM5.692 14.192a.625.625 0 10-.884-.884l-.75.75a.625.625 0 10.884.884l.75-.75z"></path></g></svg><span>HCP Ready</span></span></span></li></ul><p class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular content-header-card_note__QTtmc">Updated 2 years ago</p></div></div></div><div class="content-header-card_cardBottom__ndKDE"><ul class="content-header-card_linksList__vaxQ3"><li class="content-header-card_link___8sUH"><a class="standalone-link_standaloneLink__ahuej g-focus-ring-from-box-shadow standalone-link_secondary__H0E0A" rel="noreferrer noopener" aria-describedby="opens-in-new-tab-label-react-aria-52" target="_blank" href="https://github.com/hashicorp/packer-plugin-vsphere/tree/main/docs"><div class="standalone-link_standaloneLinkContents__4I2XN standalone-link_medium__J2yVM"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M8 1C4.133 1 1 4.13 1 7.993c0 3.09 2.006 5.71 4.787 6.635.35.064.478-.152.478-.337 0-.166-.006-.606-.01-1.19-1.947.423-2.357-.937-2.357-.937-.319-.808-.778-1.023-.778-1.023-.635-.434.048-.425.048-.425.703.05 1.073.72 1.073.72.624 1.07 1.638.76 2.037.582.063-.452.244-.76.444-.935-1.554-.176-3.188-.776-3.188-3.456 0-.763.273-1.388.72-1.876-.072-.177-.312-.888.07-1.85 0 0 .586-.189 1.924.716A6.711 6.711 0 018 4.381c.595.003 1.194.08 1.753.236 1.336-.905 1.923-.717 1.923-.717.382.963.142 1.674.07 1.85.448.49.72 1.114.72 1.877 0 2.686-1.638 3.278-3.197 3.45.251.216.475.643.475 1.296 0 .934-.009 1.688-.009 1.918 0 .187.127.404.482.336A6.996 6.996 0 0015 7.993 6.997 6.997 0 008 1z" clip-rule="evenodd"></path></svg><span class="standalone-link_text__7GEyG">GitHub</span></div></a><span class="g-screen-reader-only" id="opens-in-new-tab-label-react-aria-52">(opens in new tab)</span></li></ul></div></div><h1>vSphere Supervisor</h1><div class="style_integrationComponentView__dxO7C"><div class="style_mdxWrapper__6wQJC"><div class="dev-dot-content_root__UJDct hds-typography-body-300"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Type: <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">vsphere-supervisor</code></p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Artifact BuilderId: <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">vsphere.supervisor</code></p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">This builder creates a virtual machine on a vSphere Supervisor cluster using the VM-Operator API.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Refer to <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="https://docs.vmware.com/en/VMware-vSphere/8.0/vsphere-with-tanzu-services-workloads/GUID-F81E3535-C275-4DDE-B35F-CE759EA3B4A0.html">Deploying and Managing Virtual Machines in vSphere with Tanzu</a>
for more information on the VM Service functionality in vSphere with Tanzu.</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg">It uses a <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">kubeconfig</code> file to connect to the vSphere Supervisor cluster.</li><li class="mdx-lists_listItem__nkqhg">It uses the <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="https://vm-operator.readthedocs.io/en/latest/concepts/">VM-Operator API</a> to deploy
and configure the source virtual machine.</li><li class="mdx-lists_listItem__nkqhg">It cna use Packer provisioners to customize the virtual machine after establishing a successful
connection.</li><li class="mdx-lists_listItem__nkqhg">It publishes the customized virtual machine as a new virtual machine image to the designated
content library in vSphere.</li></ul><div class="alert alert-info g-type-body"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><strong>Note:</strong> This builder is developed to maintain compatibility with VMware vSphere versions until
their respective End of General Support dates. For detailed information, refer to the
<a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="https://support.broadcom.com/group/ecx/productlifecycle">Broadcom Product Lifecycle</a>.</p></div><h2 class="hds-typography-display-500 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h2__9ZcX_" id="user-content-examples"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h2__CA9g8" aria-label="Examples permalink" href="/packer/integrations/hashicorp/vsphere/latest/components/builder/vsphere-supervisor#examples"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Examples</h2><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Examples are available in the <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="https://github.com/hashicorp/packer-plugin-vsphere/tree/main/examples/">examples</a>
directory of the GitHub repository.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">HCL Example:</p><div class="hds-code-block hds-code-block--theme-dark hds-code-block--is-standalone mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":R1ahdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-function)">source</span><span style="color:var(--hds-code-block-color-constant)"> &quot;vsphere-supervisor&quot;</span><span style="color:var(--hds-code-block-color-constant)"> &quot;example-vm&quot;</span><span style="color:var(--hds-code-block-color-token)"> {</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">  image_name </span><span style="color:var(--hds-code-block-color-keyword)">=</span><span style="color:var(--hds-code-block-color-string)"> &quot;&lt;Image name of the source VM, e.g. &#x27;ubuntu-impish-21.10-cloudimg&#x27;&gt;&quot;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">  class_name </span><span style="color:var(--hds-code-block-color-keyword)">=</span><span style="color:var(--hds-code-block-color-string)"> &quot;&lt;VM class that describes the virtual hardware settings, e.g. &#x27;best-effort-large&#x27;&gt;&quot;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">  storage_class </span><span style="color:var(--hds-code-block-color-keyword)">=</span><span style="color:var(--hds-code-block-color-string)"> &quot;&lt;Storage class that provides the backing storage for volume, e.g. &#x27;wcplocal-storage-profile&#x27;&gt;&quot;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">  bootstrap_provider </span><span style="color:var(--hds-code-block-color-keyword)">=</span><span style="color:var(--hds-code-block-color-string)"> &quot;&lt;CloudInit, Sysprep, or vAppConfig to customize the guest OS&gt;&quot;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">  bootstrap_data_file </span><span style="color:var(--hds-code-block-color-keyword)">=</span><span style="color:var(--hds-code-block-color-string)"> &quot;&lt;Path to the file containing the bootstrap data for guest OS customization&gt;&quot;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">  publish_location_name </span><span style="color:var(--hds-code-block-color-keyword)">=</span><span style="color:var(--hds-code-block-color-string)"> &quot;&lt;target location / content library for the published image, optional, e.g. &#x27;cl-6066c61f7931c5ef9&#x27;&gt;&quot;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">}</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last">
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-function)">build</span><span style="color:var(--hds-code-block-color-token)"> {</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">  sources </span><span style="color:var(--hds-code-block-color-keyword)">=</span><span style="color:var(--hds-code-block-color-token)"> [</span><span style="color:var(--hds-code-block-color-string)">&quot;source.vsphere-supervisor.example-vm&quot;</span><span style="color:var(--hds-code-block-color-token)">]</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">}</span></span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary-white hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":R1ahdal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":R79ahdal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">HCL Example with image import:</p><div class="hds-code-block hds-code-block--theme-dark hds-code-block--is-standalone mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":R1ihdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-function)">source</span><span style="color:var(--hds-code-block-color-constant)"> &quot;vsphere-supervisor&quot;</span><span style="color:var(--hds-code-block-color-constant)"> &quot;example-vm&quot;</span><span style="color:var(--hds-code-block-color-token)"> {</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">  import_source_url </span><span style="color:var(--hds-code-block-color-keyword)">=</span><span style="color:var(--hds-code-block-color-string)"> &quot;&lt;Remote URL to import image from, optional, e.g. &#x27;https://example.com/example.ovf&#x27;&gt;&quot;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">  import_source_ssl_certificate </span><span style="color:var(--hds-code-block-color-keyword)">=</span><span style="color:var(--hds-code-block-color-string)"> &quot;&lt;SSL certificate of the remote HTTPS server, optional, e.g. &#x27;-----BEGIN CERTIFICATE-----xxxxx-----END CERTIFICATE-----&#x27;&gt;&quot;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">  import_target_location_name </span><span style="color:var(--hds-code-block-color-keyword)">=</span><span style="color:var(--hds-code-block-color-string)"> &quot;&lt;Target location / content library for the imported image, optional, e.g. &#x27;cl-6066c61f7931c5ef9&#x27;&gt;&quot;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">  import_target_image_type </span><span style="color:var(--hds-code-block-color-keyword)">=</span><span style="color:var(--hds-code-block-color-string)"> &quot;&lt;Target image type of the imported image, optional, e.g. &#x27;ovf&#x27;&gt;&quot;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">  import_target_image_name </span><span style="color:var(--hds-code-block-color-keyword)">=</span><span style="color:var(--hds-code-block-color-string)"> &quot;&lt;Target image name of the imported image for the source VM, e.g. &#x27;ubuntu-impish-21.10-cloudimg&#x27;&gt;&quot;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">  class_name </span><span style="color:var(--hds-code-block-color-keyword)">=</span><span style="color:var(--hds-code-block-color-string)"> &quot;&lt;VM class that describes the virtual hardware settings, e.g. &#x27;best-effort-large&#x27;&gt;&quot;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">  storage_class </span><span style="color:var(--hds-code-block-color-keyword)">=</span><span style="color:var(--hds-code-block-color-string)"> &quot;&lt;Storage class that provides the backing storage for volume, e.g. &#x27;wcplocal-storage-profile&#x27;&gt;&quot;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">  bootstrap_provider </span><span style="color:var(--hds-code-block-color-keyword)">=</span><span style="color:var(--hds-code-block-color-string)"> &quot;&lt;CloudInit, Sysprep, or vAppConfig to customize the guest OS&gt;&quot;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">  bootstrap_data_file </span><span style="color:var(--hds-code-block-color-keyword)">=</span><span style="color:var(--hds-code-block-color-string)"> &quot;&lt;Path to the file containing the bootstrap data for guest OS customization&gt;&quot;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">  publish_location_name </span><span style="color:var(--hds-code-block-color-keyword)">=</span><span style="color:var(--hds-code-block-color-string)"> &quot;&lt;target location / content library for the published image, optional, e.g. &#x27;cl-6066c61f7931c5ef9&#x27;&gt;&quot;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">}</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last">
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-function)">build</span><span style="color:var(--hds-code-block-color-token)"> {</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">  sources </span><span style="color:var(--hds-code-block-color-keyword)">=</span><span style="color:var(--hds-code-block-color-token)"> [</span><span style="color:var(--hds-code-block-color-string)">&quot;source.vsphere-supervisor.example-vm&quot;</span><span style="color:var(--hds-code-block-color-token)">]</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">}</span></span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary-white hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":R1ihdal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":R79ihdal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">JSON Example:</p><div class="hds-code-block hds-code-block--theme-dark hds-code-block--is-standalone mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":R1qhdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">{</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-keyword)">  &quot;builders&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">:</span><span style="color:var(--hds-code-block-color-token)"> [</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">    {</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-keyword)">      &quot;type&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">:</span><span style="color:var(--hds-code-block-color-string)"> &quot;vsphere-supervisor&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-keyword)">      &quot;image_name&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">:</span><span style="color:var(--hds-code-block-color-string)"> &quot;&lt;Image name of the source VM, e.g. &#x27;ubuntu-impish-21.10-cloudimg&#x27;&gt;&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-keyword)">      &quot;class_name&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">:</span><span style="color:var(--hds-code-block-color-string)"> &quot;&lt;VM class that describes the virtual hardware settings, e.g. &#x27;best-effort-large&#x27;&gt;&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-keyword)">      &quot;storage_class&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">:</span><span style="color:var(--hds-code-block-color-string)"> &quot;&lt;Storage class that provides the backing storage for volume, e.g. &#x27;wcplocal-storage-profile&#x27;&gt;&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-keyword)">      &quot;bootstrap_provider&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">:</span><span style="color:var(--hds-code-block-color-string)"> &quot;&lt;CloudInit, Sysprep, or vAppConfig to customize the guest OS&gt;&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-keyword)">      &quot;bootstrap_data_file&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">:</span><span style="color:var(--hds-code-block-color-string)"> &quot;&lt;Path to the file containing the bootstrap data for guest OS customization&gt;&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-keyword)">      &quot;publish_location_name&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">:</span><span style="color:var(--hds-code-block-color-string)"> &quot;&lt;target location / content library for the published image, optional, e.g. &#x27;cl-6066c61f7931c5ef9&#x27;&gt;&quot;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">    }</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">  ]</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">}</span></span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary-white hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":R1qhdal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":R79qhdal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">JSON Example with image import:</p><div class="hds-code-block hds-code-block--theme-dark hds-code-block--is-standalone mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":R22hdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">{</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-keyword)">  &quot;builders&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">:</span><span style="color:var(--hds-code-block-color-token)"> [</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">    {</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-keyword)">      &quot;type&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">:</span><span style="color:var(--hds-code-block-color-string)"> &quot;vsphere-supervisor&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-keyword)">      &quot;import_source_url&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">:</span><span style="color:var(--hds-code-block-color-string)"> &quot;&lt;Remote URL to import image from, optional, e.g. &#x27;https://example.com/example.ovf&#x27;&gt;&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-keyword)">      &quot;import_source_ssl_certificate&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">:</span><span style="color:var(--hds-code-block-color-string)"> &quot;&lt;SSL certificate of the remote HTTPS server, optional, e.g. &#x27;-----BEGIN CERTIFICATE-----xxxxx-----END CERTIFICATE-----&#x27;&gt;&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-keyword)">      &quot;import_target_location_name&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">:</span><span style="color:var(--hds-code-block-color-string)"> &quot;&lt;Target location / content library for the import image, optional, e.g. &#x27;cl-6066c61f7931c5ef9&#x27;&gt;&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-keyword)">      &quot;import_target_image_type&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">:</span><span style="color:var(--hds-code-block-color-string)"> &quot;&lt;Target image type of the imported image, optional, e.g. &#x27;ovf&#x27;&gt;&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-keyword)">      &quot;import_target_image_name&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">:</span><span style="color:var(--hds-code-block-color-string)"> &quot;&lt;Target image name of the imported image for the source VM, e.g. &#x27;ubuntu-impish-21.10-cloudimg&#x27;&gt;&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-keyword)">      &quot;class_name&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">:</span><span style="color:var(--hds-code-block-color-string)"> &quot;&lt;VM class that describes the virtual hardware settings, e.g. &#x27;best-effort-large&#x27;&gt;&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-keyword)">      &quot;storage_class&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">:</span><span style="color:var(--hds-code-block-color-string)"> &quot;&lt;Storage class that provides the backing storage for volume, e.g. &#x27;wcplocal-storage-profile&#x27;&gt;&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-keyword)">      &quot;bootstrap_provider&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">:</span><span style="color:var(--hds-code-block-color-string)"> &quot;&lt;CloudInit, Sysprep, or vAppConfig to customize the guest OS&gt;&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-keyword)">      &quot;bootstrap_data_file&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">:</span><span style="color:var(--hds-code-block-color-string)"> &quot;&lt;Path to the file containing the bootstrap data for guest OS customization&gt;&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-keyword)">      &quot;publish_location_name&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">:</span><span style="color:var(--hds-code-block-color-string)"> &quot;&lt;target location / content library for the published image, optional, e.g. &#x27;cl-6066c61f7931c5ef9&#x27;&gt;&quot;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">    }</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">  ]</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">}</span></span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary-white hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":R22hdal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":R7a2hdal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div><h2 class="hds-typography-display-500 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h2__9ZcX_" id="user-content-configuration-reference"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h2__CA9g8" aria-label="Configuration Reference permalink" href="/packer/integrations/hashicorp/vsphere/latest/components/builder/vsphere-supervisor#configuration-reference"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Configuration Reference</h2><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">There are various configuration options available for each step in this builder. The <em>required</em>
items are listed below as well as the <em>optional</em> configurations.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><strong>Required</strong>:</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">class_name</code> (string) - Name of the VM class that describes virtual hardware settings.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">storage_class</code> (string) - Name of the storage class that configures storage-related attributes.</p></li></ul><h3 class="hds-typography-display-400 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h3__xmS_z" id="user-content-supervisor-connection"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h3__SkrrS" aria-label="Supervisor Connection permalink" href="/packer/integrations/hashicorp/vsphere/latest/components/builder/vsphere-supervisor#supervisor-connection"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Supervisor Connection</h3><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><strong>Optional</strong>:</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">kubeconfig_path</code> (string) - The path to kubeconfig file for accessing to the vSphere Supervisor cluster. Defaults to the value of <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">KUBECONFIG</code> envvar or <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">$HOME/.kube/config</code> if the envvar is not set.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">supervisor_namespace</code> (string) - The Supervisor namespace to deploy the source VM. Defaults to the current context&#x27;s namespace in kubeconfig.</p></li></ul><h4 class="hds-typography-display-300 hds-font-weight-semibold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h4__v7716" id="user-content-source-vm-image-importing"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow" aria-label="Source VM Image Importing permalink" href="/packer/integrations/hashicorp/vsphere/latest/components/builder/vsphere-supervisor#source-vm-image-importing"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Source VM Image Importing</h4><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><strong>Optional:</strong></p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">import_source_url</code> (string) - The remote URL where the to-be-imported image is hosted.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">import_source_ssl_certificate</code> (string) - The SSL certificate of the remote HTTP server that hosts the to-be-imported image.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">import_target_location_name</code> (string) - Name of a writable and import-allowed ContentLibrary resource in the namespace where the image will be imported.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">import_target_image_type</code> (string) - The type of imported image.
Defaults to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ovf</code>. Available options include <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ovf</code>.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">import_target_image_name</code> (string) - Name of the imported image.
Defaults to the file name of the image referenced in the source URL.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">import_request_name</code> (string) - The name of the image import request.
Defaults to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">packer-vsphere-supervisor-import-req-&lt;random-suffix&gt;</code>.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">watch_import_timeout_sec</code> (int) - The timeout in seconds to wait for the image to be imported.
Defaults to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">600</code>.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">keep_import_request</code> (bool) - Preserve the import request in the Supervisor cluster after the build finishes.
Defaults to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">false</code>.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">clean_imported_image</code> (bool) - Clean the imported image after the build finishes. If set to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">true</code>, the imported image will be deleted.
Defaults to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">false</code>.</p></li></ul><h4 class="hds-typography-display-300 hds-font-weight-semibold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h4__v7716" id="user-content-source-virtual-machine-creation"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow" aria-label="Source Virtual Machine Creation permalink" href="/packer/integrations/hashicorp/vsphere/latest/components/builder/vsphere-supervisor#source-virtual-machine-creation"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Source Virtual Machine Creation</h4><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">image_name</code> (string) - Name of the source virtual machine (VM) image. If it is specified, the image with the name will be used for the
source VM, otherwise the image name from imported image will be used.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">source_name</code> (string) - Name of the source VM. Limited to 15 characters. Defaults to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">source-&lt;random-5-digit-suffix&gt;</code>.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">network_type</code> (string) - Name of the network type to attach to the source VM&#x27;s network interface. Defaults to empty.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">network_name</code> (string) - Name of the network to attach to the source VM&#x27;s network interface. Defaults to empty.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">keep_input_artifact</code> (bool) - Preserve all the created objects in Supervisor cluster after the build finishes. Defaults to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">false</code>.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">bootstrap_provider</code> (string) - Name of the bootstrap provider to use for configuring the source VM.
Supported values are <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">CloudInit</code>, <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">Sysprep</code>, and <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">vAppConfig</code>. Defaults to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">CloudInit</code>.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">bootstrap_data_file</code> (string) - Path to a file with bootstrap configuration data. Required if <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">bootstrap_provider</code> is not set to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">CloudInit</code>.
Defaults to a basic cloud config that sets up the user account from the SSH communicator config.</p></li></ul><h3 class="hds-typography-display-400 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h3__xmS_z" id="user-content-source-virtual-machine-watching"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h3__SkrrS" aria-label="Source Virtual Machine Watching permalink" href="/packer/integrations/hashicorp/vsphere/latest/components/builder/vsphere-supervisor#source-virtual-machine-watching"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Source Virtual Machine Watching</h3><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><strong>Optional</strong>:</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">watch_source_timeout_sec</code> (int) - The timeout in seconds to wait for the source VM to be ready. Defaults to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">1800</code>.</li></ul><h3 class="hds-typography-display-400 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h3__xmS_z" id="user-content-source-virtual-machine-publishing"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h3__SkrrS" aria-label="Source Virtual Machine Publishing permalink" href="/packer/integrations/hashicorp/vsphere/latest/components/builder/vsphere-supervisor#source-virtual-machine-publishing"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Source Virtual Machine Publishing</h3><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><strong>Optional</strong>:</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">publish_image_name</code> (string) - The name of the published VM image. If not specified, the vm-operator API will set a default name.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">watch_publish_timeout_sec</code> (int) - The timeout in seconds to wait for the VM to be published. Defaults to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">600</code>.</p></li></ul><h3 class="hds-typography-display-400 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h3__xmS_z" id="user-content-communicator-configuration"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h3__SkrrS" aria-label="Communicator Configuration permalink" href="/packer/integrations/hashicorp/vsphere/latest/components/builder/vsphere-supervisor#communicator-configuration"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Communicator Configuration</h3><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><strong>Optional</strong>:</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ssh_host</code> (string) - The address to SSH to. This usually is automatically configured by the
builder.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ssh_port</code> (int) - The port to connect to SSH. This defaults to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">22</code>.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ssh_username</code> (string) - The username to connect to SSH with. Required if using SSH.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ssh_password</code> (string) - A plaintext password to use to authenticate with SSH.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ssh_ciphers</code> ([]string) - This overrides the value of ciphers supported by default by Golang.
The default value is <!-- -->[
&quot;aes128-gcm@openssh.com&quot;,
&quot;chacha20-poly1305@openssh.com&quot;,
&quot;aes128-ctr&quot;, &quot;aes192-ctr&quot;, &quot;aes256-ctr&quot;,
]</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Valid options for ciphers include:
&quot;aes128-ctr&quot;, &quot;aes192-ctr&quot;, &quot;aes256-ctr&quot;, &quot;<a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="mailto:aes128-gcm@openssh.com">aes128-gcm@openssh.com</a>&quot;,
&quot;<a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="mailto:chacha20-poly1305@openssh.com">chacha20-poly1305@openssh.com</a>&quot;,
&quot;arcfour256&quot;, &quot;arcfour128&quot;, &quot;arcfour&quot;, &quot;aes128-cbc&quot;, &quot;3des-cbc&quot;,</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ssh_clear_authorized_keys</code> (bool) - If true, Packer will attempt to remove its temporary key from
<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">~/.ssh/authorized_keys</code> and <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">/root/.ssh/authorized_keys</code>. This is a
mostly cosmetic option, since Packer will delete the temporary private
key from the host system regardless of whether this is set to true
(unless the user has set the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-debug</code> flag). Defaults to &quot;false&quot;;
currently only works on guests with <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">sed</code> installed.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ssh_key_exchange_algorithms</code> ([]string) - If set, Packer will override the value of key exchange (kex) algorithms
supported by default by Golang. Acceptable values include:
&quot;<a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="mailto:curve25519-sha256@libssh.org">curve25519-sha256@libssh.org</a>&quot;, &quot;ecdh-sha2-nistp256&quot;,
&quot;ecdh-sha2-nistp384&quot;, &quot;ecdh-sha2-nistp521&quot;,
&quot;diffie-hellman-group14-sha1&quot;, and &quot;diffie-hellman-group1-sha1&quot;.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ssh_certificate_file</code> (string) - Path to user certificate used to authenticate with SSH.
The <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">~</code> can be used in path and will be expanded to the
home directory of current user.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ssh_pty</code> (bool) - If <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">true</code>, a PTY will be requested for the SSH connection. This defaults
to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">false</code>.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ssh_timeout</code> (duration string | ex: &quot;1h5m2s&quot;) - The time to wait for SSH to become available. Packer uses this to
determine when the machine has booted so this is usually quite long.
Example value: <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">10m</code>.
This defaults to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">5m</code>, unless <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ssh_handshake_attempts</code> is set.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ssh_disable_agent_forwarding</code> (bool) - If true, SSH agent forwarding will be disabled. Defaults to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">false</code>.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ssh_handshake_attempts</code> (int) - The number of handshakes to attempt with SSH once it can connect.
This defaults to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">10</code>, unless a <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ssh_timeout</code> is set.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ssh_bastion_host</code> (string) - A bastion host to use for the actual SSH connection.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ssh_bastion_port</code> (int) - The port of the bastion host. Defaults to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">22</code>.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ssh_bastion_agent_auth</code> (bool) - If <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">true</code>, the local SSH agent will be used to authenticate with the
bastion host. Defaults to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">false</code>.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ssh_bastion_username</code> (string) - The username to connect to the bastion host.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ssh_bastion_password</code> (string) - The password to use to authenticate with the bastion host.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ssh_bastion_interactive</code> (bool) - If <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">true</code>, the keyboard-interactive used to authenticate with bastion host.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ssh_bastion_private_key_file</code> (string) - Path to a PEM encoded private key file to use to authenticate with the
bastion host. The <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">~</code> can be used in path and will be expanded to the
home directory of current user.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ssh_bastion_certificate_file</code> (string) - Path to user certificate used to authenticate with bastion host.
The <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">~</code> can be used in path and will be expanded to the
home directory of current user.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ssh_file_transfer_method</code> (string) - <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">scp</code> or <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">sftp</code> - How to transfer files, Secure copy (default) or SSH
File Transfer Protocol.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><strong>NOTE</strong>: Guests using Windows with Win32-OpenSSH v9.1.0.0p1-Beta, scp
(the default protocol for copying data) returns a a non-zero error code since the MOTW
cannot be set, which cause any file transfer to fail. As a workaround you can override the transfer protocol
with SFTP instead <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ssh_file_transfer_method = &quot;sftp&quot;</code>.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ssh_proxy_host</code> (string) - A SOCKS proxy host to use for SSH connection</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ssh_proxy_port</code> (int) - A port of the SOCKS proxy. Defaults to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">1080</code>.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ssh_proxy_username</code> (string) - The optional username to authenticate with the proxy server.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ssh_proxy_password</code> (string) - The optional password to use to authenticate with the proxy server.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ssh_keep_alive_interval</code> (duration string | ex: &quot;1h5m2s&quot;) - How often to send &quot;keep alive&quot; messages to the server. Set to a negative
value (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-1s</code>) to disable. Example value: <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">10s</code>. Defaults to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">5s</code>.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ssh_read_write_timeout</code> (duration string | ex: &quot;1h5m2s&quot;) - The amount of time to wait for a remote command to end. This might be
useful if, for example, packer hangs on a connection after a reboot.
Example: <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">5m</code>. Disabled by default.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ssh_remote_tunnels</code> ([]string) - </p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ssh_local_tunnels</code> ([]string) - </p></li></ul><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">temporary_key_pair_type</code> (string) - <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">dsa</code> | <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ecdsa</code> | <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ed25519</code> | <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">rsa</code> ( the default )</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Specifies the type of key to create. The possible values are &#x27;dsa&#x27;,
&#x27;ecdsa&#x27;, &#x27;ed25519&#x27;, or &#x27;rsa&#x27;.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">NOTE: DSA is deprecated and no longer recognized as secure, please
consider other alternatives like RSA or ED25519.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">temporary_key_pair_bits</code> (int) - Specifies the number of bits in the key to create. For RSA keys, the
minimum size is 1024 bits and the default is 4096 bits. Generally, 3072
bits is considered sufficient. DSA keys must be exactly 1024 bits as
specified by FIPS 186-2. For ECDSA keys, bits determines the key length
by selecting from one of three elliptic curve sizes: 256, 384 or 521
bits. Attempting to use bit lengths other than these three values for
ECDSA keys will fail. Ed25519 keys have a fixed length and bits will be
ignored.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">NOTE: DSA is deprecated and no longer recognized as secure as specified
by FIPS 186-5, please consider other alternatives like RSA or ED25519.</p></li></ul><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">winrm_username</code> (string) - The username to use to connect to WinRM.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">winrm_password</code> (string) - The password to use to connect to WinRM.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">winrm_host</code> (string) - The address for WinRM to connect to.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">NOTE: If using an Amazon EBS builder, you can specify the interface
WinRM connects to via
<a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/packer/integrations/hashicorp/amazon/latest/components/builder/ebs#ssh_interface"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ssh_interface</code></a></p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">winrm_no_proxy</code> (bool) - Setting this to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">true</code> adds the remote
<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">host:port</code> to the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">NO_PROXY</code> environment variable. This has the effect of
bypassing any configured proxies when connecting to the remote host.
Default to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">false</code>.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">winrm_port</code> (int) - The WinRM port to connect to. This defaults to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">5985</code> for plain
unencrypted connection and <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">5986</code> for SSL when <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">winrm_use_ssl</code> is set to
true.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">winrm_timeout</code> (duration string | ex: &quot;1h5m2s&quot;) - The amount of time to wait for WinRM to become available. This defaults
to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">30m</code> since setting up a Windows machine generally takes a long time.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">winrm_use_ssl</code> (bool) - If <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">true</code>, use HTTPS for WinRM.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">winrm_insecure</code> (bool) - If <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">true</code>, do not check server certificate chain and host name.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">winrm_use_ntlm</code> (bool) - If <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">true</code>, NTLMv2 authentication (with session security) will be used
for WinRM, rather than default (basic authentication), removing the
requirement for basic authentication to be enabled within the target
guest. Further reading for remote connection authentication can be found
<a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="https://msdn.microsoft.com/en-us/library/aa384295(v=vs.85).aspx">here</a>.</p></li></ul><h2 class="hds-typography-display-500 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h2__9ZcX_" id="user-content-deprovisioning-tasks"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h2__CA9g8" aria-label="Deprovisioning Tasks permalink" href="/packer/integrations/hashicorp/vsphere/latest/components/builder/vsphere-supervisor#deprovisioning-tasks"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Deprovisioning Tasks</h2><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">If you would like to clean up the virtual machine after the build is complete, you can use the
<a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="https://developer.hashicorp.com/packer/integrations/hashicorp/ansible/latest/components/provisioner/ansible">Ansible provisioner</a>
to run the following tasks to delete machine-specific files and data.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">HCL Example:</p><div class="hds-code-block hds-code-block--theme-dark hds-code-block--is-standalone mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":R5ehdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-function)">build</span><span style="color:var(--hds-code-block-color-token)"> {</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">  sources </span><span style="color:var(--hds-code-block-color-keyword)">=</span><span style="color:var(--hds-code-block-color-token)"> [</span><span style="color:var(--hds-code-block-color-string)">&quot;source.vsphere-supervisor.vm&quot;</span><span style="color:var(--hds-code-block-color-token)">]</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last">
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-function)">  provisioner</span><span style="color:var(--hds-code-block-color-constant)"> &quot;ansible&quot;</span><span style="color:var(--hds-code-block-color-token)"> {</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">    playbook_file </span><span style="color:var(--hds-code-block-color-keyword)">=</span><span style="color:var(--hds-code-block-color-string)"> &quot;cleanup-playbook.yml&quot;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">  }</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">}</span></span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary-white hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":R5ehdal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":R7dehdal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">JSON Example:</p><div class="hds-code-block hds-code-block--theme-dark hds-code-block--is-standalone mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":R5mhdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">{</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-keyword)">  &quot;builders&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">:</span><span style="color:var(--hds-code-block-color-token)"> [</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">    {</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-keyword)">      &quot;type&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">:</span><span style="color:var(--hds-code-block-color-string)"> &quot;vsphere-supervisor&quot;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">    }</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">  ]</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-keyword)">  &quot;provisioners&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">:</span><span style="color:var(--hds-code-block-color-token)"> [</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">    {</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-keyword)">      &quot;type&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">:</span><span style="color:var(--hds-code-block-color-string)"> &quot;ansible&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-keyword)">      &quot;playbook_file&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">:</span><span style="color:var(--hds-code-block-color-string)"> &quot;./cleanup-playbook.yml&quot;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">    }</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">  ]</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">}</span></span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary-white hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":R5mhdal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":R7dmhdal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Content of <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">cleanup-playbook.yml</code>:</p><div class="hds-code-block hds-code-block--theme-dark hds-code-block--is-standalone mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":R5uhdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">---</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-comment)"># cleanup-playbook.yml</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">- </span><span style="color:var(--hds-code-block-color-keyword)">name</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-string)"> Clean up source virtual machine</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-keyword)">  hosts</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-string)"> default</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-keyword)">  become</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-constant)"> true</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-keyword)">  tasks</span><span style="color:var(--hds-code-block-color-keyword)">:</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">    - </span><span style="color:var(--hds-code-block-color-keyword)">name</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-string)"> Truncate machine id</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-keyword)">      file</span><span style="color:var(--hds-code-block-color-keyword)">:</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-keyword)">        state</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-string)"> &quot;{{ item.state }}&quot;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-keyword)">        path</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-string)"> &quot;{{ item.path }}&quot;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-keyword)">        owner</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-string)"> root</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-keyword)">        group</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-string)"> root</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-keyword)">        mode</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-string)"> &quot;{{ item.mode }}&quot;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-keyword)">      loop</span><span style="color:var(--hds-code-block-color-keyword)">:</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">        - { </span><span style="color:var(--hds-code-block-color-keyword)">path</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-string)"> /etc/machine-id</span><span style="color:var(--hds-code-block-color-punctuation)">,</span><span style="color:var(--hds-code-block-color-keyword)"> state</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-string)"> absent</span><span style="color:var(--hds-code-block-color-punctuation)">,</span><span style="color:var(--hds-code-block-color-keyword)"> mode</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-string)"> &quot;0644&quot;</span><span style="color:var(--hds-code-block-color-token)"> }</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">        - { </span><span style="color:var(--hds-code-block-color-keyword)">path</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-string)"> /etc/machine-id</span><span style="color:var(--hds-code-block-color-punctuation)">,</span><span style="color:var(--hds-code-block-color-keyword)"> state</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-string)"> touch</span><span style="color:var(--hds-code-block-color-punctuation)">,</span><span style="color:var(--hds-code-block-color-keyword)"> mode</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-string)"> &quot;0644&quot;</span><span style="color:var(--hds-code-block-color-token)"> }</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last">
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">    - </span><span style="color:var(--hds-code-block-color-keyword)">name</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-string)"> Truncate audit logs</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-keyword)">      file</span><span style="color:var(--hds-code-block-color-keyword)">:</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-keyword)">        state</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-string)"> &quot;{{ item.state }}&quot;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-keyword)">        path</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-string)"> &quot;{{ item.path }}&quot;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-keyword)">        owner</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-string)"> root</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-keyword)">        group</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-string)"> utmp</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-keyword)">        mode</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-string)"> &quot;{{ item.mode }}&quot;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-keyword)">      loop</span><span style="color:var(--hds-code-block-color-keyword)">:</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">        - { </span><span style="color:var(--hds-code-block-color-keyword)">path</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-string)"> /var/log/wtmp</span><span style="color:var(--hds-code-block-color-punctuation)">,</span><span style="color:var(--hds-code-block-color-keyword)"> state</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-string)"> absent</span><span style="color:var(--hds-code-block-color-punctuation)">,</span><span style="color:var(--hds-code-block-color-keyword)"> mode</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-string)"> &quot;0664&quot;</span><span style="color:var(--hds-code-block-color-token)"> }</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">        - { </span><span style="color:var(--hds-code-block-color-keyword)">path</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-string)"> /var/log/lastlog</span><span style="color:var(--hds-code-block-color-punctuation)">,</span><span style="color:var(--hds-code-block-color-keyword)"> state</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-string)"> absent</span><span style="color:var(--hds-code-block-color-punctuation)">,</span><span style="color:var(--hds-code-block-color-keyword)"> mode</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-string)"> &quot;0644&quot;</span><span style="color:var(--hds-code-block-color-token)"> }</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">        - { </span><span style="color:var(--hds-code-block-color-keyword)">path</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-string)"> /var/log/wtmp</span><span style="color:var(--hds-code-block-color-punctuation)">,</span><span style="color:var(--hds-code-block-color-keyword)"> state</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-string)"> touch</span><span style="color:var(--hds-code-block-color-punctuation)">,</span><span style="color:var(--hds-code-block-color-keyword)"> mode</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-string)"> &quot;0664&quot;</span><span style="color:var(--hds-code-block-color-token)"> }</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">        - { </span><span style="color:var(--hds-code-block-color-keyword)">path</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-string)"> /var/log/lastlog</span><span style="color:var(--hds-code-block-color-punctuation)">,</span><span style="color:var(--hds-code-block-color-keyword)"> state</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-string)"> touch</span><span style="color:var(--hds-code-block-color-punctuation)">,</span><span style="color:var(--hds-code-block-color-keyword)"> mode</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-string)"> &quot;0644&quot;</span><span style="color:var(--hds-code-block-color-token)"> }</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last">
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">    - </span><span style="color:var(--hds-code-block-color-keyword)">name</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-string)"> Remove cloud-init lib dir and logs</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-keyword)">      file</span><span style="color:var(--hds-code-block-color-keyword)">:</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-keyword)">        state</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-string)"> absent</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-keyword)">        path</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-string)"> &quot;{{ item }}&quot;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-keyword)">      loop</span><span style="color:var(--hds-code-block-color-keyword)">:</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">        - </span><span style="color:var(--hds-code-block-color-string)">/var/lib/cloud</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">        - </span><span style="color:var(--hds-code-block-color-string)">/var/log/cloud-init.log</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">        - </span><span style="color:var(--hds-code-block-color-string)">/var/log/cloud-init-output.log</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">        - </span><span style="color:var(--hds-code-block-color-string)">/var/run/cloud-init</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last">
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">    - </span><span style="color:var(--hds-code-block-color-keyword)">name</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-string)"> Truncate all remaining log files in /var/log</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-keyword)">      shell</span><span style="color:var(--hds-code-block-color-keyword)">:</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-keyword)">        cmd</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-keyword)"> |</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-string)">          find /var/log -type f -iname &#x27;*.log&#x27; | xargs truncate -s 0</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last">
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">    - </span><span style="color:var(--hds-code-block-color-keyword)">name</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-string)"> Delete all logrotated log zips</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-keyword)">      shell</span><span style="color:var(--hds-code-block-color-keyword)">:</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-keyword)">        cmd</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-keyword)"> |</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-string)">          find /var/log -type f -name &#x27;*.gz&#x27; -exec rm {} +</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last">
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">    - </span><span style="color:var(--hds-code-block-color-keyword)">name</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-string)"> Find temp files</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-keyword)">      find</span><span style="color:var(--hds-code-block-color-keyword)">:</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-keyword)">        depth</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-constant)"> 1</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-keyword)">        file_type</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-string)"> any</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-keyword)">        paths</span><span style="color:var(--hds-code-block-color-keyword)">:</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">          - </span><span style="color:var(--hds-code-block-color-string)">/tmp</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">          - </span><span style="color:var(--hds-code-block-color-string)">/var/tmp</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-keyword)">        pattern</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-string)"> &quot;*&quot;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-keyword)">      register</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-string)"> temp_files</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last">
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">    - </span><span style="color:var(--hds-code-block-color-keyword)">name</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-string)"> Reset temp space</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-keyword)">      file</span><span style="color:var(--hds-code-block-color-keyword)">:</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-keyword)">        state</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-string)"> absent</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-keyword)">        path</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-string)"> &quot;{{ item.path }}&quot;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-keyword)">      loop</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-string)"> &quot;{{ temp_files.files }}&quot;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last">
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">    - </span><span style="color:var(--hds-code-block-color-keyword)">name</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-string)"> Truncate shell history</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-keyword)">      file</span><span style="color:var(--hds-code-block-color-keyword)">:</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-keyword)">        state</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-string)"> absent</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-keyword)">        path</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-string)"> &quot;{{ item.path }}&quot;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-keyword)">      loop</span><span style="color:var(--hds-code-block-color-keyword)">:</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">        - { </span><span style="color:var(--hds-code-block-color-keyword)">path</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-string)"> /root/.bash_history</span><span style="color:var(--hds-code-block-color-token)"> }</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">        - {</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-keyword)">            path</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-string)"> &quot;/home/{{ ansible_env.SUDO_USER | default(ansible_user_id) }}/.bash_history&quot;</span><span style="color:var(--hds-code-block-color-punctuation)">,</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span><span style="color:var(--hds-code-block-color-token)">          }</span></span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary-white hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":R5uhdal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":R7duhdal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div></div></div></div></main><div class="sidebar-sidecar-layout_sidecarPosition__WtTq0"><div class="sidebar-sidecar-layout_sidecarTopSlot__qRAEI"></div><div class="sidecar-scroll-container_root__a8nIj"><div class="sidecar-scroll-container_scrollContainer__Dw9id"><div><nav aria-labelledby="react-aria-63"><p id="react-aria-63" class="outline-nav_navLabel__HrjQb hds-typography-body-100">On this page:</p><ol class="outline-nav_listRoot__Sm1fr"><li><a class="outline-link_root__S7fQg hds-typography-body-200 g-focus-ring-from-box-shadow" href="/packer/integrations/hashicorp/vsphere/latest/components/builder/vsphere-supervisor#examples">Examples</a></li><li><a class="outline-link_root__S7fQg hds-typography-body-200 g-focus-ring-from-box-shadow" href="/packer/integrations/hashicorp/vsphere/latest/components/builder/vsphere-supervisor#configuration-reference">Configuration Reference</a></li><li><a class="outline-link_root__S7fQg hds-typography-body-200 g-focus-ring-from-box-shadow" href="/packer/integrations/hashicorp/vsphere/latest/components/builder/vsphere-supervisor#supervisor-connection">Supervisor Connection</a></li><li><a class="outline-link_root__S7fQg hds-typography-body-200 g-focus-ring-from-box-shadow" href="/packer/integrations/hashicorp/vsphere/latest/components/builder/vsphere-supervisor#source-vm-image-importing">Source VM Image Importing</a></li><li><a class="outline-link_root__S7fQg hds-typography-body-200 g-focus-ring-from-box-shadow" href="/packer/integrations/hashicorp/vsphere/latest/components/builder/vsphere-supervisor#source-virtual-machine-creation">Source Virtual Machine Creation</a></li><li><a class="outline-link_root__S7fQg hds-typography-body-200 g-focus-ring-from-box-shadow" href="/packer/integrations/hashicorp/vsphere/latest/components/builder/vsphere-supervisor#source-virtual-machine-watching">Source Virtual Machine Watching</a></li><li><a class="outline-link_root__S7fQg hds-typography-body-200 g-focus-ring-from-box-shadow" href="/packer/integrations/hashicorp/vsphere/latest/components/builder/vsphere-supervisor#source-virtual-machine-publishing">Source Virtual Machine Publishing</a></li><li><a class="outline-link_root__S7fQg hds-typography-body-200 g-focus-ring-from-box-shadow" href="/packer/integrations/hashicorp/vsphere/latest/components/builder/vsphere-supervisor#communicator-configuration">Communicator Configuration</a></li><li><a class="outline-link_root__S7fQg hds-typography-body-200 g-focus-ring-from-box-shadow" href="/packer/integrations/hashicorp/vsphere/latest/components/builder/vsphere-supervisor#deprovisioning-tasks">Deprovisioning Tasks</a></li></ol></nav></div></div></div></div></div></div></div></div></div><div class="base-layout_footer__HGqK8 base-layout_showFooterTopBorder__4_CwH"><footer class="footer_root__qJO_k"><span class="footer_logoAndSwitcher__CJkN3"><a href="https://www.hashicorp.com/" aria-label="Go to HashiCorp home page" class="footer_logo__pe9i3 g-focus-ring-from-box-shadow"><div><svg xmlns="http://www.w3.org/2000/svg" width="266" height="65" fill="none" viewBox="0 0 266 65"><path fill="#000" d="M71.823 62.023c-.817 0-1.171-.519-1.253-1.174h-.081c-.3.874-1.09 1.365-2.097 1.365-1.524 0-2.423-.846-2.423-2.185 0-1.338.98-2.13 3.077-2.13h1.443v-.71c0-1.038-.572-1.584-1.716-1.584-1.143 0-1.443.41-1.851 1.093l-.68-.629c.38-.764 1.252-1.42 2.559-1.42 1.306 0 2.777.929 2.777 2.458v3.987h.816v.984h-.626zm-1.307-2.103v-1.202h-1.498c-1.28 0-1.85.383-1.85 1.093v.3c0 .71.57 1.12 1.442 1.12.871 0 1.906-.573 1.906-1.31M74.137 62.023v-7.265h1.116v1.175h.055c.354-.82.98-1.366 2.042-1.366 1.062 0 2.423 1.01 2.423 2.786v4.67h-1.117v-4.452c0-1.283-.571-1.966-1.633-1.966s-1.77.464-1.77 1.393v5.052h-1.116zM84.646 62.023v-.983h1.389v-7.866h-1.389v-.983h3.92v.983h-1.388v7.866h1.389v.983zM90.8 52.191h4.029c1.606 0 2.614 1.01 2.614 2.54s-.953 1.994-1.58 2.076v.082c.708.054 1.934.655 1.934 2.294 0 1.638-1.09 2.84-2.532 2.84h-4.466zm1.17 4.26h2.723c.925 0 1.497-.49 1.497-1.365v-.492c0-.873-.572-1.365-1.497-1.365H91.97zm0 4.534h2.913c1.008 0 1.634-.546 1.634-1.53v-.49c0-.984-.626-1.53-1.634-1.53H91.97v3.523zM100.056 52.191h1.579l2.805 5.298h.081l2.832-5.298h1.525v9.832h-1.144v-8.275h-.082l-.816 1.639-2.342 4.287-2.341-4.287-.817-1.64h-.082v8.276h-1.143v-9.832zM113.86 57.162c0-3.278 1.47-5.135 3.948-5.135 2.477 0 2.75.792 3.376 2.158l-.953.573c-.381-1.01-1.198-1.666-2.423-1.666s-2.696 1.339-2.696 3.36v1.474c0 2.021 1.008 3.25 2.696 3.25 1.688 0 2.096-.71 2.505-1.775l.953.601c-.627 1.393-1.825 2.24-3.431 2.24-2.478 0-3.948-1.748-3.948-5.026zM122.491 58.39c0-2.32 1.334-3.796 3.267-3.796 1.933 0 3.267 1.503 3.267 3.797 0 2.294-1.334 3.796-3.267 3.796-1.933 0-3.267-1.502-3.267-3.796m5.336.52v-1.038c0-1.53-.844-2.294-2.069-2.294s-2.069.737-2.069 2.294v1.038c0 1.53.844 2.294 2.069 2.294s2.069-.738 2.069-2.294M130.958 62.023v-7.265h1.116v1.175h.055c.327-.738.817-1.366 1.96-1.366 1.144 0 1.824.437 2.205 1.475h.028c.272-.792.98-1.475 2.205-1.475s2.369 1.01 2.369 2.786v4.67h-1.117v-4.452c0-1.283-.49-1.966-1.579-1.966s-1.688.464-1.688 1.393v5.052h-1.116V57.6c0-1.284-.49-1.967-1.552-1.967s-1.715.465-1.715 1.393v5.053h-1.116zM143.292 54.758h1.116v1.175h.054c.381-.929 1.117-1.366 2.124-1.366 1.824 0 2.94 1.475 2.94 3.796 0 2.322-1.143 3.797-2.94 3.797s-1.688-.465-2.124-1.366h-.054v3.987h-1.116V54.704zm5.036 4.26V57.79c0-1.284-.789-2.158-2.042-2.158-1.252 0-1.878.601-1.878 1.393v2.704c0 .956.844 1.475 1.878 1.475 1.035 0 2.042-.874 2.042-2.158zM156.768 62.023c-.816 0-1.17-.519-1.252-1.174h-.082c-.299.874-1.089 1.365-2.096 1.365-1.525 0-2.423-.846-2.423-2.185 0-1.338.98-2.13 3.076-2.13h1.443v-.71c0-1.038-.571-1.584-1.715-1.584-1.143 0-1.443.41-1.851 1.093l-.681-.629c.381-.764 1.253-1.42 2.559-1.42 1.307 0 2.777.929 2.777 2.458v3.987h.817v.984h-.626zm-1.334-2.103v-1.202h-1.497c-1.28 0-1.851.383-1.851 1.093v.3c0 .71.571 1.12 1.443 1.12.871 0 1.905-.573 1.905-1.31M159.056 62.023v-7.265h1.116v1.175h.054c.354-.82.98-1.366 2.042-1.366 1.062 0 2.423 1.01 2.423 2.786v4.67h-1.116v-4.452c0-1.283-.572-1.966-1.633-1.966-1.062 0-1.77.464-1.77 1.393v5.052h-1.116zM171.471 54.758h1.116l-3.24 8.958c-.327.874-.626 1.12-1.688 1.12h-.572v-.983h1.144l.544-1.557-2.722-7.538h1.116l1.742 4.944.327 1.174h.082l.381-1.174 1.742-4.944zM66.132 12.863h5.582v12.045H84.51V12.863h5.636V42.36H84.51V29.96H71.714v12.4h-5.582zM93.74 36.651c0-4.424 3.104-5.899 6.888-6.8l6.398-1.475v-.519c0-2.157-1.388-3.496-3.621-3.496-2.232 0-3.54 1.23-3.948 3.25l-4.791-.546c.707-4.042 4.11-6.664 8.957-6.664 4.846 0 8.821 3.387 8.821 8.303v8.63c0 .546.164.71.545.71h1.17v4.288h-3.267c-2.069 0-2.995-.683-2.995-2.349 0-1.666.082-1.092.3-1.857l-.463-.164c-1.525 3.277-3.73 4.725-6.888 4.725s-7.106-2.403-7.106-6.063zm8.549 2.103c2.777 0 4.737-2.02 4.737-5.216v-1.693l-4.574 1.092c-2.314.546-3.267 1.338-3.267 3.113 0 1.776 1.225 2.704 3.104 2.704M116.147 36.542l5.119-1.01c.544 2.266 2.341 3.413 4.737 3.413s3.73-.983 3.73-2.621c0-1.64-1.606-1.994-4.629-2.54-3.811-.601-8.766-1.311-8.766-6.61 0-5.298 3.403-6.8 8.957-6.8s8.74 2.076 9.611 6.227l-5.173.847c-.463-2.104-2.178-3.196-4.465-3.196s-3.649 1.065-3.649 2.485 1.634 1.994 4.656 2.54c3.785.601 8.74 1.311 8.74 6.61 0 5.298-3.376 6.964-9.039 6.964s-8.958-2.103-9.883-6.336zM143.836 42.387h-5.472V12.044h5.472v9.45c0 1.092-.218 2.157-.517 3.714l.517.164c1.307-3.114 3.267-4.943 6.943-4.943 3.675 0 7.133 2.95 7.133 7.974v13.984h-5.473v-13.82c0-2.458-1.225-3.796-3.648-3.796s-4.955 2.103-4.955 5.817zM169.129 36.924c0 .847.3 1.093.926 1.093h2.396v4.342h-4.955c-2.478 0-3.812-1.393-3.812-3.96V25.263h-3.022V20.92h8.494v16.004zm-6.207-21.74c0-1.856 1.524-3.386 3.321-3.386 1.797 0 3.322 1.53 3.322 3.387a3.305 3.305 0 0 1-3.322 3.332 3.305 3.305 0 0 1-3.321-3.332M174.248 27.639c0-8.85 5.799-15.24 14.185-15.24 8.385 0 11.897 4.097 13.177 9.64l-5.554 1.34c-1.062-3.879-3.621-6.064-7.651-6.064-4.029 0-8.358 4.26-8.358 10.324 0 6.063 3.376 10.323 8.576 10.323 5.2 0 6.643-2.24 7.705-6.363l5.255.6c-1.253 6.61-6.126 10.707-13.014 10.707-6.889 0-14.321-6.419-14.321-15.24zM203.87 31.626c0-6.527 4.574-11.197 10.918-11.197 6.343 0 10.917 4.67 10.917 11.197 0 6.527-4.574 11.252-10.917 11.252-6.344 0-10.918-4.725-10.918-11.252m16.39 0c0-4.042-2.151-6.746-5.472-6.746-3.322 0-5.473 2.704-5.473 6.746s2.178 6.8 5.473 6.8c3.294 0 5.472-2.703 5.472-6.8M229.163 20.92h5.037v.847c0 1.147-.055 2.075-.381 3.796l.517.137c.79-2.813 2.26-4.752 5.717-4.752h1.552v5.325h-2.232c-3.077 0-4.738 1.857-4.738 5.271v10.87h-5.472v-21.44zM244.165 20.92h5.39v.983c0 .984-.081 1.72-.381 3.469l.517.136c1.307-3.413 3.73-5.052 6.889-5.052 5.2 0 9.338 4.288 9.338 11.197 0 6.91-4.111 11.253-9.338 11.253-5.228 0-5.473-1.64-6.807-5.108l-.463.164c.245 1.694.327 2.485.327 3.414v9.64h-5.472zm16.308 10.706c0-4.178-2.26-6.746-5.472-6.746-3.213 0-5.473 2.568-5.473 6.746 0 4.179 2.26 6.8 5.473 6.8 3.212 0 5.472-2.567 5.472-6.8M21.781 0 0 12.618v30.26l8.168 4.725v-30.26L21.78 9.476z"/><path fill="#000" d="M30.466 0v24.116h-8.685v-9.013l-8.195 4.752v30.889l8.195 4.724V31.435h8.685v8.958l8.195-4.752V4.752z"/><path fill="#000" d="m30.466 55.496 21.781-12.618v-30.26l-8.195-4.725v30.26L30.466 46.02z"/></svg></div></a><span class="footer_themeSwitcher__CPJxw hds-font-weight-regular"><label class="theme-switcher_label__7Boh2 hds-typography-body-200" for="react-aria-73">Theme</label></span></span><ul class="footer_links__t81SU"><li><a class="footer_linkAction__bR3OW g-focus-ring-from-box-shadow" href="/certifications"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular">Certifications</span></a></li><li><a class="footer_linkAction__bR3OW g-focus-ring-from-box-shadow" href="https://status.hashicorp.com"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular">System Status</span></a></li><li><button class="footer_linkAction__bR3OW g-focus-ring-from-box-shadow"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular">Cookie Manager</span></button></li><li><a class="footer_linkAction__bR3OW g-focus-ring-from-box-shadow" href="https://www.hashicorp.com/terms-of-service"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular">Terms of Use</span></a></li><li><a class="footer_linkAction__bR3OW g-focus-ring-from-box-shadow" href="https://www.hashicorp.com/trust/security"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular">Security</span></a></li><li><a class="footer_linkAction__bR3OW g-focus-ring-from-box-shadow" href="https://www.hashicorp.com/privacy"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular">Privacy</span></a></li><li><a class="footer_linkAction__bR3OW g-focus-ring-from-box-shadow" href="https://www.hashicorp.com/trademark-policy"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular">Trademark Policy</span></a></li><li><a class="footer_linkAction__bR3OW g-focus-ring-from-box-shadow" href="https://www.hashicorp.com/trade-controls"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular">Trade Controls</span></a></li><li><a class="footer_linkAction__bR3OW g-focus-ring-from-box-shadow" href="https://www.hashicorp.com/trust/accessibility"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular">Accessibility</span></a></li><li><a class="footer_linkAction__bR3OW g-focus-ring-from-box-shadow" aria-describedby="opens-in-new-tab-label-react-aria-82" target="_blank" href="https://forms.gle/fnHLuNahLEhjuKvE6"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular">Give Feedback</span><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><g fill="currentColor"><path d="M9 .75A.75.75 0 019.75 0h4.5c.206 0 .393.083.529.218l.001.002.002.001A.748.748 0 0115 .75v4.5a.75.75 0 01-1.5 0V2.56L7.28 8.78a.75.75 0 01-1.06-1.06l6.22-6.22H9.75A.75.75 0 019 .75z"></path><path d="M3.25 3.5a.75.75 0 00-.75.75v7.5c0 .414.336.75.75.75h7.5a.75.75 0 00.75-.75v-4a.75.75 0 011.5 0v4A2.25 2.25 0 0110.75 14h-7.5A2.25 2.25 0 011 11.75v-7.5A2.25 2.25 0 013.25 2h4a.75.75 0 010 1.5h-4z"></path></g></svg></a><span class="g-screen-reader-only" id="opens-in-new-tab-label-react-aria-82">(opens in new tab)</span></li></ul></footer></div></div></div><div style="position:fixed;z-index:99;top:16px;left:16px;right:16px;bottom:16px;pointer-events:none;inset:24px"></div><!--$--><!--/$--></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"metadata":{"title":"VMware vSphere Builder | Integrations"},"product":{"name":"Packer","slug":"packer","algoliaConfig":{"indexName":"product_PACKER","searchOnlyApiKey":"4e1ea7f4bf4335ac43d9f28463e42148"},"analyticsConfig":{"includedDomains":"packer.io www.packer.io","segmentWriteKey":"AjXdfmTTk1I9q9dfyePuDFHBrz1tCO3l"},"datoToken":"88b4984480dad56295a8aadae6caad","metadata":{"title":"Packer by HashiCorp","description":"Packer helps you create golden images for multiple platforms from a single source configuration.","image":"https://www.packer.io/packer-public/img/og-image.png","icon":[{"href":"/packer-public/_favicon.ico"}]},"alertBannerActive":true,"alertBanner":{"tag":"HashiDays","url":"https://hashicorp.com/conferences/hashidays","text":"One conference. Three cities.","linkText":"Find a city near you","expirationDate":"2024-06-14T00:00:00-08:00"},"version":"1.7.10","basePaths":["docs","guides","intro","downloads"],"rootDocsPaths":[{"iconName":"docs","name":"Documentation","path":"docs"},{"iconName":"guide","name":"Guides","path":"guides"}],"integrationsConfig":{"description":"A curated collection of official, partner, and community Packer Integrations."}},"integration":{"id":"568a9dbc-01e4-4277-847f-412aebfb97f7","slug":"vsphere","name":"VMware vSphere","description":"The vSphere plugin is able to create vSphere virtual machines for use with any VMware product.","license_type":null,"license_url":null,"external_only":false,"external_url":null,"tier":"official","repo_url":"https://github.com/hashicorp/packer-plugin-vsphere","subdirectory":"/.web-docs","created_at":"2023-06-15T19:03:11.209Z","updated_at":"2023-08-08T17:01:21.911Z","hide_versions":false,"organization":{"id":"a4a0551a-1451-4d89-9f56-8031c8350c77","slug":"hashicorp","created_at":"2022-11-09T22:56:32.391Z","updated_at":"2022-11-09T22:56:32.391Z"},"product":{"id":"4c2b00c6-7cc1-4e4c-b596-4ab57e319f21","slug":"packer","name":"Packer","created_at":"2022-11-09T22:56:29.896Z","updated_at":"2022-11-09T22:56:29.896Z"},"versions":["1.4.2","1.4.1","1.4.0","1.3.0","1.2.7","1.2.6","1.2.5","1.2.4","1.2.3","1.2.2","1.2.1","1.2.0"],"components":[{"id":"36076511-3ced-4faf-addf-101fce0405ff","slug":"builder","name":"Builder","plural_name":"Builders"},{"id":"73965f1c-ad56-4f38-a31b-dc17d08c0ba6","slug":"post-processor","name":"Post-Processor","plural_name":"Post-Processors"},{"id":"73965f1c-ad56-4f38-a31b-dc17d08c0ba6","slug":"post-processor","name":"Post-Processor","plural_name":"Post-Processors"},{"id":"36076511-3ced-4faf-addf-101fce0405ff","slug":"builder","name":"Builder","plural_name":"Builders"},{"id":"36076511-3ced-4faf-addf-101fce0405ff","slug":"builder","name":"Builder","plural_name":"Builders"}],"flags":[{"id":"3709e036-b45f-4be8-9043-f7c8cc2af00f","slug":"hcp-ready","name":"HCP Ready","description":"This integration has been tested to work with HashiCorp Cloud Platform (HCP)","created_at":"2022-11-09T22:56:30.673Z","updated_at":"2022-11-09T22:56:30.673Z"}],"integration_type":null},"activeRelease":{"id":"1ee34d8e-f6a0-4142-80c4-96b24f19da59","integration_id":"568a9dbc-01e4-4277-847f-412aebfb97f7","version":"1.4.2","readme":"\u003c!-- markdownlint-disable first-line-h1 no-inline-html --\u003e\n\nThe vSphere plugin is able to create vSphere virtual machines for use with VMware products.\n\nTo achieve this, the plugin comes with three builders, and two post-processors to build the virtual\nmachine depending on the strategy you want to use.\n\nThe Packer Plugin for VMware vSphere is a multi-component plugin can be used with HashiCorp Packer\nto create virtual machine images for VMware vSphere.\n\nThe plugin includes three builders which are able to create images, depending on your desired\nstrategy:\n\n### Installation\n\nTo install this plugin add this code into your Packer configuration and run\n[packer init](/packer/docs/commands/init)\n\n```hcl\npacker {\n  required_plugins {\n    vsphere = {\n      version = \"~\u003e 1\"\n      source  = \"github.com/hashicorp/vsphere\"\n    }\n  }\n}\n```\n\nAlternatively, you can use `packer plugins install` to manage installation of this plugin.\n\n```sh\npacker plugins install github.com/hashicorp/vsphere\n```\n\n### Components\n\n#### Builders\n\n- [vsphere-iso](/packer/integrations/hashicorp/vsphere/latest/components/builder/vsphere-iso) - This\n  builder starts from an ISO file and uses the vSphere API to build a virtual machine image on\n  an ESXi host.\n\n- [vsphere-clone](/packer/integrations/hashicorp/vsphere/latest/components/builder/vsphere-clone) -\n  This builder clones a virtual machine from an existing template using the uses the vSphere API and\n  then modifies and saves it as a new template.\n\n- [vsphere-supervisor](/packer/integrations/hashicorp/vsphere/latest/components/builder/vsphere-supervisor) -\n  This builder deploys and publishes new virtual machine to a vSphere Supervisor cluster using VM\n  Service.\n\n#### Post-Processors\n\n- [vsphere](/packer/integrations/hashicorp/vsphere/latest/components/post-processor/vsphere) -\n  This post-processor uploads an artifact to a vSphere endpoint. The artifact must be a VMX, OVA,\n  or OVF file.\n\n- [vsphere-template](/packer/integrations/hashicorp/vsphere/latest/components/post-processor/vsphere-template) - This post-processor uses an artifact from the `vmware-iso` builder with an ESXi host or an\n    artifact from the [vSphere](/packer/plugins/post-processors/vsphere/vsphere) post-processor. It\n    then marks the virtual machine as a template and moves it to your specified path.\n\n### Differences from the Packer Plugin for VMware\n\nWhile both this plugin and the [`packer-plugin-vmware`](packer/integrations/hashicorp/vmware) are\ndesigned to create virtual machine images, there are some key differences:\n\n- **Platforms**: This plugin is specifically developed to utilize the VMware vSphere API,\n  facilitating the creation of virtual machine images by integrating with VMware vCenter Server and\n  the VMware vSphere Hypervisor. On the other hand, `packer-plugin-vmware` supports a variety of\n  platforms including VMware vSphere Hypervisor and desktop virtualization products such as VMware\n  Fusion, VMware Workstation, and VMware Player, though it does not utilize the vSphere API for its\n  operations.\n\n- **Focus**: This plugin is purpose-built with a focus on VMware vSphere, offering capabilities such\n  as creating virtual machine images, cloning and modifying base virtual machine images, and\n  exporting artifacts in specified locations and formats. In contrast, `packer-plugin-vmware`\n  includes builders that operate on both VMware vSphere Hypervisor and the aforementioned desktop\n  virtualization products, providing a different set of functionalities, including support for\n  Vagrant.\n\nPlease refer to the documentation for each plugin to understand the specific capabilities and\nconfiguration options.\n","created_at":"2024-10-17T21:00:15.559Z","updated_at":"2024-10-17T21:00:15.559Z","components":[{"id":"78eaf204-d616-4543-a1d8-5986af78768c","integration_release_id":"1ee34d8e-f6a0-4142-80c4-96b24f19da59","component_id":"36076511-3ced-4faf-addf-101fce0405ff","readme":"Type: `vsphere-iso`\n\nArtifact BuilderId: `jetbrains.vsphere`\n\nThis builder starts from a guest operating system ISO file and builds a virtual machine image on a\nvSphere cluster or an ESXi host using the vSphere API.\n\n-\u003e **Note:** This builder is developed to maintain compatibility with VMware vSphere versions until\ntheir respective End of General Support dates. For detailed information, refer to the\n[Broadcom Product Lifecycle](https://support.broadcom.com/group/ecx/productlifecycle).\n\n## Examples\n\n- Basic examples are available in the [examples](https://github.com/hashicorp/packer-plugin-vsphere/tree/main/examples/)\n  directory of the GitHub repository.\n\n- Additional examples are available in the [`vmware-samples/packer-examples-for-vsphere`](https://github.com/vmware-samples/packer-examples-for-vsphere)\n  GitHub repository maintained by VMware by Broadcom.\n\n## Configuration Reference\n\n### HTTP Configuration\n\n\u003c!-- Code generated from the comments of the HTTPConfig struct in multistep/commonsteps/http_config.go; DO NOT EDIT MANUALLY --\u003e\n\nPacker will create an http server serving `http_directory` when it is set, a\nrandom free port will be selected and the architecture of the directory\nreferenced will be available in your builder.\n\nExample usage from a builder:\n\n```\nwget http://{{ .HTTPIP }}:{{ .HTTPPort }}/foo/bar/preseed.cfg\n```\n\n\u003c!-- End of code generated from the comments of the HTTPConfig struct in multistep/commonsteps/http_config.go; --\u003e\n\n\n**Optional**:\n\n\u003c!-- Code generated from the comments of the HTTPConfig struct in multistep/commonsteps/http_config.go; DO NOT EDIT MANUALLY --\u003e\n\n- `http_directory` (string) - Path to a directory to serve using an HTTP server. The files in this\n  directory will be available over HTTP that will be requestable from the\n  virtual machine. This is useful for hosting kickstart files and so on.\n  By default this is an empty string, which means no HTTP server will be\n  started. The address and port of the HTTP server will be available as\n  variables in `boot_command`. This is covered in more detail below.\n\n- `http_content` (map[string]string) - Key/Values to serve using an HTTP server. `http_content` works like and\n  conflicts with `http_directory`. The keys represent the paths and the\n  values contents, the keys must start with a slash, ex: `/path/to/file`.\n  `http_content` is useful for hosting kickstart files and so on. By\n  default this is empty, which means no HTTP server will be started. The\n  address and port of the HTTP server will be available as variables in\n  `boot_command`. This is covered in more detail below.\n  Example:\n  ```hcl\n    http_content = {\n      \"/a/b\"     = file(\"http/b\")\n      \"/foo/bar\" = templatefile(\"${path.root}/preseed.cfg\", { packages = [\"nginx\"] })\n    }\n  ```\n\n- `http_port_min` (int) - These are the minimum and maximum port to use for the HTTP server\n  started to serve the `http_directory`. Because Packer often runs in\n  parallel, Packer will choose a randomly available port in this range to\n  run the HTTP server. If you want to force the HTTP server to be on one\n  port, make this minimum and maximum port the same. By default the values\n  are `8000` and `9000`, respectively.\n\n- `http_port_max` (int) - HTTP Port Max\n\n- `http_bind_address` (string) - This is the bind address for the HTTP server. Defaults to 0.0.0.0 so that\n  it will work with any network interface.\n\n\u003c!-- End of code generated from the comments of the HTTPConfig struct in multistep/commonsteps/http_config.go; --\u003e\n\n\n- `http_interface` (string) - The network interface (for example, `en0`, `ens192`, etc.) that the\n  HTTP server will use to serve the `http_directory`. The plugin will identify the IP address\n  associated with this network interface and bind to it.\n\n\u003c!-- Code generated from the comments of the BootConfig struct in builder/vsphere/common/step_boot_command.go; DO NOT EDIT MANUALLY --\u003e\n\n- `http_ip` (string) - The IP address to use for the HTTP server to serve the `http_directory`.\n\n\u003c!-- End of code generated from the comments of the BootConfig struct in builder/vsphere/common/step_boot_command.go; --\u003e\n\n\n~\u003e **Notes:**\n  - The options `http_bind_address` and `http_interface` are mutually exclusive.\n  - Both `http_bind_address` and `http_interface` have higher priority than `http_ip`.\n  - The `http_bind_address` is matched against the IP addresses of the host's network interfaces. If\n    no match is found, the plugin will terminate.\n  - Similarly, `http_interface` is compared with the host's network interfaces. If there's no\n    corresponding network interface, the plugin will also terminate.\n  - If neither `http_bind_address`, `http_interface`, and `http_ip` are provided, the plugin will\n    automatically find and use the IP address of the first non-loopback interface for `http_ip`.\n\n### Connection Configuration\n\n**Optional**:\n\n\u003c!-- Code generated from the comments of the ConnectConfig struct in builder/vsphere/common/step_connect.go; DO NOT EDIT MANUALLY --\u003e\n\n- `vcenter_server` (string) - The fully qualified domain name or IP address of the vCenter Server\n  instance.\n\n- `username` (string) - The username to authenticate with the vCenter Server instance.\n\n- `password` (string) - The password to authenticate with the vCenter Server instance.\n\n- `insecure_connection` (bool) - Do not validate the certificate of the vCenter Server instance.\n  Defaults to `false`.\n  \n  -\u003e **Note:** This option is beneficial in scenarios where the certificate\n  is self-signed or does not meet standard validation criteria.\n\n- `datacenter` (string) - The name of the datacenter object in the vSphere inventory.\n  \n  -\u003e **Note:** Required if more than one datacenter object exists in the\n  vSphere inventory.\n\n\u003c!-- End of code generated from the comments of the ConnectConfig struct in builder/vsphere/common/step_connect.go; --\u003e\n\n\n### Location Configuration\n\n**Optional**:\n\n\u003c!-- Code generated from the comments of the LocationConfig struct in builder/vsphere/common/config_location.go; DO NOT EDIT MANUALLY --\u003e\n\n- `vm_name` (string) - The name of the virtual machine.\n\n- `folder` (string) - The virtual machine folder where the virtual machine is created.\n\n- `cluster` (string) - The cluster where the virtual machine is created.\n  Refer to the [Working With Clusters And Hosts](#working-with-clusters-and-hosts)\n  section for more details.\n\n- `host` (string) - The ESXi host where the virtual machine is created. A full path must be\n  specified if the ESXi host is in a folder. For example `folder/host`.\n  Refer to the [Working With Clusters And Hosts](#working-with-clusters-and-hosts)\n  section for more details.\n\n- `resource_pool` (string) - The resource pool where the virtual machine is created.\n  If this is not specified, the root resource pool associated with the\n  `host` or `cluster` is used.\n  \n  ~\u003e **Note:**  The full path to the resource pool must be provided.\n  For example, a simple resource pool path might resemble `rp-packer` and\n  a nested path might resemble 'rp-packer/rp-linux-images'.\n\n- `datastore` (string) - The datastore where the virtual machine is created.\n  Required if `host` is a cluster, or if `host` has multiple datastores.\n\n- `set_host_for_datastore_uploads` (bool) - The ESXI host used for uploading files to the datastore.\n  Defaults to `false`.\n\n\u003c!-- End of code generated from the comments of the LocationConfig struct in builder/vsphere/common/config_location.go; --\u003e\n\n\n\u003c!-- Code generated from the comments of the Config struct in builder/vsphere/iso/config.go; DO NOT EDIT MANUALLY --\u003e\n\n- `create_snapshot` (bool) - Create a snapshot of the virtual machine to use as a base for linked clones.\n  Defaults to `false`.\n\n- `snapshot_name` (string) - The name of the snapshot when `create_snapshot` is `true`.\n  Defaults to `Created By Packer`.\n\n- `convert_to_template` (bool) - Convert the virtual machine to a template after the build is complete.\n  Defaults to `false`.\n  If set to `true`, the virtual machine can not be imported into a content library.\n\n- `export` (\\*common.ExportConfig) - The configuration for exporting the virtual machine to an OVF.\n  The virtual machine is not exported if [export configuration](#export-configuration) is not specified.\n\n- `content_library_destination` (\\*common.ContentLibraryDestinationConfig) - Import the virtual machine as a VM template or OVF template to a content library.\n  The template will not be imported if no [content library import configuration](#content-library-import-configuration) is specified.\n  If set, `convert_to_template` must be set to `false`.\n\n- `local_cache_overwrite` (bool) - Overwrite files in the local cache if they already exist.\n  Defaults to `false`.\n\n- `remote_cache_cleanup` (bool) - Cleanup items added to the remote cache after the build is complete.\n  Defaults to `false`.\n  \n  -\u003e **Note:** If the local cache overwrite flag is set to `true`, `RemoteCacheOverwrite` will\n  implicitly be set to `true`. This is to ensure consistency between the local and remote\n  cache.\n\n- `remote_cache_overwrite` (bool) - Overwrite files in the remote cache if they already exist.\n  Defaults to `false`.\n\n- `remote_cache_datastore` (string) - The remote cache datastore to use for the build.\n  If not set, the datastore of the virtual machine is used.\n\n- `remote_cache_path` (string) - The directory path on the remote cache datastore to use for the build.\n  If not set, the default path is `packer_cache/`.\n\n\u003c!-- End of code generated from the comments of the Config struct in builder/vsphere/iso/config.go; --\u003e\n\n\n### Hardware Configuration\n\n**Optional**:\n\n\u003c!-- Code generated from the comments of the HardwareConfig struct in builder/vsphere/common/step_hardware.go; DO NOT EDIT MANUALLY --\u003e\n\n- `CPUs` (int32) - The number of virtual CPUs cores for the virtual machine.\n\n- `cpu_cores` (int32) - The number of virtual CPU cores per socket for the virtual machine.\n\n- `CPU_reservation` (int64) - The CPU reservation in MHz.\n\n- `CPU_limit` (int64) - The upper limit of available CPU resources in MHz.\n\n- `CPU_hot_plug` (bool) - Enable CPU hot plug setting for virtual machine. Defaults to `false`\n\n- `RAM` (int64) - The amount of memory for the virtual machine in MB.\n\n- `RAM_reservation` (int64) - The guaranteed minimum allocation of memory for the virtual machine in MB.\n\n- `RAM_reserve_all` (bool) - Reserve all allocated memory. Defaults to `false`.\n  \n  -\u003e **Note:** May not be used together with `RAM_reservation`.\n\n- `RAM_hot_plug` (bool) - Enable memory hot add setting for virtual machine. Defaults to `false`.\n\n- `video_ram` (int64) - The amount of video memory in KB. Defaults to 4096 KB.\n  \n  -\u003e **Note:** Refer to the [vSphere documentation](https://docs.vmware.com/en/VMware-vSphere/8.0/vsphere-vm-administration/GUID-789C3913-1053-4850-A0F0-E29C3D32B6DA.html)\n  for supported maximums.\n\n- `displays` (int32) - The number of video displays. Defaults to `1`.\n  \n  `-\u003e **Note:** Refer to the [vSphere documentation](https://docs.vmware.com/en/VMware-vSphere/8.0/vsphere-vm-administration/GUID-789C3913-1053-4850-A0F0-E29C3D32B6DA.html)\n  for supported maximums.\n\n- `pci_passthrough_allowed_device` ([]PCIPassthroughAllowedDevice) - Configure Dynamic DirectPath I/O [PCI Passthrough](#pci-passthrough-configuration) for\n  virtual machine. Refer to the [vSphere documentation](https://docs.vmware.com/en/VMware-vSphere/8.0/vsphere-vm-administration/GUID-5B3CAB26-5D06-4A99-92A0-3A04C69CE64B.html)\n\n- `vgpu_profile` (string) - vGPU profile for accelerated graphics. Refer to the [NVIDIA GRID vGPU documentation](https://docs.nvidia.com/grid/latest/grid-vgpu-user-guide/index.html#configure-vmware-vsphere-vm-with-vgpu)\n  for examples of profile names. Defaults to none.\n\n- `NestedHV` (bool) - Enable nested hardware virtualization for the virtual machine.\n  Defaults to `false`.\n\n- `firmware` (string) - The firmware for the virtual machine.\n  \n  The available options for this setting are: 'bios', 'efi', and\n  'efi-secure'.\n  \n  -\u003e **Note:** Use `efi-secure` for UEFI Secure Boot.\n\n- `force_bios_setup` (bool) - Force entry into the BIOS setup screen during boot. Defaults to `false`.\n\n- `vTPM` (bool) - Enable virtual trusted platform module (TPM) device for the virtual\n  machine. Defaults to `false`.\n\n- `precision_clock` (string) - The virtual precision clock device for the virtual machine.\n  Defaults to `none`.\n  \n  The available options for this setting are: `none`, `ntp`, and `ptp`.\n\n\u003c!-- End of code generated from the comments of the HardwareConfig struct in builder/vsphere/common/step_hardware.go; --\u003e\n\n\n### Create Configuration\n\n**Optional**:\n\n\u003c!-- Code generated from the comments of the CreateConfig struct in builder/vsphere/iso/step_create.go; DO NOT EDIT MANUALLY --\u003e\n\n- `vm_version` (uint) - Specifies the virtual machine hardware version. Defaults to the most\n  current virtual machine hardware version supported by the ESXi host.\n  Refer to [KB 315655](https://knowledge.broadcom.com/external/article?articleNumber=315655)\n  for more information on supported virtual hardware versions.\n\n- `guest_os_type` (string) - The guest operating system identifier for the virtual machine.\n  Defaults to `otherGuest`.\n  \n  To get a list of supported guest operating system identifiers for your\n  ESXi host, run the following PowerShell command using `VMware.PowerCLI`:\n  \n  ```powershell\n  Connect-VIServer -Server \"vcenter.example.com\" -User \"administrator@vsphere.local\" -Password \"password\"\n  $esxiHost = Get-VMHost -Name \"esxi-01.example.com\"\n  $environmentBrowser = Get-View -Id $esxiHost.ExtensionData.Parent.ExtensionData.ConfigManager.EnvironmentBrowser\n  $vmxVersion = ($environmentBrowser.QueryConfigOptionDescriptor() | Where-Object DefaultConfigOption).Key\n  $osDescriptor = $environmentBrowser.QueryConfigOption($vmxVersion, $null).GuestOSDescriptor\n  $osDescriptor | Select-Object Id, Fullname\n  ```\n\n- `network_adapters` ([]NIC) - The network adapters for the virtual machine.\n  \n  -\u003e **Note:** If no network adapter is defined, all network-related\n  operations are skipped.\n\n- `usb_controller` ([]string) - The USB controllers for the virtual machine.\n  \n  The available options for this setting are: `usb` and `xhci`.\n  \n  - `usb`: USB 2.0\n  - `xhci`: USB 3.0\n  \n  -\u003e **Note:** A maximum of one of each controller type can be defined.\n\n- `notes` (string) - The annotations for the virtual machine.\n\n- `destroy` (bool) - Destroy the virtual machine after the build completes.\n  Defaults to `false`.\n\n\u003c!-- End of code generated from the comments of the CreateConfig struct in builder/vsphere/iso/step_create.go; --\u003e\n\n\n### ISO Configuration\n\n\u003c!-- Code generated from the comments of the ISOConfig struct in multistep/commonsteps/iso_config.go; DO NOT EDIT MANUALLY --\u003e\n\nBy default, Packer will symlink, download or copy image files to the Packer\ncache into a \"`hash($iso_url+$iso_checksum).$iso_target_extension`\" file.\nPacker uses [hashicorp/go-getter](https://github.com/hashicorp/go-getter) in\nfile mode in order to perform a download.\n\ngo-getter supports the following protocols:\n\n* Local files\n* Git\n* Mercurial\n* HTTP\n* Amazon S3\n\nExamples:\ngo-getter can guess the checksum type based on `iso_checksum` length, and it is\nalso possible to specify the checksum type.\n\nIn JSON:\n\n```json\n\n\t\"iso_checksum\": \"946a6077af6f5f95a51f82fdc44051c7aa19f9cfc5f737954845a6050543d7c2\",\n\t\"iso_url\": \"ubuntu.org/.../ubuntu-14.04.1-server-amd64.iso\"\n\n```\n\n```json\n\n\t\"iso_checksum\": \"file:ubuntu.org/..../ubuntu-14.04.1-server-amd64.iso.sum\",\n\t\"iso_url\": \"ubuntu.org/.../ubuntu-14.04.1-server-amd64.iso\"\n\n```\n\n```json\n\n\t\"iso_checksum\": \"file://./shasums.txt\",\n\t\"iso_url\": \"ubuntu.org/.../ubuntu-14.04.1-server-amd64.iso\"\n\n```\n\n```json\n\n\t\"iso_checksum\": \"file:./shasums.txt\",\n\t\"iso_url\": \"ubuntu.org/.../ubuntu-14.04.1-server-amd64.iso\"\n\n```\n\nIn HCL2:\n\n```hcl\n\n\tiso_checksum = \"946a6077af6f5f95a51f82fdc44051c7aa19f9cfc5f737954845a6050543d7c2\"\n\tiso_url = \"ubuntu.org/.../ubuntu-14.04.1-server-amd64.iso\"\n\n```\n\n```hcl\n\n\tiso_checksum = \"file:ubuntu.org/..../ubuntu-14.04.1-server-amd64.iso.sum\"\n\tiso_url = \"ubuntu.org/.../ubuntu-14.04.1-server-amd64.iso\"\n\n```\n\n```hcl\n\n\tiso_checksum = \"file://./shasums.txt\"\n\tiso_url = \"ubuntu.org/.../ubuntu-14.04.1-server-amd64.iso\"\n\n```\n\n```hcl\n\n\tiso_checksum = \"file:./shasums.txt\",\n\tiso_url = \"ubuntu.org/.../ubuntu-14.04.1-server-amd64.iso\"\n\n```\n\n\u003c!-- End of code generated from the comments of the ISOConfig struct in multistep/commonsteps/iso_config.go; --\u003e\n\n\n**Required**:\n\n\u003c!-- Code generated from the comments of the ISOConfig struct in multistep/commonsteps/iso_config.go; DO NOT EDIT MANUALLY --\u003e\n\n- `iso_checksum` (string) - The checksum for the ISO file or virtual hard drive file. The type of\n  the checksum is specified within the checksum field as a prefix, ex:\n  \"md5:{$checksum}\". The type of the checksum can also be omitted and\n  Packer will try to infer it based on string length. Valid values are\n  \"none\", \"{$checksum}\", \"md5:{$checksum}\", \"sha1:{$checksum}\",\n  \"sha256:{$checksum}\", \"sha512:{$checksum}\" or \"file:{$path}\". Here is a\n  list of valid checksum values:\n   * md5:090992ba9fd140077b0661cb75f7ce13\n   * 090992ba9fd140077b0661cb75f7ce13\n   * sha1:ebfb681885ddf1234c18094a45bbeafd91467911\n   * ebfb681885ddf1234c18094a45bbeafd91467911\n   * sha256:ed363350696a726b7932db864dda019bd2017365c9e299627830f06954643f93\n   * ed363350696a726b7932db864dda019bd2017365c9e299627830f06954643f93\n   * file:http://releases.ubuntu.com/20.04/SHA256SUMS\n   * file:file://./local/path/file.sum\n   * file:./local/path/file.sum\n   * none\n  Although the checksum will not be verified when it is set to \"none\",\n  this is not recommended since these files can be very large and\n  corruption does happen from time to time.\n\n- `iso_url` (string) - A URL to the ISO containing the installation image or virtual hard drive\n  (VHD or VHDX) file to clone.\n\n\u003c!-- End of code generated from the comments of the ISOConfig struct in multistep/commonsteps/iso_config.go; --\u003e\n\n\n**Optional**:\n\n\u003c!-- Code generated from the comments of the ISOConfig struct in multistep/commonsteps/iso_config.go; DO NOT EDIT MANUALLY --\u003e\n\n- `iso_urls` ([]string) - Multiple URLs for the ISO to download. Packer will try these in order.\n  If anything goes wrong attempting to download or while downloading a\n  single URL, it will move on to the next. All URLs must point to the same\n  file (same checksum). By default this is empty and `iso_url` is used.\n  Only one of `iso_url` or `iso_urls` can be specified.\n\n- `iso_target_path` (string) - The path where the iso should be saved after download. By default will\n  go in the packer cache, with a hash of the original filename and\n  checksum as its name.\n\n- `iso_target_extension` (string) - The extension of the iso file after download. This defaults to `iso`.\n\n\u003c!-- End of code generated from the comments of the ISOConfig struct in multistep/commonsteps/iso_config.go; --\u003e\n\n\n### CD-ROM Configuration\n\nFor each ISO defined in the CD-ROM configuration, a CD-ROM device is added.\n\nIf the `iso_url` is defined in addition to the `iso_paths`, the `iso_url` is added to the virtual\nmachine first. This keeps the `iso_url` first in the boot order by default, allowing the boot ISO to\nbe defined by the `iso_url` and the VMware Tools ISO added from ESXi host.\n\nHCL Example:\n\n```hcl\n  iso_urls = [\n    \"windows-server.iso\",\n    \"https://example.com/isos/windows-server.iso\"\n  ]\n\n  iso_paths = [\n    \"[] /usr/lib/vmware/isoimages/windows.iso\"\n  ]\n```\n\nJSON Example:\n\n```json\n  \"iso_urls\": [\n    \"windows-server.iso\",\n    \"https://example.com/isos/windows-server.iso\"\n  ],\n  \"iso_paths\": [\n      \"[] /usr/lib/vmware/isoimages/windows.iso\"\n  ],\n```\n\n\u003c!-- Code generated from the comments of the CDConfig struct in multistep/commonsteps/extra_iso_config.go; DO NOT EDIT MANUALLY --\u003e\n\nAn iso (CD) containing custom files can be made available for your build.\n\nBy default, no extra CD will be attached. All files listed in this setting\nget placed into the root directory of the CD and the CD is attached as the\nsecond CD device.\n\nThis config exists to work around modern operating systems that have no\nway to mount floppy disks, which was our previous go-to for adding files at\nboot time.\n\n\u003c!-- End of code generated from the comments of the CDConfig struct in multistep/commonsteps/extra_iso_config.go; --\u003e\n\n\n**Optional**:\n\n\u003c!-- Code generated from the comments of the CDConfig struct in multistep/commonsteps/extra_iso_config.go; DO NOT EDIT MANUALLY --\u003e\n\n- `cd_files` ([]string) - A list of files to place onto a CD that is attached when the VM is\n  booted. This can include either files or directories; any directories\n  will be copied onto the CD recursively, preserving directory structure\n  hierarchy. Symlinks will have the link's target copied into the directory\n  tree on the CD where the symlink was. File globbing is allowed.\n  \n  Usage example (JSON):\n  \n  ```json\n  \"cd_files\": [\"./somedirectory/meta-data\", \"./somedirectory/user-data\"],\n  \"cd_label\": \"cidata\",\n  ```\n  \n  Usage example (HCL):\n  \n  ```hcl\n  cd_files = [\"./somedirectory/meta-data\", \"./somedirectory/user-data\"]\n  cd_label = \"cidata\"\n  ```\n  \n  The above will create a CD with two files, user-data and meta-data in the\n  CD root. This specific example is how you would create a CD that can be\n  used for an Ubuntu 20.04 autoinstall.\n  \n  Since globbing is also supported,\n  \n  ```hcl\n  cd_files = [\"./somedirectory/*\"]\n  cd_label = \"cidata\"\n  ```\n  \n  Would also be an acceptable way to define the above cd. The difference\n  between providing the directory with or without the glob is whether the\n  directory itself or its contents will be at the CD root.\n  \n  Use of this option assumes that you have a command line tool installed\n  that can handle the iso creation. Packer will use one of the following\n  tools:\n  \n    * xorriso\n    * mkisofs\n    * hdiutil (normally found in macOS)\n    * oscdimg (normally found in Windows as part of the Windows ADK)\n\n- `cd_content` (map[string]string) - Key/Values to add to the CD. The keys represent the paths, and the values\n  contents. It can be used alongside `cd_files`, which is useful to add large\n  files without loading them into memory. If any paths are specified by both,\n  the contents in `cd_content` will take precedence.\n  \n  Usage example (HCL):\n  \n  ```hcl\n  cd_files = [\"vendor-data\"]\n  cd_content = {\n    \"meta-data\" = jsonencode(local.instance_data)\n    \"user-data\" = templatefile(\"user-data\", { packages = [\"nginx\"] })\n  }\n  cd_label = \"cidata\"\n  ```\n\n- `cd_label` (string) - CD Label\n\n\u003c!-- End of code generated from the comments of the CDConfig struct in multistep/commonsteps/extra_iso_config.go; --\u003e\n\n\n\u003c!-- Code generated from the comments of the CDRomConfig struct in builder/vsphere/common/step_add_cdrom.go; DO NOT EDIT MANUALLY --\u003e\n\n- `cdrom_type` (string) - The type of controller to use for the CD-ROM device. Defaults to `ide`.\n  \n  The available options for this setting are: `ide` and `sata`.\n\n- `iso_paths` ([]string) - A list of paths to ISO files in either a datastore or a content library\n  that will be attached to the virtual machine.\n  \n  HCL Example:\n  \n  ```hcl\n  iso_paths = [\n    \"[nfs] iso/ubuntu-server-amd64.iso\",\n    \"Example Content Library/ubuntu-server-amd64/ubuntu-server-amd64.iso\"\n  ]\n  ```\n  \n  JSON Example:\n  \n  ```json\n  \"iso_paths\": [\n    \"[nfs] iso/ubuntu-server-amd64.iso\",\n    \"Example Content Library/ubuntu-server-amd64/ubuntu-server-amd64.iso\"\n  ]\n  ```\n  \n  Two ISOs are referenced:\n  \n  1. An ISO in the \"_iso_\" folder of the \"_nfs_\" datastore with the file\n    name of \"_ubuntu-server-amd64.iso_\". \"_ubuntu-server-amd64.iso_\".\n  2. An ISO in the \"_Example Content Library_\" content library with the\n    item name of \"_ubuntu-server-amd64_\".\n  \n  -\u003e **Note:** All files in a content library have an associated item name.\n  To determine the file name, view the datastore backing the content\n  library or use the `govc` vSphere CLI.\n\n\u003c!-- End of code generated from the comments of the CDRomConfig struct in builder/vsphere/common/step_add_cdrom.go; --\u003e\n\n\n\u003c!-- Code generated from the comments of the RemoveCDRomConfig struct in builder/vsphere/common/step_remove_cdrom.go; DO NOT EDIT MANUALLY --\u003e\n\n- `remove_cdrom` (bool) - Remove all CD-ROM devices from the virtual machine when the build is\n  complete. Defaults to `false`.\n\n\u003c!-- End of code generated from the comments of the RemoveCDRomConfig struct in builder/vsphere/common/step_remove_cdrom.go; --\u003e\n\n\n\u003c!-- Code generated from the comments of the ReattachCDRomConfig struct in builder/vsphere/common/step_reattach_cdrom.go; DO NOT EDIT MANUALLY --\u003e\n\n- `reattach_cdroms` (int) - The number of CD-ROM devices to reattach to the final build artifact.\n  Range: 0 - 4. Defaults to 0.\n  \n  -\u003e **Note:** If set to 0, the step is skipped. When set to a value in the\n  range, `remove_cdrom` is ignored and the CD-ROM devices are kept without\n  any attached media.\n\n\u003c!-- End of code generated from the comments of the ReattachCDRomConfig struct in builder/vsphere/common/step_reattach_cdrom.go; --\u003e\n\n\n### Floppy Configuration\n\n**Optional**:\n\n\u003c!-- Code generated from the comments of the FloppyConfig struct in builder/vsphere/common/step_add_floppy.go; DO NOT EDIT MANUALLY --\u003e\n\n- `floppy_img_path` (string) - Datastore path to a floppy image that will be mounted to the virtual\n  machine. Example: `[datastore] iso/foo.flp`.\n\n- `floppy_files` ([]string) - A list of local files to be mounted to the virtual machine's floppy\n  drive.\n\n- `floppy_dirs` ([]string) - A list of directories to copy files from.\n\n- `floppy_content` (map[string]string) - Key/Values to add to the floppy disk. The keys represent the paths, and\n  the values contents. It can be used alongside `floppy_files` or\n  `floppy_dirs`, which is useful to add large files without loading them\n  into memory. If any paths are specified by both, the contents in\n  `floppy_content` will take precedence.\n  \n  HCL Example:\n  \n  ```hcl\n  floppy_content = {\n    \"meta-data\" = jsonencode(local.instance_data)\n    \"user-data\" = templatefile(\"user-data\", { packages = [\"nginx\"] })\n  }\n  ```\n\n- `floppy_label` (string) - The label to use for the floppy disk that is attached when the virtual\n  machine is booted. This is most useful for cloud-init, Kickstart or other\n  early initialization tools, which can benefit from labelled floppy disks.\n  By default, the floppy label will be 'packer'.\n\n\u003c!-- End of code generated from the comments of the FloppyConfig struct in builder/vsphere/common/step_add_floppy.go; --\u003e\n\n\n### Network Adapter Configuration\n\n\u003c!-- Code generated from the comments of the NIC struct in builder/vsphere/iso/step_create.go; DO NOT EDIT MANUALLY --\u003e\n\nIf no adapter is defined, network tasks (communicators, most provisioners)\nwill not work, so it's advised to define one.\n\nExample configuration with two network adapters:\n\nHCL Example:\n\n```hcl\n\n\tnetwork_adapters {\n\t    network = \"VM Network\"\n\t    network_card = \"vmxnet3\"\n\t}\n\tnetwork_adapters {\n\t    network = \"OtherNetwork\"\n\t    network_card = \"vmxnet3\"\n\t}\n\n```\n\nJSON Example:\n\n```json\n\n\t\"network_adapters\": [\n\t  {\n\t    \"network\": \"VM Network\",\n\t    \"network_card\": \"vmxnet3\"\n\t  },\n\t  {\n\t    \"network\": \"OtherNetwork\",\n\t    \"network_card\": \"vmxnet3\"\n\t  }\n\t],\n\n```\n\n\u003c!-- End of code generated from the comments of the NIC struct in builder/vsphere/iso/step_create.go; --\u003e\n\n\n**Required**:\n\n\u003c!-- Code generated from the comments of the NIC struct in builder/vsphere/iso/step_create.go; DO NOT EDIT MANUALLY --\u003e\n\n- `network_card` (string) - The virtual machine network card type. For example `vmxnet3`.\n\n\u003c!-- End of code generated from the comments of the NIC struct in builder/vsphere/iso/step_create.go; --\u003e\n\n\n**Optional**:\n\n\u003c!-- Code generated from the comments of the NIC struct in builder/vsphere/iso/step_create.go; DO NOT EDIT MANUALLY --\u003e\n\n- `network` (string) - The network to which the virtual machine will connect.\n  \n  For example:\n  \n  - Name: `\u003cNetworkName\u003e`\n  - Inventory Path: `/\u003cDatacenterName\u003e/\u003cFolderName\u003e/\u003cNetworkName\u003e`\n  - Managed Object ID (Port Group): `Network:network-\u003cxxxxx\u003e`\n  - Managed Object ID (Distributed Port Group): `DistributedVirtualPortgroup::dvportgroup-\u003cxxxxx\u003e`\n  - Logical Switch UUID: `\u003cuuid\u003e`\n  - Segment ID: `/infra/segments/\u003cSegmentID\u003e`\n  \n  ~\u003e **Note:** If more than one network resolves to the same name, either\n  the inventory path to network or an ID must be provided.\n  \n  ~\u003e **Note:** If no network is specified, provide `host` to allow the\n  plugin to search for an available network.\n\n- `mac_address` (string) - The network card MAC address. For example `00:50:56:00:00:00`.\n\n- `passthrough` (\\*bool) - Enable DirectPath I/O passthrough for the network device.\n  Defaults to `false`.\n\n\u003c!-- End of code generated from the comments of the NIC struct in builder/vsphere/iso/step_create.go; --\u003e\n\n\n\u003c!-- Code generated from the comments of the RemoveNetworkConfig struct in builder/vsphere/common/step_remove_network.go; DO NOT EDIT MANUALLY --\u003e\n\n- `remove_network_adapter` (bool) - Remove all network adapters from template. Defaults to `false`.\n\n\u003c!-- End of code generated from the comments of the RemoveNetworkConfig struct in builder/vsphere/common/step_remove_network.go; --\u003e\n\n\n### Storage Configuration\n\n\u003c!-- Code generated from the comments of the DiskConfig struct in builder/vsphere/common/storage_config.go; DO NOT EDIT MANUALLY --\u003e\n\nThe following example that will create a 15GB and a 20GB disk on the virtual\nmachine. The second disk will be thin provisioned:\n\nHCL Example:\n\n```hcl\n\n\tstorage {\n\t    disk_size = 15000\n\t}\n\tstorage {\n\t    disk_size = 20000\n\t    disk_thin_provisioned = true\n\t}\n\n```\n\nJSON Example:\n\n```json\n\n\t\"storage\": [\n\t  {\n\t    \"disk_size\": 15000\n\t  },\n\t  {\n\t    \"disk_size\": 20000,\n\t    \"disk_thin_provisioned\": true\n\t  }\n\t],\n\n```\n\nThe following example will use two PVSCSI controllers and two disks on each\ncontroller.\n\nHCL Example:\n\n```hcl\n\n\t disk_controller_type = [\"pvscsi\", \"pvscsi\"]\n\t\tstorage {\n\t\t   disk_size = 15000,\n\t\t   disk_controller_index = 0\n\t\t}\n\t\tstorage {\n\t\t   disk_size = 15000\n\t\t   disk_controller_index = 0\n\t\t}\n\t\tstorage {\n\t\t   disk_size = 15000\n\t\t   disk_controller_index = 1\n\t\t}\n\t\tstorage {\n\t\t   disk_size = 15000\n\t\t   disk_controller_index = 1\n\t\t}\n\n```\n\nJSON Example:\n\n```json\n\n\t\"disk_controller_type\": [\"pvscsi\", \"pvscsi\"],\n\t\"storage\": [\n\t  {\n\t    \"disk_size\": 15000,\n\t    \"disk_controller_index\": 0\n\t  },\n\t  {\n\t    \"disk_size\": 15000,\n\t    \"disk_controller_index\": 0\n\t  },\n\t  {\n\t    \"disk_size\": 15000,\n\t    \"disk_controller_index\": 1\n\t  },\n\t  {\n\t    \"disk_size\": 15000,\n\t    \"disk_controller_index\": 1\n\t  }\n\t],\n\n```\n\n\u003c!-- End of code generated from the comments of the DiskConfig struct in builder/vsphere/common/storage_config.go; --\u003e\n\n\n**Required**:\n\n\u003c!-- Code generated from the comments of the DiskConfig struct in builder/vsphere/common/storage_config.go; DO NOT EDIT MANUALLY --\u003e\n\n- `disk_size` (int64) - The size of the disk in MiB.\n\n\u003c!-- End of code generated from the comments of the DiskConfig struct in builder/vsphere/common/storage_config.go; --\u003e\n\n\n**Optional**:\n\n\u003c!-- Code generated from the comments of the DiskConfig struct in builder/vsphere/common/storage_config.go; DO NOT EDIT MANUALLY --\u003e\n\n- `disk_thin_provisioned` (bool) - Enable thin provisioning for the disk.\n  Defaults to `false`.\n\n- `disk_eagerly_scrub` (bool) - Enable eager scrubbing for the disk.\n  Defaults to `false`.\n\n- `disk_controller_index` (int) - The assigned disk controller for the disk.\n  Defaults to the first controller, `(0)`.\n\n\u003c!-- End of code generated from the comments of the DiskConfig struct in builder/vsphere/common/storage_config.go; --\u003e\n\n\n\u003c!-- Code generated from the comments of the StorageConfig struct in builder/vsphere/common/storage_config.go; DO NOT EDIT MANUALLY --\u003e\n\n- `disk_controller_type` ([]string) - The disk controller type. One of `lsilogic`, `lsilogic-sas`, `pvscsi`,\n  `nvme`, `scsi`, or `sata`. Defaults to `lsilogic`. Use a list to define\n  additional controllers. Refer to [SCSI, SATA, and NVMe Storage Controller\n  Conditions, Limitations, and Compatibility](https://docs.vmware.com/en/VMware-vSphere/8.0/vsphere-vm-administration/GUID-5872D173-A076-42FE-8D0B-9DB0EB0E7362.html)\n  for additional information.\n\n- `storage` ([]DiskConfig) - A collection of one or more disks to be provisioned.\n  Refer to the [Storage Configuration](#storage-configuration) section for additional information.\n\n\u003c!-- End of code generated from the comments of the StorageConfig struct in builder/vsphere/common/storage_config.go; --\u003e\n\n\n### Flag Configuration\n\n**Optional**:\n\n\u003c!-- Code generated from the comments of the FlagConfig struct in builder/vsphere/common/step_add_flag.go; DO NOT EDIT MANUALLY --\u003e\n\n- `vbs_enabled` (bool) - Enable Virtualization Based Security option for virtual machine. Defaults to `false`.\n  Requires `vvtd_enabled` and `NestedHV` to be set to `true`.\n  Requires `firmware` to be set to `efi-secure`.\n\n- `vvtd_enabled` (bool) - Enable IO/MMU option for virtual machine. Defaults to `false`.\n\n\u003c!-- End of code generated from the comments of the FlagConfig struct in builder/vsphere/common/step_add_flag.go; --\u003e\n\n\n### Boot Configuration\n\n\u003c!-- Code generated from the comments of the BootConfig struct in bootcommand/config.go; DO NOT EDIT MANUALLY --\u003e\n\nThe boot configuration is very important: `boot_command` specifies the keys\nto type when the virtual machine is first booted in order to start the OS\ninstaller. This command is typed after boot_wait, which gives the virtual\nmachine some time to actually load.\n\nThe boot_command is an array of strings. The strings are all typed in\nsequence. It is an array only to improve readability within the template.\n\nThere are a set of special keys available. If these are in your boot\ncommand, they will be replaced by the proper key:\n\n-   `\u003cbs\u003e` - Backspace\n\n-   `\u003cdel\u003e` - Delete\n\n-   `\u003center\u003e \u003creturn\u003e` - Simulates an actual \"enter\" or \"return\" keypress.\n\n-   `\u003cesc\u003e` - Simulates pressing the escape key.\n\n-   `\u003ctab\u003e` - Simulates pressing the tab key.\n\n-   `\u003cf1\u003e - \u003cf12\u003e` - Simulates pressing a function key.\n\n-   `\u003cup\u003e \u003cdown\u003e \u003cleft\u003e \u003cright\u003e` - Simulates pressing an arrow key.\n\n-   `\u003cspacebar\u003e` - Simulates pressing the spacebar.\n\n-   `\u003cinsert\u003e` - Simulates pressing the insert key.\n\n-   `\u003chome\u003e \u003cend\u003e` - Simulates pressing the home and end keys.\n\n  - `\u003cpageUp\u003e \u003cpageDown\u003e` - Simulates pressing the page up and page down\n    keys.\n\n-   `\u003cmenu\u003e` - Simulates pressing the Menu key.\n\n-   `\u003cleftAlt\u003e \u003crightAlt\u003e` - Simulates pressing the alt key.\n\n-   `\u003cleftCtrl\u003e \u003crightCtrl\u003e` - Simulates pressing the ctrl key.\n\n-   `\u003cleftShift\u003e \u003crightShift\u003e` - Simulates pressing the shift key.\n\n-   `\u003cleftSuper\u003e \u003crightSuper\u003e` - Simulates pressing the  or Windows key.\n\n  - `\u003cwait\u003e \u003cwait5\u003e \u003cwait10\u003e` - Adds a 1, 5 or 10 second pause before\n    sending any additional keys. This is useful if you have to generally\n    wait for the UI to update before typing more.\n\n  - `\u003cwaitXX\u003e` - Add an arbitrary pause before sending any additional keys.\n    The format of `XX` is a sequence of positive decimal numbers, each with\n    optional fraction and a unit suffix, such as `300ms`, `1.5h` or `2h45m`.\n    Valid time units are `ns`, `us` (or `s`), `ms`, `s`, `m`, `h`. For\n    example `\u003cwait10m\u003e` or `\u003cwait1m20s\u003e`.\n\n  - `\u003cXXXOn\u003e \u003cXXXOff\u003e` - Any printable keyboard character, and of these\n    \"special\" expressions, with the exception of the `\u003cwait\u003e` types, can\n    also be toggled on or off. For example, to simulate ctrl+c, use\n    `\u003cleftCtrlOn\u003ec\u003cleftCtrlOff\u003e`. Be sure to release them, otherwise they\n    will be held down until the machine reboots. To hold the `c` key down,\n    you would use `\u003ccOn\u003e`. Likewise, `\u003ccOff\u003e` to release.\n\n  - `{{ .HTTPIP }} {{ .HTTPPort }}` - The IP and port, respectively of an\n    HTTP server that is started serving the directory specified by the\n    `http_directory` configuration parameter. If `http_directory` isn't\n    specified, these will be blank!\n\n-   `{{ .Name }}` - The name of the VM.\n\nExample boot command. This is actually a working boot command used to start an\nCentOS 6.4 installer:\n\nIn JSON:\n\n```json\n\"boot_command\": [\n\n\t   \"\u003ctab\u003e\u003cwait\u003e\",\n\t   \" ks=http://{{ .HTTPIP }}:{{ .HTTPPort }}/centos6-ks.cfg\u003center\u003e\"\n\t]\n\n```\n\nIn HCL2:\n\n```hcl\nboot_command = [\n\n\t   \"\u003ctab\u003e\u003cwait\u003e\",\n\t   \" ks=http://{{ .HTTPIP }}:{{ .HTTPPort }}/centos6-ks.cfg\u003center\u003e\"\n\t]\n\n```\n\nThe example shown below is a working boot command used to start an Ubuntu\n12.04 installer:\n\nIn JSON:\n\n```json\n\"boot_command\": [\n\n\t\"\u003cesc\u003e\u003cesc\u003e\u003center\u003e\u003cwait\u003e\",\n\t\"/install/vmlinuz noapic \",\n\t\"preseed/url=http://{{ .HTTPIP }}:{{ .HTTPPort }}/preseed.cfg \",\n\t\"debian-installer=en_US auto locale=en_US kbd-chooser/method=us \",\n\t\"hostname={{ .Name }} \",\n\t\"fb=false debconf/frontend=noninteractive \",\n\t\"keyboard-configuration/modelcode=SKIP keyboard-configuration/layout=USA \",\n\t\"keyboard-configuration/variant=USA console-setup/ask_detect=false \",\n\t\"initrd=/install/initrd.gz -- \u003center\u003e\"\n\n]\n```\n\nIn HCL2:\n\n```hcl\nboot_command = [\n\n\t\"\u003cesc\u003e\u003cesc\u003e\u003center\u003e\u003cwait\u003e\",\n\t\"/install/vmlinuz noapic \",\n\t\"preseed/url=http://{{ .HTTPIP }}:{{ .HTTPPort }}/preseed.cfg \",\n\t\"debian-installer=en_US auto locale=en_US kbd-chooser/method=us \",\n\t\"hostname={{ .Name }} \",\n\t\"fb=false debconf/frontend=noninteractive \",\n\t\"keyboard-configuration/modelcode=SKIP keyboard-configuration/layout=USA \",\n\t\"keyboard-configuration/variant=USA console-setup/ask_detect=false \",\n\t\"initrd=/install/initrd.gz -- \u003center\u003e\"\n\n]\n```\n\nFor more examples of various boot commands, see the sample projects from our\n[community templates page](https://packer.io/community-tools#templates).\n\n\u003c!-- End of code generated from the comments of the BootConfig struct in bootcommand/config.go; --\u003e\n\n\nPacker sends each character to the virtual machine with a default delay of 100ms between groups. The\ndelay alleviates possible issues with latency and CPU contention. If you notice missing keys, you\ncan tune this delay by specifying `boot_keygroup_interval` in your template.\n\nHCL Example:\n\n```hcl\nsource \"vsphere-iso\" \"example\" {\n    boot_keygroup_interval = \"500ms\"\n    # ...\n}\n```\n\nJSON Example:\n\n```json\n{\n  \"builders\": [\n    {\n      \"type\": \"vsphere-iso\",\n      \"boot_keygroup_interval\": \"500ms\"\n    }\n  ]\n}\n```\n\n**Optional**:\n\n\u003c!-- Code generated from the comments of the RunConfig struct in builder/vsphere/common/step_run.go; DO NOT EDIT MANUALLY --\u003e\n\n- `boot_order` (string) - The priority of boot devices. Defaults to `disk,cdrom`.\n  \n  The available boot devices are: `floppy`, `cdrom`, `ethernet`, and\n  `disk`.\n  \n  -\u003e **Note:** If not set, the boot order is temporarily set to\n  `disk,cdrom` for the duration of the build and then cleared upon\n  build completion.\n\n\u003c!-- End of code generated from the comments of the RunConfig struct in builder/vsphere/common/step_run.go; --\u003e\n\n\n\u003c!-- Code generated from the comments of the BootConfig struct in bootcommand/config.go; DO NOT EDIT MANUALLY --\u003e\n\n- `boot_keygroup_interval` (duration string | ex: \"1h5m2s\") - Time to wait after sending a group of key pressses. The value of this\n  should be a duration. Examples are `5s` and `1m30s` which will cause\n  Packer to wait five seconds and one minute 30 seconds, respectively. If\n  this isn't specified, a sensible default value is picked depending on\n  the builder type.\n\n- `boot_wait` (duration string | ex: \"1h5m2s\") - The time to wait after booting the initial virtual machine before typing\n  the `boot_command`. The value of this should be a duration. Examples are\n  `5s` and `1m30s` which will cause Packer to wait five seconds and one\n  minute 30 seconds, respectively. If this isn't specified, the default is\n  `10s` or 10 seconds. To set boot_wait to 0s, use a negative number, such\n  as \"-1s\"\n\n- `boot_command` ([]string) - This is an array of commands to type when the virtual machine is first\n  booted. The goal of these commands should be to type just enough to\n  initialize the operating system installer. Special keys can be typed as\n  well, and are covered in the section below on the boot command. If this\n  is not specified, it is assumed the installer will start itself.\n\n\u003c!-- End of code generated from the comments of the BootConfig struct in bootcommand/config.go; --\u003e\n\n\n### Wait Configuration\n\n**Optional**:\n\n\u003c!-- Code generated from the comments of the WaitIpConfig struct in builder/vsphere/common/step_wait_for_ip.go; DO NOT EDIT MANUALLY --\u003e\n\n- `ip_wait_timeout` (duration string | ex: \"1h5m2s\") - Amount of time to wait for VM's IP, similar to 'ssh_timeout'.\n  Defaults to 30m (30 minutes). See the Golang\n  [ParseDuration](https://golang.org/pkg/time/#ParseDuration) documentation\n  for full details.\n\n- `ip_settle_timeout` (duration string | ex: \"1h5m2s\") - Amount of time to wait for VM's IP to settle down, sometimes VM may\n  report incorrect IP initially, then its recommended to set that\n  parameter to apx. 2 minutes. Examples 45s and 10m. Defaults to\n  5s(5 seconds). Refer to the Golang\n  [ParseDuration](https://golang.org/pkg/time/#ParseDuration) documentation\n   for full details.\n\n- `ip_wait_address` (\\*string) - Set this to a CIDR address to cause the service to wait for an address that is contained in\n  this network range. Defaults to \"0.0.0.0/0\" for any ipv4 address. Examples include:\n  \n  * empty string (\"\") - remove all filters\n  * `0:0:0:0:0:0:0:0/0` - allow only ipv6 addresses\n  * `192.168.1.0/24` - only allow ipv4 addresses from 192.168.1.1 to 192.168.1.254\n\n\u003c!-- End of code generated from the comments of the WaitIpConfig struct in builder/vsphere/common/step_wait_for_ip.go; --\u003e\n\n\n## Export Configuration\n\n\u003c!-- Code generated from the comments of the ExportConfig struct in builder/vsphere/common/step_export.go; DO NOT EDIT MANUALLY --\u003e\n\nYou can export an image in Open Virtualization Format (OVF) to the Packer\nhost.\n\nHCL Example:\n\n```hcl\n\n\t# ...\n\tvm_name = \"example-ubuntu\"\n\t# ...\n\texport {\n\t  force = true\n\t  output_directory = \"./output-artifacts\"\n\t}\n\n```\n\nJSON Example:\n\n```json\n...\n\n\t\"vm_name\": \"example-ubuntu\",\n\n...\n\n\t\"export\": {\n\t  \"force\": true,\n\t  \"output_directory\": \"./output-artifacts\"\n\t},\n\n```\n\nThe above configuration would create the following files:\n\n```text\n./output-artifacts/example-ubuntu-disk-0.vmdk\n./output-artifacts/example-ubuntu.mf\n./output-artifacts/example-ubuntu.ovf\n```\n\n\u003c!-- End of code generated from the comments of the ExportConfig struct in builder/vsphere/common/step_export.go; --\u003e\n\n\n**Optional**:\n\n\u003c!-- Code generated from the comments of the ExportConfig struct in builder/vsphere/common/step_export.go; DO NOT EDIT MANUALLY --\u003e\n\n- `name` (string) - The name of the exported image in Open Virtualization Format (OVF).\n  \n  -\u003e **Note:** The name of the virtual machine with the `.ovf` extension is\n  used if this option is not specified.\n\n- `force` (bool) - Forces the export to overwrite existing files. Defaults to `false`.\n  If set to `false`, an error is returned if the file(s) already exists.\n\n- `image_files` (bool) - Include additional image files that are that are associated with the\n  virtual machine. Defaults to `false`. For example, `.nvram` and `.log`\n  files.\n\n- `manifest` (string) - The hash algorithm to use when generating a manifest file. Defaults to\n  `sha256`.\n  \n  The available options for this setting are: 'none', 'sha1', 'sha256', and\n  'sha512'.\n  \n  --\u003e **Tip:** Use `none` to disable the creation of a manifest file.\n\n- `options` ([]string) - Advanced image export options. Available options include:\n  * `mac` - MAC address is exported for each Ethernet device.\n  * `uuid` - UUID is exported for the virtual machine.\n  * `extraconfig` - Extra configuration options are exported for the\n    virtual machine.\n  * `nodevicesubtypes` - Resource subtypes for CD/DVD drives, floppy\n    drives, and SCSI controllers are not exported.\n  \n  For example, adding the following export configuration option outputs the\n  MAC addresses for each Ethernet device in the OVF descriptor:\n  \n  HCL Example:\n  \n  ```hcl\n  ...\n    export {\n      options = [\"mac\"]\n    }\n  ```\n  \n  JSON: Example:\n  \n  ```json\n  ...\n    \"export\": {\n      \"options\": [\"mac\"]\n    },\n  ```\n\n- `output_format` (string) - The output format for the exported virtual machine image.\n  Defaults to `ovf`. Available options include `ovf` and `ova`.\n  \n  When set to `ova`, the image is first exported using Open Virtualization\n  Format (`.ovf`) and then converted to an Open Virtualization Archive\n  (`.ova`) using the VMware [Open Virtualization Format Tool](https://developer.broadcom.com/tools/open-virtualization-format-ovf-tool/latest)\n  (ovftool). The intermediate files are removed after the conversion.\n  \n  ~\u003e **Note:** To use the `ova` format option, VMware ovftool must be\n  installed on the Packer host and accessible in either the system `PATH`\n  or the user's `PATH`.\n\n\u003c!-- End of code generated from the comments of the ExportConfig struct in builder/vsphere/common/step_export.go; --\u003e\n\n\n### Output Configuration\n\n**Optional**:\n\n\u003c!-- Code generated from the comments of the OutputConfig struct in builder/vsphere/common/output_config.go; DO NOT EDIT MANUALLY --\u003e\n\n- `output_directory` (string) - The directory where artifacts from the build, such as the virtual machine\n  files and disks, will be output to. The path to the directory may be\n  relative or absolute. If relative, the path is relative to the working\n  directory Packer is run from. This directory must not exist or, if\n  created, must be empty prior to running the builder. By default this is\n  \"output-\u003cbuildName\u003e\" where \"buildName\" is the name of the build.\n\n- `directory_permission` (os.FileMode) - The permissions to apply to the \"output_directory\", and to any parent\n  directories that get created for output_directory.  By default this is\n  \"0750\". You should express the permission as quoted string with a\n  leading zero such as \"0755\" in JSON file, because JSON does not support\n  octal value. In Unix-like OS, the actual permission may differ from\n  this value because of umask.\n\n\u003c!-- End of code generated from the comments of the OutputConfig struct in builder/vsphere/common/output_config.go; --\u003e\n\n\n### Content Library Configuration\n\n\u003c!-- Code generated from the comments of the ContentLibraryDestinationConfig struct in builder/vsphere/common/step_import_to_content_library.go; DO NOT EDIT MANUALLY --\u003e\n\nCreate a content library item in a content library whose content is a VM\ntemplate or an OVF template created from the virtual machine image after\nthe build is complete.\n\nThe template is stored in a existing or newly created library item.\n\n\u003c!-- End of code generated from the comments of the ContentLibraryDestinationConfig struct in builder/vsphere/common/step_import_to_content_library.go; --\u003e\n\n\n**Optional**:\n\n\u003c!-- Code generated from the comments of the ContentLibraryDestinationConfig struct in builder/vsphere/common/step_import_to_content_library.go; DO NOT EDIT MANUALLY --\u003e\n\n- `library` (string) - The name of the content library in which the new content library item\n  containing the template will be created or updated. The content library\n  must be of type Local to allow deploying virtual machines.\n\n- `name` (string) - The name of the content library item that will be created or updated.\n  For VM templates, the name of the item should be different from\n  [vm_name](#vm_name) and the default is [vm_name](#vm_name) + timestamp\n  when not set. VM templates will be always imported to a new library item.\n  For OVF templates, the name defaults to [vm_name](#vm_name) when not set,\n  and if an item with the same name already exists it will be then updated\n  with the new OVF template, otherwise a new item will be created.\n  \n  ~\u003e **Note:** It's not possible to update existing content library items\n  with a new VM template. If updating an existing content library item is\n  necessary, use an OVF template instead by setting the [ovf](#ovf) option\n  as `true`.\n\n- `description` (string) - A description for the content library item that will be created.\n  Defaults to \"Packer imported [vm_name](#vm_name) VM template\".\n\n- `cluster` (string) - The cluster where the VM template will be placed.\n  If `cluster` and `resource_pool` are both specified, `resource_pool` must\n  belong to cluster. If `cluster` and `host` are both specified, the ESXi\n  host must be a member of the cluster. This option is not used when\n  importing OVF templates. Defaults to [`cluster`](#cluster).\n\n- `folder` (string) - The virtual machine folder where the VM template will be placed.\n  This option is not used when importing OVF templates. Defaults to\n  the same folder as the source virtual machine.\n\n- `host` (string) - The ESXi host where the virtual machine template will be placed.\n  If `host` and `resource_pool` are both specified, `resource_pool` must\n  belong to host. If `host` and `cluster` are both specified, `host` must\n  be a member of the cluster. This option is not used when importing OVF\n  templates. Defaults to [`host`](#host).\n\n- `resource_pool` (string) - The resource pool where the virtual machine template will be placed.\n  Defaults to [`resource_pool`](#resource_pool). If [`resource_pool`](#resource_pool)\n  is unset, the system will attempt to choose a suitable resource pool\n  for the VM template.\n\n- `datastore` (string) - The datastore for the virtual machine template's configuration and log\n  files. This option is not used when importing OVF templates.\n  Defaults to the storage backing associated with the content library.\n\n- `destroy` (bool) - Destroy the virtual machine after the import to the content library.\n  Defaults to `false`.\n\n- `ovf` (bool) - Import an OVF template to the content library item. Defaults to `false`.\n\n- `skip_import` (bool) - Skip the import to the content library item. Useful during a build test\n  stage. Defaults to `false`.\n\n- `ovf_flags` ([]string) - Flags to use for OVF package creation. The supported flags can be\n  obtained using ExportFlag.list. If unset, no flags will be used.\n  Known values: `EXTRA_CONFIG`, `PRESERVE_MAC`.\n\n\u003c!-- End of code generated from the comments of the ContentLibraryDestinationConfig struct in builder/vsphere/common/step_import_to_content_library.go; --\u003e\n\n\n**VM Template**\n\nHCL Example:\n\n```hcl\n\tcontent_library_destination {\n\t\t\tlibrary = \"Example Content Library\"\n\t}\n```\n\nJSON Example:\n\n```json\n\t\"content_library_destination\" : {\n\t    \"library\": \"Example Content Library\"\n\t}\n```\n\n**OVF Template**\n\nHCL Example:\n\n```hcl\n\tcontent_library_destination {\n\t\t\tlibrary = \"Example Content Library\"\n\t\t\tovf = true\n\t}\n```\n\nJSON Example:\n\n```json\n\t\"content_library_destination\" : {\n\t    \"library\": \"Example Content Library\",\n\t    \"ovf\": true\n\t}\n```\n\n### Extra Configuration\n\n**Optional**:\n\n\u003c!-- Code generated from the comments of the ConfigParamsConfig struct in builder/vsphere/common/step_config_params.go; DO NOT EDIT MANUALLY --\u003e\n\n- `configuration_parameters` (map[string]string) - A map of key-value pairs to sent to the [`extraConfig`](https://dp-downloads.broadcom.com/api-content/apis/API_VWSA_001/8.0U3/html/ReferenceGuides/vim.vm.ConfigSpec.html#extraConfig).\n  in the vSphere API's `VirtualMachineConfigSpec`.\n  \n  HCL Example:\n  \n  ```hcl\n    configuration_parameters = {\n      \"disk.EnableUUID\" = \"TRUE\"\n      \"svga.autodetect\" = \"TRUE\"\n      \"log.keepOld\"     = \"15\"\n    }\n  ```\n  \n  JSON Example:\n  \n  ```json\n    \"configuration_parameters\": {\n      \"disk.EnableUUID\": \"TRUE\",\n      \"svga.autodetect\": \"TRUE\",\n      \"log.keepOld\": \"15\"\n    }\n  ```\n  \n  ~\u003e **Note:** Configuration keys that would conflict with parameters that\n  are explicitly configurable through other fields in the `ConfigSpec`` object\n  are silently ignored. Refer to the [`VirtualMachineConfigSpec`](https://dp-downloads.broadcom.com/api-content/apis/API_VWSA_001/8.0U3/html/ReferenceGuides/vim.vm.ConfigSpec.html)\n  in the vSphere API documentation.\n\n- `tools_sync_time` (bool) - Enable time synchronization with the ESXi host where the virtual machine\n  is running. Defaults to `false`.\n\n- `tools_upgrade_policy` (bool) - Automatically check for and upgrade VMware Tools after a virtual machine\n  power cycle. Defaults to `false`.\n\n\u003c!-- End of code generated from the comments of the ConfigParamsConfig struct in builder/vsphere/common/step_config_params.go; --\u003e\n\n\n### Communicator Configuration\n\n**Optional**:\n\n##### Common\n\n\u003c!-- Code generated from the comments of the Config struct in communicator/config.go; DO NOT EDIT MANUALLY --\u003e\n\n- `communicator` (string) - Packer currently supports three kinds of communicators:\n  \n  -   `none` - No communicator will be used. If this is set, most\n      provisioners also can't be used.\n  \n  -   `ssh` - An SSH connection will be established to the machine. This\n      is usually the default.\n  \n  -   `winrm` - A WinRM connection will be established.\n  \n  In addition to the above, some builders have custom communicators they\n  can use. For example, the Docker builder has a \"docker\" communicator\n  that uses `docker exec` and `docker cp` to execute scripts and copy\n  files.\n\n- `pause_before_connecting` (duration string | ex: \"1h5m2s\") - We recommend that you enable SSH or WinRM as the very last step in your\n  guest's bootstrap script, but sometimes you may have a race condition\n  where you need Packer to wait before attempting to connect to your\n  guest.\n  \n  If you end up in this situation, you can use the template option\n  `pause_before_connecting`. By default, there is no pause. For example if\n  you set `pause_before_connecting` to `10m` Packer will check whether it\n  can connect, as normal. But once a connection attempt is successful, it\n  will disconnect and then wait 10 minutes before connecting to the guest\n  and beginning provisioning.\n\n\u003c!-- End of code generated from the comments of the Config struct in communicator/config.go; --\u003e\n\n\n##### SSH\n\n\u003c!-- Code generated from the comments of the SSH struct in communicator/config.go; DO NOT EDIT MANUALLY --\u003e\n\n- `ssh_host` (string) - The address to SSH to. This usually is automatically configured by the\n  builder.\n\n- `ssh_port` (int) - The port to connect to SSH. This defaults to `22`.\n\n- `ssh_username` (string) - The username to connect to SSH with. Required if using SSH.\n\n- `ssh_password` (string) - A plaintext password to use to authenticate with SSH.\n\n- `ssh_ciphers` ([]string) - This overrides the value of ciphers supported by default by Golang.\n  The default value is [\n    \"aes128-gcm@openssh.com\",\n    \"chacha20-poly1305@openssh.com\",\n    \"aes128-ctr\", \"aes192-ctr\", \"aes256-ctr\",\n  ]\n  \n  Valid options for ciphers include:\n  \"aes128-ctr\", \"aes192-ctr\", \"aes256-ctr\", \"aes128-gcm@openssh.com\",\n  \"chacha20-poly1305@openssh.com\",\n  \"arcfour256\", \"arcfour128\", \"arcfour\", \"aes128-cbc\", \"3des-cbc\",\n\n- `ssh_clear_authorized_keys` (bool) - If true, Packer will attempt to remove its temporary key from\n  `~/.ssh/authorized_keys` and `/root/.ssh/authorized_keys`. This is a\n  mostly cosmetic option, since Packer will delete the temporary private\n  key from the host system regardless of whether this is set to true\n  (unless the user has set the `-debug` flag). Defaults to \"false\";\n  currently only works on guests with `sed` installed.\n\n- `ssh_key_exchange_algorithms` ([]string) - If set, Packer will override the value of key exchange (kex) algorithms\n  supported by default by Golang. Acceptable values include:\n  \"curve25519-sha256@libssh.org\", \"ecdh-sha2-nistp256\",\n  \"ecdh-sha2-nistp384\", \"ecdh-sha2-nistp521\",\n  \"diffie-hellman-group14-sha1\", and \"diffie-hellman-group1-sha1\".\n\n- `ssh_certificate_file` (string) - Path to user certificate used to authenticate with SSH.\n  The `~` can be used in path and will be expanded to the\n  home directory of current user.\n\n- `ssh_pty` (bool) - If `true`, a PTY will be requested for the SSH connection. This defaults\n  to `false`.\n\n- `ssh_timeout` (duration string | ex: \"1h5m2s\") - The time to wait for SSH to become available. Packer uses this to\n  determine when the machine has booted so this is usually quite long.\n  Example value: `10m`.\n  This defaults to `5m`, unless `ssh_handshake_attempts` is set.\n\n- `ssh_disable_agent_forwarding` (bool) - If true, SSH agent forwarding will be disabled. Defaults to `false`.\n\n- `ssh_handshake_attempts` (int) - The number of handshakes to attempt with SSH once it can connect.\n  This defaults to `10`, unless a `ssh_timeout` is set.\n\n- `ssh_bastion_host` (string) - A bastion host to use for the actual SSH connection.\n\n- `ssh_bastion_port` (int) - The port of the bastion host. Defaults to `22`.\n\n- `ssh_bastion_agent_auth` (bool) - If `true`, the local SSH agent will be used to authenticate with the\n  bastion host. Defaults to `false`.\n\n- `ssh_bastion_username` (string) - The username to connect to the bastion host.\n\n- `ssh_bastion_password` (string) - The password to use to authenticate with the bastion host.\n\n- `ssh_bastion_interactive` (bool) - If `true`, the keyboard-interactive used to authenticate with bastion host.\n\n- `ssh_bastion_private_key_file` (string) - Path to a PEM encoded private key file to use to authenticate with the\n  bastion host. The `~` can be used in path and will be expanded to the\n  home directory of current user.\n\n- `ssh_bastion_certificate_file` (string) - Path to user certificate used to authenticate with bastion host.\n  The `~` can be used in path and will be expanded to the\n  home directory of current user.\n\n- `ssh_file_transfer_method` (string) - `scp` or `sftp` - How to transfer files, Secure copy (default) or SSH\n  File Transfer Protocol.\n  \n  **NOTE**: Guests using Windows with Win32-OpenSSH v9.1.0.0p1-Beta, scp\n  (the default protocol for copying data) returns a a non-zero error code since the MOTW\n  cannot be set, which cause any file transfer to fail. As a workaround you can override the transfer protocol\n  with SFTP instead `ssh_file_transfer_method = \"sftp\"`.\n\n- `ssh_proxy_host` (string) - A SOCKS proxy host to use for SSH connection\n\n- `ssh_proxy_port` (int) - A port of the SOCKS proxy. Defaults to `1080`.\n\n- `ssh_proxy_username` (string) - The optional username to authenticate with the proxy server.\n\n- `ssh_proxy_password` (string) - The optional password to use to authenticate with the proxy server.\n\n- `ssh_keep_alive_interval` (duration string | ex: \"1h5m2s\") - How often to send \"keep alive\" messages to the server. Set to a negative\n  value (`-1s`) to disable. Example value: `10s`. Defaults to `5s`.\n\n- `ssh_read_write_timeout` (duration string | ex: \"1h5m2s\") - The amount of time to wait for a remote command to end. This might be\n  useful if, for example, packer hangs on a connection after a reboot.\n  Example: `5m`. Disabled by default.\n\n- `ssh_remote_tunnels` ([]string) - \n\n- `ssh_local_tunnels` ([]string) - \n\n\u003c!-- End of code generated from the comments of the SSH struct in communicator/config.go; --\u003e\n\n\n- `ssh_private_key_file` (string) - Path to a PEM encoded private key file to use to authenticate with SSH.\n  The `~` can be used in path and will be expanded to the home directory\n  of current user.\n\n\n##### Windows Remote Management (WinRM)\n\n\u003c!-- Code generated from the comments of the WinRM struct in communicator/config.go; DO NOT EDIT MANUALLY --\u003e\n\n- `winrm_username` (string) - The username to use to connect to WinRM.\n\n- `winrm_password` (string) - The password to use to connect to WinRM.\n\n- `winrm_host` (string) - The address for WinRM to connect to.\n  \n  NOTE: If using an Amazon EBS builder, you can specify the interface\n  WinRM connects to via\n  [`ssh_interface`](/packer/integrations/hashicorp/amazon/latest/components/builder/ebs#ssh_interface)\n\n- `winrm_no_proxy` (bool) - Setting this to `true` adds the remote\n  `host:port` to the `NO_PROXY` environment variable. This has the effect of\n  bypassing any configured proxies when connecting to the remote host.\n  Default to `false`.\n\n- `winrm_port` (int) - The WinRM port to connect to. This defaults to `5985` for plain\n  unencrypted connection and `5986` for SSL when `winrm_use_ssl` is set to\n  true.\n\n- `winrm_timeout` (duration string | ex: \"1h5m2s\") - The amount of time to wait for WinRM to become available. This defaults\n  to `30m` since setting up a Windows machine generally takes a long time.\n\n- `winrm_use_ssl` (bool) - If `true`, use HTTPS for WinRM.\n\n- `winrm_insecure` (bool) - If `true`, do not check server certificate chain and host name.\n\n- `winrm_use_ntlm` (bool) - If `true`, NTLMv2 authentication (with session security) will be used\n  for WinRM, rather than default (basic authentication), removing the\n  requirement for basic authentication to be enabled within the target\n  guest. Further reading for remote connection authentication can be found\n  [here](https://msdn.microsoft.com/en-us/library/aa384295(v=vs.85).aspx).\n\n\u003c!-- End of code generated from the comments of the WinRM struct in communicator/config.go; --\u003e\n\n\n## Working with Clusters and Hosts\n\n### Standalone ESXi Hosts\n\nOnly use the `host` option. Optionally, specify a `resource_pool`:\n\nHCL Example:\n\n```hcl\n  host = \"\"esxi-01.example.com\"\"\n  resource_pool = \"example_resource_pool\"\n```\n\nJSON Example:\n\n```json\n  \"host\": \"esxi-01.example.com\",\n  \"resource_pool\": \"example_resource_pool\",\n```\n\n### Clusters with Distributed Resource Scheduler Enabled\n\nOnly use the `cluster` option. Optionally, specify a `resource_pool`:\n\nHCL Example:\n\n```hcl\n  cluster = \"cluster-01\"\n  resource_pool = \"example_resource_pool\"\n```\n\nJSON Example:\n\n```json\n  \"cluster\": \"cluster-01\",\n  \"resource_pool\": \"example_resource_pool\",\n```\n\n### Clusters without Distributed Resource Scheduler Enabled\n\nUse the `cluster` and `host`parameters:\n\nHCL Example:\n\n```hcl\n  cluster = \"cluster-01\"\n  host = \"esxi-01.example.com\"\n```\n\nJSON Example:\n\n```json\n  \"cluster\": \"cluster-01\",\n  \"host\": \"esxi-01.example.com\",\n```\n\n## Privileges\n\nIt is recommended to create a custom vSphere role with the required privileges to integrate Packer\nwith vSphere. Accounts or groups can be added to the role to ensure that Packer has least privilege\naccess to the infrastructure.\n\nFor example, a named service account (_e.g._ `svc-packer-vsphere@example.com`).\n\nClone the default **Read-Only** vSphere role and add the following privileges, which are based on\nthe capabilities of the `vsphere-iso` plugin:\n\n| Category        | Privilege                                           | Reference                                          |\n| --------------- | --------------------------------------------------- | -------------------------------------------------- |\n| Content Library | Add library item                                    | `ContentLibrary.AddLibraryItem`                    |\n| ...             | Update Library Item                                 | `ContentLibrary.UpdateLibraryItem`                 |\n| Datastore       | Allocate space                                      | `Datastore.AllocateSpace`                          |\n| ...             | Browse datastore                                    | `Datastore.Browse`                                 |\n| ...             | Low level file operations                           | `Datastore.FileManagement`                         |\n| Network         | Assign network                                      | `Network.Assign`                                   |\n| Resource        | Assign virtual machine to resource pool             | `Resource.AssignVMToPool`                          |\n| vApp            | Export                                              | `vApp.Export`                                      |\n| Virtual Machine | Configuration \u003e Add new disk                        | `VirtualMachine.Config.AddNewDisk`                 |\n| ...             | Configuration \u003e Add or remove device                | `VirtualMachine.Config.AddRemoveDevice`            |\n| ...             | Configuration \u003e Advanced configuration              | `VirtualMachine.Config.AdvancedConfig`             |\n| ...             | Configuration \u003e Change CPU count                    | `VirtualMachine.Config.CPUCount`                   |\n| ...             | Configuration \u003e Change memory                       | `VirtualMachine.Config.Memory`                     |\n| ...             | Configuration \u003e Change settings                     | `VirtualMachine.Config.Settings`                   |\n| ...             | Configuration \u003e Change Resource                     | `VirtualMachine.Config.Resource`                   |\n| ...             | Configuration \u003e Set annotation                      | `VirtualMachine.Config.Annotation`                 |\n| ...             | Edit Inventory \u003e Create from existing               | `VirtualMachine.Inventory.CreateFromExisting`      |\n| ...             | Edit Inventory \u003e Create new                         | `VirtualMachine.Inventory.Create`                  |\n| ...             | Edit Inventory \u003e Remove                             | `VirtualMachine.Inventory.Delete`                  |\n| ...             | Interaction \u003e Configure CD media                    | `VirtualMachine.Interact.SetCDMedia`               |\n| ...             | Interaction \u003e Configure floppy media                | `VirtualMachine.Interact.SetFloppyMedia`           |\n| ...             | Interaction \u003e Connect devices                       | `VirtualMachine.Interact.DeviceConnection`         |\n| ...             | Interaction \u003e Inject USB HID scan codes             | `VirtualMachine.Interact.PutUsbScanCodes`          |\n| ...             | Interaction \u003e Power off                             | `VirtualMachine.Interact.PowerOff`                 |\n| ...             | Interaction \u003e Power on                              | `VirtualMachine.Interact.PowerOn`                  |\n| ...             | Provisioning \u003e Create template from virtual machine | `VirtualMachine.Provisioning.CreateTemplateFromVM` |\n| ...             | Provisioning \u003e Mark as template                     | `VirtualMachine.Provisioning.MarkAsTemplate`       |\n| ...             | Provisioning \u003e Mark as virtual machine              | `VirtualMachine.Provisioning.MarkAsVM`             |\n| ...             | State \u003e Create snapshot                             | `VirtualMachine.State.CreateSnapshot`              |\n\nGlobal permissions **[are required](https://docs.vmware.com/en/VMware-vSphere/8.0/vsphere-security/GUID-74F53189-EF41-4AC1-A78E-D25621855800.html#how-do-permissions-work-in-vsphere-0)** for the content library based on the hierarchical inheritance of permissions. Once the custom vSphere role is created, assign **Global Permissions** in vSphere to the accounts or groups used for the Packer to vSphere integration, if using the content library.\n\nFor example:\n\n1. Log in to the vCenter Server at _https://\u003cmanagement_vcenter_server_fqdn\u003e/ui_ as `administrator@vsphere.local`.\n2. Select **Menu** \u003e **Administration**.\n3. In the left pane, select **Access control** \u003e **Global permissions** and click the **Add permissions** icon.\n4. In the **Add permissions** dialog box, enter the service account (_e.g._\n   `svc-packer-vsphere@example.com`), select the custom role (_e.g._ Packer to vSphere Integration\n   Role) and the **Propagate to children** check box, and click **OK**.\n\nIn an environment with many vCenter Server instances, such as management and workload, in enhanced\nlinked-mode, you may wish to further reduce the scope of access across the vSphere infrastructure if\nyou do not want Packer to have access to the management vCenter Server instance, but only allow\naccess to workload vCenter Server instances.\n\nFor example:\n\n1. From the **Hosts and clusters** inventory, select management vCenter Server to restrict scope,\n   and click the **Permissions** tab.\n2. Select the service account with the custom role assigned and click the **Change role** icon.\n3. In the **Change role** dialog box, from the **Role** drop-down menu, select **No Access**, select\n   the **Propagate to children** check box, and click **OK**.\n","created_at":"2024-10-17T21:00:15.943Z","updated_at":"2024-10-17T21:00:15.943Z","name":"vSphere ISO","slug":"vsphere-iso","component":{"id":"36076511-3ced-4faf-addf-101fce0405ff","slug":"builder","name":"Builder","plural_name":"Builders","product_id":"4c2b00c6-7cc1-4e4c-b596-4ab57e319f21","created_at":"2022-11-09T22:56:30.937Z","updated_at":"2022-11-09T22:56:30.937Z"},"variable_groups":[]},{"id":"75b04e97-7ca1-4a3e-93ce-b2bb879ac9f7","integration_release_id":"1ee34d8e-f6a0-4142-80c4-96b24f19da59","component_id":"36076511-3ced-4faf-addf-101fce0405ff","readme":"Type: `vsphere-clone`\n\nArtifact BuilderId: `jetbrains.vsphere`\n\nThis builder clones an existing template, modifies the virtual machine image, and saves the result\nas a new template using the vSphere API.\n\n-\u003e **Note:** This builder is developed to maintain compatibility with VMware vSphere versions until\ntheir respective End of General Support dates. For detailed information, refer to the\n[Broadcom Product Lifecycle](https://support.broadcom.com/group/ecx/productlifecycle).\n\n## Examples\n\nExamples are available in the [examples](https://github.com/hashicorp/packer-plugin-vsphere/tree/main/builder/vsphere/examples/)\ndirectory of the GitHub repository.\n\n## Configuration Reference\n\nThere are many configuration options available for this builder. In addition to the items listed\nhere, you will want to review the general configuration references for [Hardware](#hardware-configuration),\n[Output](#output-configuration), [Boot](#boot-configuration), [Run](#run-configuration), [Shutdown](#shutdown-configuration),\n[Communicator](#communicator-configuration), and [Export](#export-configuration) configuration\nreferences, which are necessary for a build to succeed and can be found further down the page.\n\n**Optional:**\n\n\u003c!-- Code generated from the comments of the Config struct in builder/vsphere/clone/config.go; DO NOT EDIT MANUALLY --\u003e\n\n- `create_snapshot` (bool) - Create a snapshot of the virtual machine to use as a base for linked\n  clones. Defaults to `false`.\n\n- `snapshot_name` (string) - The name of the snapshot when `create_snapshot` is `true`.\n  Defaults to `Created By Packer`.\n\n- `convert_to_template` (bool) - Convert the cloned virtual machine to a template after the build is\n  complete. Defaults to `false`.\n  If set to `true`, the virtual machine can not be imported to a content\n  library.\n\n- `export` (\\*common.ExportConfig) - The configuration for exporting the virtual machine to an OVF.\n  The virtual machine is not exported if [export configuration](#export-configuration)\n  is not specified.\n\n- `content_library_destination` (\\*common.ContentLibraryDestinationConfig) - The configuration for importing a VM template or OVF template to a\n  content library. The template will not be imported if no\n  [content library import configuration](#content-library-import-configuration)\n  is specified. If set, `convert_to_template` must be set to `false`.\n\n- `customize` (\\*CustomizeConfig) - The customization options for the virtual machine.\n  Refer to the [customization options](#customization) section for more\n  information.\n\n\u003c!-- End of code generated from the comments of the Config struct in builder/vsphere/clone/config.go; --\u003e\n\n\n### Clone Configuration\n\n**Optional:**\n\n\u003c!-- Code generated from the comments of the CloneConfig struct in builder/vsphere/clone/step_clone.go; DO NOT EDIT MANUALLY --\u003e\n\n- `template` (string) - The name of the source virtual machine to clone.\n\n- `disk_size` (int64) - The size of the primary disk in MiB. Cannot be used with `linked_clone`.\n  -\u003e **Note:** Only the primary disk size can be specified. Additional\n  disks are not supported.\n\n- `linked_clone` (bool) - Create the virtual machine as a linked clone from the latest snapshot.\n  Defaults to `false`. Cannot be used with `disk_size`.`\n\n- `network` (string) - The network to which the virtual machine will connect.\n  \n  For example:\n  \n  - Name: `\u003cNetworkName\u003e`\n  - Inventory Path: `/\u003cDatacenterName\u003e/\u003cFolderName\u003e/\u003cNetworkName\u003e`\n  - Managed Object ID (Port Group): `Network:network-\u003cxxxxx\u003e`\n  - Managed Object ID (Distributed Port Group): `DistributedVirtualPortgroup::dvportgroup-\u003cxxxxx\u003e`\n  - Logical Switch UUID: `\u003cuuid\u003e`\n  - Segment ID: `/infra/segments/\u003cSegmentID\u003e`\n  \n  ~\u003e **Note:** If more than one network resolves to the same name, either\n  the inventory path to network or an ID must be provided.\n  \n  ~\u003e **Note:** If no network is specified, provide `host` to allow the\n  plugin to search for an available network.\n\n- `mac_address` (string) - The network card MAC address. For example `00:50:56:00:00:00`.\n  If set, the `network` must be also specified.\n\n- `notes` (string) - The annotations for the virtual machine.\n\n- `destroy` (bool) - Destroy the virtual machine after the build is complete.\n  Defaults to `false`.\n\n- `vapp` (vAppConfig) - The vApp Options for the virtual machine. For more information, refer to\n  the [vApp Options Configuration](/packer/integrations/hashicorp/vmware/latest/components/builder/vsphere-clone#vapp-options-configuration)\n  section.\n\n\u003c!-- End of code generated from the comments of the CloneConfig struct in builder/vsphere/clone/step_clone.go; --\u003e\n\n\n\u003c!-- Code generated from the comments of the StorageConfig struct in builder/vsphere/common/storage_config.go; DO NOT EDIT MANUALLY --\u003e\n\n- `disk_controller_type` ([]string) - The disk controller type. One of `lsilogic`, `lsilogic-sas`, `pvscsi`,\n  `nvme`, `scsi`, or `sata`. Defaults to `lsilogic`. Use a list to define\n  additional controllers. Refer to [SCSI, SATA, and NVMe Storage Controller\n  Conditions, Limitations, and Compatibility](https://docs.vmware.com/en/VMware-vSphere/8.0/vsphere-vm-administration/GUID-5872D173-A076-42FE-8D0B-9DB0EB0E7362.html)\n  for additional information.\n\n- `storage` ([]DiskConfig) - A collection of one or more disks to be provisioned.\n  Refer to the [Storage Configuration](#storage-configuration) section for additional information.\n\n\u003c!-- End of code generated from the comments of the StorageConfig struct in builder/vsphere/common/storage_config.go; --\u003e\n\n\n### Storage Configuration\n\nWhen cloning a virtual machine, the storage configuration can be used to add additional storage and\ndisk controllers. The resulting virtual machine will contain the origin virtual machine storage and\ndisk controller plus the new configured ones.\n\n\u003c!-- Code generated from the comments of the DiskConfig struct in builder/vsphere/common/storage_config.go; DO NOT EDIT MANUALLY --\u003e\n\nThe following example that will create a 15GB and a 20GB disk on the virtual\nmachine. The second disk will be thin provisioned:\n\nHCL Example:\n\n```hcl\n\n\tstorage {\n\t    disk_size = 15000\n\t}\n\tstorage {\n\t    disk_size = 20000\n\t    disk_thin_provisioned = true\n\t}\n\n```\n\nJSON Example:\n\n```json\n\n\t\"storage\": [\n\t  {\n\t    \"disk_size\": 15000\n\t  },\n\t  {\n\t    \"disk_size\": 20000,\n\t    \"disk_thin_provisioned\": true\n\t  }\n\t],\n\n```\n\nThe following example will use two PVSCSI controllers and two disks on each\ncontroller.\n\nHCL Example:\n\n```hcl\n\n\t disk_controller_type = [\"pvscsi\", \"pvscsi\"]\n\t\tstorage {\n\t\t   disk_size = 15000,\n\t\t   disk_controller_index = 0\n\t\t}\n\t\tstorage {\n\t\t   disk_size = 15000\n\t\t   disk_controller_index = 0\n\t\t}\n\t\tstorage {\n\t\t   disk_size = 15000\n\t\t   disk_controller_index = 1\n\t\t}\n\t\tstorage {\n\t\t   disk_size = 15000\n\t\t   disk_controller_index = 1\n\t\t}\n\n```\n\nJSON Example:\n\n```json\n\n\t\"disk_controller_type\": [\"pvscsi\", \"pvscsi\"],\n\t\"storage\": [\n\t  {\n\t    \"disk_size\": 15000,\n\t    \"disk_controller_index\": 0\n\t  },\n\t  {\n\t    \"disk_size\": 15000,\n\t    \"disk_controller_index\": 0\n\t  },\n\t  {\n\t    \"disk_size\": 15000,\n\t    \"disk_controller_index\": 1\n\t  },\n\t  {\n\t    \"disk_size\": 15000,\n\t    \"disk_controller_index\": 1\n\t  }\n\t],\n\n```\n\n\u003c!-- End of code generated from the comments of the DiskConfig struct in builder/vsphere/common/storage_config.go; --\u003e\n\n\n**Required:**\n\n\u003c!-- Code generated from the comments of the DiskConfig struct in builder/vsphere/common/storage_config.go; DO NOT EDIT MANUALLY --\u003e\n\n- `disk_size` (int64) - The size of the disk in MiB.\n\n\u003c!-- End of code generated from the comments of the DiskConfig struct in builder/vsphere/common/storage_config.go; --\u003e\n\n\n**Optional:**\n\n\u003c!-- Code generated from the comments of the DiskConfig struct in builder/vsphere/common/storage_config.go; DO NOT EDIT MANUALLY --\u003e\n\n- `disk_thin_provisioned` (bool) - Enable thin provisioning for the disk.\n  Defaults to `false`.\n\n- `disk_eagerly_scrub` (bool) - Enable eager scrubbing for the disk.\n  Defaults to `false`.\n\n- `disk_controller_index` (int) - The assigned disk controller for the disk.\n  Defaults to the first controller, `(0)`.\n\n\u003c!-- End of code generated from the comments of the DiskConfig struct in builder/vsphere/common/storage_config.go; --\u003e\n\n\n### vApp Options Configuration\n\n**Optional:**\n\n\u003c!-- Code generated from the comments of the vAppConfig struct in builder/vsphere/clone/step_clone.go; DO NOT EDIT MANUALLY --\u003e\n\n- `properties` (map[string]string) - The values for the available vApp properties. These are used to supply\n  configuration parameters to a virtual machine. This machine is cloned\n  from a template that originated from an imported OVF or OVA file.\n  \n  -\u003e **Note:** The only supported usage path for vApp properties is for\n  existing user-configurable keys. These generally come from an existing\n  template that was created from an imported OVF or OVA file.\n  \n  You cannot set values for vApp properties on virtual machines created\n  from scratch, on virtual machines that lack a vApp configuration, or on\n  property keys that do not exist.\n  \n  HCL Example:\n  ```hcl\n    vapp {\n      properties = {\n        hostname  = var.hostname\n        user-data = base64encode(var.user_data)\n      }\n    }\n  ```\n  \n  JSON Example:\n  \n  ```json\n    \"vapp\": {\n        \"properties\": {\n            \"hostname\": \"{{ user `hostname`}}\",\n            \"user-data\": \"{{ env `USERDATA`}}\"\n        }\n    }\n  ```\n  \n  A `user-data` field requires the content of a YAML file to be encoded\n  with base64. This can be done using an environment variable:\n  \n  ```console\n  export USERDATA=$(gzip -c9 \u003cuserdata.yaml | { base64 -w0 2\u003e/dev/null || base64; })\n  ```\n\n\u003c!-- End of code generated from the comments of the vAppConfig struct in builder/vsphere/clone/step_clone.go; --\u003e\n\n\n### Extra Configuration Parameters\n\n**Optional:**\n\n\u003c!-- Code generated from the comments of the ConfigParamsConfig struct in builder/vsphere/common/step_config_params.go; DO NOT EDIT MANUALLY --\u003e\n\n- `configuration_parameters` (map[string]string) - A map of key-value pairs to sent to the [`extraConfig`](https://dp-downloads.broadcom.com/api-content/apis/API_VWSA_001/8.0U3/html/ReferenceGuides/vim.vm.ConfigSpec.html#extraConfig).\n  in the vSphere API's `VirtualMachineConfigSpec`.\n  \n  HCL Example:\n  \n  ```hcl\n    configuration_parameters = {\n      \"disk.EnableUUID\" = \"TRUE\"\n      \"svga.autodetect\" = \"TRUE\"\n      \"log.keepOld\"     = \"15\"\n    }\n  ```\n  \n  JSON Example:\n  \n  ```json\n    \"configuration_parameters\": {\n      \"disk.EnableUUID\": \"TRUE\",\n      \"svga.autodetect\": \"TRUE\",\n      \"log.keepOld\": \"15\"\n    }\n  ```\n  \n  ~\u003e **Note:** Configuration keys that would conflict with parameters that\n  are explicitly configurable through other fields in the `ConfigSpec`` object\n  are silently ignored. Refer to the [`VirtualMachineConfigSpec`](https://dp-downloads.broadcom.com/api-content/apis/API_VWSA_001/8.0U3/html/ReferenceGuides/vim.vm.ConfigSpec.html)\n  in the vSphere API documentation.\n\n- `tools_sync_time` (bool) - Enable time synchronization with the ESXi host where the virtual machine\n  is running. Defaults to `false`.\n\n- `tools_upgrade_policy` (bool) - Automatically check for and upgrade VMware Tools after a virtual machine\n  power cycle. Defaults to `false`.\n\n\u003c!-- End of code generated from the comments of the ConfigParamsConfig struct in builder/vsphere/common/step_config_params.go; --\u003e\n\n\n### Customization\n\n\u003c!-- Code generated from the comments of the CustomizeConfig struct in builder/vsphere/clone/step_customize.go; DO NOT EDIT MANUALLY --\u003e\n\nA cloned virtual machine can be [customized](https://docs.vmware.com/en/VMware-vSphere/8.0/vsphere-vm-administration/GUID-58E346FF-83AE-42B8-BE58-253641D257BC.html)\nto configure host, network, or licensing settings.\n\nTo perform virtual machine customization as a part of the clone process,\nspecify the customize block with the respective customization options.\nWindows guests are customized using Sysprep, which will result in the machine\nSID being reset. Before using customization, check that your source virtual\nmachine meets the [requirements](https://docs.vmware.com/en/VMware-vSphere/8.0/vsphere-vm-administration/GUID-E63B6FAA-8D35-428D-B40C-744769845906.html)\nfor guest OS customization on vSphere. Refer to the [customization example](#customization-example) for a usage synopsis.\n\nThe settings for guest customization include:\n\n\u003c!-- End of code generated from the comments of the CustomizeConfig struct in builder/vsphere/clone/step_customize.go; --\u003e\n\n\n**Optional:**\n\n\u003c!-- Code generated from the comments of the CustomizeConfig struct in builder/vsphere/clone/step_customize.go; DO NOT EDIT MANUALLY --\u003e\n\n- `linux_options` (\\*LinuxOptions) - Settings for the guest customization of Linux operating systems.\n  Refer to the [Linux options](#linux-options) section for additional\n  details.\n\n- `windows_options` (\\*WindowsOptions) - Settings for the guest customization of Windows operating systems.\n  Refer to the [Windows options](#windows-options) section for additional\n  details.\n\n- `windows_sysprep_file` (string) - Provide a `sysprep.xml` file to allow control of the customization\n  process independent of vSphere. This option is deprecated, please use\n  `windows_sysprep_text`.\n\n- `windows_sysprep_text` (string) - Provide the text for the `sysprep.xml` content to allow control of the\n  customization process independent of vSphere.\n  \n  HCL Examples:\n  \n  ```hcl\n  customize {\n     windows_sysprep_text = file(\"\u003cpath-to-sysprep.xml\u003e\")\n  }\n  ```\n  \n  ```hcl\n  customize {\n     windows_sysprep_text = templatefile(\"\u003cpath-to-sysprep.xml\u003e\", {\n        var1=\"example\"\n        var2=\"example-2\"\n     })\n  }\n  ```\n  \n  JSON Examples\n  \n  ```json\n  {\n    \"customize\": {\n      \"windows_sysprep_text\": \"\u003cpath-to-sysprep.xml\u003e\"\n    }\n  }\n  ```\n  \n  ```json\n  {\n    \"customize\": {\n      \"windows_sysprep_text\": \"\u003cpath-to-sysprep.xml\u003e\",\n      \"var1\": \"example\",\n      \"var2\": \"example-2\"\n    }\n  }\n\n- `network_interface` (NetworkInterfaces) - Set up network interfaces individually to correspond with the network\n  adapters on the virtual machine. To use DHCP, specify an empty\n  `network_interface` for each configured adapter. This field is mandatory.\n  Refer to the [network interface](#network-interface-settings) section for\n  additional details.\n\n\u003c!-- End of code generated from the comments of the CustomizeConfig struct in builder/vsphere/clone/step_customize.go; --\u003e\n\n\n#### Network Interface Settings\n\n**Optional:**\n\n\u003c!-- Code generated from the comments of the NetworkInterface struct in builder/vsphere/clone/step_customize.go; DO NOT EDIT MANUALLY --\u003e\n\n- `dns_server_list` ([]string) - The DNS servers for a specific network interface on a Windows guest\n  operating system. Ignored on Linux. Refer to the\n  [global DNS settings](#global-dns-settings) section for additional\n  details.\n\n- `dns_domain` (string) - The DNS search domain for a specific network interface on a Windows guest\n  operating system. Ignored on Linux. Refer to the\n  [global DNS settings](#global-dns-settings) section for additional\n  details.\n\n- `ipv4_address` (string) - The IPv4 address assigned to the network adapter. If left blank or not\n  included, DHCP is used.\n\n- `ipv4_netmask` (int) - The IPv4 subnet mask, in bits, for the network adapter. For example, `24`\n  for a `/24` subnet.\n\n- `ipv6_address` (string) - The IPv6 address assigned to the network adapter. If left blank or not\n  included, auto-configuration is used.\n\n- `ipv6_netmask` (int) - The IPv6 subnet mask, in bits, for the network adapter. For example, `64`\n  for a `/64` subnet.\n\n\u003c!-- End of code generated from the comments of the NetworkInterface struct in builder/vsphere/clone/step_customize.go; --\u003e\n\n\n\u003c!-- Code generated from the comments of the RemoveNetworkConfig struct in builder/vsphere/common/step_remove_network.go; DO NOT EDIT MANUALLY --\u003e\n\n- `remove_network_adapter` (bool) - Remove all network adapters from template. Defaults to `false`.\n\n\u003c!-- End of code generated from the comments of the RemoveNetworkConfig struct in builder/vsphere/common/step_remove_network.go; --\u003e\n\n\n#### Global Routing Settings\n\n\u003c!-- Code generated from the comments of the GlobalRoutingSettings struct in builder/vsphere/clone/step_customize.go; DO NOT EDIT MANUALLY --\u003e\n\nThe settings must match the IP address and subnet mask of at least one\n`network_interface` for the customization.\n\n\u003c!-- End of code generated from the comments of the GlobalRoutingSettings struct in builder/vsphere/clone/step_customize.go; --\u003e\n\n\n**Optional:**\n\n\u003c!-- Code generated from the comments of the GlobalRoutingSettings struct in builder/vsphere/clone/step_customize.go; DO NOT EDIT MANUALLY --\u003e\n\n- `ipv4_gateway` (string) - The IPv4 default gateway when using `network_interface` customization.\n\n- `ipv6_gateway` (string) - The IPv6 default gateway when using `network_interface` customization.\n\n\u003c!-- End of code generated from the comments of the GlobalRoutingSettings struct in builder/vsphere/clone/step_customize.go; --\u003e\n\n\n#### Global DNS Settings\n\n\u003c!-- Code generated from the comments of the GlobalDnsSettings struct in builder/vsphere/clone/step_customize.go; DO NOT EDIT MANUALLY --\u003e\n\nThe following settings configure DNS globally for Linux guest operating\nsystems. For Windows guest operating systems, this is set for each network\ninterface. Refer to the [network interface](#network_interface) section for\nadditional details.\n\n\u003c!-- End of code generated from the comments of the GlobalDnsSettings struct in builder/vsphere/clone/step_customize.go; --\u003e\n\n\n**Optional:**\n\n\u003c!-- Code generated from the comments of the GlobalDnsSettings struct in builder/vsphere/clone/step_customize.go; DO NOT EDIT MANUALLY --\u003e\n\n- `dns_server_list` ([]string) - A list of DNS servers to configure on the guest operating system.\n\n- `dns_suffix_list` ([]string) - A list of DNS search domains to add to the DNS configuration on the guest\n  operating system.\n\n\u003c!-- End of code generated from the comments of the GlobalDnsSettings struct in builder/vsphere/clone/step_customize.go; --\u003e\n\n\n#### Linux Customization Settings\n\n**Optional:**\n\n\u003c!-- Code generated from the comments of the LinuxOptions struct in builder/vsphere/clone/step_customize.go; DO NOT EDIT MANUALLY --\u003e\n\n- `domain` (string) - The domain name for the guest operating system. Used with\n  [host_name](#host_name) to construct the fully qualified domain name\n  (FQDN).\n\n- `host_name` (string) - The hostname for the guest operating system. Used with [domain](#domain)\n  to construct the fully qualified domain name (FQDN).\n\n- `hw_clock_utc` (boolean) - Set the hardware clock to Coordinated Universal Time (UTC).\n  Defaults to `true`.\n\n- `time_zone` (string) - The time zone for the guest operating system.\n\n\u003c!-- End of code generated from the comments of the LinuxOptions struct in builder/vsphere/clone/step_customize.go; --\u003e\n\n\n**Linux Customization Example**\n\nHCL Example:\n\n```hcl\n    customize {\n      linux_options {\n        host_name = \"foo\"\n        domain = \"example.com\"\n      }\n\n      network_interface {\n        ipv4_address = \"10.0.0.10\"\n        ipv4_netmask = \"24\"\n      }\n\n      ipv4_gateway = 10.0.0.1\n      dns_server_list = [\"10.0.0.18\"]\n    }\n```\n\nJSON Example:\n\n```json\n    \"customize\": {\n      \"linux_options\": {\n        \"host_name\": \"foo\",\n        \"domain\": \"example.com\"\n      },\n      \"network_interface\": {\n        \"ipv4_address\": \"10.0.0.10\",\n        \"ipv4_netmask\": \"24\"\n      },\n      \"ipv4_gateway\": \"10.0.0.1\",\n      \"dns_server_list\": [\"10.0.0.18\"]\n    }\n```\n\n#### Windows Customization Settings\n\n**Optional:**\n\n\u003c!-- Code generated from the comments of the WindowsOptions struct in builder/vsphere/clone/step_customize.go; DO NOT EDIT MANUALLY --\u003e\n\n- `run_once_command_list` ([]string) - A list of commands to run at first logon after the guest operating system\n  is customized.\n\n- `auto_logon` (\\*bool) - Automatically log on the `Administrator` account after the guest operating\n  system is customized.\n\n- `auto_logon_count` (\\*int32) - The number of times the guest operating system should auto-logon the\n  `Administrator` account when `auto_logon` is set to `true`.\n  Defaults to `1`.\n\n- `admin_password` (\\*string) - The password for the guest operating system's `Administrator` account.\n\n- `time_zone` (\\*int32) - The time zone for the guest operating system.\n  Defaults to `85` (Pacific Time).\n\n- `workgroup` (string) - The workgroup for the guest operating system.\n  Joining an Active Directory domain is not supported.\n\n- `computer_name` (string) - The hostname for the guest operating system.\n\n- `full_name` (string) - The full name for the guest operating system's `Administrator` account.\n  Defaults to `Administrator`.\n\n- `organization_name` (string) - The organization name for the guest operating system.\n  Defaults to `Built by Packer`.\n\n- `product_key` (string) - The product key for the guest operating system.\n\n\u003c!-- End of code generated from the comments of the WindowsOptions struct in builder/vsphere/clone/step_customize.go; --\u003e\n\n\n**Windows Customization Example**\n\nHCL Example:\n\n```hcl\n    customize {\n      windows_options {\n        computer_name = \"foo\"\n        workgroup = \"example\"\n        product_key = \"XXXXX-XXXXX-XXXXX-XXXXX-XXXXX\"\n        admin_password = \"password\"\n      }\n      network_interface {\n        ipv4_address = \"10.0.0.10\"\n        ipv4_netmask = \"24\"\n      }\n      ipv4_gateway = 10.0.0.1\n      dns_server_list = [\"10.0.0.18\"]\n    }\n```\n\nJSON Example:\n\n```json\n    \"customize\": {\n      \"windows_options\": {\n        \"host_name\": \"foo\",\n        \"workgroup\": \"example\",\n        \"product_key\": \"XXXXX-XXXXX-XXXXX-XXXXX-XXXXX\",\n        \"admin_password\": \"password\"\n      },\n      \"network_interface\": {\n        \"ipv4_address\": \"10.0.0.10\",\n        \"ipv4_netmask\": \"24\"\n      },\n      \"ipv4_gateway\": \"10.0.0.1\",\n      \"dns_server_list\": [\"10.0.0.18\"]\n    }\n```\n\n### Boot Configuration\n\n\u003c!-- Code generated from the comments of the BootConfig struct in bootcommand/config.go; DO NOT EDIT MANUALLY --\u003e\n\nThe boot configuration is very important: `boot_command` specifies the keys\nto type when the virtual machine is first booted in order to start the OS\ninstaller. This command is typed after boot_wait, which gives the virtual\nmachine some time to actually load.\n\nThe boot_command is an array of strings. The strings are all typed in\nsequence. It is an array only to improve readability within the template.\n\nThere are a set of special keys available. If these are in your boot\ncommand, they will be replaced by the proper key:\n\n-   `\u003cbs\u003e` - Backspace\n\n-   `\u003cdel\u003e` - Delete\n\n-   `\u003center\u003e \u003creturn\u003e` - Simulates an actual \"enter\" or \"return\" keypress.\n\n-   `\u003cesc\u003e` - Simulates pressing the escape key.\n\n-   `\u003ctab\u003e` - Simulates pressing the tab key.\n\n-   `\u003cf1\u003e - \u003cf12\u003e` - Simulates pressing a function key.\n\n-   `\u003cup\u003e \u003cdown\u003e \u003cleft\u003e \u003cright\u003e` - Simulates pressing an arrow key.\n\n-   `\u003cspacebar\u003e` - Simulates pressing the spacebar.\n\n-   `\u003cinsert\u003e` - Simulates pressing the insert key.\n\n-   `\u003chome\u003e \u003cend\u003e` - Simulates pressing the home and end keys.\n\n  - `\u003cpageUp\u003e \u003cpageDown\u003e` - Simulates pressing the page up and page down\n    keys.\n\n-   `\u003cmenu\u003e` - Simulates pressing the Menu key.\n\n-   `\u003cleftAlt\u003e \u003crightAlt\u003e` - Simulates pressing the alt key.\n\n-   `\u003cleftCtrl\u003e \u003crightCtrl\u003e` - Simulates pressing the ctrl key.\n\n-   `\u003cleftShift\u003e \u003crightShift\u003e` - Simulates pressing the shift key.\n\n-   `\u003cleftSuper\u003e \u003crightSuper\u003e` - Simulates pressing the  or Windows key.\n\n  - `\u003cwait\u003e \u003cwait5\u003e \u003cwait10\u003e` - Adds a 1, 5 or 10 second pause before\n    sending any additional keys. This is useful if you have to generally\n    wait for the UI to update before typing more.\n\n  - `\u003cwaitXX\u003e` - Add an arbitrary pause before sending any additional keys.\n    The format of `XX` is a sequence of positive decimal numbers, each with\n    optional fraction and a unit suffix, such as `300ms`, `1.5h` or `2h45m`.\n    Valid time units are `ns`, `us` (or `s`), `ms`, `s`, `m`, `h`. For\n    example `\u003cwait10m\u003e` or `\u003cwait1m20s\u003e`.\n\n  - `\u003cXXXOn\u003e \u003cXXXOff\u003e` - Any printable keyboard character, and of these\n    \"special\" expressions, with the exception of the `\u003cwait\u003e` types, can\n    also be toggled on or off. For example, to simulate ctrl+c, use\n    `\u003cleftCtrlOn\u003ec\u003cleftCtrlOff\u003e`. Be sure to release them, otherwise they\n    will be held down until the machine reboots. To hold the `c` key down,\n    you would use `\u003ccOn\u003e`. Likewise, `\u003ccOff\u003e` to release.\n\n  - `{{ .HTTPIP }} {{ .HTTPPort }}` - The IP and port, respectively of an\n    HTTP server that is started serving the directory specified by the\n    `http_directory` configuration parameter. If `http_directory` isn't\n    specified, these will be blank!\n\n-   `{{ .Name }}` - The name of the VM.\n\nExample boot command. This is actually a working boot command used to start an\nCentOS 6.4 installer:\n\nIn JSON:\n\n```json\n\"boot_command\": [\n\n\t   \"\u003ctab\u003e\u003cwait\u003e\",\n\t   \" ks=http://{{ .HTTPIP }}:{{ .HTTPPort }}/centos6-ks.cfg\u003center\u003e\"\n\t]\n\n```\n\nIn HCL2:\n\n```hcl\nboot_command = [\n\n\t   \"\u003ctab\u003e\u003cwait\u003e\",\n\t   \" ks=http://{{ .HTTPIP }}:{{ .HTTPPort }}/centos6-ks.cfg\u003center\u003e\"\n\t]\n\n```\n\nThe example shown below is a working boot command used to start an Ubuntu\n12.04 installer:\n\nIn JSON:\n\n```json\n\"boot_command\": [\n\n\t\"\u003cesc\u003e\u003cesc\u003e\u003center\u003e\u003cwait\u003e\",\n\t\"/install/vmlinuz noapic \",\n\t\"preseed/url=http://{{ .HTTPIP }}:{{ .HTTPPort }}/preseed.cfg \",\n\t\"debian-installer=en_US auto locale=en_US kbd-chooser/method=us \",\n\t\"hostname={{ .Name }} \",\n\t\"fb=false debconf/frontend=noninteractive \",\n\t\"keyboard-configuration/modelcode=SKIP keyboard-configuration/layout=USA \",\n\t\"keyboard-configuration/variant=USA console-setup/ask_detect=false \",\n\t\"initrd=/install/initrd.gz -- \u003center\u003e\"\n\n]\n```\n\nIn HCL2:\n\n```hcl\nboot_command = [\n\n\t\"\u003cesc\u003e\u003cesc\u003e\u003center\u003e\u003cwait\u003e\",\n\t\"/install/vmlinuz noapic \",\n\t\"preseed/url=http://{{ .HTTPIP }}:{{ .HTTPPort }}/preseed.cfg \",\n\t\"debian-installer=en_US auto locale=en_US kbd-chooser/method=us \",\n\t\"hostname={{ .Name }} \",\n\t\"fb=false debconf/frontend=noninteractive \",\n\t\"keyboard-configuration/modelcode=SKIP keyboard-configuration/layout=USA \",\n\t\"keyboard-configuration/variant=USA console-setup/ask_detect=false \",\n\t\"initrd=/install/initrd.gz -- \u003center\u003e\"\n\n]\n```\n\nFor more examples of various boot commands, see the sample projects from our\n[community templates page](https://packer.io/community-tools#templates).\n\n\u003c!-- End of code generated from the comments of the BootConfig struct in bootcommand/config.go; --\u003e\n\n\n**Optional:**\n\n\u003c!-- Code generated from the comments of the BootConfig struct in bootcommand/config.go; DO NOT EDIT MANUALLY --\u003e\n\n- `boot_keygroup_interval` (duration string | ex: \"1h5m2s\") - Time to wait after sending a group of key pressses. The value of this\n  should be a duration. Examples are `5s` and `1m30s` which will cause\n  Packer to wait five seconds and one minute 30 seconds, respectively. If\n  this isn't specified, a sensible default value is picked depending on\n  the builder type.\n\n- `boot_wait` (duration string | ex: \"1h5m2s\") - The time to wait after booting the initial virtual machine before typing\n  the `boot_command`. The value of this should be a duration. Examples are\n  `5s` and `1m30s` which will cause Packer to wait five seconds and one\n  minute 30 seconds, respectively. If this isn't specified, the default is\n  `10s` or 10 seconds. To set boot_wait to 0s, use a negative number, such\n  as \"-1s\"\n\n- `boot_command` ([]string) - This is an array of commands to type when the virtual machine is first\n  booted. The goal of these commands should be to type just enough to\n  initialize the operating system installer. Special keys can be typed as\n  well, and are covered in the section below on the boot command. If this\n  is not specified, it is assumed the installer will start itself.\n\n\u003c!-- End of code generated from the comments of the BootConfig struct in bootcommand/config.go; --\u003e\n\n\n### HTTP Directory Configuration\n\n\u003c!-- Code generated from the comments of the HTTPConfig struct in multistep/commonsteps/http_config.go; DO NOT EDIT MANUALLY --\u003e\n\nPacker will create an http server serving `http_directory` when it is set, a\nrandom free port will be selected and the architecture of the directory\nreferenced will be available in your builder.\n\nExample usage from a builder:\n\n```\nwget http://{{ .HTTPIP }}:{{ .HTTPPort }}/foo/bar/preseed.cfg\n```\n\n\u003c!-- End of code generated from the comments of the HTTPConfig struct in multistep/commonsteps/http_config.go; --\u003e\n\n\n**Optional:**\n\n\u003c!-- Code generated from the comments of the HTTPConfig struct in multistep/commonsteps/http_config.go; DO NOT EDIT MANUALLY --\u003e\n\n- `http_directory` (string) - Path to a directory to serve using an HTTP server. The files in this\n  directory will be available over HTTP that will be requestable from the\n  virtual machine. This is useful for hosting kickstart files and so on.\n  By default this is an empty string, which means no HTTP server will be\n  started. The address and port of the HTTP server will be available as\n  variables in `boot_command`. This is covered in more detail below.\n\n- `http_content` (map[string]string) - Key/Values to serve using an HTTP server. `http_content` works like and\n  conflicts with `http_directory`. The keys represent the paths and the\n  values contents, the keys must start with a slash, ex: `/path/to/file`.\n  `http_content` is useful for hosting kickstart files and so on. By\n  default this is empty, which means no HTTP server will be started. The\n  address and port of the HTTP server will be available as variables in\n  `boot_command`. This is covered in more detail below.\n  Example:\n  ```hcl\n    http_content = {\n      \"/a/b\"     = file(\"http/b\")\n      \"/foo/bar\" = templatefile(\"${path.root}/preseed.cfg\", { packages = [\"nginx\"] })\n    }\n  ```\n\n- `http_port_min` (int) - These are the minimum and maximum port to use for the HTTP server\n  started to serve the `http_directory`. Because Packer often runs in\n  parallel, Packer will choose a randomly available port in this range to\n  run the HTTP server. If you want to force the HTTP server to be on one\n  port, make this minimum and maximum port the same. By default the values\n  are `8000` and `9000`, respectively.\n\n- `http_port_max` (int) - HTTP Port Max\n\n- `http_bind_address` (string) - This is the bind address for the HTTP server. Defaults to 0.0.0.0 so that\n  it will work with any network interface.\n\n\u003c!-- End of code generated from the comments of the HTTPConfig struct in multistep/commonsteps/http_config.go; --\u003e\n\n\n- `http_interface` (string) - The network interface (for example, `en0`, `ens192`, etc.) that the\n  HTTP server will use to serve the `http_directory`. The plugin will identify the IP address\n  associated with this network interface and bind to it.\n\n\u003c!-- Code generated from the comments of the BootConfig struct in builder/vsphere/common/step_boot_command.go; DO NOT EDIT MANUALLY --\u003e\n\n- `http_ip` (string) - The IP address to use for the HTTP server to serve the `http_directory`.\n\n\u003c!-- End of code generated from the comments of the BootConfig struct in builder/vsphere/common/step_boot_command.go; --\u003e\n\n\n~\u003e **Notes:**\n  - The options `http_bind_address` and `http_interface` are mutually exclusive.\n  - Both `http_bind_address` and `http_interface` have higher priority than `http_ip`.\n  - The `http_bind_address` is matched against the IP addresses of the host's network interfaces. If\n    no match is found, the plugin will terminate.\n  - Similarly, `http_interface` is compared with the host's network interfaces. If there's no\n    corresponding network interface, the plugin will also terminate.\n  - If neither `http_bind_address`, `http_interface`, and `http_ip` are provided, the plugin will\n    automatically find and use the IP address of the first non-loopback interface for `http_ip`.\n\n### Floppy Configuration\n\n**Optional:**\n\n\u003c!-- Code generated from the comments of the FloppyConfig struct in builder/vsphere/common/step_add_floppy.go; DO NOT EDIT MANUALLY --\u003e\n\n- `floppy_img_path` (string) - Datastore path to a floppy image that will be mounted to the virtual\n  machine. Example: `[datastore] iso/foo.flp`.\n\n- `floppy_files` ([]string) - A list of local files to be mounted to the virtual machine's floppy\n  drive.\n\n- `floppy_dirs` ([]string) - A list of directories to copy files from.\n\n- `floppy_content` (map[string]string) - Key/Values to add to the floppy disk. The keys represent the paths, and\n  the values contents. It can be used alongside `floppy_files` or\n  `floppy_dirs`, which is useful to add large files without loading them\n  into memory. If any paths are specified by both, the contents in\n  `floppy_content` will take precedence.\n  \n  HCL Example:\n  \n  ```hcl\n  floppy_content = {\n    \"meta-data\" = jsonencode(local.instance_data)\n    \"user-data\" = templatefile(\"user-data\", { packages = [\"nginx\"] })\n  }\n  ```\n\n- `floppy_label` (string) - The label to use for the floppy disk that is attached when the virtual\n  machine is booted. This is most useful for cloud-init, Kickstart or other\n  early initialization tools, which can benefit from labelled floppy disks.\n  By default, the floppy label will be 'packer'.\n\n\u003c!-- End of code generated from the comments of the FloppyConfig struct in builder/vsphere/common/step_add_floppy.go; --\u003e\n\n\n### Connection Configuration\n\n**Optional:**\n\n\u003c!-- Code generated from the comments of the ConnectConfig struct in builder/vsphere/common/step_connect.go; DO NOT EDIT MANUALLY --\u003e\n\n- `vcenter_server` (string) - The fully qualified domain name or IP address of the vCenter Server\n  instance.\n\n- `username` (string) - The username to authenticate with the vCenter Server instance.\n\n- `password` (string) - The password to authenticate with the vCenter Server instance.\n\n- `insecure_connection` (bool) - Do not validate the certificate of the vCenter Server instance.\n  Defaults to `false`.\n  \n  -\u003e **Note:** This option is beneficial in scenarios where the certificate\n  is self-signed or does not meet standard validation criteria.\n\n- `datacenter` (string) - The name of the datacenter object in the vSphere inventory.\n  \n  -\u003e **Note:** Required if more than one datacenter object exists in the\n  vSphere inventory.\n\n\u003c!-- End of code generated from the comments of the ConnectConfig struct in builder/vsphere/common/step_connect.go; --\u003e\n\n\n### Hardware Configuration\n\n**Optional:**\n\n\u003c!-- Code generated from the comments of the HardwareConfig struct in builder/vsphere/common/step_hardware.go; DO NOT EDIT MANUALLY --\u003e\n\n- `CPUs` (int32) - The number of virtual CPUs cores for the virtual machine.\n\n- `cpu_cores` (int32) - The number of virtual CPU cores per socket for the virtual machine.\n\n- `CPU_reservation` (int64) - The CPU reservation in MHz.\n\n- `CPU_limit` (int64) - The upper limit of available CPU resources in MHz.\n\n- `CPU_hot_plug` (bool) - Enable CPU hot plug setting for virtual machine. Defaults to `false`\n\n- `RAM` (int64) - The amount of memory for the virtual machine in MB.\n\n- `RAM_reservation` (int64) - The guaranteed minimum allocation of memory for the virtual machine in MB.\n\n- `RAM_reserve_all` (bool) - Reserve all allocated memory. Defaults to `false`.\n  \n  -\u003e **Note:** May not be used together with `RAM_reservation`.\n\n- `RAM_hot_plug` (bool) - Enable memory hot add setting for virtual machine. Defaults to `false`.\n\n- `video_ram` (int64) - The amount of video memory in KB. Defaults to 4096 KB.\n  \n  -\u003e **Note:** Refer to the [vSphere documentation](https://docs.vmware.com/en/VMware-vSphere/8.0/vsphere-vm-administration/GUID-789C3913-1053-4850-A0F0-E29C3D32B6DA.html)\n  for supported maximums.\n\n- `displays` (int32) - The number of video displays. Defaults to `1`.\n  \n  `-\u003e **Note:** Refer to the [vSphere documentation](https://docs.vmware.com/en/VMware-vSphere/8.0/vsphere-vm-administration/GUID-789C3913-1053-4850-A0F0-E29C3D32B6DA.html)\n  for supported maximums.\n\n- `pci_passthrough_allowed_device` ([]PCIPassthroughAllowedDevice) - Configure Dynamic DirectPath I/O [PCI Passthrough](#pci-passthrough-configuration) for\n  virtual machine. Refer to the [vSphere documentation](https://docs.vmware.com/en/VMware-vSphere/8.0/vsphere-vm-administration/GUID-5B3CAB26-5D06-4A99-92A0-3A04C69CE64B.html)\n\n- `vgpu_profile` (string) - vGPU profile for accelerated graphics. Refer to the [NVIDIA GRID vGPU documentation](https://docs.nvidia.com/grid/latest/grid-vgpu-user-guide/index.html#configure-vmware-vsphere-vm-with-vgpu)\n  for examples of profile names. Defaults to none.\n\n- `NestedHV` (bool) - Enable nested hardware virtualization for the virtual machine.\n  Defaults to `false`.\n\n- `firmware` (string) - The firmware for the virtual machine.\n  \n  The available options for this setting are: 'bios', 'efi', and\n  'efi-secure'.\n  \n  -\u003e **Note:** Use `efi-secure` for UEFI Secure Boot.\n\n- `force_bios_setup` (bool) - Force entry into the BIOS setup screen during boot. Defaults to `false`.\n\n- `vTPM` (bool) - Enable virtual trusted platform module (TPM) device for the virtual\n  machine. Defaults to `false`.\n\n- `precision_clock` (string) - The virtual precision clock device for the virtual machine.\n  Defaults to `none`.\n  \n  The available options for this setting are: `none`, `ntp`, and `ptp`.\n\n\u003c!-- End of code generated from the comments of the HardwareConfig struct in builder/vsphere/common/step_hardware.go; --\u003e\n\n\n### Location Configuration\n\n**Optional:**\n\n\u003c!-- Code generated from the comments of the LocationConfig struct in builder/vsphere/common/config_location.go; DO NOT EDIT MANUALLY --\u003e\n\n- `vm_name` (string) - The name of the virtual machine.\n\n- `folder` (string) - The virtual machine folder where the virtual machine is created.\n\n- `cluster` (string) - The cluster where the virtual machine is created.\n  Refer to the [Working With Clusters And Hosts](#working-with-clusters-and-hosts)\n  section for more details.\n\n- `host` (string) - The ESXi host where the virtual machine is created. A full path must be\n  specified if the ESXi host is in a folder. For example `folder/host`.\n  Refer to the [Working With Clusters And Hosts](#working-with-clusters-and-hosts)\n  section for more details.\n\n- `resource_pool` (string) - The resource pool where the virtual machine is created.\n  If this is not specified, the root resource pool associated with the\n  `host` or `cluster` is used.\n  \n  ~\u003e **Note:**  The full path to the resource pool must be provided.\n  For example, a simple resource pool path might resemble `rp-packer` and\n  a nested path might resemble 'rp-packer/rp-linux-images'.\n\n- `datastore` (string) - The datastore where the virtual machine is created.\n  Required if `host` is a cluster, or if `host` has multiple datastores.\n\n- `set_host_for_datastore_uploads` (bool) - The ESXI host used for uploading files to the datastore.\n  Defaults to `false`.\n\n\u003c!-- End of code generated from the comments of the LocationConfig struct in builder/vsphere/common/config_location.go; --\u003e\n\n\n### Run Configuration\n\n**Optional:**\n\n\u003c!-- Code generated from the comments of the RunConfig struct in builder/vsphere/common/step_run.go; DO NOT EDIT MANUALLY --\u003e\n\n- `boot_order` (string) - The priority of boot devices. Defaults to `disk,cdrom`.\n  \n  The available boot devices are: `floppy`, `cdrom`, `ethernet`, and\n  `disk`.\n  \n  -\u003e **Note:** If not set, the boot order is temporarily set to\n  `disk,cdrom` for the duration of the build and then cleared upon\n  build completion.\n\n\u003c!-- End of code generated from the comments of the RunConfig struct in builder/vsphere/common/step_run.go; --\u003e\n\n\n### Shutdown Configuration\n\n**Optional:**\n\n\u003c!-- Code generated from the comments of the ShutdownConfig struct in builder/vsphere/common/step_shutdown.go; DO NOT EDIT MANUALLY --\u003e\n\n- `shutdown_command` (string) - Specify a VM guest shutdown command. This command will be executed using\n  the `communicator`. Otherwise, the VMware Tools are used to gracefully shutdown\n  the VM.\n\n- `shutdown_timeout` (duration string | ex: \"1h5m2s\") - Amount of time to wait for graceful VM shutdown.\n  Defaults to 5m or five minutes.\n  This will likely need to be modified if the `communicator` is 'none'.\n\n- `disable_shutdown` (bool) - Packer normally halts the virtual machine after all provisioners have\n  run when no `shutdown_command` is defined. If this is set to `true`, Packer\n  *will not* halt the virtual machine but will assume that you will send the stop\n  signal yourself through a preseed.cfg, a script or the final provisioner.\n  Packer will wait for a default of five minutes until the virtual machine is shutdown.\n  The timeout can be changed using `shutdown_timeout` option.\n\n\u003c!-- End of code generated from the comments of the ShutdownConfig struct in builder/vsphere/common/step_shutdown.go; --\u003e\n\n\n### Wait Configuration\n\n**Optional:**\n\n\u003c!-- Code generated from the comments of the WaitIpConfig struct in builder/vsphere/common/step_wait_for_ip.go; DO NOT EDIT MANUALLY --\u003e\n\n- `ip_wait_timeout` (duration string | ex: \"1h5m2s\") - Amount of time to wait for VM's IP, similar to 'ssh_timeout'.\n  Defaults to 30m (30 minutes). See the Golang\n  [ParseDuration](https://golang.org/pkg/time/#ParseDuration) documentation\n  for full details.\n\n- `ip_settle_timeout` (duration string | ex: \"1h5m2s\") - Amount of time to wait for VM's IP to settle down, sometimes VM may\n  report incorrect IP initially, then its recommended to set that\n  parameter to apx. 2 minutes. Examples 45s and 10m. Defaults to\n  5s(5 seconds). Refer to the Golang\n  [ParseDuration](https://golang.org/pkg/time/#ParseDuration) documentation\n   for full details.\n\n- `ip_wait_address` (\\*string) - Set this to a CIDR address to cause the service to wait for an address that is contained in\n  this network range. Defaults to \"0.0.0.0/0\" for any ipv4 address. Examples include:\n  \n  * empty string (\"\") - remove all filters\n  * `0:0:0:0:0:0:0:0/0` - allow only ipv6 addresses\n  * `192.168.1.0/24` - only allow ipv4 addresses from 192.168.1.1 to 192.168.1.254\n\n\u003c!-- End of code generated from the comments of the WaitIpConfig struct in builder/vsphere/common/step_wait_for_ip.go; --\u003e\n\n\n### CD-ROM Configuration\n\n\u003c!-- Code generated from the comments of the CDConfig struct in multistep/commonsteps/extra_iso_config.go; DO NOT EDIT MANUALLY --\u003e\n\nAn iso (CD) containing custom files can be made available for your build.\n\nBy default, no extra CD will be attached. All files listed in this setting\nget placed into the root directory of the CD and the CD is attached as the\nsecond CD device.\n\nThis config exists to work around modern operating systems that have no\nway to mount floppy disks, which was our previous go-to for adding files at\nboot time.\n\n\u003c!-- End of code generated from the comments of the CDConfig struct in multistep/commonsteps/extra_iso_config.go; --\u003e\n\n\n**Optional:**\n\n\u003c!-- Code generated from the comments of the CDConfig struct in multistep/commonsteps/extra_iso_config.go; DO NOT EDIT MANUALLY --\u003e\n\n- `cd_files` ([]string) - A list of files to place onto a CD that is attached when the VM is\n  booted. This can include either files or directories; any directories\n  will be copied onto the CD recursively, preserving directory structure\n  hierarchy. Symlinks will have the link's target copied into the directory\n  tree on the CD where the symlink was. File globbing is allowed.\n  \n  Usage example (JSON):\n  \n  ```json\n  \"cd_files\": [\"./somedirectory/meta-data\", \"./somedirectory/user-data\"],\n  \"cd_label\": \"cidata\",\n  ```\n  \n  Usage example (HCL):\n  \n  ```hcl\n  cd_files = [\"./somedirectory/meta-data\", \"./somedirectory/user-data\"]\n  cd_label = \"cidata\"\n  ```\n  \n  The above will create a CD with two files, user-data and meta-data in the\n  CD root. This specific example is how you would create a CD that can be\n  used for an Ubuntu 20.04 autoinstall.\n  \n  Since globbing is also supported,\n  \n  ```hcl\n  cd_files = [\"./somedirectory/*\"]\n  cd_label = \"cidata\"\n  ```\n  \n  Would also be an acceptable way to define the above cd. The difference\n  between providing the directory with or without the glob is whether the\n  directory itself or its contents will be at the CD root.\n  \n  Use of this option assumes that you have a command line tool installed\n  that can handle the iso creation. Packer will use one of the following\n  tools:\n  \n    * xorriso\n    * mkisofs\n    * hdiutil (normally found in macOS)\n    * oscdimg (normally found in Windows as part of the Windows ADK)\n\n- `cd_content` (map[string]string) - Key/Values to add to the CD. The keys represent the paths, and the values\n  contents. It can be used alongside `cd_files`, which is useful to add large\n  files without loading them into memory. If any paths are specified by both,\n  the contents in `cd_content` will take precedence.\n  \n  Usage example (HCL):\n  \n  ```hcl\n  cd_files = [\"vendor-data\"]\n  cd_content = {\n    \"meta-data\" = jsonencode(local.instance_data)\n    \"user-data\" = templatefile(\"user-data\", { packages = [\"nginx\"] })\n  }\n  cd_label = \"cidata\"\n  ```\n\n- `cd_label` (string) - CD Label\n\n\u003c!-- End of code generated from the comments of the CDConfig struct in multistep/commonsteps/extra_iso_config.go; --\u003e\n\n\n\u003c!-- Code generated from the comments of the CDRomConfig struct in builder/vsphere/common/step_add_cdrom.go; DO NOT EDIT MANUALLY --\u003e\n\n- `cdrom_type` (string) - The type of controller to use for the CD-ROM device. Defaults to `ide`.\n  \n  The available options for this setting are: `ide` and `sata`.\n\n- `iso_paths` ([]string) - A list of paths to ISO files in either a datastore or a content library\n  that will be attached to the virtual machine.\n  \n  HCL Example:\n  \n  ```hcl\n  iso_paths = [\n    \"[nfs] iso/ubuntu-server-amd64.iso\",\n    \"Example Content Library/ubuntu-server-amd64/ubuntu-server-amd64.iso\"\n  ]\n  ```\n  \n  JSON Example:\n  \n  ```json\n  \"iso_paths\": [\n    \"[nfs] iso/ubuntu-server-amd64.iso\",\n    \"Example Content Library/ubuntu-server-amd64/ubuntu-server-amd64.iso\"\n  ]\n  ```\n  \n  Two ISOs are referenced:\n  \n  1. An ISO in the \"_iso_\" folder of the \"_nfs_\" datastore with the file\n    name of \"_ubuntu-server-amd64.iso_\". \"_ubuntu-server-amd64.iso_\".\n  2. An ISO in the \"_Example Content Library_\" content library with the\n    item name of \"_ubuntu-server-amd64_\".\n  \n  -\u003e **Note:** All files in a content library have an associated item name.\n  To determine the file name, view the datastore backing the content\n  library or use the `govc` vSphere CLI.\n\n\u003c!-- End of code generated from the comments of the CDRomConfig struct in builder/vsphere/common/step_add_cdrom.go; --\u003e\n\n\n\u003c!-- Code generated from the comments of the RemoveCDRomConfig struct in builder/vsphere/common/step_remove_cdrom.go; DO NOT EDIT MANUALLY --\u003e\n\n- `remove_cdrom` (bool) - Remove all CD-ROM devices from the virtual machine when the build is\n  complete. Defaults to `false`.\n\n\u003c!-- End of code generated from the comments of the RemoveCDRomConfig struct in builder/vsphere/common/step_remove_cdrom.go; --\u003e\n\n\n### Communicator Configuration\n\n#### Common\n\n**Optional:**\n\n\u003c!-- Code generated from the comments of the Config struct in communicator/config.go; DO NOT EDIT MANUALLY --\u003e\n\n- `communicator` (string) - Packer currently supports three kinds of communicators:\n  \n  -   `none` - No communicator will be used. If this is set, most\n      provisioners also can't be used.\n  \n  -   `ssh` - An SSH connection will be established to the machine. This\n      is usually the default.\n  \n  -   `winrm` - A WinRM connection will be established.\n  \n  In addition to the above, some builders have custom communicators they\n  can use. For example, the Docker builder has a \"docker\" communicator\n  that uses `docker exec` and `docker cp` to execute scripts and copy\n  files.\n\n- `pause_before_connecting` (duration string | ex: \"1h5m2s\") - We recommend that you enable SSH or WinRM as the very last step in your\n  guest's bootstrap script, but sometimes you may have a race condition\n  where you need Packer to wait before attempting to connect to your\n  guest.\n  \n  If you end up in this situation, you can use the template option\n  `pause_before_connecting`. By default, there is no pause. For example if\n  you set `pause_before_connecting` to `10m` Packer will check whether it\n  can connect, as normal. But once a connection attempt is successful, it\n  will disconnect and then wait 10 minutes before connecting to the guest\n  and beginning provisioning.\n\n\u003c!-- End of code generated from the comments of the Config struct in communicator/config.go; --\u003e\n\n\n#### SSH\n\n**Optional:**\n\n\u003c!-- Code generated from the comments of the SSH struct in communicator/config.go; DO NOT EDIT MANUALLY --\u003e\n\n- `ssh_host` (string) - The address to SSH to. This usually is automatically configured by the\n  builder.\n\n- `ssh_port` (int) - The port to connect to SSH. This defaults to `22`.\n\n- `ssh_username` (string) - The username to connect to SSH with. Required if using SSH.\n\n- `ssh_password` (string) - A plaintext password to use to authenticate with SSH.\n\n- `ssh_ciphers` ([]string) - This overrides the value of ciphers supported by default by Golang.\n  The default value is [\n    \"aes128-gcm@openssh.com\",\n    \"chacha20-poly1305@openssh.com\",\n    \"aes128-ctr\", \"aes192-ctr\", \"aes256-ctr\",\n  ]\n  \n  Valid options for ciphers include:\n  \"aes128-ctr\", \"aes192-ctr\", \"aes256-ctr\", \"aes128-gcm@openssh.com\",\n  \"chacha20-poly1305@openssh.com\",\n  \"arcfour256\", \"arcfour128\", \"arcfour\", \"aes128-cbc\", \"3des-cbc\",\n\n- `ssh_clear_authorized_keys` (bool) - If true, Packer will attempt to remove its temporary key from\n  `~/.ssh/authorized_keys` and `/root/.ssh/authorized_keys`. This is a\n  mostly cosmetic option, since Packer will delete the temporary private\n  key from the host system regardless of whether this is set to true\n  (unless the user has set the `-debug` flag). Defaults to \"false\";\n  currently only works on guests with `sed` installed.\n\n- `ssh_key_exchange_algorithms` ([]string) - If set, Packer will override the value of key exchange (kex) algorithms\n  supported by default by Golang. Acceptable values include:\n  \"curve25519-sha256@libssh.org\", \"ecdh-sha2-nistp256\",\n  \"ecdh-sha2-nistp384\", \"ecdh-sha2-nistp521\",\n  \"diffie-hellman-group14-sha1\", and \"diffie-hellman-group1-sha1\".\n\n- `ssh_certificate_file` (string) - Path to user certificate used to authenticate with SSH.\n  The `~` can be used in path and will be expanded to the\n  home directory of current user.\n\n- `ssh_pty` (bool) - If `true`, a PTY will be requested for the SSH connection. This defaults\n  to `false`.\n\n- `ssh_timeout` (duration string | ex: \"1h5m2s\") - The time to wait for SSH to become available. Packer uses this to\n  determine when the machine has booted so this is usually quite long.\n  Example value: `10m`.\n  This defaults to `5m`, unless `ssh_handshake_attempts` is set.\n\n- `ssh_disable_agent_forwarding` (bool) - If true, SSH agent forwarding will be disabled. Defaults to `false`.\n\n- `ssh_handshake_attempts` (int) - The number of handshakes to attempt with SSH once it can connect.\n  This defaults to `10`, unless a `ssh_timeout` is set.\n\n- `ssh_bastion_host` (string) - A bastion host to use for the actual SSH connection.\n\n- `ssh_bastion_port` (int) - The port of the bastion host. Defaults to `22`.\n\n- `ssh_bastion_agent_auth` (bool) - If `true`, the local SSH agent will be used to authenticate with the\n  bastion host. Defaults to `false`.\n\n- `ssh_bastion_username` (string) - The username to connect to the bastion host.\n\n- `ssh_bastion_password` (string) - The password to use to authenticate with the bastion host.\n\n- `ssh_bastion_interactive` (bool) - If `true`, the keyboard-interactive used to authenticate with bastion host.\n\n- `ssh_bastion_private_key_file` (string) - Path to a PEM encoded private key file to use to authenticate with the\n  bastion host. The `~` can be used in path and will be expanded to the\n  home directory of current user.\n\n- `ssh_bastion_certificate_file` (string) - Path to user certificate used to authenticate with bastion host.\n  The `~` can be used in path and will be expanded to the\n  home directory of current user.\n\n- `ssh_file_transfer_method` (string) - `scp` or `sftp` - How to transfer files, Secure copy (default) or SSH\n  File Transfer Protocol.\n  \n  **NOTE**: Guests using Windows with Win32-OpenSSH v9.1.0.0p1-Beta, scp\n  (the default protocol for copying data) returns a a non-zero error code since the MOTW\n  cannot be set, which cause any file transfer to fail. As a workaround you can override the transfer protocol\n  with SFTP instead `ssh_file_transfer_method = \"sftp\"`.\n\n- `ssh_proxy_host` (string) - A SOCKS proxy host to use for SSH connection\n\n- `ssh_proxy_port` (int) - A port of the SOCKS proxy. Defaults to `1080`.\n\n- `ssh_proxy_username` (string) - The optional username to authenticate with the proxy server.\n\n- `ssh_proxy_password` (string) - The optional password to use to authenticate with the proxy server.\n\n- `ssh_keep_alive_interval` (duration string | ex: \"1h5m2s\") - How often to send \"keep alive\" messages to the server. Set to a negative\n  value (`-1s`) to disable. Example value: `10s`. Defaults to `5s`.\n\n- `ssh_read_write_timeout` (duration string | ex: \"1h5m2s\") - The amount of time to wait for a remote command to end. This might be\n  useful if, for example, packer hangs on a connection after a reboot.\n  Example: `5m`. Disabled by default.\n\n- `ssh_remote_tunnels` ([]string) - \n\n- `ssh_local_tunnels` ([]string) - \n\n\u003c!-- End of code generated from the comments of the SSH struct in communicator/config.go; --\u003e\n\n\n\u003c!-- Code generated from the comments of the SSHTemporaryKeyPair struct in communicator/config.go; DO NOT EDIT MANUALLY --\u003e\n\n- `temporary_key_pair_type` (string) - `dsa` | `ecdsa` | `ed25519` | `rsa` ( the default )\n  \n  Specifies the type of key to create. The possible values are 'dsa',\n  'ecdsa', 'ed25519', or 'rsa'.\n  \n  NOTE: DSA is deprecated and no longer recognized as secure, please\n  consider other alternatives like RSA or ED25519.\n\n- `temporary_key_pair_bits` (int) - Specifies the number of bits in the key to create. For RSA keys, the\n  minimum size is 1024 bits and the default is 4096 bits. Generally, 3072\n  bits is considered sufficient. DSA keys must be exactly 1024 bits as\n  specified by FIPS 186-2. For ECDSA keys, bits determines the key length\n  by selecting from one of three elliptic curve sizes: 256, 384 or 521\n  bits. Attempting to use bit lengths other than these three values for\n  ECDSA keys will fail. Ed25519 keys have a fixed length and bits will be\n  ignored.\n  \n  NOTE: DSA is deprecated and no longer recognized as secure as specified\n  by FIPS 186-5, please consider other alternatives like RSA or ED25519.\n\n\u003c!-- End of code generated from the comments of the SSHTemporaryKeyPair struct in communicator/config.go; --\u003e\n\n\n- `ssh_keypair_name` (string) - If specified, this is the key that will be used for SSH with the\n  machine. The key must match a key pair name loaded up into the remote.\n  By default, this is blank, and Packer will generate a temporary keypair\n  unless [`ssh_password`](#ssh_password) is used.\n  [`ssh_private_key_file`](#ssh_private_key_file) or\n  [`ssh_agent_auth`](#ssh_agent_auth) must be specified when\n  [`ssh_keypair_name`](#ssh_keypair_name) is utilized.\n\n\n- `ssh_private_key_file` (string) - Path to a PEM encoded private key file to use to authenticate with SSH.\n  The `~` can be used in path and will be expanded to the home directory\n  of current user.\n\n\n- `ssh_agent_auth` (bool) - If true, the local SSH agent will be used to authenticate connections to\n  the source instance. No temporary keypair will be created, and the\n  values of [`ssh_password`](#ssh_password) and\n  [`ssh_private_key_file`](#ssh_private_key_file) will be ignored. The\n  environment variable `SSH_AUTH_SOCK` must be set for this option to work\n  properly.\n\n\n-\u003e **NOTE:** The builder uses vApp Options to inject SSH public keys to the virtual machine. The `temporary_key_pair_name`\nwill only work if the template being cloned contains the vApp property `public-keys`. If using `ssh_private_key_file`,\nprovide the public key using the `configuration_parameters` or [vApp Options Configuration](/packer/integrations/hashicorp/vsphere/latest/components/builder/vsphere-clone#vapp-options-configuration) whenever the `guestinto.userdata` is available.\nRefer to the [VMware](https://docs.cloud-init.io/en/latest/reference/data-source/vmware.html) datasource in cloud-init 21.3 and later for additional information.\n\n#### Windows Remote Management (WinRM)\n\n**Optional:**\n\n\u003c!-- Code generated from the comments of the WinRM struct in communicator/config.go; DO NOT EDIT MANUALLY --\u003e\n\n- `winrm_username` (string) - The username to use to connect to WinRM.\n\n- `winrm_password` (string) - The password to use to connect to WinRM.\n\n- `winrm_host` (string) - The address for WinRM to connect to.\n  \n  NOTE: If using an Amazon EBS builder, you can specify the interface\n  WinRM connects to via\n  [`ssh_interface`](/packer/integrations/hashicorp/amazon/latest/components/builder/ebs#ssh_interface)\n\n- `winrm_no_proxy` (bool) - Setting this to `true` adds the remote\n  `host:port` to the `NO_PROXY` environment variable. This has the effect of\n  bypassing any configured proxies when connecting to the remote host.\n  Default to `false`.\n\n- `winrm_port` (int) - The WinRM port to connect to. This defaults to `5985` for plain\n  unencrypted connection and `5986` for SSL when `winrm_use_ssl` is set to\n  true.\n\n- `winrm_timeout` (duration string | ex: \"1h5m2s\") - The amount of time to wait for WinRM to become available. This defaults\n  to `30m` since setting up a Windows machine generally takes a long time.\n\n- `winrm_use_ssl` (bool) - If `true`, use HTTPS for WinRM.\n\n- `winrm_insecure` (bool) - If `true`, do not check server certificate chain and host name.\n\n- `winrm_use_ntlm` (bool) - If `true`, NTLMv2 authentication (with session security) will be used\n  for WinRM, rather than default (basic authentication), removing the\n  requirement for basic authentication to be enabled within the target\n  guest. Further reading for remote connection authentication can be found\n  [here](https://msdn.microsoft.com/en-us/library/aa384295(v=vs.85).aspx).\n\n\u003c!-- End of code generated from the comments of the WinRM struct in communicator/config.go; --\u003e\n\n\n### Export Configuration\n\n\u003c!-- Code generated from the comments of the ExportConfig struct in builder/vsphere/common/step_export.go; DO NOT EDIT MANUALLY --\u003e\n\nYou can export an image in Open Virtualization Format (OVF) to the Packer\nhost.\n\nHCL Example:\n\n```hcl\n\n\t# ...\n\tvm_name = \"example-ubuntu\"\n\t# ...\n\texport {\n\t  force = true\n\t  output_directory = \"./output-artifacts\"\n\t}\n\n```\n\nJSON Example:\n\n```json\n...\n\n\t\"vm_name\": \"example-ubuntu\",\n\n...\n\n\t\"export\": {\n\t  \"force\": true,\n\t  \"output_directory\": \"./output-artifacts\"\n\t},\n\n```\n\nThe above configuration would create the following files:\n\n```text\n./output-artifacts/example-ubuntu-disk-0.vmdk\n./output-artifacts/example-ubuntu.mf\n./output-artifacts/example-ubuntu.ovf\n```\n\n\u003c!-- End of code generated from the comments of the ExportConfig struct in builder/vsphere/common/step_export.go; --\u003e\n\n\n**Optional:**\n\n\u003c!-- Code generated from the comments of the ExportConfig struct in builder/vsphere/common/step_export.go; DO NOT EDIT MANUALLY --\u003e\n\n- `name` (string) - The name of the exported image in Open Virtualization Format (OVF).\n  \n  -\u003e **Note:** The name of the virtual machine with the `.ovf` extension is\n  used if this option is not specified.\n\n- `force` (bool) - Forces the export to overwrite existing files. Defaults to `false`.\n  If set to `false`, an error is returned if the file(s) already exists.\n\n- `image_files` (bool) - Include additional image files that are that are associated with the\n  virtual machine. Defaults to `false`. For example, `.nvram` and `.log`\n  files.\n\n- `manifest` (string) - The hash algorithm to use when generating a manifest file. Defaults to\n  `sha256`.\n  \n  The available options for this setting are: 'none', 'sha1', 'sha256', and\n  'sha512'.\n  \n  --\u003e **Tip:** Use `none` to disable the creation of a manifest file.\n\n- `options` ([]string) - Advanced image export options. Available options include:\n  * `mac` - MAC address is exported for each Ethernet device.\n  * `uuid` - UUID is exported for the virtual machine.\n  * `extraconfig` - Extra configuration options are exported for the\n    virtual machine.\n  * `nodevicesubtypes` - Resource subtypes for CD/DVD drives, floppy\n    drives, and SCSI controllers are not exported.\n  \n  For example, adding the following export configuration option outputs the\n  MAC addresses for each Ethernet device in the OVF descriptor:\n  \n  HCL Example:\n  \n  ```hcl\n  ...\n    export {\n      options = [\"mac\"]\n    }\n  ```\n  \n  JSON: Example:\n  \n  ```json\n  ...\n    \"export\": {\n      \"options\": [\"mac\"]\n    },\n  ```\n\n- `output_format` (string) - The output format for the exported virtual machine image.\n  Defaults to `ovf`. Available options include `ovf` and `ova`.\n  \n  When set to `ova`, the image is first exported using Open Virtualization\n  Format (`.ovf`) and then converted to an Open Virtualization Archive\n  (`.ova`) using the VMware [Open Virtualization Format Tool](https://developer.broadcom.com/tools/open-virtualization-format-ovf-tool/latest)\n  (ovftool). The intermediate files are removed after the conversion.\n  \n  ~\u003e **Note:** To use the `ova` format option, VMware ovftool must be\n  installed on the Packer host and accessible in either the system `PATH`\n  or the user's `PATH`.\n\n\u003c!-- End of code generated from the comments of the ExportConfig struct in builder/vsphere/common/step_export.go; --\u003e\n\n\n### Output Configuration\n\n**Optional:**\n\n\u003c!-- Code generated from the comments of the OutputConfig struct in builder/vsphere/common/output_config.go; DO NOT EDIT MANUALLY --\u003e\n\n- `output_directory` (string) - The directory where artifacts from the build, such as the virtual machine\n  files and disks, will be output to. The path to the directory may be\n  relative or absolute. If relative, the path is relative to the working\n  directory Packer is run from. This directory must not exist or, if\n  created, must be empty prior to running the builder. By default this is\n  \"output-\u003cbuildName\u003e\" where \"buildName\" is the name of the build.\n\n- `directory_permission` (os.FileMode) - The permissions to apply to the \"output_directory\", and to any parent\n  directories that get created for output_directory.  By default this is\n  \"0750\". You should express the permission as quoted string with a\n  leading zero such as \"0755\" in JSON file, because JSON does not support\n  octal value. In Unix-like OS, the actual permission may differ from\n  this value because of umask.\n\n\u003c!-- End of code generated from the comments of the OutputConfig struct in builder/vsphere/common/output_config.go; --\u003e\n\n\n### Content Library Configuration\n\n\u003c!-- Code generated from the comments of the ContentLibraryDestinationConfig struct in builder/vsphere/common/step_import_to_content_library.go; DO NOT EDIT MANUALLY --\u003e\n\nCreate a content library item in a content library whose content is a VM\ntemplate or an OVF template created from the virtual machine image after\nthe build is complete.\n\nThe template is stored in a existing or newly created library item.\n\n\u003c!-- End of code generated from the comments of the ContentLibraryDestinationConfig struct in builder/vsphere/common/step_import_to_content_library.go; --\u003e\n\n\n**Optional:**\n\n\u003c!-- Code generated from the comments of the ContentLibraryDestinationConfig struct in builder/vsphere/common/step_import_to_content_library.go; DO NOT EDIT MANUALLY --\u003e\n\n- `library` (string) - The name of the content library in which the new content library item\n  containing the template will be created or updated. The content library\n  must be of type Local to allow deploying virtual machines.\n\n- `name` (string) - The name of the content library item that will be created or updated.\n  For VM templates, the name of the item should be different from\n  [vm_name](#vm_name) and the default is [vm_name](#vm_name) + timestamp\n  when not set. VM templates will be always imported to a new library item.\n  For OVF templates, the name defaults to [vm_name](#vm_name) when not set,\n  and if an item with the same name already exists it will be then updated\n  with the new OVF template, otherwise a new item will be created.\n  \n  ~\u003e **Note:** It's not possible to update existing content library items\n  with a new VM template. If updating an existing content library item is\n  necessary, use an OVF template instead by setting the [ovf](#ovf) option\n  as `true`.\n\n- `description` (string) - A description for the content library item that will be created.\n  Defaults to \"Packer imported [vm_name](#vm_name) VM template\".\n\n- `cluster` (string) - The cluster where the VM template will be placed.\n  If `cluster` and `resource_pool` are both specified, `resource_pool` must\n  belong to cluster. If `cluster` and `host` are both specified, the ESXi\n  host must be a member of the cluster. This option is not used when\n  importing OVF templates. Defaults to [`cluster`](#cluster).\n\n- `folder` (string) - The virtual machine folder where the VM template will be placed.\n  This option is not used when importing OVF templates. Defaults to\n  the same folder as the source virtual machine.\n\n- `host` (string) - The ESXi host where the virtual machine template will be placed.\n  If `host` and `resource_pool` are both specified, `resource_pool` must\n  belong to host. If `host` and `cluster` are both specified, `host` must\n  be a member of the cluster. This option is not used when importing OVF\n  templates. Defaults to [`host`](#host).\n\n- `resource_pool` (string) - The resource pool where the virtual machine template will be placed.\n  Defaults to [`resource_pool`](#resource_pool). If [`resource_pool`](#resource_pool)\n  is unset, the system will attempt to choose a suitable resource pool\n  for the VM template.\n\n- `datastore` (string) - The datastore for the virtual machine template's configuration and log\n  files. This option is not used when importing OVF templates.\n  Defaults to the storage backing associated with the content library.\n\n- `destroy` (bool) - Destroy the virtual machine after the import to the content library.\n  Defaults to `false`.\n\n- `ovf` (bool) - Import an OVF template to the content library item. Defaults to `false`.\n\n- `skip_import` (bool) - Skip the import to the content library item. Useful during a build test\n  stage. Defaults to `false`.\n\n- `ovf_flags` ([]string) - Flags to use for OVF package creation. The supported flags can be\n  obtained using ExportFlag.list. If unset, no flags will be used.\n  Known values: `EXTRA_CONFIG`, `PRESERVE_MAC`.\n\n\u003c!-- End of code generated from the comments of the ContentLibraryDestinationConfig struct in builder/vsphere/common/step_import_to_content_library.go; --\u003e\n\n\nHCL Example:\n\n```hcl\n\tcontent_library_destination {\n\t\tlibrary = \"Example Content Library\"\n\t}\n```\n\nJSON Example:\n\n```json\n\t\"content_library_destination\" : {\n\t    \"library\": \"Example Content Library\"\n\t}\n```\n\n## Working with Clusters and Hosts\n\n### Standalone ESXi Hosts\n\nOnly use the `host` option. Optionally, specify a `resource_pool`:\n\nHCL Example:\n\n```hcl\n  host = \"esxi-01.example.com\"\n  resource_pool = \"example_resource_pool\"\n```\n\nJSON Example:\n\n```json\n  \"host\": \"esxi-01.example.com\",\n  \"resource_pool\": \"example_resource_pool\",\n```\n\n### Clusters with Distributed Resource Scheduler Enabled\n\nOnly use the `cluster` option. Optionally, specify a `resource_pool`:\n\nHCL Example:\n\n```hcl\n  cluster = \"cluster-01\"\n  resource_pool = \"example_resource_pool\"\n```\n\nJSON Example:\n\n```json\n  \"cluster\": \"cluster-01\",\n  \"resource_pool\": \"example_resource_pool\",\n```\n\n### Clusters without Distributed Resource Scheduler Enabled\n\nUse the `cluster` and `host` parameters:\n\nHCL Example:\n\n```hcl\n  cluster = \"cluster-01\"\n  host = \"esxi-01.example.com\"\n```\n\nJSON Example:\n\n```json\n  \"cluster\": \"cluster-01\",\n  \"host\": \"esxi-01.example.com\",\n```\n\n## Privileges\n\n- VM folder (this object and children):\n\n  ```text\n  Virtual machine \u003e Inventory\n  Virtual machine \u003e Configuration\n  Virtual machine \u003e Interaction\n  Virtual machine \u003e Snapshot management\n  Virtual machine \u003e Provisioning\n  ```\n\n- Resource pool, host, or cluster (this object):\n\n  ```text\n  Resource -\u003e Assign virtual machine to resource pool\n  ```\n\n- Host in clusters without DRS (this object):\n\n  ```text\n  Read-only\n  ```\n\n- Datastore (this object):\n\n  ```text\n  Datastore \u003e Allocate space\n  Datastore \u003e Browse datastore\n  Datastore \u003e Low level file operations\n  ```\n\n- Network (this object):\n\n  ```text\n  Network \u003e Assign network\n  ```\n\n- Distributed switch (this object):\n\n  ```text\n  Read-only\n  ```\n\n- Datacenter (this object):\n\n  ```text\n  Datastore \u003e Low level file operations\n  ```\n\n- Host (this object):\n\n  ```text\n  Host \u003e Configuration \u003e System Management\n  ```\n","created_at":"2024-10-17T21:00:16.080Z","updated_at":"2024-10-17T21:00:16.080Z","name":"vSphere Clone","slug":"vsphere-clone","component":{"id":"36076511-3ced-4faf-addf-101fce0405ff","slug":"builder","name":"Builder","plural_name":"Builders","product_id":"4c2b00c6-7cc1-4e4c-b596-4ab57e319f21","created_at":"2022-11-09T22:56:30.937Z","updated_at":"2022-11-09T22:56:30.937Z"},"variable_groups":[]},{"id":"f192b554-cf60-4528-8271-77bb246eb235","integration_release_id":"1ee34d8e-f6a0-4142-80c4-96b24f19da59","component_id":"36076511-3ced-4faf-addf-101fce0405ff","readme":"Type: `vsphere-supervisor`\n\nArtifact BuilderId: `vsphere.supervisor`\n\nThis builder creates a virtual machine on a vSphere Supervisor cluster using the VM-Operator API.\n\nRefer to [Deploying and Managing Virtual Machines in vSphere with Tanzu](https://docs.vmware.com/en/VMware-vSphere/8.0/vsphere-with-tanzu-services-workloads/GUID-F81E3535-C275-4DDE-B35F-CE759EA3B4A0.html)\nfor more information on the VM Service functionality in vSphere with Tanzu.\n\n- It uses a `kubeconfig` file to connect to the vSphere Supervisor cluster.\n- It uses the [VM-Operator API](https://vm-operator.readthedocs.io/en/latest/concepts/) to deploy\n  and configure the source virtual machine.\n- It cna use Packer provisioners to customize the virtual machine after establishing a successful\n  connection.\n- It publishes the customized virtual machine as a new virtual machine image to the designated\n  content library in vSphere.\n\n-\u003e **Note:** This builder is developed to maintain compatibility with VMware vSphere versions until\ntheir respective End of General Support dates. For detailed information, refer to the\n[Broadcom Product Lifecycle](https://support.broadcom.com/group/ecx/productlifecycle).\n\n## Examples\n\nExamples are available in the [examples](https://github.com/hashicorp/packer-plugin-vsphere/tree/main/examples/)\ndirectory of the GitHub repository.\n\nHCL Example:\n\n```hcl\nsource \"vsphere-supervisor\" \"example-vm\" {\n  image_name = \"\u003cImage name of the source VM, e.g. 'ubuntu-impish-21.10-cloudimg'\u003e\"\n  class_name = \"\u003cVM class that describes the virtual hardware settings, e.g. 'best-effort-large'\u003e\"\n  storage_class = \"\u003cStorage class that provides the backing storage for volume, e.g. 'wcplocal-storage-profile'\u003e\"\n  bootstrap_provider = \"\u003cCloudInit, Sysprep, or vAppConfig to customize the guest OS\u003e\"\n  bootstrap_data_file = \"\u003cPath to the file containing the bootstrap data for guest OS customization\u003e\"\n  publish_location_name = \"\u003ctarget location / content library for the published image, optional, e.g. 'cl-6066c61f7931c5ef9'\u003e\"\n}\n\nbuild {\n  sources = [\"source.vsphere-supervisor.example-vm\"]\n}\n```\n\nHCL Example with image import:\n\n```hcl\nsource \"vsphere-supervisor\" \"example-vm\" {\n  import_source_url = \"\u003cRemote URL to import image from, optional, e.g. 'https://example.com/example.ovf'\u003e\"\n  import_source_ssl_certificate = \"\u003cSSL certificate of the remote HTTPS server, optional, e.g. '-----BEGIN CERTIFICATE-----xxxxx-----END CERTIFICATE-----'\u003e\"\n  import_target_location_name = \"\u003cTarget location / content library for the imported image, optional, e.g. 'cl-6066c61f7931c5ef9'\u003e\"\n  import_target_image_type = \"\u003cTarget image type of the imported image, optional, e.g. 'ovf'\u003e\"\n  import_target_image_name = \"\u003cTarget image name of the imported image for the source VM, e.g. 'ubuntu-impish-21.10-cloudimg'\u003e\"\n  class_name = \"\u003cVM class that describes the virtual hardware settings, e.g. 'best-effort-large'\u003e\"\n  storage_class = \"\u003cStorage class that provides the backing storage for volume, e.g. 'wcplocal-storage-profile'\u003e\"\n  bootstrap_provider = \"\u003cCloudInit, Sysprep, or vAppConfig to customize the guest OS\u003e\"\n  bootstrap_data_file = \"\u003cPath to the file containing the bootstrap data for guest OS customization\u003e\"\n  publish_location_name = \"\u003ctarget location / content library for the published image, optional, e.g. 'cl-6066c61f7931c5ef9'\u003e\"\n}\n\nbuild {\n  sources = [\"source.vsphere-supervisor.example-vm\"]\n}\n```\n\nJSON Example:\n\n```json\n{\n  \"builders\": [\n    {\n      \"type\": \"vsphere-supervisor\",\n      \"image_name\": \"\u003cImage name of the source VM, e.g. 'ubuntu-impish-21.10-cloudimg'\u003e\",\n      \"class_name\": \"\u003cVM class that describes the virtual hardware settings, e.g. 'best-effort-large'\u003e\",\n      \"storage_class\": \"\u003cStorage class that provides the backing storage for volume, e.g. 'wcplocal-storage-profile'\u003e\",\n      \"bootstrap_provider\": \"\u003cCloudInit, Sysprep, or vAppConfig to customize the guest OS\u003e\",\n      \"bootstrap_data_file\": \"\u003cPath to the file containing the bootstrap data for guest OS customization\u003e\",\n      \"publish_location_name\": \"\u003ctarget location / content library for the published image, optional, e.g. 'cl-6066c61f7931c5ef9'\u003e\"\n    }\n  ]\n}\n```\n\nJSON Example with image import:\n\n```json\n{\n  \"builders\": [\n    {\n      \"type\": \"vsphere-supervisor\",\n      \"import_source_url\": \"\u003cRemote URL to import image from, optional, e.g. 'https://example.com/example.ovf'\u003e\",\n      \"import_source_ssl_certificate\": \"\u003cSSL certificate of the remote HTTPS server, optional, e.g. '-----BEGIN CERTIFICATE-----xxxxx-----END CERTIFICATE-----'\u003e\",\n      \"import_target_location_name\": \"\u003cTarget location / content library for the import image, optional, e.g. 'cl-6066c61f7931c5ef9'\u003e\",\n      \"import_target_image_type\": \"\u003cTarget image type of the imported image, optional, e.g. 'ovf'\u003e\",\n      \"import_target_image_name\": \"\u003cTarget image name of the imported image for the source VM, e.g. 'ubuntu-impish-21.10-cloudimg'\u003e\",\n      \"class_name\": \"\u003cVM class that describes the virtual hardware settings, e.g. 'best-effort-large'\u003e\",\n      \"storage_class\": \"\u003cStorage class that provides the backing storage for volume, e.g. 'wcplocal-storage-profile'\u003e\",\n      \"bootstrap_provider\": \"\u003cCloudInit, Sysprep, or vAppConfig to customize the guest OS\u003e\",\n      \"bootstrap_data_file\": \"\u003cPath to the file containing the bootstrap data for guest OS customization\u003e\",\n      \"publish_location_name\": \"\u003ctarget location / content library for the published image, optional, e.g. 'cl-6066c61f7931c5ef9'\u003e\"\n    }\n  ]\n}\n```\n\n## Configuration Reference\n\nThere are various configuration options available for each step in this builder. The _required_\nitems are listed below as well as the _optional_ configurations.\n\n**Required**:\n\n\u003c!-- Code generated from the comments of the CreateSourceConfig struct in builder/vsphere/supervisor/step_create_source.go; DO NOT EDIT MANUALLY --\u003e\n\n- `class_name` (string) - Name of the VM class that describes virtual hardware settings.\n\n- `storage_class` (string) - Name of the storage class that configures storage-related attributes.\n\n\u003c!-- End of code generated from the comments of the CreateSourceConfig struct in builder/vsphere/supervisor/step_create_source.go; --\u003e\n\n\n### Supervisor Connection\n\n**Optional**:\n\n\u003c!-- Code generated from the comments of the ConnectSupervisorConfig struct in builder/vsphere/supervisor/step_connect_supervisor.go; DO NOT EDIT MANUALLY --\u003e\n\n- `kubeconfig_path` (string) - The path to kubeconfig file for accessing to the vSphere Supervisor cluster. Defaults to the value of `KUBECONFIG` envvar or `$HOME/.kube/config` if the envvar is not set.\n\n- `supervisor_namespace` (string) - The Supervisor namespace to deploy the source VM. Defaults to the current context's namespace in kubeconfig.\n\n\u003c!-- End of code generated from the comments of the ConnectSupervisorConfig struct in builder/vsphere/supervisor/step_connect_supervisor.go; --\u003e\n\n\n#### Source VM Image Importing\n\n**Optional:**\n\n\u003c!-- Code generated from the comments of the ImportImageConfig struct in builder/vsphere/supervisor/step_import_image.go; DO NOT EDIT MANUALLY --\u003e\n\n- `import_source_url` (string) - The remote URL where the to-be-imported image is hosted.\n\n- `import_source_ssl_certificate` (string) - The SSL certificate of the remote HTTP server that hosts the to-be-imported image.\n\n- `import_target_location_name` (string) - Name of a writable and import-allowed ContentLibrary resource in the namespace where the image will be imported.\n\n- `import_target_image_type` (string) - The type of imported image.\n  Defaults to `ovf`. Available options include `ovf`.\n\n- `import_target_image_name` (string) - Name of the imported image.\n  Defaults to the file name of the image referenced in the source URL.\n\n- `import_request_name` (string) - The name of the image import request.\n  Defaults to `packer-vsphere-supervisor-import-req-\u003crandom-suffix\u003e`.\n\n- `watch_import_timeout_sec` (int) - The timeout in seconds to wait for the image to be imported.\n  Defaults to `600`.\n\n- `keep_import_request` (bool) - Preserve the import request in the Supervisor cluster after the build finishes.\n  Defaults to `false`.\n\n- `clean_imported_image` (bool) - Clean the imported image after the build finishes. If set to `true`, the imported image will be deleted.\n  Defaults to `false`.\n\n\u003c!-- End of code generated from the comments of the ImportImageConfig struct in builder/vsphere/supervisor/step_import_image.go; --\u003e\n\n\n#### Source Virtual Machine Creation\n\n\u003c!-- Code generated from the comments of the CreateSourceConfig struct in builder/vsphere/supervisor/step_create_source.go; DO NOT EDIT MANUALLY --\u003e\n\n- `image_name` (string) - Name of the source virtual machine (VM) image. If it is specified, the image with the name will be used for the\n  source VM, otherwise the image name from imported image will be used.\n\n- `source_name` (string) - Name of the source VM. Limited to 15 characters. Defaults to `source-\u003crandom-5-digit-suffix\u003e`.\n\n- `network_type` (string) - Name of the network type to attach to the source VM's network interface. Defaults to empty.\n\n- `network_name` (string) - Name of the network to attach to the source VM's network interface. Defaults to empty.\n\n- `keep_input_artifact` (bool) - Preserve all the created objects in Supervisor cluster after the build finishes. Defaults to `false`.\n\n- `bootstrap_provider` (string) - Name of the bootstrap provider to use for configuring the source VM.\n  Supported values are `CloudInit`, `Sysprep`, and `vAppConfig`. Defaults to `CloudInit`.\n\n- `bootstrap_data_file` (string) - Path to a file with bootstrap configuration data. Required if `bootstrap_provider` is not set to `CloudInit`.\n  Defaults to a basic cloud config that sets up the user account from the SSH communicator config.\n\n\u003c!-- End of code generated from the comments of the CreateSourceConfig struct in builder/vsphere/supervisor/step_create_source.go; --\u003e\n\n\n### Source Virtual Machine Watching\n\n**Optional**:\n\n\u003c!-- Code generated from the comments of the WatchSourceConfig struct in builder/vsphere/supervisor/step_watch_source.go; DO NOT EDIT MANUALLY --\u003e\n\n- `watch_source_timeout_sec` (int) - The timeout in seconds to wait for the source VM to be ready. Defaults to `1800`.\n\n\u003c!-- End of code generated from the comments of the WatchSourceConfig struct in builder/vsphere/supervisor/step_watch_source.go; --\u003e\n\n\n### Source Virtual Machine Publishing\n\n**Optional**:\n\n\u003c!-- Code generated from the comments of the PublishSourceConfig struct in builder/vsphere/supervisor/step_publish_source.go; DO NOT EDIT MANUALLY --\u003e\n\n- `publish_image_name` (string) - The name of the published VM image. If not specified, the vm-operator API will set a default name.\n\n- `watch_publish_timeout_sec` (int) - The timeout in seconds to wait for the VM to be published. Defaults to `600`.\n\n\u003c!-- End of code generated from the comments of the PublishSourceConfig struct in builder/vsphere/supervisor/step_publish_source.go; --\u003e\n\n\n### Communicator Configuration\n\n**Optional**:\n\n\u003c!-- Code generated from the comments of the SSH struct in communicator/config.go; DO NOT EDIT MANUALLY --\u003e\n\n- `ssh_host` (string) - The address to SSH to. This usually is automatically configured by the\n  builder.\n\n- `ssh_port` (int) - The port to connect to SSH. This defaults to `22`.\n\n- `ssh_username` (string) - The username to connect to SSH with. Required if using SSH.\n\n- `ssh_password` (string) - A plaintext password to use to authenticate with SSH.\n\n- `ssh_ciphers` ([]string) - This overrides the value of ciphers supported by default by Golang.\n  The default value is [\n    \"aes128-gcm@openssh.com\",\n    \"chacha20-poly1305@openssh.com\",\n    \"aes128-ctr\", \"aes192-ctr\", \"aes256-ctr\",\n  ]\n  \n  Valid options for ciphers include:\n  \"aes128-ctr\", \"aes192-ctr\", \"aes256-ctr\", \"aes128-gcm@openssh.com\",\n  \"chacha20-poly1305@openssh.com\",\n  \"arcfour256\", \"arcfour128\", \"arcfour\", \"aes128-cbc\", \"3des-cbc\",\n\n- `ssh_clear_authorized_keys` (bool) - If true, Packer will attempt to remove its temporary key from\n  `~/.ssh/authorized_keys` and `/root/.ssh/authorized_keys`. This is a\n  mostly cosmetic option, since Packer will delete the temporary private\n  key from the host system regardless of whether this is set to true\n  (unless the user has set the `-debug` flag). Defaults to \"false\";\n  currently only works on guests with `sed` installed.\n\n- `ssh_key_exchange_algorithms` ([]string) - If set, Packer will override the value of key exchange (kex) algorithms\n  supported by default by Golang. Acceptable values include:\n  \"curve25519-sha256@libssh.org\", \"ecdh-sha2-nistp256\",\n  \"ecdh-sha2-nistp384\", \"ecdh-sha2-nistp521\",\n  \"diffie-hellman-group14-sha1\", and \"diffie-hellman-group1-sha1\".\n\n- `ssh_certificate_file` (string) - Path to user certificate used to authenticate with SSH.\n  The `~` can be used in path and will be expanded to the\n  home directory of current user.\n\n- `ssh_pty` (bool) - If `true`, a PTY will be requested for the SSH connection. This defaults\n  to `false`.\n\n- `ssh_timeout` (duration string | ex: \"1h5m2s\") - The time to wait for SSH to become available. Packer uses this to\n  determine when the machine has booted so this is usually quite long.\n  Example value: `10m`.\n  This defaults to `5m`, unless `ssh_handshake_attempts` is set.\n\n- `ssh_disable_agent_forwarding` (bool) - If true, SSH agent forwarding will be disabled. Defaults to `false`.\n\n- `ssh_handshake_attempts` (int) - The number of handshakes to attempt with SSH once it can connect.\n  This defaults to `10`, unless a `ssh_timeout` is set.\n\n- `ssh_bastion_host` (string) - A bastion host to use for the actual SSH connection.\n\n- `ssh_bastion_port` (int) - The port of the bastion host. Defaults to `22`.\n\n- `ssh_bastion_agent_auth` (bool) - If `true`, the local SSH agent will be used to authenticate with the\n  bastion host. Defaults to `false`.\n\n- `ssh_bastion_username` (string) - The username to connect to the bastion host.\n\n- `ssh_bastion_password` (string) - The password to use to authenticate with the bastion host.\n\n- `ssh_bastion_interactive` (bool) - If `true`, the keyboard-interactive used to authenticate with bastion host.\n\n- `ssh_bastion_private_key_file` (string) - Path to a PEM encoded private key file to use to authenticate with the\n  bastion host. The `~` can be used in path and will be expanded to the\n  home directory of current user.\n\n- `ssh_bastion_certificate_file` (string) - Path to user certificate used to authenticate with bastion host.\n  The `~` can be used in path and will be expanded to the\n  home directory of current user.\n\n- `ssh_file_transfer_method` (string) - `scp` or `sftp` - How to transfer files, Secure copy (default) or SSH\n  File Transfer Protocol.\n  \n  **NOTE**: Guests using Windows with Win32-OpenSSH v9.1.0.0p1-Beta, scp\n  (the default protocol for copying data) returns a a non-zero error code since the MOTW\n  cannot be set, which cause any file transfer to fail. As a workaround you can override the transfer protocol\n  with SFTP instead `ssh_file_transfer_method = \"sftp\"`.\n\n- `ssh_proxy_host` (string) - A SOCKS proxy host to use for SSH connection\n\n- `ssh_proxy_port` (int) - A port of the SOCKS proxy. Defaults to `1080`.\n\n- `ssh_proxy_username` (string) - The optional username to authenticate with the proxy server.\n\n- `ssh_proxy_password` (string) - The optional password to use to authenticate with the proxy server.\n\n- `ssh_keep_alive_interval` (duration string | ex: \"1h5m2s\") - How often to send \"keep alive\" messages to the server. Set to a negative\n  value (`-1s`) to disable. Example value: `10s`. Defaults to `5s`.\n\n- `ssh_read_write_timeout` (duration string | ex: \"1h5m2s\") - The amount of time to wait for a remote command to end. This might be\n  useful if, for example, packer hangs on a connection after a reboot.\n  Example: `5m`. Disabled by default.\n\n- `ssh_remote_tunnels` ([]string) - \n\n- `ssh_local_tunnels` ([]string) - \n\n\u003c!-- End of code generated from the comments of the SSH struct in communicator/config.go; --\u003e\n\n\n\u003c!-- Code generated from the comments of the SSHTemporaryKeyPair struct in communicator/config.go; DO NOT EDIT MANUALLY --\u003e\n\n- `temporary_key_pair_type` (string) - `dsa` | `ecdsa` | `ed25519` | `rsa` ( the default )\n  \n  Specifies the type of key to create. The possible values are 'dsa',\n  'ecdsa', 'ed25519', or 'rsa'.\n  \n  NOTE: DSA is deprecated and no longer recognized as secure, please\n  consider other alternatives like RSA or ED25519.\n\n- `temporary_key_pair_bits` (int) - Specifies the number of bits in the key to create. For RSA keys, the\n  minimum size is 1024 bits and the default is 4096 bits. Generally, 3072\n  bits is considered sufficient. DSA keys must be exactly 1024 bits as\n  specified by FIPS 186-2. For ECDSA keys, bits determines the key length\n  by selecting from one of three elliptic curve sizes: 256, 384 or 521\n  bits. Attempting to use bit lengths other than these three values for\n  ECDSA keys will fail. Ed25519 keys have a fixed length and bits will be\n  ignored.\n  \n  NOTE: DSA is deprecated and no longer recognized as secure as specified\n  by FIPS 186-5, please consider other alternatives like RSA or ED25519.\n\n\u003c!-- End of code generated from the comments of the SSHTemporaryKeyPair struct in communicator/config.go; --\u003e\n\n\n\u003c!-- Code generated from the comments of the WinRM struct in communicator/config.go; DO NOT EDIT MANUALLY --\u003e\n\n- `winrm_username` (string) - The username to use to connect to WinRM.\n\n- `winrm_password` (string) - The password to use to connect to WinRM.\n\n- `winrm_host` (string) - The address for WinRM to connect to.\n  \n  NOTE: If using an Amazon EBS builder, you can specify the interface\n  WinRM connects to via\n  [`ssh_interface`](/packer/integrations/hashicorp/amazon/latest/components/builder/ebs#ssh_interface)\n\n- `winrm_no_proxy` (bool) - Setting this to `true` adds the remote\n  `host:port` to the `NO_PROXY` environment variable. This has the effect of\n  bypassing any configured proxies when connecting to the remote host.\n  Default to `false`.\n\n- `winrm_port` (int) - The WinRM port to connect to. This defaults to `5985` for plain\n  unencrypted connection and `5986` for SSL when `winrm_use_ssl` is set to\n  true.\n\n- `winrm_timeout` (duration string | ex: \"1h5m2s\") - The amount of time to wait for WinRM to become available. This defaults\n  to `30m` since setting up a Windows machine generally takes a long time.\n\n- `winrm_use_ssl` (bool) - If `true`, use HTTPS for WinRM.\n\n- `winrm_insecure` (bool) - If `true`, do not check server certificate chain and host name.\n\n- `winrm_use_ntlm` (bool) - If `true`, NTLMv2 authentication (with session security) will be used\n  for WinRM, rather than default (basic authentication), removing the\n  requirement for basic authentication to be enabled within the target\n  guest. Further reading for remote connection authentication can be found\n  [here](https://msdn.microsoft.com/en-us/library/aa384295(v=vs.85).aspx).\n\n\u003c!-- End of code generated from the comments of the WinRM struct in communicator/config.go; --\u003e\n\n\n## Deprovisioning Tasks\n\nIf you would like to clean up the virtual machine after the build is complete, you can use the\n[Ansible provisioner](https://developer.hashicorp.com/packer/integrations/hashicorp/ansible/latest/components/provisioner/ansible)\nto run the following tasks to delete machine-specific files and data.\n\nHCL Example:\n\n```hcl\nbuild {\n  sources = [\"source.vsphere-supervisor.vm\"]\n\n  provisioner \"ansible\" {\n    playbook_file = \"cleanup-playbook.yml\"\n  }\n}\n```\n\nJSON Example:\n\n```json\n{\n  \"builders\": [\n    {\n      \"type\": \"vsphere-supervisor\"\n    }\n  ],\n  \"provisioners\": [\n    {\n      \"type\": \"ansible\",\n      \"playbook_file\": \"./cleanup-playbook.yml\"\n    }\n  ]\n}\n```\n\nContent of `cleanup-playbook.yml`:\n\n```yaml\n---\n# cleanup-playbook.yml\n- name: Clean up source virtual machine\n  hosts: default\n  become: true\n  tasks:\n    - name: Truncate machine id\n      file:\n        state: \"{{ item.state }}\"\n        path: \"{{ item.path }}\"\n        owner: root\n        group: root\n        mode: \"{{ item.mode }}\"\n      loop:\n        - { path: /etc/machine-id, state: absent, mode: \"0644\" }\n        - { path: /etc/machine-id, state: touch, mode: \"0644\" }\n\n    - name: Truncate audit logs\n      file:\n        state: \"{{ item.state }}\"\n        path: \"{{ item.path }}\"\n        owner: root\n        group: utmp\n        mode: \"{{ item.mode }}\"\n      loop:\n        - { path: /var/log/wtmp, state: absent, mode: \"0664\" }\n        - { path: /var/log/lastlog, state: absent, mode: \"0644\" }\n        - { path: /var/log/wtmp, state: touch, mode: \"0664\" }\n        - { path: /var/log/lastlog, state: touch, mode: \"0644\" }\n\n    - name: Remove cloud-init lib dir and logs\n      file:\n        state: absent\n        path: \"{{ item }}\"\n      loop:\n        - /var/lib/cloud\n        - /var/log/cloud-init.log\n        - /var/log/cloud-init-output.log\n        - /var/run/cloud-init\n\n    - name: Truncate all remaining log files in /var/log\n      shell:\n        cmd: |\n          find /var/log -type f -iname '*.log' | xargs truncate -s 0\n\n    - name: Delete all logrotated log zips\n      shell:\n        cmd: |\n          find /var/log -type f -name '*.gz' -exec rm {} +\n\n    - name: Find temp files\n      find:\n        depth: 1\n        file_type: any\n        paths:\n          - /tmp\n          - /var/tmp\n        pattern: \"*\"\n      register: temp_files\n\n    - name: Reset temp space\n      file:\n        state: absent\n        path: \"{{ item.path }}\"\n      loop: \"{{ temp_files.files }}\"\n\n    - name: Truncate shell history\n      file:\n        state: absent\n        path: \"{{ item.path }}\"\n      loop:\n        - { path: /root/.bash_history }\n        - {\n            path: \"/home/{{ ansible_env.SUDO_USER | default(ansible_user_id) }}/.bash_history\",\n          }\n```\n","created_at":"2024-10-17T21:00:16.183Z","updated_at":"2024-10-17T21:00:16.183Z","name":"vSphere Supervisor","slug":"vsphere-supervisor","component":{"id":"36076511-3ced-4faf-addf-101fce0405ff","slug":"builder","name":"Builder","plural_name":"Builders","product_id":"4c2b00c6-7cc1-4e4c-b596-4ab57e319f21","created_at":"2022-11-09T22:56:30.937Z","updated_at":"2022-11-09T22:56:30.937Z"},"variable_groups":[]},{"id":"2022be47-3ab1-4cdb-96e6-6fe53c8a858e","integration_release_id":"1ee34d8e-f6a0-4142-80c4-96b24f19da59","component_id":"73965f1c-ad56-4f38-a31b-dc17d08c0ba6","readme":"Type: `vsphere`\n\nArtifact BuilderId: `packer.post-processor.vsphere`\n\nThis post-processor uploads an artifact to a vSphere endpoint.\n\nThe artifact must be a VMX, OVA, or OVF file.\n\n-\u003e **Note:** This post-processor is developed to maintain compatibility with VMware vSphere versions until\ntheir respective End of General Support dates. For detailed information, refer to the\n[Broadcom Product Lifecycle](https://support.broadcom.com/group/ecx/productlifecycle).\n\n## Examples\n\nExamples are available in the [examples](https://github.com/hashicorp/packer-plugin-vsphere/tree/main/examples/)\ndirectory of the GitHub repository.\n\n## Configuration Reference\n\nThe following configuration options are available for the post-processor.\n\n**Required:**\n\n\u003c!-- Code generated from the comments of the Config struct in post-processor/vsphere/post-processor.go; DO NOT EDIT MANUALLY --\u003e\n\n- `cluster` (string) - The cluster or ESXi host to upload the virtual machine.\n  This can be either the name of the vSphere cluster or the fully qualified domain name (FQDN)\n  or IP address of the ESXi host.\n\n- `datacenter` (string) - The name of the vSphere datacenter object to place the virtual machine.\n  This is _not required_ if `resource_pool` is specified.\n\n- `datastore` (string) - The name of the vSphere datastore to place the virtual machine.\n\n- `host` (string) - The fully qualified domain name or IP address of the vCenter Server or ESXi host.\n\n- `password` (string) - The password to use to authenticate to the vSphere endpoint.\n\n- `username` (string) - The username to use to authenticate to the vSphere endpoint.\n\n\u003c!-- End of code generated from the comments of the Config struct in post-processor/vsphere/post-processor.go; --\u003e\n\n\n**Optional:**\n\n\u003c!-- Code generated from the comments of the Config struct in post-processor/vsphere/post-processor.go; DO NOT EDIT MANUALLY --\u003e\n\n- `disk_mode` (string) - The disk format of the target virtual machine. One of `thin`, `thick`,\n\n- `esxi_host` (string) - The fully qualified domain name or IP address of the ESXi host to upload the\n  virtual machine. This is _not required_ if `host` is a vCenter Server.\n\n- `insecure` (bool) - Skip the verification of the server certificate. Defaults to `false`.\n\n- `options` ([]string) - Options to send to `ovftool` when uploading the virtual machine.\n  Use `ovftool --help` to list all the options available.\n\n- `overwrite` (bool) - Overwrite existing files.\n  If `true`, forces overwrites of existing files. Defaults to `false`.\n\n- `resource_pool` (string) - The name of the resource pool to place the virtual machine.\n\n- `vm_folder` (string) - The name of the virtual machine folder path where the virtual machine will be\n  placed.\n\n- `vm_name` (string) - The name of the virtual machine to be created on the vSphere endpoint.\n\n- `vm_network` (string) - The name of the network in which to place the virtual machine.\n\n- `hardware_version` (string) - The maximum virtual hardware version for the deployed virtual machine.\n  \n  It does not upgrade the virtual hardware version of the source VM. Instead, it limits the\n  virtual hardware version of the deployed virtual machine  to the specified version.\n  If the source virtual machine's hardware version is higher than the specified version, the\n  deployed virtual machine's hardware version will be downgraded to the specified version.\n  \n  If the source virtual machine's hardware version is lower than or equal to the specified\n  version, the deployed virtual machine's hardware version will be the same as the source\n  virtual machine's.\n  \n  This option is useful when deploying to vCenter Server instance ot an ESXi host whose\n  version is different than the one used to create the artifact.\n  \n  Refer to [KB 315655](https://knowledge.broadcom.com/external/article?articleNumber=315655)\n  for more information on supported virtual hardware versions.\n\n- `max_retries` (int) - The maximum number of times to retry the upload operation if it fails.\n  Defaults to `5`.\n\n\u003c!-- End of code generated from the comments of the Config struct in post-processor/vsphere/post-processor.go; --\u003e\n\n\n- `keep_input_artifact` (boolean) - Preserve the local virtual machines files, even after importing\n  them to the vSphere endpoint. Defaults to `false`.\n\n## Example Usage\n\nThe following is an example of the post-processor used in conjunction with the `null` builder to\nupload a VMX to a vSphere cluster. You can also use this post-processor with the VMX artifact from a\nbuild.\n\nAn example is shown below, showing only the post-processor configuration:\n\nHCL Example:\n\n```hcl\nsource \"null\" \"example\" {\n    communicator = \"none\"\n}\n\nbuild {\n    sources = [\n        \"source.null.example\"\n    ]\n\n    post-processors {\n      post-processor \"vsphere\"{\n          vm_name             = \"foo\"\n          host                = \"vcenter.example.com\"\n          username            = \"administrator@vsphere.local\"\n          password            = \"VMw@re1!\"\n          datacenter          = \"dc-01\"\n          cluster             = \"cluster-01\"\n          datastore           = \"datastore-01\"\n          vm_network          = \"VM Network\"\n          keep_input_artifact = true\n      }\n    }\n}\n```\n\nJSON Example:\n\n```json\n{\n  \"builders\": [\n    {\n      \"type\": \"null\",\n      \"communicator\": \"none\"\n    }\n  ],\n  \"post-processors\": [\n    [\n      {\n        \"type\": \"vsphere\",\n        \"vm_name\": \"foo\",\n        \"host\": \"vcenter.example.com\",\n        \"username\": \"administrator@vsphere.local\",\n        \"password\": \"VMw@re1!\",\n        \"datacenter\": \"dc-01\",\n        \"cluster\": \"cluster-01\",\n        \"datastore\": \"datastore-01\",\n        \"vm_network\": \"VM Network\",\n        \"keep_input_artifact\": true\n      }\n    ]\n  ]\n}\n```\n\n## Privileges\n\nThe post-processor uses `ovftool` and needs several privileges to be able to run `ovftool`.\n\nRather than giving Administrator access, you can create a role to give the post-processor the\nprivileges necessary to run.\n\nBelow is an example role that will work. Please note that this is a user-supplied list so there may\nbe a few extraneous privileges that are not strictly required.\n\nFor vSphere, the role needs the following privileges:\n\n- `Datastore.AllocateSpace`\n- `Host.Config.AdvancedConfig`\n- `Host.Config.NetService`\n- `Host.Config.Network`\n- `Network.Assign`\n- `System.Anonymous`\n- `System.Read`\n- `System.View`\n- `VApp.Import`\n- `VirtualMachine.Config.AddNewDisk`\n- `VirtualMachine.Config.AdvancedConfig`\n- `VirtualMachine.Inventory.Delete`\n\nThe role must be authorized on the:\n\n- Cluster of the host.\n- The destination folder.\n- The destination datastore.\n- The network to be assigned.\n","created_at":"2024-10-17T21:00:16.382Z","updated_at":"2024-10-17T21:00:16.382Z","name":"vSphere","slug":"vsphere","component":{"id":"73965f1c-ad56-4f38-a31b-dc17d08c0ba6","slug":"post-processor","name":"Post-Processor","plural_name":"Post-Processors","product_id":"4c2b00c6-7cc1-4e4c-b596-4ab57e319f21","created_at":"2022-11-09T22:56:31.157Z","updated_at":"2023-07-26T17:26:54.831Z"},"variable_groups":[]},{"id":"f6de2afe-ac12-4832-89a7-e71585a2633d","integration_release_id":"1ee34d8e-f6a0-4142-80c4-96b24f19da59","component_id":"73965f1c-ad56-4f38-a31b-dc17d08c0ba6","readme":"Type: `vsphere-template`\n\nArtifact BuilderId: `packer.post-processor.vsphere`\n\nThis post-processor uses an artifact from the `vmware-iso` builder with an ESXi host or an artifact\nfrom the [vSphere](/packer/integrations/hashicorp/vsphere/latest/components/post-processor/vsphere) post-processor. It then marks\nthe virtual machine as a template and moves it to your specified path.\n\n-\u003e **Note:** This post-processor is developed to maintain compatibility with VMware vSphere versions until\ntheir respective End of General Support dates. For detailed information, refer to the\n[Broadcom Product Lifecycle](https://support.broadcom.com/group/ecx/productlifecycle).\n\n## Examples\n\nExamples are available in the [examples](https://github.com/hashicorp/packer-plugin-vsphere/tree/main/examples/)\ndirectory of the GitHub repository.\n\n## Configuration Reference\n\nThe following configuration options are available for the post-processor.\n\n**Required:**\n\n\u003c!-- Code generated from the comments of the Config struct in post-processor/vsphere-template/post-processor.go; DO NOT EDIT MANUALLY --\u003e\n\n- `host` (string) - The fully qualified domain name or IP address of the vSphere endpoint.\n\n- `username` (string) - The username to use to authenticate to the vSphere endpoint.\n\n- `password` (string) - The password to use to authenticate to the vSphere endpoint.\n\n\u003c!-- End of code generated from the comments of the Config struct in post-processor/vsphere-template/post-processor.go; --\u003e\n\n\n**Optional:**\n\n\u003c!-- Code generated from the comments of the Config struct in post-processor/vsphere-template/post-processor.go; DO NOT EDIT MANUALLY --\u003e\n\n- `insecure` (bool) - Skip the verification of the server certificate. Defaults to `false`.\n\n- `datacenter` (string) - The name of the datacenter to use.\n  Required when the vCenter Server instance endpoint has more than one datacenter.\n\n- `template_name` (string) - The name of the template.\n  If not specified, the name of the virtual machine will be used.\n\n- `folder` (string) - The name of the virtual machine folder path where the template will be created.\n\n- `snapshot_enable` (bool) - Create a snapshot before marking as a template. Defaults to `false`.\n\n- `snapshot_name` (string) - The name of the snapshot. Required when `snapshot_enable` is `true`.\n\n- `snapshot_description` (string) - A description for the snapshot. Required when `snapshot_enable` is `true`.\n\n- `reregister_vm` (boolean) - Keepe the virtual machine registered after marking as a template.\n\n\u003c!-- End of code generated from the comments of the Config struct in post-processor/vsphere-template/post-processor.go; --\u003e\n\n\n- `keep_input_artifact` (boolean) - This option is not applicable to `vsphere-template`. For a\n  template to function, the original virtual machine from which it was generated cannot be deleted.\n  Therefore, the vSphere Template post-processor always preserves the original virtual machine.\n\n  ~\u003e **Note**: If you are getting permission denied errors when trying to mark as a template, but it\n  works in the vSphere UI, set this to `false`. Default is `true`.\n\n## Example Usage\n\nAn example is shown below, showing only the post-processor configuration:\n\nHCL Example:\n\n```hcl\nsource \"null\" \"example\" {\n    communicator = \"none\"\n}\n\nbuild {\n    sources = [\n        \"source.null.example\"\n    ]\n\n    post-processors {\n      post-processor \"vsphere-template\"{\n          host                = \"vcenter.example.com\"\n          insecure            = false\n          username            = \"administrator@vsphere.local\"\n          password            = \"VMw@re1!\"\n          datacenter          = \"dc-01\"\n          folder              = \"/templates/os/distro\"\n      }\n    }\n}\n```\n\nJSON Example:\n\n```json\n{\n  \"builders\": [\n    {\n      \"type\": \"null\",\n      \"communicator\": \"none\"\n    }\n  ],\n  \"post-processors\": [\n    [\n      {\n        \"type\": \"vsphere-template\",\n        \"host\": \"vcenter.example.com\",\n        \"insecure\": true,\n        \"username\": \"administrator@vsphere.local\",\n        \"password\": \"VMw@re1!\",\n        \"datacenter\": \"dc-01\",\n        \"folder\": \"/templates/os/distro\"\n      }\n    ]\n  ]\n}\n```\n\n## Using the vSphere Template with Local Builders\n\nOnce the [vSphere](/packer/integrations/hashicorp/vsphere/latest/components/post-processor/vsphere) post-processor takes an artifact\nfrom the builder and uploads it to a vSphere endpoint, you may want the virtual machine to be marked\nas a template.\n\nHCL Example:\n\n```hcl\nbuild {\n    sources = [\n        \"source.null.example\"\n    ]\n\n  post-processors {\n    post-processor \"vsphere\" {\n      # ...\n    }\n\n    post-processor \"vsphere-template\" {\n      # ...\n    }\n  }\n}\n```\n\nJSON Example:\n\n```json\n{\n  \"builders\": [\n    {\n      \"type\": \"null\",\n      \"communicator\": \"none\"\n    }\n  ],\n  \"post-processors\": [\n    [\n      {\n        \"type\": \"vsphere\",\n         ...\n      },\n      {\n        \"type\": \"vsphere-template\",\n         ...\n      }\n    ],\n    {\n      \"type\": \"...\",\n      ...\n    }\n  ]\n}\n```\n\nIn the example above, the result of each builder is passed through the defined sequence of\npost-processors starting with the `vsphere` post-processor which will upload the artifact to a\nvSphere endpoint. The resulting artifact is then passed on to the `vsphere-template` post-processor\nwhich handles marking a virtual machine as a template.\n\nIn JSON, note that the `vsphere` and `vsphere-template` post-processors can be paired together in\ntheir own array.\n\n## Privileges\n\nThe post processor needs several privileges to be able to mark the virtual as a template.\n\nRather than giving full administrator access, you can create a role to give the post-processor the\nprivileges necessary to run.\n\nBelow is an example role that will work. Please note that this is a user-supplied list so there may\nbe a few extraneous privileges that are not strictly required.\n\nFor vSphere, the role needs the following privileges:\n\n- `Datastore.AllocateSpace`\n- `Host.Config.AdvancedConfig`\n- `Host.Config.NetService`\n- `Host.Config.Network`\n- `Network.Assign`\n- `System.Anonymous`\n- `System.Read`\n- `System.View`\n- `VApp.Import`\n- `VirtualMachine.Config.AddNewDisk`\n- `VirtualMachine.Config.AdvancedConfig`\n- `VirtualMachine.Inventory.Delete`\n\n  and either (if `reregister_vm` is `false`):\n\n  - `VirtualMachine.Provisioning.MarkAsTemplate`\n\n  or (if `reregister_vm` is `true` or unset):\n\n  - `VirtualMachine.Inventory.Register`\n  - `VirtualMachine.Inventory.Unregister`\n\nThe role must be authorized on the:\n\n- Cluster of the host.\n- The destination folder.\n- The destination datastore.\n- The network to be assigned.\n\n# Troubleshooting\n\nSome users have reported that vSphere templates created from local vSphere builds get their boot\norder reset to CD-ROM only instead of the original boot order defined by the template. If this issue\naffects you, the solution is to set `\"bios.hddOrder\": \"scsi0:0\"` in your builder's `vmx_data`.\n","created_at":"2024-10-17T21:00:16.561Z","updated_at":"2024-10-17T21:00:16.561Z","name":"vSphere Template","slug":"vsphere-template","component":{"id":"73965f1c-ad56-4f38-a31b-dc17d08c0ba6","slug":"post-processor","name":"Post-Processor","plural_name":"Post-Processors","product_id":"4c2b00c6-7cc1-4e4c-b596-4ab57e319f21","created_at":"2022-11-09T22:56:31.157Z","updated_at":"2023-07-26T17:26:54.831Z"},"variable_groups":[]}]},"component":{"id":"f192b554-cf60-4528-8271-77bb246eb235","integration_release_id":"1ee34d8e-f6a0-4142-80c4-96b24f19da59","component_id":"36076511-3ced-4faf-addf-101fce0405ff","readme":"Type: `vsphere-supervisor`\n\nArtifact BuilderId: `vsphere.supervisor`\n\nThis builder creates a virtual machine on a vSphere Supervisor cluster using the VM-Operator API.\n\nRefer to [Deploying and Managing Virtual Machines in vSphere with Tanzu](https://docs.vmware.com/en/VMware-vSphere/8.0/vsphere-with-tanzu-services-workloads/GUID-F81E3535-C275-4DDE-B35F-CE759EA3B4A0.html)\nfor more information on the VM Service functionality in vSphere with Tanzu.\n\n- It uses a `kubeconfig` file to connect to the vSphere Supervisor cluster.\n- It uses the [VM-Operator API](https://vm-operator.readthedocs.io/en/latest/concepts/) to deploy\n  and configure the source virtual machine.\n- It cna use Packer provisioners to customize the virtual machine after establishing a successful\n  connection.\n- It publishes the customized virtual machine as a new virtual machine image to the designated\n  content library in vSphere.\n\n-\u003e **Note:** This builder is developed to maintain compatibility with VMware vSphere versions until\ntheir respective End of General Support dates. For detailed information, refer to the\n[Broadcom Product Lifecycle](https://support.broadcom.com/group/ecx/productlifecycle).\n\n## Examples\n\nExamples are available in the [examples](https://github.com/hashicorp/packer-plugin-vsphere/tree/main/examples/)\ndirectory of the GitHub repository.\n\nHCL Example:\n\n```hcl\nsource \"vsphere-supervisor\" \"example-vm\" {\n  image_name = \"\u003cImage name of the source VM, e.g. 'ubuntu-impish-21.10-cloudimg'\u003e\"\n  class_name = \"\u003cVM class that describes the virtual hardware settings, e.g. 'best-effort-large'\u003e\"\n  storage_class = \"\u003cStorage class that provides the backing storage for volume, e.g. 'wcplocal-storage-profile'\u003e\"\n  bootstrap_provider = \"\u003cCloudInit, Sysprep, or vAppConfig to customize the guest OS\u003e\"\n  bootstrap_data_file = \"\u003cPath to the file containing the bootstrap data for guest OS customization\u003e\"\n  publish_location_name = \"\u003ctarget location / content library for the published image, optional, e.g. 'cl-6066c61f7931c5ef9'\u003e\"\n}\n\nbuild {\n  sources = [\"source.vsphere-supervisor.example-vm\"]\n}\n```\n\nHCL Example with image import:\n\n```hcl\nsource \"vsphere-supervisor\" \"example-vm\" {\n  import_source_url = \"\u003cRemote URL to import image from, optional, e.g. 'https://example.com/example.ovf'\u003e\"\n  import_source_ssl_certificate = \"\u003cSSL certificate of the remote HTTPS server, optional, e.g. '-----BEGIN CERTIFICATE-----xxxxx-----END CERTIFICATE-----'\u003e\"\n  import_target_location_name = \"\u003cTarget location / content library for the imported image, optional, e.g. 'cl-6066c61f7931c5ef9'\u003e\"\n  import_target_image_type = \"\u003cTarget image type of the imported image, optional, e.g. 'ovf'\u003e\"\n  import_target_image_name = \"\u003cTarget image name of the imported image for the source VM, e.g. 'ubuntu-impish-21.10-cloudimg'\u003e\"\n  class_name = \"\u003cVM class that describes the virtual hardware settings, e.g. 'best-effort-large'\u003e\"\n  storage_class = \"\u003cStorage class that provides the backing storage for volume, e.g. 'wcplocal-storage-profile'\u003e\"\n  bootstrap_provider = \"\u003cCloudInit, Sysprep, or vAppConfig to customize the guest OS\u003e\"\n  bootstrap_data_file = \"\u003cPath to the file containing the bootstrap data for guest OS customization\u003e\"\n  publish_location_name = \"\u003ctarget location / content library for the published image, optional, e.g. 'cl-6066c61f7931c5ef9'\u003e\"\n}\n\nbuild {\n  sources = [\"source.vsphere-supervisor.example-vm\"]\n}\n```\n\nJSON Example:\n\n```json\n{\n  \"builders\": [\n    {\n      \"type\": \"vsphere-supervisor\",\n      \"image_name\": \"\u003cImage name of the source VM, e.g. 'ubuntu-impish-21.10-cloudimg'\u003e\",\n      \"class_name\": \"\u003cVM class that describes the virtual hardware settings, e.g. 'best-effort-large'\u003e\",\n      \"storage_class\": \"\u003cStorage class that provides the backing storage for volume, e.g. 'wcplocal-storage-profile'\u003e\",\n      \"bootstrap_provider\": \"\u003cCloudInit, Sysprep, or vAppConfig to customize the guest OS\u003e\",\n      \"bootstrap_data_file\": \"\u003cPath to the file containing the bootstrap data for guest OS customization\u003e\",\n      \"publish_location_name\": \"\u003ctarget location / content library for the published image, optional, e.g. 'cl-6066c61f7931c5ef9'\u003e\"\n    }\n  ]\n}\n```\n\nJSON Example with image import:\n\n```json\n{\n  \"builders\": [\n    {\n      \"type\": \"vsphere-supervisor\",\n      \"import_source_url\": \"\u003cRemote URL to import image from, optional, e.g. 'https://example.com/example.ovf'\u003e\",\n      \"import_source_ssl_certificate\": \"\u003cSSL certificate of the remote HTTPS server, optional, e.g. '-----BEGIN CERTIFICATE-----xxxxx-----END CERTIFICATE-----'\u003e\",\n      \"import_target_location_name\": \"\u003cTarget location / content library for the import image, optional, e.g. 'cl-6066c61f7931c5ef9'\u003e\",\n      \"import_target_image_type\": \"\u003cTarget image type of the imported image, optional, e.g. 'ovf'\u003e\",\n      \"import_target_image_name\": \"\u003cTarget image name of the imported image for the source VM, e.g. 'ubuntu-impish-21.10-cloudimg'\u003e\",\n      \"class_name\": \"\u003cVM class that describes the virtual hardware settings, e.g. 'best-effort-large'\u003e\",\n      \"storage_class\": \"\u003cStorage class that provides the backing storage for volume, e.g. 'wcplocal-storage-profile'\u003e\",\n      \"bootstrap_provider\": \"\u003cCloudInit, Sysprep, or vAppConfig to customize the guest OS\u003e\",\n      \"bootstrap_data_file\": \"\u003cPath to the file containing the bootstrap data for guest OS customization\u003e\",\n      \"publish_location_name\": \"\u003ctarget location / content library for the published image, optional, e.g. 'cl-6066c61f7931c5ef9'\u003e\"\n    }\n  ]\n}\n```\n\n## Configuration Reference\n\nThere are various configuration options available for each step in this builder. The _required_\nitems are listed below as well as the _optional_ configurations.\n\n**Required**:\n\n\u003c!-- Code generated from the comments of the CreateSourceConfig struct in builder/vsphere/supervisor/step_create_source.go; DO NOT EDIT MANUALLY --\u003e\n\n- `class_name` (string) - Name of the VM class that describes virtual hardware settings.\n\n- `storage_class` (string) - Name of the storage class that configures storage-related attributes.\n\n\u003c!-- End of code generated from the comments of the CreateSourceConfig struct in builder/vsphere/supervisor/step_create_source.go; --\u003e\n\n\n### Supervisor Connection\n\n**Optional**:\n\n\u003c!-- Code generated from the comments of the ConnectSupervisorConfig struct in builder/vsphere/supervisor/step_connect_supervisor.go; DO NOT EDIT MANUALLY --\u003e\n\n- `kubeconfig_path` (string) - The path to kubeconfig file for accessing to the vSphere Supervisor cluster. Defaults to the value of `KUBECONFIG` envvar or `$HOME/.kube/config` if the envvar is not set.\n\n- `supervisor_namespace` (string) - The Supervisor namespace to deploy the source VM. Defaults to the current context's namespace in kubeconfig.\n\n\u003c!-- End of code generated from the comments of the ConnectSupervisorConfig struct in builder/vsphere/supervisor/step_connect_supervisor.go; --\u003e\n\n\n#### Source VM Image Importing\n\n**Optional:**\n\n\u003c!-- Code generated from the comments of the ImportImageConfig struct in builder/vsphere/supervisor/step_import_image.go; DO NOT EDIT MANUALLY --\u003e\n\n- `import_source_url` (string) - The remote URL where the to-be-imported image is hosted.\n\n- `import_source_ssl_certificate` (string) - The SSL certificate of the remote HTTP server that hosts the to-be-imported image.\n\n- `import_target_location_name` (string) - Name of a writable and import-allowed ContentLibrary resource in the namespace where the image will be imported.\n\n- `import_target_image_type` (string) - The type of imported image.\n  Defaults to `ovf`. Available options include `ovf`.\n\n- `import_target_image_name` (string) - Name of the imported image.\n  Defaults to the file name of the image referenced in the source URL.\n\n- `import_request_name` (string) - The name of the image import request.\n  Defaults to `packer-vsphere-supervisor-import-req-\u003crandom-suffix\u003e`.\n\n- `watch_import_timeout_sec` (int) - The timeout in seconds to wait for the image to be imported.\n  Defaults to `600`.\n\n- `keep_import_request` (bool) - Preserve the import request in the Supervisor cluster after the build finishes.\n  Defaults to `false`.\n\n- `clean_imported_image` (bool) - Clean the imported image after the build finishes. If set to `true`, the imported image will be deleted.\n  Defaults to `false`.\n\n\u003c!-- End of code generated from the comments of the ImportImageConfig struct in builder/vsphere/supervisor/step_import_image.go; --\u003e\n\n\n#### Source Virtual Machine Creation\n\n\u003c!-- Code generated from the comments of the CreateSourceConfig struct in builder/vsphere/supervisor/step_create_source.go; DO NOT EDIT MANUALLY --\u003e\n\n- `image_name` (string) - Name of the source virtual machine (VM) image. If it is specified, the image with the name will be used for the\n  source VM, otherwise the image name from imported image will be used.\n\n- `source_name` (string) - Name of the source VM. Limited to 15 characters. Defaults to `source-\u003crandom-5-digit-suffix\u003e`.\n\n- `network_type` (string) - Name of the network type to attach to the source VM's network interface. Defaults to empty.\n\n- `network_name` (string) - Name of the network to attach to the source VM's network interface. Defaults to empty.\n\n- `keep_input_artifact` (bool) - Preserve all the created objects in Supervisor cluster after the build finishes. Defaults to `false`.\n\n- `bootstrap_provider` (string) - Name of the bootstrap provider to use for configuring the source VM.\n  Supported values are `CloudInit`, `Sysprep`, and `vAppConfig`. Defaults to `CloudInit`.\n\n- `bootstrap_data_file` (string) - Path to a file with bootstrap configuration data. Required if `bootstrap_provider` is not set to `CloudInit`.\n  Defaults to a basic cloud config that sets up the user account from the SSH communicator config.\n\n\u003c!-- End of code generated from the comments of the CreateSourceConfig struct in builder/vsphere/supervisor/step_create_source.go; --\u003e\n\n\n### Source Virtual Machine Watching\n\n**Optional**:\n\n\u003c!-- Code generated from the comments of the WatchSourceConfig struct in builder/vsphere/supervisor/step_watch_source.go; DO NOT EDIT MANUALLY --\u003e\n\n- `watch_source_timeout_sec` (int) - The timeout in seconds to wait for the source VM to be ready. Defaults to `1800`.\n\n\u003c!-- End of code generated from the comments of the WatchSourceConfig struct in builder/vsphere/supervisor/step_watch_source.go; --\u003e\n\n\n### Source Virtual Machine Publishing\n\n**Optional**:\n\n\u003c!-- Code generated from the comments of the PublishSourceConfig struct in builder/vsphere/supervisor/step_publish_source.go; DO NOT EDIT MANUALLY --\u003e\n\n- `publish_image_name` (string) - The name of the published VM image. If not specified, the vm-operator API will set a default name.\n\n- `watch_publish_timeout_sec` (int) - The timeout in seconds to wait for the VM to be published. Defaults to `600`.\n\n\u003c!-- End of code generated from the comments of the PublishSourceConfig struct in builder/vsphere/supervisor/step_publish_source.go; --\u003e\n\n\n### Communicator Configuration\n\n**Optional**:\n\n\u003c!-- Code generated from the comments of the SSH struct in communicator/config.go; DO NOT EDIT MANUALLY --\u003e\n\n- `ssh_host` (string) - The address to SSH to. This usually is automatically configured by the\n  builder.\n\n- `ssh_port` (int) - The port to connect to SSH. This defaults to `22`.\n\n- `ssh_username` (string) - The username to connect to SSH with. Required if using SSH.\n\n- `ssh_password` (string) - A plaintext password to use to authenticate with SSH.\n\n- `ssh_ciphers` ([]string) - This overrides the value of ciphers supported by default by Golang.\n  The default value is [\n    \"aes128-gcm@openssh.com\",\n    \"chacha20-poly1305@openssh.com\",\n    \"aes128-ctr\", \"aes192-ctr\", \"aes256-ctr\",\n  ]\n  \n  Valid options for ciphers include:\n  \"aes128-ctr\", \"aes192-ctr\", \"aes256-ctr\", \"aes128-gcm@openssh.com\",\n  \"chacha20-poly1305@openssh.com\",\n  \"arcfour256\", \"arcfour128\", \"arcfour\", \"aes128-cbc\", \"3des-cbc\",\n\n- `ssh_clear_authorized_keys` (bool) - If true, Packer will attempt to remove its temporary key from\n  `~/.ssh/authorized_keys` and `/root/.ssh/authorized_keys`. This is a\n  mostly cosmetic option, since Packer will delete the temporary private\n  key from the host system regardless of whether this is set to true\n  (unless the user has set the `-debug` flag). Defaults to \"false\";\n  currently only works on guests with `sed` installed.\n\n- `ssh_key_exchange_algorithms` ([]string) - If set, Packer will override the value of key exchange (kex) algorithms\n  supported by default by Golang. Acceptable values include:\n  \"curve25519-sha256@libssh.org\", \"ecdh-sha2-nistp256\",\n  \"ecdh-sha2-nistp384\", \"ecdh-sha2-nistp521\",\n  \"diffie-hellman-group14-sha1\", and \"diffie-hellman-group1-sha1\".\n\n- `ssh_certificate_file` (string) - Path to user certificate used to authenticate with SSH.\n  The `~` can be used in path and will be expanded to the\n  home directory of current user.\n\n- `ssh_pty` (bool) - If `true`, a PTY will be requested for the SSH connection. This defaults\n  to `false`.\n\n- `ssh_timeout` (duration string | ex: \"1h5m2s\") - The time to wait for SSH to become available. Packer uses this to\n  determine when the machine has booted so this is usually quite long.\n  Example value: `10m`.\n  This defaults to `5m`, unless `ssh_handshake_attempts` is set.\n\n- `ssh_disable_agent_forwarding` (bool) - If true, SSH agent forwarding will be disabled. Defaults to `false`.\n\n- `ssh_handshake_attempts` (int) - The number of handshakes to attempt with SSH once it can connect.\n  This defaults to `10`, unless a `ssh_timeout` is set.\n\n- `ssh_bastion_host` (string) - A bastion host to use for the actual SSH connection.\n\n- `ssh_bastion_port` (int) - The port of the bastion host. Defaults to `22`.\n\n- `ssh_bastion_agent_auth` (bool) - If `true`, the local SSH agent will be used to authenticate with the\n  bastion host. Defaults to `false`.\n\n- `ssh_bastion_username` (string) - The username to connect to the bastion host.\n\n- `ssh_bastion_password` (string) - The password to use to authenticate with the bastion host.\n\n- `ssh_bastion_interactive` (bool) - If `true`, the keyboard-interactive used to authenticate with bastion host.\n\n- `ssh_bastion_private_key_file` (string) - Path to a PEM encoded private key file to use to authenticate with the\n  bastion host. The `~` can be used in path and will be expanded to the\n  home directory of current user.\n\n- `ssh_bastion_certificate_file` (string) - Path to user certificate used to authenticate with bastion host.\n  The `~` can be used in path and will be expanded to the\n  home directory of current user.\n\n- `ssh_file_transfer_method` (string) - `scp` or `sftp` - How to transfer files, Secure copy (default) or SSH\n  File Transfer Protocol.\n  \n  **NOTE**: Guests using Windows with Win32-OpenSSH v9.1.0.0p1-Beta, scp\n  (the default protocol for copying data) returns a a non-zero error code since the MOTW\n  cannot be set, which cause any file transfer to fail. As a workaround you can override the transfer protocol\n  with SFTP instead `ssh_file_transfer_method = \"sftp\"`.\n\n- `ssh_proxy_host` (string) - A SOCKS proxy host to use for SSH connection\n\n- `ssh_proxy_port` (int) - A port of the SOCKS proxy. Defaults to `1080`.\n\n- `ssh_proxy_username` (string) - The optional username to authenticate with the proxy server.\n\n- `ssh_proxy_password` (string) - The optional password to use to authenticate with the proxy server.\n\n- `ssh_keep_alive_interval` (duration string | ex: \"1h5m2s\") - How often to send \"keep alive\" messages to the server. Set to a negative\n  value (`-1s`) to disable. Example value: `10s`. Defaults to `5s`.\n\n- `ssh_read_write_timeout` (duration string | ex: \"1h5m2s\") - The amount of time to wait for a remote command to end. This might be\n  useful if, for example, packer hangs on a connection after a reboot.\n  Example: `5m`. Disabled by default.\n\n- `ssh_remote_tunnels` ([]string) - \n\n- `ssh_local_tunnels` ([]string) - \n\n\u003c!-- End of code generated from the comments of the SSH struct in communicator/config.go; --\u003e\n\n\n\u003c!-- Code generated from the comments of the SSHTemporaryKeyPair struct in communicator/config.go; DO NOT EDIT MANUALLY --\u003e\n\n- `temporary_key_pair_type` (string) - `dsa` | `ecdsa` | `ed25519` | `rsa` ( the default )\n  \n  Specifies the type of key to create. The possible values are 'dsa',\n  'ecdsa', 'ed25519', or 'rsa'.\n  \n  NOTE: DSA is deprecated and no longer recognized as secure, please\n  consider other alternatives like RSA or ED25519.\n\n- `temporary_key_pair_bits` (int) - Specifies the number of bits in the key to create. For RSA keys, the\n  minimum size is 1024 bits and the default is 4096 bits. Generally, 3072\n  bits is considered sufficient. DSA keys must be exactly 1024 bits as\n  specified by FIPS 186-2. For ECDSA keys, bits determines the key length\n  by selecting from one of three elliptic curve sizes: 256, 384 or 521\n  bits. Attempting to use bit lengths other than these three values for\n  ECDSA keys will fail. Ed25519 keys have a fixed length and bits will be\n  ignored.\n  \n  NOTE: DSA is deprecated and no longer recognized as secure as specified\n  by FIPS 186-5, please consider other alternatives like RSA or ED25519.\n\n\u003c!-- End of code generated from the comments of the SSHTemporaryKeyPair struct in communicator/config.go; --\u003e\n\n\n\u003c!-- Code generated from the comments of the WinRM struct in communicator/config.go; DO NOT EDIT MANUALLY --\u003e\n\n- `winrm_username` (string) - The username to use to connect to WinRM.\n\n- `winrm_password` (string) - The password to use to connect to WinRM.\n\n- `winrm_host` (string) - The address for WinRM to connect to.\n  \n  NOTE: If using an Amazon EBS builder, you can specify the interface\n  WinRM connects to via\n  [`ssh_interface`](/packer/integrations/hashicorp/amazon/latest/components/builder/ebs#ssh_interface)\n\n- `winrm_no_proxy` (bool) - Setting this to `true` adds the remote\n  `host:port` to the `NO_PROXY` environment variable. This has the effect of\n  bypassing any configured proxies when connecting to the remote host.\n  Default to `false`.\n\n- `winrm_port` (int) - The WinRM port to connect to. This defaults to `5985` for plain\n  unencrypted connection and `5986` for SSL when `winrm_use_ssl` is set to\n  true.\n\n- `winrm_timeout` (duration string | ex: \"1h5m2s\") - The amount of time to wait for WinRM to become available. This defaults\n  to `30m` since setting up a Windows machine generally takes a long time.\n\n- `winrm_use_ssl` (bool) - If `true`, use HTTPS for WinRM.\n\n- `winrm_insecure` (bool) - If `true`, do not check server certificate chain and host name.\n\n- `winrm_use_ntlm` (bool) - If `true`, NTLMv2 authentication (with session security) will be used\n  for WinRM, rather than default (basic authentication), removing the\n  requirement for basic authentication to be enabled within the target\n  guest. Further reading for remote connection authentication can be found\n  [here](https://msdn.microsoft.com/en-us/library/aa384295(v=vs.85).aspx).\n\n\u003c!-- End of code generated from the comments of the WinRM struct in communicator/config.go; --\u003e\n\n\n## Deprovisioning Tasks\n\nIf you would like to clean up the virtual machine after the build is complete, you can use the\n[Ansible provisioner](https://developer.hashicorp.com/packer/integrations/hashicorp/ansible/latest/components/provisioner/ansible)\nto run the following tasks to delete machine-specific files and data.\n\nHCL Example:\n\n```hcl\nbuild {\n  sources = [\"source.vsphere-supervisor.vm\"]\n\n  provisioner \"ansible\" {\n    playbook_file = \"cleanup-playbook.yml\"\n  }\n}\n```\n\nJSON Example:\n\n```json\n{\n  \"builders\": [\n    {\n      \"type\": \"vsphere-supervisor\"\n    }\n  ],\n  \"provisioners\": [\n    {\n      \"type\": \"ansible\",\n      \"playbook_file\": \"./cleanup-playbook.yml\"\n    }\n  ]\n}\n```\n\nContent of `cleanup-playbook.yml`:\n\n```yaml\n---\n# cleanup-playbook.yml\n- name: Clean up source virtual machine\n  hosts: default\n  become: true\n  tasks:\n    - name: Truncate machine id\n      file:\n        state: \"{{ item.state }}\"\n        path: \"{{ item.path }}\"\n        owner: root\n        group: root\n        mode: \"{{ item.mode }}\"\n      loop:\n        - { path: /etc/machine-id, state: absent, mode: \"0644\" }\n        - { path: /etc/machine-id, state: touch, mode: \"0644\" }\n\n    - name: Truncate audit logs\n      file:\n        state: \"{{ item.state }}\"\n        path: \"{{ item.path }}\"\n        owner: root\n        group: utmp\n        mode: \"{{ item.mode }}\"\n      loop:\n        - { path: /var/log/wtmp, state: absent, mode: \"0664\" }\n        - { path: /var/log/lastlog, state: absent, mode: \"0644\" }\n        - { path: /var/log/wtmp, state: touch, mode: \"0664\" }\n        - { path: /var/log/lastlog, state: touch, mode: \"0644\" }\n\n    - name: Remove cloud-init lib dir and logs\n      file:\n        state: absent\n        path: \"{{ item }}\"\n      loop:\n        - /var/lib/cloud\n        - /var/log/cloud-init.log\n        - /var/log/cloud-init-output.log\n        - /var/run/cloud-init\n\n    - name: Truncate all remaining log files in /var/log\n      shell:\n        cmd: |\n          find /var/log -type f -iname '*.log' | xargs truncate -s 0\n\n    - name: Delete all logrotated log zips\n      shell:\n        cmd: |\n          find /var/log -type f -name '*.gz' -exec rm {} +\n\n    - name: Find temp files\n      find:\n        depth: 1\n        file_type: any\n        paths:\n          - /tmp\n          - /var/tmp\n        pattern: \"*\"\n      register: temp_files\n\n    - name: Reset temp space\n      file:\n        state: absent\n        path: \"{{ item.path }}\"\n      loop: \"{{ temp_files.files }}\"\n\n    - name: Truncate shell history\n      file:\n        state: absent\n        path: \"{{ item.path }}\"\n      loop:\n        - { path: /root/.bash_history }\n        - {\n            path: \"/home/{{ ansible_env.SUDO_USER | default(ansible_user_id) }}/.bash_history\",\n          }\n```\n","created_at":"2024-10-17T21:00:16.183Z","updated_at":"2024-10-17T21:00:16.183Z","name":"vSphere Supervisor","slug":"vsphere-supervisor","component":{"id":"36076511-3ced-4faf-addf-101fce0405ff","slug":"builder","name":"Builder","plural_name":"Builders","product_id":"4c2b00c6-7cc1-4e4c-b596-4ab57e319f21","created_at":"2022-11-09T22:56:30.937Z","updated_at":"2022-11-09T22:56:30.937Z"},"variable_groups":[]},"processedVariablesMarkdown":{},"anchorLinks":[{"id":"examples","level":2,"title":"Examples"},{"id":"configuration-reference","level":2,"title":"Configuration Reference"},{"id":"supervisor-connection","level":3,"title":"Supervisor Connection"},{"id":"source-vm-image-importing","level":4,"title":"Source VM Image Importing"},{"id":"source-virtual-machine-creation","level":4,"title":"Source Virtual Machine Creation"},{"id":"source-virtual-machine-watching","level":3,"title":"Source Virtual Machine Watching"},{"id":"source-virtual-machine-publishing","level":3,"title":"Source Virtual Machine Publishing"},{"id":"communicator-configuration","level":3,"title":"Communicator Configuration"},{"id":"deprovisioning-tasks","level":2,"title":"Deprovisioning Tasks"}],"serializedREADME":{"compiledSource":"const layoutProps={};const MDXLayout=\"wrapper\";function MDXContent({components,...props}){return mdx(MDXLayout,{...layoutProps,...props,components:components,mdxType:\"MDXLayout\"},mdx(\"p\",{\"className\":\"g-type-long-body\"},`Type: `,mdx(\"inlineCode\",{parentName:\"p\"},`vsphere-supervisor`)),mdx(\"p\",{\"className\":\"g-type-long-body\"},`Artifact BuilderId: `,mdx(\"inlineCode\",{parentName:\"p\"},`vsphere.supervisor`)),mdx(\"p\",{\"className\":\"g-type-long-body\"},`This builder creates a virtual machine on a vSphere Supervisor cluster using the VM-Operator API.`),mdx(\"p\",{\"className\":\"g-type-long-body\"},`Refer to `,mdx(\"a\",{parentName:\"p\",\"href\":\"https://docs.vmware.com/en/VMware-vSphere/8.0/vsphere-with-tanzu-services-workloads/GUID-F81E3535-C275-4DDE-B35F-CE759EA3B4A0.html\"},`Deploying and Managing Virtual Machines in vSphere with Tanzu`),`\nfor more information on the VM Service functionality in vSphere with Tanzu.`),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},`It uses a `,mdx(\"inlineCode\",{parentName:\"li\"},`kubeconfig`),` file to connect to the vSphere Supervisor cluster.`),mdx(\"li\",{parentName:\"ul\"},`It uses the `,mdx(\"a\",{parentName:\"li\",\"href\":\"https://vm-operator.readthedocs.io/en/latest/concepts/\"},`VM-Operator API`),` to deploy\nand configure the source virtual machine.`),mdx(\"li\",{parentName:\"ul\"},`It cna use Packer provisioners to customize the virtual machine after establishing a successful\nconnection.`),mdx(\"li\",{parentName:\"ul\"},`It publishes the customized virtual machine as a new virtual machine image to the designated\ncontent library in vSphere.`)),mdx(\"div\",{\"className\":\"alert alert-info g-type-body\"},mdx(\"p\",{parentName:\"div\",\"className\":\"g-type-long-body\"},``,mdx(\"strong\",{parentName:\"p\"},`Note:`),` This builder is developed to maintain compatibility with VMware vSphere versions until\ntheir respective End of General Support dates. For detailed information, refer to the\n`,mdx(\"a\",{parentName:\"p\",\"href\":\"https://support.broadcom.com/group/ecx/productlifecycle\"},`Broadcom Product Lifecycle`),`.`)),mdx(\"h2\",{\"id\":\"user-content-examples\",\"data-text-content\":\"Examples\",\"className\":\"g-type-display-3\"},`Examples`),mdx(\"p\",{\"className\":\"g-type-long-body\"},`Examples are available in the `,mdx(\"a\",{parentName:\"p\",\"href\":\"https://github.com/hashicorp/packer-plugin-vsphere/tree/main/examples/\"},`examples`),`\ndirectory of the GitHub repository.`),mdx(\"p\",{\"className\":\"g-type-long-body\"},`HCL Example:`),mdx(\"pre\",null,mdx(\"code\",{parentName:\"pre\"},mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-function)\"}},`source`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-constant)\"}},` \"vsphere-supervisor\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-constant)\"}},` \"example-vm\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` {`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`  image_name `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`=`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"\u003cImage name of the source VM, e.g. 'ubuntu-impish-21.10-cloudimg'\u003e\"`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`  class_name `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`=`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"\u003cVM class that describes the virtual hardware settings, e.g. 'best-effort-large'\u003e\"`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`  storage_class `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`=`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"\u003cStorage class that provides the backing storage for volume, e.g. 'wcplocal-storage-profile'\u003e\"`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`  bootstrap_provider `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`=`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"\u003cCloudInit, Sysprep, or vAppConfig to customize the guest OS\u003e\"`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`  bootstrap_data_file `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`=`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"\u003cPath to the file containing the bootstrap data for guest OS customization\u003e\"`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`  publish_location_name `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`=`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"\u003ctarget location / content library for the published image, optional, e.g. 'cl-6066c61f7931c5ef9'\u003e\"`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`}`)),`\n`,`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-function)\"}},`build`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` {`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`  sources `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`=`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` [`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`\"source.vsphere-supervisor.example-vm\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`]`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`}`)),`\n`)),mdx(\"p\",{\"className\":\"g-type-long-body\"},`HCL Example with image import:`),mdx(\"pre\",null,mdx(\"code\",{parentName:\"pre\"},mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-function)\"}},`source`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-constant)\"}},` \"vsphere-supervisor\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-constant)\"}},` \"example-vm\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` {`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`  import_source_url `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`=`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"\u003cRemote URL to import image from, optional, e.g. 'https://example.com/example.ovf'\u003e\"`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`  import_source_ssl_certificate `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`=`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"\u003cSSL certificate of the remote HTTPS server, optional, e.g. '-----BEGIN CERTIFICATE-----xxxxx-----END CERTIFICATE-----'\u003e\"`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`  import_target_location_name `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`=`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"\u003cTarget location / content library for the imported image, optional, e.g. 'cl-6066c61f7931c5ef9'\u003e\"`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`  import_target_image_type `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`=`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"\u003cTarget image type of the imported image, optional, e.g. 'ovf'\u003e\"`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`  import_target_image_name `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`=`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"\u003cTarget image name of the imported image for the source VM, e.g. 'ubuntu-impish-21.10-cloudimg'\u003e\"`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`  class_name `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`=`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"\u003cVM class that describes the virtual hardware settings, e.g. 'best-effort-large'\u003e\"`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`  storage_class `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`=`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"\u003cStorage class that provides the backing storage for volume, e.g. 'wcplocal-storage-profile'\u003e\"`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`  bootstrap_provider `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`=`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"\u003cCloudInit, Sysprep, or vAppConfig to customize the guest OS\u003e\"`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`  bootstrap_data_file `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`=`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"\u003cPath to the file containing the bootstrap data for guest OS customization\u003e\"`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`  publish_location_name `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`=`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"\u003ctarget location / content library for the published image, optional, e.g. 'cl-6066c61f7931c5ef9'\u003e\"`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`}`)),`\n`,`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-function)\"}},`build`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` {`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`  sources `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`=`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` [`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`\"source.vsphere-supervisor.example-vm\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`]`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`}`)),`\n`)),mdx(\"p\",{\"className\":\"g-type-long-body\"},`JSON Example:`),mdx(\"pre\",null,mdx(\"code\",{parentName:\"pre\"},mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`{`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`  \"builders\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` [`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`    {`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`      \"type\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"vsphere-supervisor\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`      \"image_name\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"\u003cImage name of the source VM, e.g. 'ubuntu-impish-21.10-cloudimg'\u003e\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`      \"class_name\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"\u003cVM class that describes the virtual hardware settings, e.g. 'best-effort-large'\u003e\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`      \"storage_class\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"\u003cStorage class that provides the backing storage for volume, e.g. 'wcplocal-storage-profile'\u003e\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`      \"bootstrap_provider\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"\u003cCloudInit, Sysprep, or vAppConfig to customize the guest OS\u003e\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`      \"bootstrap_data_file\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"\u003cPath to the file containing the bootstrap data for guest OS customization\u003e\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`      \"publish_location_name\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"\u003ctarget location / content library for the published image, optional, e.g. 'cl-6066c61f7931c5ef9'\u003e\"`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`    }`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`  ]`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`}`)),`\n`)),mdx(\"p\",{\"className\":\"g-type-long-body\"},`JSON Example with image import:`),mdx(\"pre\",null,mdx(\"code\",{parentName:\"pre\"},mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`{`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`  \"builders\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` [`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`    {`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`      \"type\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"vsphere-supervisor\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`      \"import_source_url\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"\u003cRemote URL to import image from, optional, e.g. 'https://example.com/example.ovf'\u003e\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`      \"import_source_ssl_certificate\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"\u003cSSL certificate of the remote HTTPS server, optional, e.g. '-----BEGIN CERTIFICATE-----xxxxx-----END CERTIFICATE-----'\u003e\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`      \"import_target_location_name\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"\u003cTarget location / content library for the import image, optional, e.g. 'cl-6066c61f7931c5ef9'\u003e\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`      \"import_target_image_type\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"\u003cTarget image type of the imported image, optional, e.g. 'ovf'\u003e\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`      \"import_target_image_name\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"\u003cTarget image name of the imported image for the source VM, e.g. 'ubuntu-impish-21.10-cloudimg'\u003e\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`      \"class_name\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"\u003cVM class that describes the virtual hardware settings, e.g. 'best-effort-large'\u003e\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`      \"storage_class\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"\u003cStorage class that provides the backing storage for volume, e.g. 'wcplocal-storage-profile'\u003e\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`      \"bootstrap_provider\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"\u003cCloudInit, Sysprep, or vAppConfig to customize the guest OS\u003e\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`      \"bootstrap_data_file\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"\u003cPath to the file containing the bootstrap data for guest OS customization\u003e\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`      \"publish_location_name\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"\u003ctarget location / content library for the published image, optional, e.g. 'cl-6066c61f7931c5ef9'\u003e\"`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`    }`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`  ]`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`}`)),`\n`)),mdx(\"h2\",{\"id\":\"user-content-configuration-reference\",\"data-text-content\":\"Configuration Reference\",\"className\":\"g-type-display-3\"},`Configuration Reference`),mdx(\"p\",{\"className\":\"g-type-long-body\"},`There are various configuration options available for each step in this builder. The `,mdx(\"em\",{parentName:\"p\"},`required`),`\nitems are listed below as well as the `,mdx(\"em\",{parentName:\"p\"},`optional`),` configurations.`),mdx(\"p\",{\"className\":\"g-type-long-body\"},mdx(\"strong\",{parentName:\"p\"},`Required`),`:`),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`class_name`),` (string) - Name of the VM class that describes virtual hardware settings.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`storage_class`),` (string) - Name of the storage class that configures storage-related attributes.`))),mdx(\"h3\",{\"id\":\"user-content-supervisor-connection\",\"data-text-content\":\"Supervisor Connection\",\"className\":\"g-type-display-4\"},`Supervisor Connection`),mdx(\"p\",{\"className\":\"g-type-long-body\"},mdx(\"strong\",{parentName:\"p\"},`Optional`),`:`),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`kubeconfig_path`),` (string) - The path to kubeconfig file for accessing to the vSphere Supervisor cluster. Defaults to the value of `,mdx(\"inlineCode\",{parentName:\"p\"},`KUBECONFIG`),` envvar or `,mdx(\"inlineCode\",{parentName:\"p\"},`$HOME/.kube/config`),` if the envvar is not set.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`supervisor_namespace`),` (string) - The Supervisor namespace to deploy the source VM. Defaults to the current context's namespace in kubeconfig.`))),mdx(\"h4\",{\"id\":\"user-content-source-vm-image-importing\",\"data-text-content\":\"Source VM Image Importing\",\"className\":\"g-type-display-5\"},`Source VM Image Importing`),mdx(\"p\",{\"className\":\"g-type-long-body\"},mdx(\"strong\",{parentName:\"p\"},`Optional:`)),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`import_source_url`),` (string) - The remote URL where the to-be-imported image is hosted.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`import_source_ssl_certificate`),` (string) - The SSL certificate of the remote HTTP server that hosts the to-be-imported image.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`import_target_location_name`),` (string) - Name of a writable and import-allowed ContentLibrary resource in the namespace where the image will be imported.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`import_target_image_type`),` (string) - The type of imported image.\nDefaults to `,mdx(\"inlineCode\",{parentName:\"p\"},`ovf`),`. Available options include `,mdx(\"inlineCode\",{parentName:\"p\"},`ovf`),`.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`import_target_image_name`),` (string) - Name of the imported image.\nDefaults to the file name of the image referenced in the source URL.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`import_request_name`),` (string) - The name of the image import request.\nDefaults to `,mdx(\"inlineCode\",{parentName:\"p\"},`packer-vsphere-supervisor-import-req-\u003crandom-suffix\u003e`),`.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`watch_import_timeout_sec`),` (int) - The timeout in seconds to wait for the image to be imported.\nDefaults to `,mdx(\"inlineCode\",{parentName:\"p\"},`600`),`.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`keep_import_request`),` (bool) - Preserve the import request in the Supervisor cluster after the build finishes.\nDefaults to `,mdx(\"inlineCode\",{parentName:\"p\"},`false`),`.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`clean_imported_image`),` (bool) - Clean the imported image after the build finishes. If set to `,mdx(\"inlineCode\",{parentName:\"p\"},`true`),`, the imported image will be deleted.\nDefaults to `,mdx(\"inlineCode\",{parentName:\"p\"},`false`),`.`))),mdx(\"h4\",{\"id\":\"user-content-source-virtual-machine-creation\",\"data-text-content\":\"Source Virtual Machine Creation\",\"className\":\"g-type-display-5\"},`Source Virtual Machine Creation`),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`image_name`),` (string) - Name of the source virtual machine (VM) image. If it is specified, the image with the name will be used for the\nsource VM, otherwise the image name from imported image will be used.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`source_name`),` (string) - Name of the source VM. Limited to 15 characters. Defaults to `,mdx(\"inlineCode\",{parentName:\"p\"},`source-\u003crandom-5-digit-suffix\u003e`),`.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`network_type`),` (string) - Name of the network type to attach to the source VM's network interface. Defaults to empty.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`network_name`),` (string) - Name of the network to attach to the source VM's network interface. Defaults to empty.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`keep_input_artifact`),` (bool) - Preserve all the created objects in Supervisor cluster after the build finishes. Defaults to `,mdx(\"inlineCode\",{parentName:\"p\"},`false`),`.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`bootstrap_provider`),` (string) - Name of the bootstrap provider to use for configuring the source VM.\nSupported values are `,mdx(\"inlineCode\",{parentName:\"p\"},`CloudInit`),`, `,mdx(\"inlineCode\",{parentName:\"p\"},`Sysprep`),`, and `,mdx(\"inlineCode\",{parentName:\"p\"},`vAppConfig`),`. Defaults to `,mdx(\"inlineCode\",{parentName:\"p\"},`CloudInit`),`.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`bootstrap_data_file`),` (string) - Path to a file with bootstrap configuration data. Required if `,mdx(\"inlineCode\",{parentName:\"p\"},`bootstrap_provider`),` is not set to `,mdx(\"inlineCode\",{parentName:\"p\"},`CloudInit`),`.\nDefaults to a basic cloud config that sets up the user account from the SSH communicator config.`))),mdx(\"h3\",{\"id\":\"user-content-source-virtual-machine-watching\",\"data-text-content\":\"Source Virtual Machine Watching\",\"className\":\"g-type-display-4\"},`Source Virtual Machine Watching`),mdx(\"p\",{\"className\":\"g-type-long-body\"},mdx(\"strong\",{parentName:\"p\"},`Optional`),`:`),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"inlineCode\",{parentName:\"li\"},`watch_source_timeout_sec`),` (int) - The timeout in seconds to wait for the source VM to be ready. Defaults to `,mdx(\"inlineCode\",{parentName:\"li\"},`1800`),`.`)),mdx(\"h3\",{\"id\":\"user-content-source-virtual-machine-publishing\",\"data-text-content\":\"Source Virtual Machine Publishing\",\"className\":\"g-type-display-4\"},`Source Virtual Machine Publishing`),mdx(\"p\",{\"className\":\"g-type-long-body\"},mdx(\"strong\",{parentName:\"p\"},`Optional`),`:`),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`publish_image_name`),` (string) - The name of the published VM image. If not specified, the vm-operator API will set a default name.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`watch_publish_timeout_sec`),` (int) - The timeout in seconds to wait for the VM to be published. Defaults to `,mdx(\"inlineCode\",{parentName:\"p\"},`600`),`.`))),mdx(\"h3\",{\"id\":\"user-content-communicator-configuration\",\"data-text-content\":\"Communicator Configuration\",\"className\":\"g-type-display-4\"},`Communicator Configuration`),mdx(\"p\",{\"className\":\"g-type-long-body\"},mdx(\"strong\",{parentName:\"p\"},`Optional`),`:`),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`ssh_host`),` (string) - The address to SSH to. This usually is automatically configured by the\nbuilder.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`ssh_port`),` (int) - The port to connect to SSH. This defaults to `,mdx(\"inlineCode\",{parentName:\"p\"},`22`),`.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`ssh_username`),` (string) - The username to connect to SSH with. Required if using SSH.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`ssh_password`),` (string) - A plaintext password to use to authenticate with SSH.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`ssh_ciphers`),` ([]string) - This overrides the value of ciphers supported by default by Golang.\nThe default value is `,`[\n\"aes128-gcm@openssh.com\",\n\"chacha20-poly1305@openssh.com\",\n\"aes128-ctr\", \"aes192-ctr\", \"aes256-ctr\",\n]`),mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},`Valid options for ciphers include:\n\"aes128-ctr\", \"aes192-ctr\", \"aes256-ctr\", \"`,mdx(\"a\",{parentName:\"p\",\"href\":\"mailto:aes128-gcm@openssh.com\"},`aes128-gcm@openssh.com`),`\",\n\"`,mdx(\"a\",{parentName:\"p\",\"href\":\"mailto:chacha20-poly1305@openssh.com\"},`chacha20-poly1305@openssh.com`),`\",\n\"arcfour256\", \"arcfour128\", \"arcfour\", \"aes128-cbc\", \"3des-cbc\",`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`ssh_clear_authorized_keys`),` (bool) - If true, Packer will attempt to remove its temporary key from\n`,mdx(\"inlineCode\",{parentName:\"p\"},`~/.ssh/authorized_keys`),` and `,mdx(\"inlineCode\",{parentName:\"p\"},`/root/.ssh/authorized_keys`),`. This is a\nmostly cosmetic option, since Packer will delete the temporary private\nkey from the host system regardless of whether this is set to true\n(unless the user has set the `,mdx(\"inlineCode\",{parentName:\"p\"},`-debug`),` flag). Defaults to \"false\";\ncurrently only works on guests with `,mdx(\"inlineCode\",{parentName:\"p\"},`sed`),` installed.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`ssh_key_exchange_algorithms`),` ([]string) - If set, Packer will override the value of key exchange (kex) algorithms\nsupported by default by Golang. Acceptable values include:\n\"`,mdx(\"a\",{parentName:\"p\",\"href\":\"mailto:curve25519-sha256@libssh.org\"},`curve25519-sha256@libssh.org`),`\", \"ecdh-sha2-nistp256\",\n\"ecdh-sha2-nistp384\", \"ecdh-sha2-nistp521\",\n\"diffie-hellman-group14-sha1\", and \"diffie-hellman-group1-sha1\".`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`ssh_certificate_file`),` (string) - Path to user certificate used to authenticate with SSH.\nThe `,mdx(\"inlineCode\",{parentName:\"p\"},`~`),` can be used in path and will be expanded to the\nhome directory of current user.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`ssh_pty`),` (bool) - If `,mdx(\"inlineCode\",{parentName:\"p\"},`true`),`, a PTY will be requested for the SSH connection. This defaults\nto `,mdx(\"inlineCode\",{parentName:\"p\"},`false`),`.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`ssh_timeout`),` (duration string | ex: \"1h5m2s\") - The time to wait for SSH to become available. Packer uses this to\ndetermine when the machine has booted so this is usually quite long.\nExample value: `,mdx(\"inlineCode\",{parentName:\"p\"},`10m`),`.\nThis defaults to `,mdx(\"inlineCode\",{parentName:\"p\"},`5m`),`, unless `,mdx(\"inlineCode\",{parentName:\"p\"},`ssh_handshake_attempts`),` is set.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`ssh_disable_agent_forwarding`),` (bool) - If true, SSH agent forwarding will be disabled. Defaults to `,mdx(\"inlineCode\",{parentName:\"p\"},`false`),`.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`ssh_handshake_attempts`),` (int) - The number of handshakes to attempt with SSH once it can connect.\nThis defaults to `,mdx(\"inlineCode\",{parentName:\"p\"},`10`),`, unless a `,mdx(\"inlineCode\",{parentName:\"p\"},`ssh_timeout`),` is set.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`ssh_bastion_host`),` (string) - A bastion host to use for the actual SSH connection.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`ssh_bastion_port`),` (int) - The port of the bastion host. Defaults to `,mdx(\"inlineCode\",{parentName:\"p\"},`22`),`.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`ssh_bastion_agent_auth`),` (bool) - If `,mdx(\"inlineCode\",{parentName:\"p\"},`true`),`, the local SSH agent will be used to authenticate with the\nbastion host. Defaults to `,mdx(\"inlineCode\",{parentName:\"p\"},`false`),`.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`ssh_bastion_username`),` (string) - The username to connect to the bastion host.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`ssh_bastion_password`),` (string) - The password to use to authenticate with the bastion host.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`ssh_bastion_interactive`),` (bool) - If `,mdx(\"inlineCode\",{parentName:\"p\"},`true`),`, the keyboard-interactive used to authenticate with bastion host.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`ssh_bastion_private_key_file`),` (string) - Path to a PEM encoded private key file to use to authenticate with the\nbastion host. The `,mdx(\"inlineCode\",{parentName:\"p\"},`~`),` can be used in path and will be expanded to the\nhome directory of current user.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`ssh_bastion_certificate_file`),` (string) - Path to user certificate used to authenticate with bastion host.\nThe `,mdx(\"inlineCode\",{parentName:\"p\"},`~`),` can be used in path and will be expanded to the\nhome directory of current user.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`ssh_file_transfer_method`),` (string) - `,mdx(\"inlineCode\",{parentName:\"p\"},`scp`),` or `,mdx(\"inlineCode\",{parentName:\"p\"},`sftp`),` - How to transfer files, Secure copy (default) or SSH\nFile Transfer Protocol.`),mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"strong\",{parentName:\"p\"},`NOTE`),`: Guests using Windows with Win32-OpenSSH v9.1.0.0p1-Beta, scp\n(the default protocol for copying data) returns a a non-zero error code since the MOTW\ncannot be set, which cause any file transfer to fail. As a workaround you can override the transfer protocol\nwith SFTP instead `,mdx(\"inlineCode\",{parentName:\"p\"},`ssh_file_transfer_method = \"sftp\"`),`.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`ssh_proxy_host`),` (string) - A SOCKS proxy host to use for SSH connection`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`ssh_proxy_port`),` (int) - A port of the SOCKS proxy. Defaults to `,mdx(\"inlineCode\",{parentName:\"p\"},`1080`),`.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`ssh_proxy_username`),` (string) - The optional username to authenticate with the proxy server.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`ssh_proxy_password`),` (string) - The optional password to use to authenticate with the proxy server.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`ssh_keep_alive_interval`),` (duration string | ex: \"1h5m2s\") - How often to send \"keep alive\" messages to the server. Set to a negative\nvalue (`,mdx(\"inlineCode\",{parentName:\"p\"},`-1s`),`) to disable. Example value: `,mdx(\"inlineCode\",{parentName:\"p\"},`10s`),`. Defaults to `,mdx(\"inlineCode\",{parentName:\"p\"},`5s`),`.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`ssh_read_write_timeout`),` (duration string | ex: \"1h5m2s\") - The amount of time to wait for a remote command to end. This might be\nuseful if, for example, packer hangs on a connection after a reboot.\nExample: `,mdx(\"inlineCode\",{parentName:\"p\"},`5m`),`. Disabled by default.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`ssh_remote_tunnels`),` ([]string) - `)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`ssh_local_tunnels`),` ([]string) - `))),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`temporary_key_pair_type`),` (string) - `,mdx(\"inlineCode\",{parentName:\"p\"},`dsa`),` | `,mdx(\"inlineCode\",{parentName:\"p\"},`ecdsa`),` | `,mdx(\"inlineCode\",{parentName:\"p\"},`ed25519`),` | `,mdx(\"inlineCode\",{parentName:\"p\"},`rsa`),` ( the default )`),mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},`Specifies the type of key to create. The possible values are 'dsa',\n'ecdsa', 'ed25519', or 'rsa'.`),mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},`NOTE: DSA is deprecated and no longer recognized as secure, please\nconsider other alternatives like RSA or ED25519.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`temporary_key_pair_bits`),` (int) - Specifies the number of bits in the key to create. For RSA keys, the\nminimum size is 1024 bits and the default is 4096 bits. Generally, 3072\nbits is considered sufficient. DSA keys must be exactly 1024 bits as\nspecified by FIPS 186-2. For ECDSA keys, bits determines the key length\nby selecting from one of three elliptic curve sizes: 256, 384 or 521\nbits. Attempting to use bit lengths other than these three values for\nECDSA keys will fail. Ed25519 keys have a fixed length and bits will be\nignored.`),mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},`NOTE: DSA is deprecated and no longer recognized as secure as specified\nby FIPS 186-5, please consider other alternatives like RSA or ED25519.`))),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`winrm_username`),` (string) - The username to use to connect to WinRM.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`winrm_password`),` (string) - The password to use to connect to WinRM.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`winrm_host`),` (string) - The address for WinRM to connect to.`),mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},`NOTE: If using an Amazon EBS builder, you can specify the interface\nWinRM connects to via\n`,mdx(\"a\",{parentName:\"p\",\"href\":\"/packer/integrations/hashicorp/amazon/latest/components/builder/ebs#ssh_interface\"},mdx(\"inlineCode\",{parentName:\"a\"},`ssh_interface`)))),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`winrm_no_proxy`),` (bool) - Setting this to `,mdx(\"inlineCode\",{parentName:\"p\"},`true`),` adds the remote\n`,mdx(\"inlineCode\",{parentName:\"p\"},`host:port`),` to the `,mdx(\"inlineCode\",{parentName:\"p\"},`NO_PROXY`),` environment variable. This has the effect of\nbypassing any configured proxies when connecting to the remote host.\nDefault to `,mdx(\"inlineCode\",{parentName:\"p\"},`false`),`.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`winrm_port`),` (int) - The WinRM port to connect to. This defaults to `,mdx(\"inlineCode\",{parentName:\"p\"},`5985`),` for plain\nunencrypted connection and `,mdx(\"inlineCode\",{parentName:\"p\"},`5986`),` for SSL when `,mdx(\"inlineCode\",{parentName:\"p\"},`winrm_use_ssl`),` is set to\ntrue.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`winrm_timeout`),` (duration string | ex: \"1h5m2s\") - The amount of time to wait for WinRM to become available. This defaults\nto `,mdx(\"inlineCode\",{parentName:\"p\"},`30m`),` since setting up a Windows machine generally takes a long time.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`winrm_use_ssl`),` (bool) - If `,mdx(\"inlineCode\",{parentName:\"p\"},`true`),`, use HTTPS for WinRM.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`winrm_insecure`),` (bool) - If `,mdx(\"inlineCode\",{parentName:\"p\"},`true`),`, do not check server certificate chain and host name.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\",\"className\":\"g-type-long-body\"},mdx(\"inlineCode\",{parentName:\"p\"},`winrm_use_ntlm`),` (bool) - If `,mdx(\"inlineCode\",{parentName:\"p\"},`true`),`, NTLMv2 authentication (with session security) will be used\nfor WinRM, rather than default (basic authentication), removing the\nrequirement for basic authentication to be enabled within the target\nguest. Further reading for remote connection authentication can be found\n`,mdx(\"a\",{parentName:\"p\",\"href\":\"https://msdn.microsoft.com/en-us/library/aa384295(v=vs.85).aspx\"},`here`),`.`))),mdx(\"h2\",{\"id\":\"user-content-deprovisioning-tasks\",\"data-text-content\":\"Deprovisioning Tasks\",\"className\":\"g-type-display-3\"},`Deprovisioning Tasks`),mdx(\"p\",{\"className\":\"g-type-long-body\"},`If you would like to clean up the virtual machine after the build is complete, you can use the\n`,mdx(\"a\",{parentName:\"p\",\"href\":\"https://developer.hashicorp.com/packer/integrations/hashicorp/ansible/latest/components/provisioner/ansible\"},`Ansible provisioner`),`\nto run the following tasks to delete machine-specific files and data.`),mdx(\"p\",{\"className\":\"g-type-long-body\"},`HCL Example:`),mdx(\"pre\",null,mdx(\"code\",{parentName:\"pre\"},mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-function)\"}},`build`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` {`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`  sources `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`=`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` [`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`\"source.vsphere-supervisor.vm\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`]`)),`\n`,`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-function)\"}},`  provisioner`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-constant)\"}},` \"ansible\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` {`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`    playbook_file `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`=`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"cleanup-playbook.yml\"`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`  }`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`}`)),`\n`)),mdx(\"p\",{\"className\":\"g-type-long-body\"},`JSON Example:`),mdx(\"pre\",null,mdx(\"code\",{parentName:\"pre\"},mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`{`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`  \"builders\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` [`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`    {`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`      \"type\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"vsphere-supervisor\"`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`    }`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`  ]`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`  \"provisioners\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` [`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`    {`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`      \"type\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"ansible\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`      \"playbook_file\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"./cleanup-playbook.yml\"`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`    }`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`  ]`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`}`)),`\n`)),mdx(\"p\",{\"className\":\"g-type-long-body\"},`Content of `,mdx(\"inlineCode\",{parentName:\"p\"},`cleanup-playbook.yml`),`:`),mdx(\"pre\",null,mdx(\"code\",{parentName:\"pre\"},mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`---`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-comment)\"}},`# cleanup-playbook.yml`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`- `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`name`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` Clean up source virtual machine`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`  hosts`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` default`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`  become`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-constant)\"}},` true`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`  tasks`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`    - `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`name`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` Truncate machine id`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`      file`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`        state`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"{{ item.state }}\"`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`        path`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"{{ item.path }}\"`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`        owner`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` root`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`        group`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` root`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`        mode`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"{{ item.mode }}\"`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`      loop`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`        - { `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`path`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` /etc/machine-id`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},` state`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` absent`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},` mode`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"0644\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` }`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`        - { `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`path`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` /etc/machine-id`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},` state`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` touch`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},` mode`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"0644\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` }`)),`\n`,`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`    - `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`name`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` Truncate audit logs`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`      file`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`        state`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"{{ item.state }}\"`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`        path`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"{{ item.path }}\"`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`        owner`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` root`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`        group`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` utmp`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`        mode`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"{{ item.mode }}\"`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`      loop`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`        - { `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`path`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` /var/log/wtmp`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},` state`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` absent`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},` mode`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"0664\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` }`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`        - { `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`path`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` /var/log/lastlog`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},` state`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` absent`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},` mode`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"0644\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` }`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`        - { `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`path`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` /var/log/wtmp`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},` state`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` touch`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},` mode`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"0664\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` }`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`        - { `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`path`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` /var/log/lastlog`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},` state`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` touch`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},` mode`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"0644\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` }`)),`\n`,`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`    - `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`name`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` Remove cloud-init lib dir and logs`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`      file`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`        state`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` absent`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`        path`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"{{ item }}\"`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`      loop`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`        - `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`/var/lib/cloud`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`        - `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`/var/log/cloud-init.log`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`        - `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`/var/log/cloud-init-output.log`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`        - `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`/var/run/cloud-init`)),`\n`,`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`    - `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`name`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` Truncate all remaining log files in /var/log`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`      shell`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`        cmd`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},` |`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`          find /var/log -type f -iname '*.log' | xargs truncate -s 0`)),`\n`,`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`    - `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`name`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` Delete all logrotated log zips`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`      shell`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`        cmd`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},` |`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`          find /var/log -type f -name '*.gz' -exec rm {} +`)),`\n`,`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`    - `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`name`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` Find temp files`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`      find`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`        depth`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-constant)\"}},` 1`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`        file_type`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` any`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`        paths`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`          - `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`/tmp`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`          - `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`/var/tmp`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`        pattern`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"*\"`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`      register`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` temp_files`)),`\n`,`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`    - `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`name`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` Reset temp space`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`      file`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`        state`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` absent`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`        path`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"{{ item.path }}\"`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`      loop`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"{{ temp_files.files }}\"`)),`\n`,`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`    - `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`name`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` Truncate shell history`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`      file`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`        state`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` absent`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`        path`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"{{ item.path }}\"`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`      loop`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`        - { `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`path`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` /root/.bash_history`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` }`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`        - {`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`            path`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"/home/{{ ansible_env.SUDO_USER | default(ansible_user_id) }}/.bash_history\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-punctuation)\"}},`,`)),`\n`,mdx(\"span\",{parentName:\"code\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`          }`)),`\n`)))};MDXContent.isMDXComponent=true;","scope":{}},"breadcrumbLinks":[{"title":"Developer","url":"/"},{"title":"Packer","url":"/packer"},{"title":"Integrations","url":"/packer/integrations"},{"title":"VMware vSphere","url":"/packer/integrations/hashicorp/vsphere","isCurrentPage":false},{"title":"v1.4.2","url":"/packer/integrations/hashicorp/vsphere/v1.4.2","isCurrentPage":false},{"title":"Components"},{"title":"Builder"},{"title":"vSphere Supervisor","url":"/packer/integrations/hashicorp/vsphere/latest/components/builder/vsphere-supervisor","isCurrentPage":true}]},"__N_SSG":true},"page":"/[productSlug]/integrations/[organizationSlug]/[integrationSlug]/[integrationVersion]/components/[componentType]/[componentSlug]","query":{"productSlug":"packer","organizationSlug":"hashicorp","integrationSlug":"vsphere","integrationVersion":"latest","componentType":"builder","componentSlug":"vsphere-supervisor"},"buildId":"jabqMMMSVo6egmWfKMhsK","isFallback":false,"gsp":true,"scriptLoader":[]}</script><script nomodule="">window.MSInputMethodContext && document.documentMode && document.write('<script src="/ie-warning.js"><\x2fscript>');</script></body></html>