(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3372],{81823:function(e,t,o){(window.__NEXT_P=window.__NEXT_P||[]).push(["/open-api-docs-preview-v2/[[...page]]",function(){return o(88331)}])},91019:function(e,t,o){"use strict";var r=o(85893),i=o(93967),n=o.n(i),s=o(88894),a=o.n(s);t.Z=e=>{let{children:t,className:o}=e,i=n()(a().root,o);return(0,r.jsx)("legend",{className:i,children:t})}},61871:function(e,t,o){"use strict";o.d(t,{j:function(){return b},g:function(){return P}});var r=o(85893),i=o(83952),n=o(22111),s=o(49346),a=o.n(s),l=o(93967),c=o.n(l),p=e=>{let{className:t,messages:o=[]}=e,i=c()(a().root,t);return(0,r.jsxs)("div",{className:i,children:[(0,r.jsx)(n.O,{className:a().icon}),(0,r.jsx)("ul",{className:a().list,children:o.map((e,t)=>(0,r.jsx)("li",{className:a().message,children:e},t))})]})},d=o(45478),u=o.n(d),h=e=>{let{children:t,className:o,id:i}=e,n=c()(u().root,o);return(0,r.jsx)("span",{className:n,id:i,children:t})},x=o(40251),_=o.n(x),f=e=>{let{children:t,className:o,fontWeight:i="semibold",htmlFor:n}=e,s=c()(_().root,"hds-font-weight-".concat(i),o);return(0,r.jsx)("label",{className:s,htmlFor:n,children:t})};o(91019);var g=o(21658),m=o.n(g),v=e=>{let{"aria-describedby":t,checked:o=!1,className:i,id:n,name:s,onChange:a,onClick:l,value:p}=e,d=c()(m().root,i);return(0,r.jsx)("input",{"aria-describedby":t,checked:o,className:d,id:n,name:s,onChange:a,onClick:l,type:"checkbox",value:p||n})},j=o(24686),y=o.n(j),b=e=>{let t,o,n,{checked:s,errors:a,helperText:l,id:c,label:d,labelFontWeight:u,name:x,onClick:_=()=>void 0,onChange:g=()=>void 0}=e,m=(0,i.Me)(c);return l&&(o="checkbox-".concat(m,"-helper-text"),t=(0,r.jsx)(h,{className:y().helperText,id:o,children:l})),a&&a.length>0&&(n=(0,r.jsx)(p,{className:y().errors,messages:a})),(0,r.jsxs)("div",{className:y().root,children:[(0,r.jsx)(v,{"aria-describedby":o,checked:s,id:m,name:x,onChange:g,onClick:_}),(0,r.jsx)(f,{className:y().label,fontWeight:u,htmlFor:m,children:d}),t,n]})},w=o(56954),N=o.n(w),k=e=>{let{"aria-describedby":t,checked:o=!1,className:i,id:n,name:s,onChange:a,onClick:l,onKeyDown:p,value:d}=e,u=c()(N().root,i);return(0,r.jsx)("input",{"aria-describedby":t,checked:o,className:u,id:n,name:s,onChange:a,onClick:l,onKeyDown:p,type:"radio",value:d||n})},C=o(18305),T=o.n(C),P=e=>{let t,o,n,{checked:s,errors:a,helperText:l,id:c,label:d,labelFontWeight:u,value:x,name:_,onChange:g,onClick:m,onKeyDown:v}=e,j=(0,i.Me)(c);return l&&(o="checkbox-".concat(j,"-helper-text"),t=(0,r.jsx)(h,{className:T().helperText,id:o,children:l})),a&&a.length>0&&(n=(0,r.jsx)(p,{className:T().errors,messages:a})),(0,r.jsxs)("div",{className:T().root,children:[(0,r.jsx)(k,{"aria-describedby":o,checked:s,id:j,name:_,value:x,onChange:g,onClick:m,onKeyDown:v}),(0,r.jsx)(f,{className:T().label,fontWeight:u,htmlFor:j,children:d}),t,n]})}},88331:function(e,t,o){"use strict";o.r(t),o.d(t,{__N_SSP:function(){return N},default:function(){return k}});var r=o(85893),i=o(99366),n=o(67294),s=o(93967),a=o.n(s),l=o(40477),c=o(74562),p=o(61871),d=o(64909),u=o.n(d);function h(e){let{label:t,helperText:o,accept:i,setValue:s}=e,a=(0,n.useId)();return(0,r.jsxs)("div",{className:u().root,children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:a,children:t}),o?(0,r.jsx)("div",{className:u().helperText,children:o}):null]}),(0,r.jsx)("input",{id:a,type:"file",accept:i,onChange:function(e){let t=new FileReader;t.readAsText(e.target.files[0],"UTF-8"),t.onload=e=>s(e.target.result.toString())}})]})}var x=o(87709),_=o.n(x);function f(e){let{label:t,helperText:o,value:i,setValue:s}=e,a=(0,n.useId)();return(0,r.jsxs)("div",{className:_().root,children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:a,children:t}),o?(0,r.jsx)("div",{className:_().helperText,children:o}):null]}),(0,r.jsx)("textarea",{id:a,value:i,className:_().textarea,onChange:e=>s(e.target.value)})]})}async function g(e){try{let t=await fetch("/api/open-api-docs-preview-v2",{method:"POST",body:JSON.stringify(e)}),o=await t.json();if(o.error)return[{title:"Failed to generate page data",description:"An error occured while attempting to generate page data from the provided inputs. Please ensure the provided schema is a valid OpenAPI specification in JSON format. Please also ensure the provided description is valid markdown.",error:o.error},null];return[null,o]}catch(e){return[{title:"Failed to generate page data",description:"An unexpected error occurred while attempting to generate page data from the provided inputs. Please ensure the provided schema is a valid OpenAPI specification in JSON format. Please also ensure the provided description is valid markdown. And reach out to the team in #proj-dev-portal if this still isn't working!",error:e.toString()},null]}}var m=o(5437),v=o.n(m);function j(e){let{defaultValues:t,defaultCollapsed:o=!0}=e,[i,s]=(0,n.useState)(),[d,u]=(0,n.useState)(!1),[x,_]=(0,n.useState)(o),[m,j]=(0,n.useState)({openApiJsonString:"",openApiDescription:"",groupOperationsByPath:!1,...t});function y(e,t){j(o=>({...o,[e]:t}))}async function b(){u(!0);let[e,t]=await g(m);e?s(e):(document.cookie="".concat("open-api-docs-preview-v2_unique-file-id","=").concat(t.uniqueFileId),window.location.reload()),u(!1)}return(0,n.useEffect)(()=>{i&&s(void 0)},[m]),(0,n.useEffect)(()=>{if(""===m.openApiDescription)try{var e;let t=JSON.parse(m.openApiJsonString),o=null==t?void 0:null===(e=t.info)||void 0===e?void 0:e.description;o&&m.openApiDescription!==o&&y("openApiDescription",o)}catch(e){}},[m]),(0,r.jsxs)("div",{className:a()(v().root,{[v().isCollapsed]:x}),children:[(0,r.jsx)("div",{className:v().scrollableContent,children:(0,r.jsxs)("div",{className:v().inputs,children:[(0,r.jsx)(h,{label:"OpenAPI File",helperText:'Upload your OpenAPI specification file, in ".json" format.',accept:".json",setValue:e=>y("openApiJsonString",e)}),(0,r.jsx)(l.Z,{className:v().generateButton,text:d?"Loading...":"Generate preview",size:"large",onClick:()=>b()}),i?(0,r.jsx)(c.Z,{color:"critical",title:i.title,description:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{children:i.description}),(0,r.jsx)("pre",{style:{whiteSpace:"pre-wrap"},children:(0,r.jsx)("code",{children:i.error})})]})}):null,(0,r.jsx)(p.j,{label:"Group operations by path",helperText:"By default, operations are organized by their first tag, which is expected to correspond to a service name. In some cases, spec files may have only a single tag, in which case this option can be used to group operations by their paths instead.",checked:m.groupOperationsByPath,onChange:()=>y("groupOperationsByPath",!m.groupOperationsByPath)}),(0,r.jsx)(f,{label:"Schema source",helperText:"Test out edits to the uploaded OpenAPI specification file.",value:m.openApiJsonString,setValue:e=>y("openApiJsonString",e)}),(0,r.jsx)(f,{label:"Description Markdown",helperText:'Enter markdown here to override the "schema.info.description" field of your schema.',value:m.openApiDescription,setValue:e=>y("openApiDescription",e)})]})}),(0,r.jsx)("div",{className:v().collapseButtonLayout,children:(0,r.jsxs)("button",{className:v().collapseButton,onClick:()=>_(e=>!e),children:[x?"Show":"Hide"," preview inputs"]})})]})}var y=o(36085),b=o(9008),w=o.n(b),N=!0,k=function(e){let{staticProps:t,previewData:o,hasStaticProps:n}=e;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{style:{isolation:"isolate"},children:n?(0,r.jsx)(y.Z,{...t}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(w(),{children:(0,r.jsx)("title",{children:"OpenAPI Preview Tool | HashiCorp Developer"})}),(0,r.jsx)(i.Z,{sidebarSlot:"",mobileMenuSlot:null,children:(0,r.jsxs)("div",{style:{padding:"24px",maxWidth:"35em"},children:[(0,r.jsx)("h1",{children:"OpenAPI Preview Tool"}),(0,r.jsx)("p",{children:"Please use the input form on this page to upload your spec. After submitting the form, the page should reload and display a preview. For security reasons, after around an hour, your submitted file will be deleted the next time this page is loaded. You will need to re-submit your spec if you're working with this tool for longer than an hour."}),(0,r.jsx)("p",{children:"This page may appear unexpectedly after navigation rather the expected preview content due to differences in how this preview tool works relative to production contexts. Reloading the page may resolve the issue. If reloading the page doesn't do anything, you may need to re-submit your spec file. If you're experiencing frequent issues requiring page reloads, reach out in #team-web-support in Slack."})]})})]})}),(0,r.jsx)(j,{defaultCollapsed:n,defaultValues:o})]})}},21658:function(e){e.exports={root:"checkbox-control_root__EWtcZ"}},56954:function(e){e.exports={root:"radio-control_root__jPM8O"}},49346:function(e){e.exports={root:"errors_root__uqP_E",icon:"errors_icon__8Kwa_",list:"errors_list__sn9Yx",message:"errors_message__ezCS9 hds-typography-body-100 hds-font-weight-medium"}},45478:function(e){e.exports={root:"helper-text_root__j8qxW hds-typography-body-100 hds-font-weight-regular"}},40251:function(e){e.exports={root:"label_root__LV5_v hds-typography-body-200"}},88894:function(e){e.exports={root:"legend_root__T3rOV hds-typography-body-200 hds-font-weight-semibold"}},24686:function(e){e.exports={root:"checkbox-field_root__CKXPK",label:"checkbox-field_label__Hd7dj",helperText:"checkbox-field_helperText__N39Ce",errors:"checkbox-field_errors__wjMl9"}},18305:function(e){e.exports={root:"radio-field_root__J75uv",label:"radio-field_label__x53qW",helperText:"radio-field_helperText__NMG_C",errors:"radio-field_errors__AnKps"}},64909:function(e){e.exports={root:"file-string-input_root__OgvwK",helperText:"file-string-input_helperText__2__tL"}},5437:function(e){e.exports={root:"open-api-preview-inputs_root__Fv_31",isCollapsed:"open-api-preview-inputs_isCollapsed__i4_yL",scrollableContent:"open-api-preview-inputs_scrollableContent__xjBcD",inputs:"open-api-preview-inputs_inputs__iqN_p",collapseButtonLayout:"open-api-preview-inputs_collapseButtonLayout__LcdBw",collapseButton:"open-api-preview-inputs_collapseButton__1kVGD",generateButton:"open-api-preview-inputs_generateButton__rOIJn"}},87709:function(e){e.exports={root:"textarea-input_root__5I40p",helperText:"textarea-input_helperText__Que4Q",textarea:"textarea-input_textarea__FlIbs"}}},function(e){e.O(0,[7166,2273,8097,7181,9554,5261,6787,7081,6085,2888,9774,179],function(){return e(e.s=81823)}),_N_E=e.O()}]);