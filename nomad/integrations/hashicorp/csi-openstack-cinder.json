{"pageProps":{"metadata":{"title":"CSI OpenStack Cinder | Integrations","description":"The Cinder CSI Driver is a CSI Specification compliant driver used by Container Orchestrators to manage the lifecycle of OpenStack Cinder Volumes."},"product":{"name":"Nomad","slug":"nomad","algoliaConfig":{"indexName":"product_NOMAD","searchOnlyApiKey":"9bfec34ea54e56a11bd50d6bfedc5e71"},"analyticsConfig":{"includedDomains":"nomadproject.io www.nomadproject.io","segmentWriteKey":"qW11yxgipKMsKFKQUCpTVgQUYftYsJj0"},"datoToken":"88b4984480dad56295a8aadae6caad","metadata":{"title":"Nomad by HashiCorp","description":"Nomad is a highly available, distributed, data-center aware cluster and application scheduler designed to support the modern datacenter with support for long-running services, batch jobs, and much more.","image":"https://www.nomadproject.io/nomad-public/img/og-image.png","icon":[{"href":"/nomad-public/_favicon.ico"}]},"alertBannerActive":true,"alertBanner":{"tag":"HashiConf","url":"https://hashiconf.com/2023?utm_source=direct&utm_medium=banner&utm_campaign=23Q3_HASHICONFGLOBAL_EVENT&utm_content=&utm_offer=event","text":"Our community conference is taking place in San Francisco and online October 10-12.","linkText":"Register now","expirationDate":""},"version":"1.2.5","subnavItems":[{"text":"Overview","url":"/","type":"inbound"},{"text":"Enterprise","url":"https://www.hashicorp.com/products/nomad/","type":"outbound"},"divider",{"text":"Tutorials","url":"https://developer.hashicorp.com/nomad/tutorials","type":"outbound"},{"text":"Docs","url":"/docs","type":"inbound"},{"text":"API","url":"/api-docs","type":"inbound"},{"text":"Plugins","url":"/plugins","type":"inbound"},{"text":"Tools","url":"/tools","type":"inbound"},{"text":"Community","url":"/community","type":"inbound"}],"basePaths":["docs","api-docs","plugins","tools","intro","downloads"],"rootDocsPaths":[{"iconName":"docs","name":"Documentation","path":"docs"},{"iconName":"entry-point","name":"Intro","path":"intro"},{"iconName":"api","name":"API","path":"api-docs"},{"iconName":"terminal-screen","name":"Tools","path":"tools"},{"iconName":"plug","name":"Plugins","path":"plugins"}],"integrationsConfig":{"description":"A curated collection of official, partner, and community Nomad Integrations."}},"integration":{"id":"f441a9b2-d695-4308-b748-99a6017ce6e4","slug":"csi-openstack-cinder","name":"CSI OpenStack Cinder","description":"The Cinder CSI Driver is a CSI Specification compliant driver used by Container Orchestrators to manage the lifecycle of OpenStack Cinder Volumes.","license_type":null,"license_url":null,"external_only":false,"external_url":"https://github.com/kubernetes/cloud-provider-openstack/blob/master/docs/cinder-csi-plugin/using-cinder-csi-plugin.md","tier":"community","repo_url":"https://github.com/hashicorp/nomad-pack-community-registry","subdirectory":"/packs/csi_openstack_cinder","created_at":"2023-05-17T17:26:13.644Z","updated_at":"2023-07-12T18:05:03.393Z","hide_versions":false,"organization":{"id":"a4a0551a-1451-4d89-9f56-8031c8350c77","slug":"hashicorp","created_at":"2022-11-09T22:56:32.391Z","updated_at":"2022-11-09T22:56:32.391Z"},"product":{"id":"40557cca-56ca-4cb2-abc6-9bba2a9ca62d","slug":"nomad","name":"Nomad","created_at":"2022-11-09T22:56:29.799Z","updated_at":"2022-11-09T22:56:29.799Z"},"versions":["0.0.1"],"components":[],"flags":[],"integration_type":{"id":"e8835871-6a6a-4836-8797-505cbfbe426a","product_id":"40557cca-56ca-4cb2-abc6-9bba2a9ca62d","slug":"pack","name":"Pack","plural_name":"Packs","description":"Packs are templated sets of resources that are meant to be deployed to Nomad together. Each pack defines parameters that can be customized by the end user.","created_at":"2023-05-02T17:31:29.062Z","updated_at":"2023-05-17T22:44:11.429Z"}},"activeRelease":{"id":"0fcd15a5-43ca-40da-adca-fda82f1ed6cd","integration_id":"f441a9b2-d695-4308-b748-99a6017ce6e4","version":"0.0.1","readme":"This pack deploys the Openstack Cinder CSI container as a system job to all eligible Nomad Clients.\n\nSee the Openstack Cinder CSI documentation for more information: https://github.com/kubernetes/cloud-provider-openstack/blob/master/docs/cinder-csi-plugin/using-cinder-csi-plugin.md\n\n## Dependencies\n\nThis pack requires the Nomad Client(s) be deployed on an Openstack VM that can have Cinder Volumes attached to it.\n\n## Container Privilege\n\nThe Cinder Node task containers run as ***Privileged*** containers. The Cinder Controller tasks do not require privileged mode.\n\n## Variables\n\n| Name | Description | Type | Default | Required |\n|------|-------------|------|---------|:--------:|\n| <a name=\"input_job_name\"></a> [job\\_name](#input\\_job\\_name) | The name to use as the job name which overrides using the pack name | `string` | `\"\"` | no |\n| <a name=\"input_datacenters\"></a> [datacenters](#input\\_datacenters) | A list of datacenters in the region which are eligible for task placement | `list(string)` | <pre>[<br>  \"dc1\"<br>]</pre> | no |\n| <a name=\"input_region\"></a> [region](#input\\_region) | The region where the job should be placed | `string` | `\"global\"` | no |\n| <a name=\"input_constraints\"></a> [constraints](#input\\_constraints) | Constraints to apply to the entire job. | <pre>list(object({<br>    attribute = string<br>    operator  = string<br>    value     = string<br>  }))</pre> | <pre>[<br>  {<br>    \"attribute\": \"${attr.platform.aws.placement.availability-zone}\",<br>    \"operator\": \"\",<br>    \"value\": \"nova\"<br>  }<br>]</pre> | no |\n| <a name=\"input_job_restart_config\"></a> [job\\_restart\\_config](#input\\_job\\_restart\\_config) | n/a | <pre>object({<br>    attempts = number<br>    delay    = string<br>    mode     = string<br>    interval = string<br>  })</pre> | <pre>{<br>  \"attempts\": 5,<br>  \"delay\": \"15s\",<br>  \"interval\": \"5m\",<br>  \"mode\": \"delay\"<br>}</pre> | no |\n| <a name=\"input_cloud_conf_file\"></a> [cloud\\_conf\\_file](#input\\_cloud\\_conf\\_file) | [REQUIRED] Path to custom cloud.conf file to be mounted to the CSI containers. For reference, see https://github.com/kubernetes/cloud-provider-openstack/blob/master/docs/openstack-cloud-controller-manager/using-openstack-cloud-controller-manager.md#global | `string` | n/a | yes |\n| <a name=\"input_csi_plugin_id\"></a> [csi\\_plugin\\_id](#input\\_csi\\_plugin\\_id) | The ID to register the CSI plugin with. | `string` | `\"csi-cinder\"` | no |\n| <a name=\"input_version_tag\"></a> [version\\_tag](#input\\_version\\_tag) | The docker image version. For options, see https://github.com/kubernetes/cloud-provider-openstack/releases | `string` | `\"latest\"` | no |\n| <a name=\"input_cinder_log_level\"></a> [cinder\\_log\\_level](#input\\_cinder\\_log\\_level) | The log level to run the csi driver at. Valid values 1 through 5 | `string` | `\"3\"` | no |\n| <a name=\"input_vault_config\"></a> [vault\\_config](#input\\_vault\\_config) | Nomad Job Vault Configuration. Set `enabled = true` to configure the job to use vault See: https://www.nomadproject.io/docs/job-specification/vault | <pre>object({<br>    enabled       = bool<br>    policies      = list(string)<br>    change_mode   = string<br>    change_signal = string<br>    env           = bool<br>    namespace     = string<br>  })</pre> | <pre>{<br>  \"change_mode\": \"restart\",<br>  \"change_signal\": \"\",<br>  \"enabled\": false,<br>  \"env\": true,<br>  \"namespace\": \"\",<br>  \"policies\": []<br>}</pre> | no |\n","created_at":"2023-05-17T22:18:55.919Z","updated_at":"2023-05-17T22:18:55.919Z","components":[]},"breadcrumbLinks":[{"title":"Developer","url":"/"},{"title":"Nomad","url":"/nomad"},{"title":"Integrations","url":"/nomad/integrations"},{"title":"CSI OpenStack Cinder","url":"/nomad/integrations/hashicorp/csi-openstack-cinder","isCurrentPage":true}],"anchorLinks":[{"id":"dependencies","level":2,"title":"Dependencies"},{"id":"container-privilege","level":2,"title":"Container Privilege"},{"id":"variables","level":2,"title":"Variables"}],"serializedREADME":{"compiledSource":"var m=Object.defineProperty,c=Object.defineProperties;var N=Object.getOwnPropertyDescriptors;var d=Object.getOwnPropertySymbols;var o=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;var p=(t,a,n)=>a in t?m(t,a,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[a]=n,e=(t,a)=>{for(var n in a||(a={}))o.call(a,n)&&p(t,n,a[n]);if(d)for(var n of d(a))i.call(a,n)&&p(t,n,a[n]);return t},s=(t,a)=>c(t,N(a));var l=(t,a)=>{var n={};for(var r in t)o.call(t,r)&&a.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&d)for(var r of d(t))a.indexOf(r)<0&&i.call(t,r)&&(n[r]=t[r]);return n};const layoutProps={},MDXLayout=\"wrapper\";function MDXContent(n){var r=n,{components:t}=r,a=l(r,[\"components\"]);return mdx(MDXLayout,s(e(e({},layoutProps),a),{components:t,mdxType:\"MDXLayout\"}),mdx(\"p\",e({},{className:\"g-type-long-body\"}),\"This pack deploys the Openstack Cinder CSI container as a system job to all eligible Nomad Clients.\"),mdx(\"p\",e({},{className:\"g-type-long-body\"}),\"See the Openstack Cinder CSI documentation for more information: \",mdx(\"a\",e({parentName:\"p\"},{href:\"https://github.com/kubernetes/cloud-provider-openstack/blob/master/docs/cinder-csi-plugin/using-cinder-csi-plugin.md\"}),\"https://github.com/kubernetes/cloud-provider-openstack/blob/master/docs/cinder-csi-plugin/using-cinder-csi-plugin.md\")),mdx(\"h2\",e({},{id:\"user-content-dependencies\",\"data-text-content\":\"Dependencies\",className:\"g-type-display-3\"}),\"Dependencies\"),mdx(\"p\",e({},{className:\"g-type-long-body\"}),\"This pack requires the Nomad Client(s) be deployed on an Openstack VM that can have Cinder Volumes attached to it.\"),mdx(\"h2\",e({},{id:\"user-content-container-privilege\",\"data-text-content\":\"Container Privilege\",className:\"g-type-display-3\"}),\"Container Privilege\"),mdx(\"p\",e({},{className:\"g-type-long-body\"}),\"The Cinder Node task containers run as \",mdx(\"strong\",{parentName:\"p\"},mdx(\"em\",{parentName:\"strong\"},\"Privileged\")),\" containers. The Cinder Controller tasks do not require privileged mode.\"),mdx(\"h2\",e({},{id:\"user-content-variables\",\"data-text-content\":\"Variables\",className:\"g-type-display-3\"}),\"Variables\"),mdx(\"table\",null,mdx(\"thead\",{parentName:\"table\"},mdx(\"tr\",{parentName:\"thead\"},mdx(\"th\",{parentName:\"tr\"},\"Name\"),mdx(\"th\",{parentName:\"tr\"},\"Description\"),mdx(\"th\",{parentName:\"tr\"},\"Type\"),mdx(\"th\",{parentName:\"tr\"},\"Default\"),mdx(\"th\",e({parentName:\"tr\"},{align:\"center\"}),\"Required\"))),mdx(\"tbody\",{parentName:\"table\"},mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",{parentName:\"tr\"},\" \",mdx(\"a\",e({parentName:\"td\"},{href:\"#input_job_name\"}),\"job\",\"_\",\"name\")),mdx(\"td\",{parentName:\"tr\"},\"The name to use as the job name which overrides using the pack name\"),mdx(\"td\",{parentName:\"tr\"},mdx(\"inlineCode\",{parentName:\"td\"},\"string\")),mdx(\"td\",{parentName:\"tr\"},mdx(\"inlineCode\",{parentName:\"td\"},'\"\"')),mdx(\"td\",e({parentName:\"tr\"},{align:\"center\"}),\"no\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",{parentName:\"tr\"},\" \",mdx(\"a\",e({parentName:\"td\"},{href:\"#input_datacenters\"}),\"datacenters\")),mdx(\"td\",{parentName:\"tr\"},\"A list of datacenters in the region which are eligible for task placement\"),mdx(\"td\",{parentName:\"tr\"},mdx(\"inlineCode\",{parentName:\"td\"},\"list(string)\")),mdx(\"td\",{parentName:\"tr\"},\"[\",'  \"dc1\"',\"]\"),mdx(\"td\",e({parentName:\"tr\"},{align:\"center\"}),\"no\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",{parentName:\"tr\"},\" \",mdx(\"a\",e({parentName:\"td\"},{href:\"#input_region\"}),\"region\")),mdx(\"td\",{parentName:\"tr\"},\"The region where the job should be placed\"),mdx(\"td\",{parentName:\"tr\"},mdx(\"inlineCode\",{parentName:\"td\"},\"string\")),mdx(\"td\",{parentName:\"tr\"},mdx(\"inlineCode\",{parentName:\"td\"},'\"global\"')),mdx(\"td\",e({parentName:\"tr\"},{align:\"center\"}),\"no\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",{parentName:\"tr\"},\" \",mdx(\"a\",e({parentName:\"td\"},{href:\"#input_constraints\"}),\"constraints\")),mdx(\"td\",{parentName:\"tr\"},\"Constraints to apply to the entire job.\"),mdx(\"td\",{parentName:\"tr\"},\"list(object({\",\"    attribute = string\",\"    operator  = string\",\"    value     = string\",\"  }))\"),mdx(\"td\",{parentName:\"tr\"},\"[\",\"  {\",'    \"attribute\": \"${attr.platform.aws.placement.availability-zone}\",','    \"operator\": \"\",','    \"value\": \"nova\"',\"  }\",\"]\"),mdx(\"td\",e({parentName:\"tr\"},{align:\"center\"}),\"no\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",{parentName:\"tr\"},\" \",mdx(\"a\",e({parentName:\"td\"},{href:\"#input_job_restart_config\"}),\"job\",\"_\",\"restart\",\"_\",\"config\")),mdx(\"td\",{parentName:\"tr\"},\"n/a\"),mdx(\"td\",{parentName:\"tr\"},\"object({\",\"    attempts = number\",\"    delay    = string\",\"    mode     = string\",\"    interval = string\",\"  })\"),mdx(\"td\",{parentName:\"tr\"},\"{\",'  \"attempts\": 5,','  \"delay\": \"15s\",','  \"interval\": \"5m\",','  \"mode\": \"delay\"',\"}\"),mdx(\"td\",e({parentName:\"tr\"},{align:\"center\"}),\"no\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",{parentName:\"tr\"},\" \",mdx(\"a\",e({parentName:\"td\"},{href:\"#input_cloud_conf_file\"}),\"cloud\",\"_\",\"conf\",\"_\",\"file\")),mdx(\"td\",{parentName:\"tr\"},\"[REQUIRED]\",\" Path to custom cloud.conf file to be mounted to the CSI containers. For reference, see \",mdx(\"a\",e({parentName:\"td\"},{href:\"https://github.com/kubernetes/cloud-provider-openstack/blob/master/docs/openstack-cloud-controller-manager/using-openstack-cloud-controller-manager.md#global\"}),\"https://github.com/kubernetes/cloud-provider-openstack/blob/master/docs/openstack-cloud-controller-manager/using-openstack-cloud-controller-manager.md#global\")),mdx(\"td\",{parentName:\"tr\"},mdx(\"inlineCode\",{parentName:\"td\"},\"string\")),mdx(\"td\",{parentName:\"tr\"},\"n/a\"),mdx(\"td\",e({parentName:\"tr\"},{align:\"center\"}),\"yes\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",{parentName:\"tr\"},\" \",mdx(\"a\",e({parentName:\"td\"},{href:\"#input_csi_plugin_id\"}),\"csi\",\"_\",\"plugin\",\"_\",\"id\")),mdx(\"td\",{parentName:\"tr\"},\"The ID to register the CSI plugin with.\"),mdx(\"td\",{parentName:\"tr\"},mdx(\"inlineCode\",{parentName:\"td\"},\"string\")),mdx(\"td\",{parentName:\"tr\"},mdx(\"inlineCode\",{parentName:\"td\"},'\"csi-cinder\"')),mdx(\"td\",e({parentName:\"tr\"},{align:\"center\"}),\"no\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",{parentName:\"tr\"},\" \",mdx(\"a\",e({parentName:\"td\"},{href:\"#input_version_tag\"}),\"version\",\"_\",\"tag\")),mdx(\"td\",{parentName:\"tr\"},\"The docker image version. For options, see \",mdx(\"a\",e({parentName:\"td\"},{href:\"https://github.com/kubernetes/cloud-provider-openstack/releases\"}),\"https://github.com/kubernetes/cloud-provider-openstack/releases\")),mdx(\"td\",{parentName:\"tr\"},mdx(\"inlineCode\",{parentName:\"td\"},\"string\")),mdx(\"td\",{parentName:\"tr\"},mdx(\"inlineCode\",{parentName:\"td\"},'\"latest\"')),mdx(\"td\",e({parentName:\"tr\"},{align:\"center\"}),\"no\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",{parentName:\"tr\"},\" \",mdx(\"a\",e({parentName:\"td\"},{href:\"#input_cinder_log_level\"}),\"cinder\",\"_\",\"log\",\"_\",\"level\")),mdx(\"td\",{parentName:\"tr\"},\"The log level to run the csi driver at. Valid values 1 through 5\"),mdx(\"td\",{parentName:\"tr\"},mdx(\"inlineCode\",{parentName:\"td\"},\"string\")),mdx(\"td\",{parentName:\"tr\"},mdx(\"inlineCode\",{parentName:\"td\"},'\"3\"')),mdx(\"td\",e({parentName:\"tr\"},{align:\"center\"}),\"no\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",{parentName:\"tr\"},\" \",mdx(\"a\",e({parentName:\"td\"},{href:\"#input_vault_config\"}),\"vault\",\"_\",\"config\")),mdx(\"td\",{parentName:\"tr\"},\"Nomad Job Vault Configuration. Set \",mdx(\"inlineCode\",{parentName:\"td\"},\"enabled = true\"),\" to configure the job to use vault See: \",mdx(\"a\",e({parentName:\"td\"},{href:\"https://www.nomadproject.io/docs/job-specification/vault\"}),\"https://www.nomadproject.io/docs/job-specification/vault\")),mdx(\"td\",{parentName:\"tr\"},\"object({\",\"    enabled       = bool\",\"    policies      = list(string)\",\"    change_mode   = string\",\"    change_signal = string\",\"    env           = bool\",\"    namespace     = string\",\"  })\"),mdx(\"td\",{parentName:\"tr\"},\"{\",'  \"change_mode\": \"restart\",','  \"change_signal\": \"\",','  \"enabled\": false,','  \"env\": true,','  \"namespace\": \"\",','  \"policies\": []',\"}\"),mdx(\"td\",e({parentName:\"tr\"},{align:\"center\"}),\"no\")))))}MDXContent.isMDXComponent=!0;\n","scope":{}}},"__N_SSG":true}