{"pageProps":{"metadata":{"title":"Alicloud Builder | Integrations"},"product":{"name":"Packer","slug":"packer","algoliaConfig":{"indexName":"product_PACKER","searchOnlyApiKey":"4e1ea7f4bf4335ac43d9f28463e42148"},"analyticsConfig":{"includedDomains":"packer.io www.packer.io","segmentWriteKey":"AjXdfmTTk1I9q9dfyePuDFHBrz1tCO3l"},"datoToken":"88b4984480dad56295a8aadae6caad","metadata":{"title":"Packer by HashiCorp","description":"Packer helps you create golden images for multiple platforms from a single source configuration.","image":"https://www.packer.io/packer-public/img/og-image.png","icon":[{"href":"/packer-public/_favicon.ico"}]},"alertBannerActive":true,"alertBanner":{"tag":"HashiConf","url":"https://hashiconf.com/2023?utm_source=direct&utm_medium=banner&utm_campaign=23Q3_HASHICONFGLOBAL_EVENT&utm_content=&utm_offer=event","text":"Our community conference is taking place in San Francisco and online October 10-12.","linkText":"Register now","expirationDate":""},"version":"1.7.10","basePaths":["docs","guides","intro","downloads"],"rootDocsPaths":[{"iconName":"docs","name":"Documentation","path":"docs"},{"iconName":"guide","name":"Guides","path":"guides"}],"integrationsConfig":{"description":"A curated collection of official, partner, and community Packer Integrations."}},"integration":{"id":"96e6264b-cd66-4cfe-b45a-5e4f9bf9874a","slug":"alicloud","name":"Alicloud","description":"The Alicloud plugin can be used with HashiCorp Packer to create custom images on the Alibaba Cloud platform","license_type":null,"license_url":null,"external_only":false,"external_url":null,"tier":"community","repo_url":"https://github.com/hashicorp/packer-plugin-alicloud","subdirectory":"/.web-docs","created_at":"2023-04-25T20:05:46.569Z","updated_at":"2023-08-08T17:01:02.167Z","hide_versions":false,"organization":{"id":"a4a0551a-1451-4d89-9f56-8031c8350c77","slug":"hashicorp","created_at":"2022-11-09T22:56:32.391Z","updated_at":"2022-11-09T22:56:32.391Z"},"product":{"id":"4c2b00c6-7cc1-4e4c-b596-4ab57e319f21","slug":"packer","name":"Packer","created_at":"2022-11-09T22:56:29.896Z","updated_at":"2022-11-09T22:56:29.896Z"},"versions":["1.1.1","1.1.0","1.0.1","1.0.0"],"components":[{"id":"36076511-3ced-4faf-addf-101fce0405ff","slug":"builder","name":"Builder","plural_name":"Builders"},{"id":"73965f1c-ad56-4f38-a31b-dc17d08c0ba6","slug":"post-processor","name":"Post-Processor","plural_name":"Post-Processors"}],"flags":[],"integration_type":null},"activeRelease":{"id":"b6f21a02-7d27-492e-ac44-0fca681b666d","integration_id":"96e6264b-cd66-4cfe-b45a-5e4f9bf9874a","version":"1.1.1","readme":"The Alicloud plugin can be used to create or import custom images on the Alibaba Cloud platform.\n\n### Installation\n\nTo install this plugin, copy and paste this code into your Packer configuration .\nThen, run [`packer init`](https://www.packer.io/docs/commands/init).\n\n```hcl\npacker {\n  required_plugins {\n    alicloud = {\n      source  = \"github.com/hashicorp/alicloud\"\n      version = \"~> 1\"\n    }\n  }\n}\n```\n\nAlternatively, you can use `packer plugins install` to manage installation of this plugin.\n\n```sh\n$ packer plugins install github.com/hashicorp/alicloud\n```\n\n### Components\n\n#### Builders\n- [alicloud-ecs](/packer/integrations/hashicorp/alicloud/latest/components/builder/alicloud-ecs) - Provides the capability to build customized images based on an existing base image.\n\n#### Post-Processors\n- [alicloud-import](/packer/integrations/hashicorp/alicloud/latest/components/post-processor/alicloud-import) - Takes a RAW or VHD artifact from various builders and imports it to an Alicloud ECS Image.\n","created_at":"2023-10-16T16:44:22.523Z","updated_at":"2023-10-16T16:44:22.523Z","components":[{"id":"8bbbfa7e-81c9-418b-8487-3a94688796d4","integration_release_id":"b6f21a02-7d27-492e-ac44-0fca681b666d","component_id":"36076511-3ced-4faf-addf-101fce0405ff","readme":"Type: `alicloud-ecs`\nArtifact BuilderId: `alibaba.alicloud`\n\nThe `alicloud-ecs` Packer builder plugin provide the capability to build\ncustomized images based on an existing base images.\n\n## Configuration Reference\n\nThe following configuration options are available for building Alicloud images.\nIn addition to the options listed here, a\n[communicator](/packer/docs/templates/legacy_json_templates/communicator) can be configured for this\nbuilder.\n\n### Required:\n\n<!-- Code generated from the comments of the AlicloudAccessConfig struct in builder/ecs/access_config.go; DO NOT EDIT MANUALLY -->\n\n- `access_key` (string) - Alicloud access key must be provided unless `profile` is set, but it can\n  also be sourced from the `ALICLOUD_ACCESS_KEY` environment variable.\n\n- `secret_key` (string) - Alicloud secret key must be provided unless `profile` is set, but it can\n  also be sourced from the `ALICLOUD_SECRET_KEY` environment variable.\n\n- `region` (string) - Alicloud region must be provided unless `profile` is set, but it can\n  also be sourced from the `ALICLOUD_REGION` environment variable.\n\n- `ram_role_name` (string) - Alicloud RamRole must be provided for EcsRamRole mode unless `profile` is set.\n\n- `ram_role_arn` (string) - Alicloud RamRoleArn must be provided for RamRoleArn mode unless `profile` is set.\n\n- `ram_session_name` (string) - Alicloud RamSessionName must be provided for RamRoleArn mode unless `profile` is set.\n\n<!-- End of code generated from the comments of the AlicloudAccessConfig struct in builder/ecs/access_config.go; -->\n\n\n<!-- Code generated from the comments of the RunConfig struct in builder/ecs/run_config.go; DO NOT EDIT MANUALLY -->\n\n- `instance_type` (string) - Type of the instance. For values, see [Instance Type\n  Table](https://www.alibabacloud.com/help/doc-detail/25378.htm?spm=a3c0i.o25499en.a3.9.14a36ac8iYqKRA).\n  You can also obtain the latest instance type table by invoking the\n  [Querying Instance Type\n  Table](https://intl.aliyun.com/help/doc-detail/25620.htm?spm=a3c0i.o25499en.a3.6.Dr1bik)\n  interface.\n\n- `source_image` (string) - This is the base image id which you want to\n  create your customized images.\n\n- `image_family` (string) - The name of the image family. Customer can set this parameter to choose the latest available custom image from\n  the specified image family to create the instance.\n\n<!-- End of code generated from the comments of the RunConfig struct in builder/ecs/run_config.go; -->\n\n\n<!-- Code generated from the comments of the AlicloudImageConfig struct in builder/ecs/image_config.go; DO NOT EDIT MANUALLY -->\n\n- `image_name` (string) - The name of the user-defined image, [2, 128] English or Chinese\n  characters. It must begin with an uppercase/lowercase letter or a\n  Chinese character, and may contain numbers, `_` or `-`. It cannot begin\n  with `http://` or `https://`.\n\n<!-- End of code generated from the comments of the AlicloudImageConfig struct in builder/ecs/image_config.go; -->\n\n\n### Optional:\n\n<!-- Code generated from the comments of the AlicloudAccessConfig struct in builder/ecs/access_config.go; DO NOT EDIT MANUALLY -->\n\n- `skip_region_validation` (bool) - The region validation can be skipped if this value is true, the default\n  value is false.\n\n- `skip_image_validation` (bool) - The image validation can be skipped if this value is true, the default\n  value is false.\n\n- `profile` (string) - Alicloud profile must be set unless `access_key` is set; it can also be\n  sourced from the `ALICLOUD_PROFILE` environment variable.\n\n- `shared_credentials_file` (string) - Alicloud shared credentials file path. If this file exists, access and\n  secret keys will be read from this file.\n\n- `security_token` (string) - STS access token, can be set through template or by exporting as\n  environment variable such as `export SECURITY_TOKEN=value`.\n\n- `custom_endpoint_ecs` (string) - This option is useful if you use a cloud provider whose API is\n  compatible with aliyun ECS. Specify another endpoint with this option.\n\n<!-- End of code generated from the comments of the AlicloudAccessConfig struct in builder/ecs/access_config.go; -->\n\n\n<!-- Code generated from the comments of the AlicloudDiskDevices struct in builder/ecs/image_config.go; DO NOT EDIT MANUALLY -->\n\n- `system_disk_mapping` (AlicloudDiskDevice) - Image disk mapping for the system disk.\n  See the [disk device configuration](#disk-devices-configuration) section\n  for more information on options.\n  Usage example:\n  \n  ```json\n  \"builders\": [{\n    \"type\":\"alicloud-ecs\",\n    \"system_disk_mapping\": {\n      \"disk_size\": 50,\n      \"disk_name\": \"mydisk\"\n    },\n    ...\n  }\n  ```\n\n- `image_disk_mappings` ([]AlicloudDiskDevice) - Add one or more data disks to the image.\n  See the [disk device configuration](#disk-devices-configuration) section\n  for more information on options.\n  Usage example:\n  \n  ```json\n   \"builders\": [{\n     \"type\":\"alicloud-ecs\",\n     \"image_disk_mappings\": [\n       {\n         \"disk_snapshot_id\": \"someid\",\n         \"disk_device\": \"dev/xvdb\"\n       }\n     ],\n     ...\n   }\n   ```\n\n<!-- End of code generated from the comments of the AlicloudDiskDevices struct in builder/ecs/image_config.go; -->\n\n\n<!-- Code generated from the comments of the RunConfig struct in builder/ecs/run_config.go; DO NOT EDIT MANUALLY -->\n\n- `associate_public_ip_address` (bool) - Associate Public Ip Address\n\n- `zone_id` (string) - ID of the zone to which the disk belongs.\n\n- `io_optimized` (boolean) - Whether an ECS instance is I/O optimized or not. If this option is not\n  provided, the value will be determined by product API according to what\n  `instance_type` is used.\n\n- `description` (string) - Description\n\n- `force_stop_instance` (bool) - Whether to force shutdown upon device\n  restart. The default value is `false`.\n  \n  If it is set to `false`, the system is shut down normally; if it is set to\n  `true`, the system is forced to shut down.\n\n- `disable_stop_instance` (bool) - If this option is set to true, Packer\n  will not stop the instance for you, and you need to make sure the instance\n  will be stopped in the final provisioner command. Otherwise, Packer will\n  timeout while waiting the instance to be stopped. This option is provided\n  for some specific scenarios that you want to stop the instance by yourself.\n  E.g., Sysprep a windows which may shutdown the instance within its command.\n  The default value is false.\n\n- `ecs_ram_role_name` (string) - Ram Role to apply when launching the instance.\n\n- `run_tags` (map[string]string) - Key/value pair tags to apply to the instance that is *launched*\n  to create the image.\n\n- `security_group_id` (string) - ID of the security group to which a newly\n  created instance belongs. Mutual access is allowed between instances in one\n  security group. If not specified, the newly created instance will be added\n  to the default security group. If the default group doesn’t exist, or the\n  number of instances in it has reached the maximum limit, a new security\n  group will be created automatically.\n\n- `security_group_name` (string) - The security group name. The default value\n  is blank. [2, 128] English or Chinese characters, must begin with an\n  uppercase/lowercase letter or Chinese character. Can contain numbers, .,\n  _ or -. It cannot begin with `http://` or `https://`.\n\n- `security_enhancement_strategy` (string) - Specifies whether to enable security hardening. Valid values:\n  Active: enables security hardening. This value is applicable only to public images.\n  Deactive: does not enable security hardening. This value is applicable to all image types.\n\n- `user_data` (string) - User data to apply when launching the instance. Note\n  that you need to be careful about escaping characters due to the templates\n  being JSON. It is often more convenient to use user_data_file, instead.\n  Packer will not automatically wait for a user script to finish before\n  shutting down the instance this must be handled in a provisioner.\n\n- `user_data_file` (string) - Path to a file that will be used for the user\n  data when launching the instance.\n\n- `vpc_id` (string) - VPC ID allocated by the system.\n\n- `vpc_name` (string) - The VPC name. The default value is blank. [2, 128]\n  English or Chinese characters, must begin with an uppercase/lowercase\n  letter or Chinese character. Can contain numbers, _ and -. The disk\n  description will appear on the console. Cannot begin with `http://` or\n  `https://`.\n\n- `vpc_cidr_block` (string) - Value options: 192.168.0.0/16 and\n  172.16.0.0/16. When not specified, the default value is 172.16.0.0/16.\n\n- `vswitch_id` (string) - The ID of the VSwitch to be used.\n\n- `vswitch_name` (string) - The ID of the VSwitch to be used.\n\n- `eip_id` (string) - The ID of the EIP to be used as public ip for the instance\n\n- `instance_name` (string) - Display name of the instance, which is a string of 2 to 128 Chinese or\n  English characters. It must begin with an uppercase/lowercase letter or\n  a Chinese character and can contain numerals, `.`, `_`, or `-`. The\n  instance name is displayed on the Alibaba Cloud console. If this\n  parameter is not specified, the default value is InstanceId of the\n  instance. It cannot begin with `http://` or `https://`.\n\n- `internet_charge_type` (string) - Internet charge type, which can be\n  `PayByTraffic` or `PayByBandwidth`. Optional values:\n  -   `PayByBandwidth`\n  -   `PayByTraffic`\n  \n  If this parameter is not specified, the default value is `PayByBandwidth`.\n  For the regions out of China, currently only support `PayByTraffic`, you\n  must set it manfully.\n\n- `internet_max_bandwidth_out` (int) - Maximum outgoing bandwidth to the\n  public network, measured in Mbps (Mega bits per second).\n  \n  Value range:\n  -   `PayByBandwidth`: \\[0, 100\\]. If this parameter is not specified, API\n      automatically sets it to 0 Mbps.\n  -   `PayByTraffic`: \\[1, 100\\]. If this parameter is not specified, an\n      error is returned.\n\n- `wait_snapshot_ready_timeout` (int) - Timeout of creating snapshot(s).\n  The default timeout is 3600 seconds if this option is not set or is set\n  to 0. For those disks containing lots of data, it may require a higher\n  timeout value.\n\n- `wait_copying_image_ready_timeout` (int) - Timeout of copying image.\n  The default timeout is 3600 seconds if this option is not set or is set\n  to 0.\n\n- `ssh_private_ip` (bool) - If this value is true, packer will connect to\n  the ECS created through private ip instead of allocating a public ip or an\n  EIP. The default value is false.\n\n- `skip_create_image` (bool) - If true, Packer will not create a final image. Defaults to `false`.\n\n<!-- End of code generated from the comments of the RunConfig struct in builder/ecs/run_config.go; -->\n\n\n<!-- Code generated from the comments of the AlicloudImageConfig struct in builder/ecs/image_config.go; DO NOT EDIT MANUALLY -->\n\n- `image_version` (string) - The version number of the image, with a length limit of 1 to 40 English\n  characters.\n\n- `image_description` (string) - The description of the image, with a length limit of 0 to 256\n  characters. Leaving it blank means null, which is the default value. It\n  cannot begin with `http://` or `https://`.\n\n- `resource_group_id` (string) - The ID of the resource group to which to assign the custom image.\n  If you do not specify this parameter, the image is assigned to the default resource group.\n\n- `image_share_account` ([]string) - The IDs of to-be-added Aliyun accounts to which the image is shared. The\n  number of accounts is 1 to 10. If number of accounts is greater than 10,\n  this parameter is ignored.\n\n- `image_unshare_account` ([]string) - Alicloud Image UN Share Accounts\n\n- `image_copy_regions` ([]string) - Copy to the destination regionIds.\n\n- `image_copy_names` ([]string) - The name of the destination image, [2, 128] English or Chinese\n  characters. It must begin with an uppercase/lowercase letter or a\n  Chinese character, and may contain numbers, _ or -. It cannot begin with\n  `http://` or `https://`.\n\n- `image_encrypted` (boolean) - Whether or not to encrypt the target images,            including those\n  copied if image_copy_regions is specified. If this option is set to\n  true, a temporary image will be created from the provisioned instance in\n  the main region and an encrypted copy will be generated in the same\n  region. By default, Packer will keep the encryption setting to what it\n  was in the source image.\n\n- `image_force_delete` (bool) - If this value is true, when the target image names including those\n  copied are duplicated with existing images, it will delete the existing\n  images and then create the target images, otherwise, the creation will\n  fail. The default value is false. Check `image_name` and\n  `image_copy_names` options for names of target images. If\n  [-force](/packer/docs/commands/build#force) option is provided in `build`\n  command, this option can be omitted and taken as true.\n\n- `image_force_delete_snapshots` (bool) - If this value is true, when delete the duplicated existing images, the\n  source snapshots of those images will be delete either. If\n  [-force](/packer/docs/commands/build#force) option is provided in `build`\n  command, this option can be omitted and taken as true.\n\n- `image_force_delete_instances` (bool) - Alicloud Image Force Delete Instances\n\n- `image_ignore_data_disks` (bool) - If this value is true, the image created will not include any snapshot\n  of data disks. This option would be useful for any circumstance that\n  default data disks with instance types are not concerned. The default\n  value is false.\n\n- `tags` (map[string]string) - Key/value pair tags applied to the destination image and relevant\n  snapshots.\n\n- `tag` ([]{key string, value string}) - Same as [`tags`](#tags) but defined as a singular repeatable block\n  containing a `key` and a `value` field. In HCL2 mode the\n  [`dynamic_block`](/packer/docs/templates/hcl_templates/expressions#dynamic-blocks)\n  will allow you to create those programatically.\n\n<!-- End of code generated from the comments of the AlicloudImageConfig struct in builder/ecs/image_config.go; -->\n\n\n<!-- Code generated from the comments of the SSHTemporaryKeyPair struct in communicator/config.go; DO NOT EDIT MANUALLY -->\n\n- `temporary_key_pair_type` (string) - `dsa` | `ecdsa` | `ed25519` | `rsa` ( the default )\n  \n  Specifies the type of key to create. The possible values are 'dsa',\n  'ecdsa', 'ed25519', or 'rsa'.\n  \n  NOTE: DSA is deprecated and no longer recognized as secure, please\n  consider other alternatives like RSA or ED25519.\n\n- `temporary_key_pair_bits` (int) - Specifies the number of bits in the key to create. For RSA keys, the\n  minimum size is 1024 bits and the default is 4096 bits. Generally, 3072\n  bits is considered sufficient. DSA keys must be exactly 1024 bits as\n  specified by FIPS 186-2. For ECDSA keys, bits determines the key length\n  by selecting from one of three elliptic curve sizes: 256, 384 or 521\n  bits. Attempting to use bit lengths other than these three values for\n  ECDSA keys will fail. Ed25519 keys have a fixed length and bits will be\n  ignored.\n  \n  NOTE: DSA is deprecated and no longer recognized as secure as specified\n  by FIPS 186-5, please consider other alternatives like RSA or ED25519.\n\n<!-- End of code generated from the comments of the SSHTemporaryKeyPair struct in communicator/config.go; -->\n\n\n- `ssh_keypair_name` (string) - If specified, this is the key that will be used for SSH with the\n  machine. The key must match a key pair name loaded up into the remote.\n  By default, this is blank, and Packer will generate a temporary keypair\n  unless [`ssh_password`](#ssh_password) is used.\n  [`ssh_private_key_file`](#ssh_private_key_file) or\n  [`ssh_agent_auth`](#ssh_agent_auth) must be specified when\n  [`ssh_keypair_name`](#ssh_keypair_name) is utilized.\n\n\n- `ssh_private_key_file` (string) - Path to a PEM encoded private key file to use to authenticate with SSH.\n  The `~` can be used in path and will be expanded to the home directory\n  of current user.\n\n\n- `ssh_agent_auth` (bool) - If true, the local SSH agent will be used to authenticate connections to\n  the source instance. No temporary keypair will be created, and the\n  values of [`ssh_password`](#ssh_password) and\n  [`ssh_private_key_file`](#ssh_private_key_file) will be ignored. The\n  environment variable `SSH_AUTH_SOCK` must be set for this option to work\n  properly.\n\n\n### Alicloud RAM permission\n\nFinally the plugin should gain a set of Alicloud RAM permission to call Alicloud API.\n\nThe following policy document provides the minimal set permissions necessary for the Alicloud plugin to work:\n\n```json\n{\n  \"Version\": \"1\",\n  \"Statement\": [\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"ecs:AttachKeyPair\",\n        \"ecs:CreateKeyPair\",\n        \"ecs:DeleteKeyPairs\",\n        \"ecs:DetachKeyPair\",\n        \"ecs:DescribeKeyPairs\",\n        \"ecs:DescribeDisks\",\n        \"ecs:ImportKeyPair\",\n        \"ecs:CreateSecurityGroup\",\n        \"ecs:AuthorizeSecurityGroup\",\n        \"ecs:AuthorizeSecurityGroupEgress\",\n        \"ecs:DescribeSecurityGroups\",\n        \"ecs:DeleteSecurityGroup\",\n        \"ecs:CopyImage\",\n        \"ecs:CancelCopyImage\",\n        \"ecs:CreateImage\",\n        \"ecs:DescribeImages\",\n        \"ecs:DescribeImageFromFamily\",\n        \"ecs:DeleteImage\",\n        \"ecs:ModifyImageAttribute\",\n        \"ecs:DescribeImageSharePermission\",\n        \"ecs:ModifyImageSharePermission\",\n        \"ecs:DescribeInstances\",\n        \"ecs:StartInstance\",\n        \"ecs:StopInstance\",\n        \"ecs:CreateInstance\",\n        \"ecs:DeleteInstance\",\n        \"ecs:RunInstances\",\n        \"ecs:RebootInstance\",\n        \"ecs:RenewInstance\",\n        \"ecs:CreateSnapshot\",\n        \"ecs:DeleteSnapshot\",\n        \"ecs:DescribeSnapshots\",\n        \"ecs:TagResources\",\n        \"ecs:UntagResources\",\n        \"ecs:AllocatePublicIpAddress\",\n        \"ecs:AddTags\",\n        \"vpc:DescribeVpcs\",\n        \"vpc:CreateVpc\",\n        \"vpc:DeleteVpc\",\n        \"vpc:DescribeVSwitches\",\n        \"vpc:CreateVSwitch\",\n        \"vpc:DeleteVSwitch\",\n        \"vpc:AllocateEipAddress\",\n        \"vpc:AssociateEipAddress\",\n        \"vpc:UnassociateEipAddress\",\n        \"vpc:ReleaseEipAddress\",\n        \"vpc:DescribeEipAddresses\"\n      ],\n      \"Resource\": [\n        \"*\"\n      ]\n    }\n  ]\n}\n```\n\n# Disk Devices Configuration\n\n<!-- Code generated from the comments of the AlicloudDiskDevice struct in builder/ecs/image_config.go; DO NOT EDIT MANUALLY -->\n\n- `disk_name` (string) - The value of disk name is blank by default. [2,\n  128] English or Chinese characters, must begin with an\n  uppercase/lowercase letter or Chinese character. Can contain numbers,\n  ., _ and -. The disk name will appear on the console. It cannot\n  begin with `http://` or `https://`.\n\n- `disk_category` (string) - Category of the system disk. Optional values are:\n      -   cloud - general cloud disk\n      -   cloud_efficiency - efficiency cloud disk\n      -   cloud_ssd - cloud SSD\n      -   cloud_essd - cloud ESSD\n\n- `disk_size` (int) - Size of the system disk, measured in GiB. Value\n  range: [20, 500]. The specified value must be equal to or greater\n  than max{20, ImageSize}. Default value: max{40, ImageSize}.\n\n- `disk_snapshot_id` (string) - Snapshots are used to create the data\n  disk After this parameter is specified, Size is ignored. The actual\n  size of the created disk is the size of the specified snapshot.\n  This field is only used in the ECSImagesDiskMappings option, not\n  the ECSSystemDiskMapping option.\n\n- `disk_description` (string) - The value of disk description is blank by\n  default. [2, 256] characters. The disk description will appear on the\n  console. It cannot begin with `http://` or `https://`.\n\n- `disk_delete_with_instance` (bool) - Whether or not the disk is\n  released along with the instance:\n\n- `disk_device` (string) - Device information of the related instance:\n  such as /dev/xvdb It is null unless the Status is In_use.\n\n- `disk_encrypted` (boolean) - Whether or not to encrypt the data disk.\n  If this option is set to true, the data disk will be encryped and\n  corresponding snapshot in the target image will also be encrypted. By\n  default, if this is an extra data disk, Packer will not encrypt the\n  data disk. Otherwise, Packer will keep the encryption setting to what\n  it was in the source image. Please refer to Introduction of ECS disk\n  encryption for more details.\n\n<!-- End of code generated from the comments of the AlicloudDiskDevice struct in builder/ecs/image_config.go; -->\n\n\n## Basic Example\n\nHere is a basic example for Alicloud.\n\n**JSON**\n\n```json\n{\n  \"variables\": {\n    \"access_key\": \"{{env `ALICLOUD_ACCESS_KEY`}}\",\n    \"secret_key\": \"{{env `ALICLOUD_SECRET_KEY`}}\"\n  },\n  \"builders\": [\n    {\n      \"type\": \"alicloud-ecs\",\n      \"access_key\": \"{{user `access_key`}}\",\n      \"secret_key\": \"{{user `secret_key`}}\",\n      \"region\": \"cn-beijing\",\n      \"image_name\": \"packer_test2\",\n      \"source_image\": \"centos_7_04_64_20G_alibase_201701015.vhd\",\n      \"ssh_username\": \"root\",\n      \"instance_type\": \"ecs.n1.tiny\",\n      \"io_optimized\": \"true\",\n      \"internet_charge_type\": \"PayByTraffic\",\n      \"image_force_delete\": \"true\"\n      \"run_tags\": {\n        \"Managed by\": \"Packer\",\n        \"Built by\": \"Packer\"\n      }\n    }\n  ],\n  \"provisioners\": [\n    {\n      \"type\": \"shell\",\n      \"inline\": [\"sleep 30\", \"yum install redis.x86_64 -y\"]\n    }\n  ]\n}\n```\n\n**HCL2**\n\n```hcl\nvariable \"access_key\" {\n  type = string\n}\n\nvariable \"secret_key\" {\n  type = string\n}\n\nsource \"alicloud-ecs\" \"basic-example\" {\n      access_key = var.access_key\n      secret_key = var.secret_key\n      region = \"cn-beijing\"\n      image_name = \"packer_test2\"\n      source_image = \"centos_7_04_64_20G_alibase_201701015.vhd\"\n      ssh_username = \"root\"\n      instance_type = \"ecs.n1.tiny\"\n      io_optimized = true\n      internet_charge_type = \"PayByTraffic\"\n      image_force_delete = true\n      run_tags  = {\n        \"Built by\"   = \"Packer\"\n        \"Managed by\" = \"Packer\"\n      }\n}\n\nbuild {\n  sources = [\"sources.alicloud-ecs.basic-example\"]\n\n  provisioner \"shell\" {\n    inline = [\n      \"sleep 30\", \"yum install redis.x86_64 -y\",\n    ]\n  }\n}\n```\n\n\n~> Note: Images can become deprecated after a while; run\n`aliyun ecs DescribeImages` to find one that exists.\n\n~> Note: Since WinRM is closed by default in the system image. If you are\nplanning to use Windows as the base image, you need enable it by userdata in\norder to connect to the instance, check\n[alicloud_windows.json](https://github.com/hashicorp/packer-plugin-alicloud/tree/main/builder/examples/basic/alicloud_windows.json)\nand\n[winrm_enable_userdata.ps1](https://github.com/hashicorp/packer-plugin-alicloud/tree/main/builder/examples/basic/winrm_enable_userdata.ps1)\nfor details.\n\nSee the\n[examples/alicloud](https://github.com/hashicorp/packer-plugin-alicloud/tree/main/builder/examples)\nfolder in the Packer project for more examples.\n","created_at":"2023-10-16T16:44:23.376Z","updated_at":"2023-10-16T16:44:23.376Z","name":"Alicloud ECS","slug":"alicloud-ecs","component":{"id":"36076511-3ced-4faf-addf-101fce0405ff","slug":"builder","name":"Builder","plural_name":"Builders","product_id":"4c2b00c6-7cc1-4e4c-b596-4ab57e319f21","created_at":"2022-11-09T22:56:30.937Z","updated_at":"2022-11-09T22:56:30.937Z"},"variable_groups":[]},{"id":"7e9dd291-3fdd-4fee-8c8b-bd9c4fcad439","integration_release_id":"b6f21a02-7d27-492e-ac44-0fca681b666d","component_id":"73965f1c-ad56-4f38-a31b-dc17d08c0ba6","readme":"Type: `alicloud-import`\nArtifact BuilderId: `packer.post-processor.alicloud-import`\n\nThe Packer Alicloud Import post-processor takes a RAW or VHD artifact from\nvarious builders and imports it to an Alicloud ECS Image.\n\n## How Does it Work?\n\nThe import process operates by making a temporary copy of the RAW or VHD to an\nOSS bucket, and calling an import task in ECS on the RAW or VHD file. Once\ncompleted, an Alicloud ECS Image is returned. The temporary RAW or VHD copy in\nOSS can be discarded after the import is complete.\n\n## Configuration\n\nThere are some configuration options available for the post-processor. There\nare two categories: required and optional parameters.\n\n### Required:\n\n<!-- Code generated from the comments of the AlicloudAccessConfig struct in builder/ecs/access_config.go; DO NOT EDIT MANUALLY -->\n\n- `access_key` (string) - Alicloud access key must be provided unless `profile` is set, but it can\n  also be sourced from the `ALICLOUD_ACCESS_KEY` environment variable.\n\n- `secret_key` (string) - Alicloud secret key must be provided unless `profile` is set, but it can\n  also be sourced from the `ALICLOUD_SECRET_KEY` environment variable.\n\n- `region` (string) - Alicloud region must be provided unless `profile` is set, but it can\n  also be sourced from the `ALICLOUD_REGION` environment variable.\n\n- `ram_role_name` (string) - Alicloud RamRole must be provided for EcsRamRole mode unless `profile` is set.\n\n- `ram_role_arn` (string) - Alicloud RamRoleArn must be provided for RamRoleArn mode unless `profile` is set.\n\n- `ram_session_name` (string) - Alicloud RamSessionName must be provided for RamRoleArn mode unless `profile` is set.\n\n<!-- End of code generated from the comments of the AlicloudAccessConfig struct in builder/ecs/access_config.go; -->\n\n\n<!-- Code generated from the comments of the AlicloudImageConfig struct in builder/ecs/image_config.go; DO NOT EDIT MANUALLY -->\n\n- `image_name` (string) - The name of the user-defined image, [2, 128] English or Chinese\n  characters. It must begin with an uppercase/lowercase letter or a\n  Chinese character, and may contain numbers, `_` or `-`. It cannot begin\n  with `http://` or `https://`.\n\n<!-- End of code generated from the comments of the AlicloudImageConfig struct in builder/ecs/image_config.go; -->\n\n\n<!-- Code generated from the comments of the Config struct in post-processor/alicloud-import/post-processor.go; DO NOT EDIT MANUALLY -->\n\n- `oss_bucket_name` (string) - The name of the OSS bucket where the RAW or VHD file will be copied to\n  for import. If the Bucket doesn't exist, the post-process will create it for\n  you.\n\n- `image_os_type` (string) - Type of the OS, like linux/windows\n\n- `image_platform` (string) - Platform such as `CentOS`\n\n- `image_architecture` (string) - Platform type of the image system: `i386` or `x86_64`\n\n- `format` (string) - The format of the image for import, now alicloud only support RAW and\n  VHD.\n\n<!-- End of code generated from the comments of the Config struct in post-processor/alicloud-import/post-processor.go; -->\n\n\n### Optional:\n\n- `keep_input_artifact` (boolean) - if true, do not delete the RAW or VHD\n  disk image after importing it to the cloud. Defaults to false.\n\n<!-- Code generated from the comments of the Config struct in post-processor/alicloud-import/post-processor.go; DO NOT EDIT MANUALLY -->\n\n- `oss_key_name` (string) - The name of the object key in `oss_bucket_name` where the RAW or VHD\n  file will be copied to for import. This is treated as a [template\n  engine](/packer/docs/templates/legacy_json_templates/engine), and you may access any of the variables\n  stored in the generated data using the [build](/packer/docs/templates/legacy_json_templates/engine)\n  template function.\n\n- `skip_clean` (bool) - Whether we should skip removing the RAW or VHD file uploaded to OSS\n  after the import process has completed. `true` means that we should\n  leave it in the OSS bucket, `false` means to clean it out. Defaults to\n  `false`.\n\n- `image_system_size` (string) - Size of the system disk, in GB, values\n   range:\n    - cloud - 5 \\~ 2000\n    - cloud_efficiency - 20 \\~ 2048\n    - cloud_ssd - 20 \\~ 2048\n    - cloud_essd - 20 \\~ 2048\n\n<!-- End of code generated from the comments of the Config struct in post-processor/alicloud-import/post-processor.go; -->\n\n\n## Basic Example\n\nHere is a basic example. This assumes that the builder has produced a RAW\nartifact. The user must have the role `AliyunECSImageImportDefaultRole` with\n`AliyunECSImageImportRolePolicy`, post-process will automatically configure the\nrole and policy for you if you have the privilege, otherwise, you have to ask\nthe administrator configure for you in advance.\n\n```json\n\"post-processors\":[\n    {\n      \"access_key\":\"{{user `access_key`}}\",\n      \"secret_key\":\"{{user `secret_key`}}\",\n      \"type\":\"alicloud-import\",\n      \"oss_bucket_name\": \"packer\",\n      \"image_name\": \"packer_import\",\n      \"image_os_type\": \"linux\",\n      \"image_platform\": \"CentOS\",\n      \"image_architecture\": \"x86_64\",\n      \"image_system_size\": \"40\",\n      \"region\":\"cn-beijing\"\n    }\n  ]\n```\n\nThis will take the RAW generated by a builder and upload it to OSS. In this\ncase, an existing bucket called `packer` in the `cn-beijing` region will be\nwhere the copy is placed.\n\nOnce uploaded, the import process will start, creating an Alicloud ECS image in\nthe `cn-beijing` region with the name you specified in template file.\n","created_at":"2023-10-16T16:44:23.630Z","updated_at":"2023-10-16T16:44:23.630Z","name":"Alicloud Import","slug":"alicloud-import","component":{"id":"73965f1c-ad56-4f38-a31b-dc17d08c0ba6","slug":"post-processor","name":"Post-Processor","plural_name":"Post-Processors","product_id":"4c2b00c6-7cc1-4e4c-b596-4ab57e319f21","created_at":"2022-11-09T22:56:31.157Z","updated_at":"2023-07-26T17:26:54.831Z"},"variable_groups":[]}]},"component":{"id":"8bbbfa7e-81c9-418b-8487-3a94688796d4","integration_release_id":"b6f21a02-7d27-492e-ac44-0fca681b666d","component_id":"36076511-3ced-4faf-addf-101fce0405ff","readme":"Type: `alicloud-ecs`\nArtifact BuilderId: `alibaba.alicloud`\n\nThe `alicloud-ecs` Packer builder plugin provide the capability to build\ncustomized images based on an existing base images.\n\n## Configuration Reference\n\nThe following configuration options are available for building Alicloud images.\nIn addition to the options listed here, a\n[communicator](/packer/docs/templates/legacy_json_templates/communicator) can be configured for this\nbuilder.\n\n### Required:\n\n<!-- Code generated from the comments of the AlicloudAccessConfig struct in builder/ecs/access_config.go; DO NOT EDIT MANUALLY -->\n\n- `access_key` (string) - Alicloud access key must be provided unless `profile` is set, but it can\n  also be sourced from the `ALICLOUD_ACCESS_KEY` environment variable.\n\n- `secret_key` (string) - Alicloud secret key must be provided unless `profile` is set, but it can\n  also be sourced from the `ALICLOUD_SECRET_KEY` environment variable.\n\n- `region` (string) - Alicloud region must be provided unless `profile` is set, but it can\n  also be sourced from the `ALICLOUD_REGION` environment variable.\n\n- `ram_role_name` (string) - Alicloud RamRole must be provided for EcsRamRole mode unless `profile` is set.\n\n- `ram_role_arn` (string) - Alicloud RamRoleArn must be provided for RamRoleArn mode unless `profile` is set.\n\n- `ram_session_name` (string) - Alicloud RamSessionName must be provided for RamRoleArn mode unless `profile` is set.\n\n<!-- End of code generated from the comments of the AlicloudAccessConfig struct in builder/ecs/access_config.go; -->\n\n\n<!-- Code generated from the comments of the RunConfig struct in builder/ecs/run_config.go; DO NOT EDIT MANUALLY -->\n\n- `instance_type` (string) - Type of the instance. For values, see [Instance Type\n  Table](https://www.alibabacloud.com/help/doc-detail/25378.htm?spm=a3c0i.o25499en.a3.9.14a36ac8iYqKRA).\n  You can also obtain the latest instance type table by invoking the\n  [Querying Instance Type\n  Table](https://intl.aliyun.com/help/doc-detail/25620.htm?spm=a3c0i.o25499en.a3.6.Dr1bik)\n  interface.\n\n- `source_image` (string) - This is the base image id which you want to\n  create your customized images.\n\n- `image_family` (string) - The name of the image family. Customer can set this parameter to choose the latest available custom image from\n  the specified image family to create the instance.\n\n<!-- End of code generated from the comments of the RunConfig struct in builder/ecs/run_config.go; -->\n\n\n<!-- Code generated from the comments of the AlicloudImageConfig struct in builder/ecs/image_config.go; DO NOT EDIT MANUALLY -->\n\n- `image_name` (string) - The name of the user-defined image, [2, 128] English or Chinese\n  characters. It must begin with an uppercase/lowercase letter or a\n  Chinese character, and may contain numbers, `_` or `-`. It cannot begin\n  with `http://` or `https://`.\n\n<!-- End of code generated from the comments of the AlicloudImageConfig struct in builder/ecs/image_config.go; -->\n\n\n### Optional:\n\n<!-- Code generated from the comments of the AlicloudAccessConfig struct in builder/ecs/access_config.go; DO NOT EDIT MANUALLY -->\n\n- `skip_region_validation` (bool) - The region validation can be skipped if this value is true, the default\n  value is false.\n\n- `skip_image_validation` (bool) - The image validation can be skipped if this value is true, the default\n  value is false.\n\n- `profile` (string) - Alicloud profile must be set unless `access_key` is set; it can also be\n  sourced from the `ALICLOUD_PROFILE` environment variable.\n\n- `shared_credentials_file` (string) - Alicloud shared credentials file path. If this file exists, access and\n  secret keys will be read from this file.\n\n- `security_token` (string) - STS access token, can be set through template or by exporting as\n  environment variable such as `export SECURITY_TOKEN=value`.\n\n- `custom_endpoint_ecs` (string) - This option is useful if you use a cloud provider whose API is\n  compatible with aliyun ECS. Specify another endpoint with this option.\n\n<!-- End of code generated from the comments of the AlicloudAccessConfig struct in builder/ecs/access_config.go; -->\n\n\n<!-- Code generated from the comments of the AlicloudDiskDevices struct in builder/ecs/image_config.go; DO NOT EDIT MANUALLY -->\n\n- `system_disk_mapping` (AlicloudDiskDevice) - Image disk mapping for the system disk.\n  See the [disk device configuration](#disk-devices-configuration) section\n  for more information on options.\n  Usage example:\n  \n  ```json\n  \"builders\": [{\n    \"type\":\"alicloud-ecs\",\n    \"system_disk_mapping\": {\n      \"disk_size\": 50,\n      \"disk_name\": \"mydisk\"\n    },\n    ...\n  }\n  ```\n\n- `image_disk_mappings` ([]AlicloudDiskDevice) - Add one or more data disks to the image.\n  See the [disk device configuration](#disk-devices-configuration) section\n  for more information on options.\n  Usage example:\n  \n  ```json\n   \"builders\": [{\n     \"type\":\"alicloud-ecs\",\n     \"image_disk_mappings\": [\n       {\n         \"disk_snapshot_id\": \"someid\",\n         \"disk_device\": \"dev/xvdb\"\n       }\n     ],\n     ...\n   }\n   ```\n\n<!-- End of code generated from the comments of the AlicloudDiskDevices struct in builder/ecs/image_config.go; -->\n\n\n<!-- Code generated from the comments of the RunConfig struct in builder/ecs/run_config.go; DO NOT EDIT MANUALLY -->\n\n- `associate_public_ip_address` (bool) - Associate Public Ip Address\n\n- `zone_id` (string) - ID of the zone to which the disk belongs.\n\n- `io_optimized` (boolean) - Whether an ECS instance is I/O optimized or not. If this option is not\n  provided, the value will be determined by product API according to what\n  `instance_type` is used.\n\n- `description` (string) - Description\n\n- `force_stop_instance` (bool) - Whether to force shutdown upon device\n  restart. The default value is `false`.\n  \n  If it is set to `false`, the system is shut down normally; if it is set to\n  `true`, the system is forced to shut down.\n\n- `disable_stop_instance` (bool) - If this option is set to true, Packer\n  will not stop the instance for you, and you need to make sure the instance\n  will be stopped in the final provisioner command. Otherwise, Packer will\n  timeout while waiting the instance to be stopped. This option is provided\n  for some specific scenarios that you want to stop the instance by yourself.\n  E.g., Sysprep a windows which may shutdown the instance within its command.\n  The default value is false.\n\n- `ecs_ram_role_name` (string) - Ram Role to apply when launching the instance.\n\n- `run_tags` (map[string]string) - Key/value pair tags to apply to the instance that is *launched*\n  to create the image.\n\n- `security_group_id` (string) - ID of the security group to which a newly\n  created instance belongs. Mutual access is allowed between instances in one\n  security group. If not specified, the newly created instance will be added\n  to the default security group. If the default group doesn’t exist, or the\n  number of instances in it has reached the maximum limit, a new security\n  group will be created automatically.\n\n- `security_group_name` (string) - The security group name. The default value\n  is blank. [2, 128] English or Chinese characters, must begin with an\n  uppercase/lowercase letter or Chinese character. Can contain numbers, .,\n  _ or -. It cannot begin with `http://` or `https://`.\n\n- `security_enhancement_strategy` (string) - Specifies whether to enable security hardening. Valid values:\n  Active: enables security hardening. This value is applicable only to public images.\n  Deactive: does not enable security hardening. This value is applicable to all image types.\n\n- `user_data` (string) - User data to apply when launching the instance. Note\n  that you need to be careful about escaping characters due to the templates\n  being JSON. It is often more convenient to use user_data_file, instead.\n  Packer will not automatically wait for a user script to finish before\n  shutting down the instance this must be handled in a provisioner.\n\n- `user_data_file` (string) - Path to a file that will be used for the user\n  data when launching the instance.\n\n- `vpc_id` (string) - VPC ID allocated by the system.\n\n- `vpc_name` (string) - The VPC name. The default value is blank. [2, 128]\n  English or Chinese characters, must begin with an uppercase/lowercase\n  letter or Chinese character. Can contain numbers, _ and -. The disk\n  description will appear on the console. Cannot begin with `http://` or\n  `https://`.\n\n- `vpc_cidr_block` (string) - Value options: 192.168.0.0/16 and\n  172.16.0.0/16. When not specified, the default value is 172.16.0.0/16.\n\n- `vswitch_id` (string) - The ID of the VSwitch to be used.\n\n- `vswitch_name` (string) - The ID of the VSwitch to be used.\n\n- `eip_id` (string) - The ID of the EIP to be used as public ip for the instance\n\n- `instance_name` (string) - Display name of the instance, which is a string of 2 to 128 Chinese or\n  English characters. It must begin with an uppercase/lowercase letter or\n  a Chinese character and can contain numerals, `.`, `_`, or `-`. The\n  instance name is displayed on the Alibaba Cloud console. If this\n  parameter is not specified, the default value is InstanceId of the\n  instance. It cannot begin with `http://` or `https://`.\n\n- `internet_charge_type` (string) - Internet charge type, which can be\n  `PayByTraffic` or `PayByBandwidth`. Optional values:\n  -   `PayByBandwidth`\n  -   `PayByTraffic`\n  \n  If this parameter is not specified, the default value is `PayByBandwidth`.\n  For the regions out of China, currently only support `PayByTraffic`, you\n  must set it manfully.\n\n- `internet_max_bandwidth_out` (int) - Maximum outgoing bandwidth to the\n  public network, measured in Mbps (Mega bits per second).\n  \n  Value range:\n  -   `PayByBandwidth`: \\[0, 100\\]. If this parameter is not specified, API\n      automatically sets it to 0 Mbps.\n  -   `PayByTraffic`: \\[1, 100\\]. If this parameter is not specified, an\n      error is returned.\n\n- `wait_snapshot_ready_timeout` (int) - Timeout of creating snapshot(s).\n  The default timeout is 3600 seconds if this option is not set or is set\n  to 0. For those disks containing lots of data, it may require a higher\n  timeout value.\n\n- `wait_copying_image_ready_timeout` (int) - Timeout of copying image.\n  The default timeout is 3600 seconds if this option is not set or is set\n  to 0.\n\n- `ssh_private_ip` (bool) - If this value is true, packer will connect to\n  the ECS created through private ip instead of allocating a public ip or an\n  EIP. The default value is false.\n\n- `skip_create_image` (bool) - If true, Packer will not create a final image. Defaults to `false`.\n\n<!-- End of code generated from the comments of the RunConfig struct in builder/ecs/run_config.go; -->\n\n\n<!-- Code generated from the comments of the AlicloudImageConfig struct in builder/ecs/image_config.go; DO NOT EDIT MANUALLY -->\n\n- `image_version` (string) - The version number of the image, with a length limit of 1 to 40 English\n  characters.\n\n- `image_description` (string) - The description of the image, with a length limit of 0 to 256\n  characters. Leaving it blank means null, which is the default value. It\n  cannot begin with `http://` or `https://`.\n\n- `resource_group_id` (string) - The ID of the resource group to which to assign the custom image.\n  If you do not specify this parameter, the image is assigned to the default resource group.\n\n- `image_share_account` ([]string) - The IDs of to-be-added Aliyun accounts to which the image is shared. The\n  number of accounts is 1 to 10. If number of accounts is greater than 10,\n  this parameter is ignored.\n\n- `image_unshare_account` ([]string) - Alicloud Image UN Share Accounts\n\n- `image_copy_regions` ([]string) - Copy to the destination regionIds.\n\n- `image_copy_names` ([]string) - The name of the destination image, [2, 128] English or Chinese\n  characters. It must begin with an uppercase/lowercase letter or a\n  Chinese character, and may contain numbers, _ or -. It cannot begin with\n  `http://` or `https://`.\n\n- `image_encrypted` (boolean) - Whether or not to encrypt the target images,            including those\n  copied if image_copy_regions is specified. If this option is set to\n  true, a temporary image will be created from the provisioned instance in\n  the main region and an encrypted copy will be generated in the same\n  region. By default, Packer will keep the encryption setting to what it\n  was in the source image.\n\n- `image_force_delete` (bool) - If this value is true, when the target image names including those\n  copied are duplicated with existing images, it will delete the existing\n  images and then create the target images, otherwise, the creation will\n  fail. The default value is false. Check `image_name` and\n  `image_copy_names` options for names of target images. If\n  [-force](/packer/docs/commands/build#force) option is provided in `build`\n  command, this option can be omitted and taken as true.\n\n- `image_force_delete_snapshots` (bool) - If this value is true, when delete the duplicated existing images, the\n  source snapshots of those images will be delete either. If\n  [-force](/packer/docs/commands/build#force) option is provided in `build`\n  command, this option can be omitted and taken as true.\n\n- `image_force_delete_instances` (bool) - Alicloud Image Force Delete Instances\n\n- `image_ignore_data_disks` (bool) - If this value is true, the image created will not include any snapshot\n  of data disks. This option would be useful for any circumstance that\n  default data disks with instance types are not concerned. The default\n  value is false.\n\n- `tags` (map[string]string) - Key/value pair tags applied to the destination image and relevant\n  snapshots.\n\n- `tag` ([]{key string, value string}) - Same as [`tags`](#tags) but defined as a singular repeatable block\n  containing a `key` and a `value` field. In HCL2 mode the\n  [`dynamic_block`](/packer/docs/templates/hcl_templates/expressions#dynamic-blocks)\n  will allow you to create those programatically.\n\n<!-- End of code generated from the comments of the AlicloudImageConfig struct in builder/ecs/image_config.go; -->\n\n\n<!-- Code generated from the comments of the SSHTemporaryKeyPair struct in communicator/config.go; DO NOT EDIT MANUALLY -->\n\n- `temporary_key_pair_type` (string) - `dsa` | `ecdsa` | `ed25519` | `rsa` ( the default )\n  \n  Specifies the type of key to create. The possible values are 'dsa',\n  'ecdsa', 'ed25519', or 'rsa'.\n  \n  NOTE: DSA is deprecated and no longer recognized as secure, please\n  consider other alternatives like RSA or ED25519.\n\n- `temporary_key_pair_bits` (int) - Specifies the number of bits in the key to create. For RSA keys, the\n  minimum size is 1024 bits and the default is 4096 bits. Generally, 3072\n  bits is considered sufficient. DSA keys must be exactly 1024 bits as\n  specified by FIPS 186-2. For ECDSA keys, bits determines the key length\n  by selecting from one of three elliptic curve sizes: 256, 384 or 521\n  bits. Attempting to use bit lengths other than these three values for\n  ECDSA keys will fail. Ed25519 keys have a fixed length and bits will be\n  ignored.\n  \n  NOTE: DSA is deprecated and no longer recognized as secure as specified\n  by FIPS 186-5, please consider other alternatives like RSA or ED25519.\n\n<!-- End of code generated from the comments of the SSHTemporaryKeyPair struct in communicator/config.go; -->\n\n\n- `ssh_keypair_name` (string) - If specified, this is the key that will be used for SSH with the\n  machine. The key must match a key pair name loaded up into the remote.\n  By default, this is blank, and Packer will generate a temporary keypair\n  unless [`ssh_password`](#ssh_password) is used.\n  [`ssh_private_key_file`](#ssh_private_key_file) or\n  [`ssh_agent_auth`](#ssh_agent_auth) must be specified when\n  [`ssh_keypair_name`](#ssh_keypair_name) is utilized.\n\n\n- `ssh_private_key_file` (string) - Path to a PEM encoded private key file to use to authenticate with SSH.\n  The `~` can be used in path and will be expanded to the home directory\n  of current user.\n\n\n- `ssh_agent_auth` (bool) - If true, the local SSH agent will be used to authenticate connections to\n  the source instance. No temporary keypair will be created, and the\n  values of [`ssh_password`](#ssh_password) and\n  [`ssh_private_key_file`](#ssh_private_key_file) will be ignored. The\n  environment variable `SSH_AUTH_SOCK` must be set for this option to work\n  properly.\n\n\n### Alicloud RAM permission\n\nFinally the plugin should gain a set of Alicloud RAM permission to call Alicloud API.\n\nThe following policy document provides the minimal set permissions necessary for the Alicloud plugin to work:\n\n```json\n{\n  \"Version\": \"1\",\n  \"Statement\": [\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"ecs:AttachKeyPair\",\n        \"ecs:CreateKeyPair\",\n        \"ecs:DeleteKeyPairs\",\n        \"ecs:DetachKeyPair\",\n        \"ecs:DescribeKeyPairs\",\n        \"ecs:DescribeDisks\",\n        \"ecs:ImportKeyPair\",\n        \"ecs:CreateSecurityGroup\",\n        \"ecs:AuthorizeSecurityGroup\",\n        \"ecs:AuthorizeSecurityGroupEgress\",\n        \"ecs:DescribeSecurityGroups\",\n        \"ecs:DeleteSecurityGroup\",\n        \"ecs:CopyImage\",\n        \"ecs:CancelCopyImage\",\n        \"ecs:CreateImage\",\n        \"ecs:DescribeImages\",\n        \"ecs:DescribeImageFromFamily\",\n        \"ecs:DeleteImage\",\n        \"ecs:ModifyImageAttribute\",\n        \"ecs:DescribeImageSharePermission\",\n        \"ecs:ModifyImageSharePermission\",\n        \"ecs:DescribeInstances\",\n        \"ecs:StartInstance\",\n        \"ecs:StopInstance\",\n        \"ecs:CreateInstance\",\n        \"ecs:DeleteInstance\",\n        \"ecs:RunInstances\",\n        \"ecs:RebootInstance\",\n        \"ecs:RenewInstance\",\n        \"ecs:CreateSnapshot\",\n        \"ecs:DeleteSnapshot\",\n        \"ecs:DescribeSnapshots\",\n        \"ecs:TagResources\",\n        \"ecs:UntagResources\",\n        \"ecs:AllocatePublicIpAddress\",\n        \"ecs:AddTags\",\n        \"vpc:DescribeVpcs\",\n        \"vpc:CreateVpc\",\n        \"vpc:DeleteVpc\",\n        \"vpc:DescribeVSwitches\",\n        \"vpc:CreateVSwitch\",\n        \"vpc:DeleteVSwitch\",\n        \"vpc:AllocateEipAddress\",\n        \"vpc:AssociateEipAddress\",\n        \"vpc:UnassociateEipAddress\",\n        \"vpc:ReleaseEipAddress\",\n        \"vpc:DescribeEipAddresses\"\n      ],\n      \"Resource\": [\n        \"*\"\n      ]\n    }\n  ]\n}\n```\n\n# Disk Devices Configuration\n\n<!-- Code generated from the comments of the AlicloudDiskDevice struct in builder/ecs/image_config.go; DO NOT EDIT MANUALLY -->\n\n- `disk_name` (string) - The value of disk name is blank by default. [2,\n  128] English or Chinese characters, must begin with an\n  uppercase/lowercase letter or Chinese character. Can contain numbers,\n  ., _ and -. The disk name will appear on the console. It cannot\n  begin with `http://` or `https://`.\n\n- `disk_category` (string) - Category of the system disk. Optional values are:\n      -   cloud - general cloud disk\n      -   cloud_efficiency - efficiency cloud disk\n      -   cloud_ssd - cloud SSD\n      -   cloud_essd - cloud ESSD\n\n- `disk_size` (int) - Size of the system disk, measured in GiB. Value\n  range: [20, 500]. The specified value must be equal to or greater\n  than max{20, ImageSize}. Default value: max{40, ImageSize}.\n\n- `disk_snapshot_id` (string) - Snapshots are used to create the data\n  disk After this parameter is specified, Size is ignored. The actual\n  size of the created disk is the size of the specified snapshot.\n  This field is only used in the ECSImagesDiskMappings option, not\n  the ECSSystemDiskMapping option.\n\n- `disk_description` (string) - The value of disk description is blank by\n  default. [2, 256] characters. The disk description will appear on the\n  console. It cannot begin with `http://` or `https://`.\n\n- `disk_delete_with_instance` (bool) - Whether or not the disk is\n  released along with the instance:\n\n- `disk_device` (string) - Device information of the related instance:\n  such as /dev/xvdb It is null unless the Status is In_use.\n\n- `disk_encrypted` (boolean) - Whether or not to encrypt the data disk.\n  If this option is set to true, the data disk will be encryped and\n  corresponding snapshot in the target image will also be encrypted. By\n  default, if this is an extra data disk, Packer will not encrypt the\n  data disk. Otherwise, Packer will keep the encryption setting to what\n  it was in the source image. Please refer to Introduction of ECS disk\n  encryption for more details.\n\n<!-- End of code generated from the comments of the AlicloudDiskDevice struct in builder/ecs/image_config.go; -->\n\n\n## Basic Example\n\nHere is a basic example for Alicloud.\n\n**JSON**\n\n```json\n{\n  \"variables\": {\n    \"access_key\": \"{{env `ALICLOUD_ACCESS_KEY`}}\",\n    \"secret_key\": \"{{env `ALICLOUD_SECRET_KEY`}}\"\n  },\n  \"builders\": [\n    {\n      \"type\": \"alicloud-ecs\",\n      \"access_key\": \"{{user `access_key`}}\",\n      \"secret_key\": \"{{user `secret_key`}}\",\n      \"region\": \"cn-beijing\",\n      \"image_name\": \"packer_test2\",\n      \"source_image\": \"centos_7_04_64_20G_alibase_201701015.vhd\",\n      \"ssh_username\": \"root\",\n      \"instance_type\": \"ecs.n1.tiny\",\n      \"io_optimized\": \"true\",\n      \"internet_charge_type\": \"PayByTraffic\",\n      \"image_force_delete\": \"true\"\n      \"run_tags\": {\n        \"Managed by\": \"Packer\",\n        \"Built by\": \"Packer\"\n      }\n    }\n  ],\n  \"provisioners\": [\n    {\n      \"type\": \"shell\",\n      \"inline\": [\"sleep 30\", \"yum install redis.x86_64 -y\"]\n    }\n  ]\n}\n```\n\n**HCL2**\n\n```hcl\nvariable \"access_key\" {\n  type = string\n}\n\nvariable \"secret_key\" {\n  type = string\n}\n\nsource \"alicloud-ecs\" \"basic-example\" {\n      access_key = var.access_key\n      secret_key = var.secret_key\n      region = \"cn-beijing\"\n      image_name = \"packer_test2\"\n      source_image = \"centos_7_04_64_20G_alibase_201701015.vhd\"\n      ssh_username = \"root\"\n      instance_type = \"ecs.n1.tiny\"\n      io_optimized = true\n      internet_charge_type = \"PayByTraffic\"\n      image_force_delete = true\n      run_tags  = {\n        \"Built by\"   = \"Packer\"\n        \"Managed by\" = \"Packer\"\n      }\n}\n\nbuild {\n  sources = [\"sources.alicloud-ecs.basic-example\"]\n\n  provisioner \"shell\" {\n    inline = [\n      \"sleep 30\", \"yum install redis.x86_64 -y\",\n    ]\n  }\n}\n```\n\n\n~> Note: Images can become deprecated after a while; run\n`aliyun ecs DescribeImages` to find one that exists.\n\n~> Note: Since WinRM is closed by default in the system image. If you are\nplanning to use Windows as the base image, you need enable it by userdata in\norder to connect to the instance, check\n[alicloud_windows.json](https://github.com/hashicorp/packer-plugin-alicloud/tree/main/builder/examples/basic/alicloud_windows.json)\nand\n[winrm_enable_userdata.ps1](https://github.com/hashicorp/packer-plugin-alicloud/tree/main/builder/examples/basic/winrm_enable_userdata.ps1)\nfor details.\n\nSee the\n[examples/alicloud](https://github.com/hashicorp/packer-plugin-alicloud/tree/main/builder/examples)\nfolder in the Packer project for more examples.\n","created_at":"2023-10-16T16:44:23.376Z","updated_at":"2023-10-16T16:44:23.376Z","name":"Alicloud ECS","slug":"alicloud-ecs","component":{"id":"36076511-3ced-4faf-addf-101fce0405ff","slug":"builder","name":"Builder","plural_name":"Builders","product_id":"4c2b00c6-7cc1-4e4c-b596-4ab57e319f21","created_at":"2022-11-09T22:56:30.937Z","updated_at":"2022-11-09T22:56:30.937Z"},"variable_groups":[]},"processedVariablesMarkdown":{},"anchorLinks":[{"id":"configuration-reference","level":2,"title":"Configuration Reference"},{"id":"required:","level":3,"title":"Required:"},{"id":"optional:","level":3,"title":"Optional:"},{"id":"alicloud-ram-permission","level":3,"title":"Alicloud RAM permission"},{"id":"disk-devices-configuration","level":1,"title":"Disk Devices Configuration"},{"id":"basic-example","level":2,"title":"Basic Example"}],"serializedREADME":{"compiledSource":"var m=Object.defineProperty,d=Object.defineProperties;var N=Object.getOwnPropertyDescriptors;var p=Object.getOwnPropertySymbols;var o=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;var l=(a,n,t)=>n in a?m(a,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[n]=t,e=(a,n)=>{for(var t in n||(n={}))o.call(n,t)&&l(a,t,n[t]);if(p)for(var t of p(n))i.call(n,t)&&l(a,t,n[t]);return a},r=(a,n)=>d(a,N(n));var c=(a,n)=>{var t={};for(var s in a)o.call(a,s)&&n.indexOf(s)<0&&(t[s]=a[s]);if(a!=null&&p)for(var s of p(a))n.indexOf(s)<0&&i.call(a,s)&&(t[s]=a[s]);return t};const layoutProps={},MDXLayout=\"wrapper\";function MDXContent(t){var s=t,{components:a}=s,n=c(s,[\"components\"]);return mdx(MDXLayout,r(e(e({},layoutProps),n),{components:a,mdxType:\"MDXLayout\"}),mdx(\"p\",e({},{className:\"g-type-long-body\"}),\"Type: \",mdx(\"inlineCode\",{parentName:\"p\"},\"alicloud-ecs\"),`\nArtifact BuilderId: `,mdx(\"inlineCode\",{parentName:\"p\"},\"alibaba.alicloud\")),mdx(\"p\",e({},{className:\"g-type-long-body\"}),\"The \",mdx(\"inlineCode\",{parentName:\"p\"},\"alicloud-ecs\"),` Packer builder plugin provide the capability to build\ncustomized images based on an existing base images.`),mdx(\"h2\",e({},{id:\"user-content-configuration-reference\",\"data-text-content\":\"Configuration Reference\",className:\"g-type-display-3\"}),\"Configuration Reference\"),mdx(\"p\",e({},{className:\"g-type-long-body\"}),`The following configuration options are available for building Alicloud images.\nIn addition to the options listed here, a\n`,mdx(\"a\",e({parentName:\"p\"},{href:\"/packer/docs/templates/legacy_json_templates/communicator\"}),\"communicator\"),` can be configured for this\nbuilder.`),mdx(\"h3\",e({},{id:\"user-content-required:\",\"data-text-content\":\"Required\",className:\"g-type-display-4\"}),\"Required:\"),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"inlineCode\",{parentName:\"p\"},\"access_key\"),\" (string) - Alicloud access key must be provided unless \",mdx(\"inlineCode\",{parentName:\"p\"},\"profile\"),` is set, but it can\nalso be sourced from the `,mdx(\"inlineCode\",{parentName:\"p\"},\"ALICLOUD_ACCESS_KEY\"),\" environment variable.\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"inlineCode\",{parentName:\"p\"},\"secret_key\"),\" (string) - Alicloud secret key must be provided unless \",mdx(\"inlineCode\",{parentName:\"p\"},\"profile\"),` is set, but it can\nalso be sourced from the `,mdx(\"inlineCode\",{parentName:\"p\"},\"ALICLOUD_SECRET_KEY\"),\" environment variable.\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"inlineCode\",{parentName:\"p\"},\"region\"),\" (string) - Alicloud region must be provided unless \",mdx(\"inlineCode\",{parentName:\"p\"},\"profile\"),` is set, but it can\nalso be sourced from the `,mdx(\"inlineCode\",{parentName:\"p\"},\"ALICLOUD_REGION\"),\" environment variable.\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"inlineCode\",{parentName:\"p\"},\"ram_role_name\"),\" (string) - Alicloud RamRole must be provided for EcsRamRole mode unless \",mdx(\"inlineCode\",{parentName:\"p\"},\"profile\"),\" is set.\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"inlineCode\",{parentName:\"p\"},\"ram_role_arn\"),\" (string) - Alicloud RamRoleArn must be provided for RamRoleArn mode unless \",mdx(\"inlineCode\",{parentName:\"p\"},\"profile\"),\" is set.\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"inlineCode\",{parentName:\"p\"},\"ram_session_name\"),\" (string) - Alicloud RamSessionName must be provided for RamRoleArn mode unless \",mdx(\"inlineCode\",{parentName:\"p\"},\"profile\"),\" is set.\"))),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"inlineCode\",{parentName:\"p\"},\"instance_type\"),\" (string) - Type of the instance. For values, see \",mdx(\"a\",e({parentName:\"p\"},{href:\"https://www.alibabacloud.com/help/doc-detail/25378.htm?spm=a3c0i.o25499en.a3.9.14a36ac8iYqKRA\"}),`Instance Type\nTable`),`.\nYou can also obtain the latest instance type table by invoking the\n`,mdx(\"a\",e({parentName:\"p\"},{href:\"https://intl.aliyun.com/help/doc-detail/25620.htm?spm=a3c0i.o25499en.a3.6.Dr1bik\"}),`Querying Instance Type\nTable`),`\ninterface.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"inlineCode\",{parentName:\"p\"},\"source_image\"),` (string) - This is the base image id which you want to\ncreate your customized images.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"inlineCode\",{parentName:\"p\"},\"image_family\"),` (string) - The name of the image family. Customer can set this parameter to choose the latest available custom image from\nthe specified image family to create the instance.`))),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"inlineCode\",{parentName:\"li\"},\"image_name\"),\" (string) - The name of the user-defined image, \",\"[2, 128]\",` English or Chinese\ncharacters. It must begin with an uppercase/lowercase letter or a\nChinese character, and may contain numbers, `,mdx(\"inlineCode\",{parentName:\"li\"},\"_\"),\" or \",mdx(\"inlineCode\",{parentName:\"li\"},\"-\"),`. It cannot begin\nwith `,mdx(\"inlineCode\",{parentName:\"li\"},\"http://\"),\" or \",mdx(\"inlineCode\",{parentName:\"li\"},\"https://\"),\".\")),mdx(\"h3\",e({},{id:\"user-content-optional:\",\"data-text-content\":\"Optional\",className:\"g-type-display-4\"}),\"Optional:\"),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"inlineCode\",{parentName:\"p\"},\"skip_region_validation\"),` (bool) - The region validation can be skipped if this value is true, the default\nvalue is false.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"inlineCode\",{parentName:\"p\"},\"skip_image_validation\"),` (bool) - The image validation can be skipped if this value is true, the default\nvalue is false.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"inlineCode\",{parentName:\"p\"},\"profile\"),\" (string) - Alicloud profile must be set unless \",mdx(\"inlineCode\",{parentName:\"p\"},\"access_key\"),` is set; it can also be\nsourced from the `,mdx(\"inlineCode\",{parentName:\"p\"},\"ALICLOUD_PROFILE\"),\" environment variable.\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"inlineCode\",{parentName:\"p\"},\"shared_credentials_file\"),` (string) - Alicloud shared credentials file path. If this file exists, access and\nsecret keys will be read from this file.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"inlineCode\",{parentName:\"p\"},\"security_token\"),` (string) - STS access token, can be set through template or by exporting as\nenvironment variable such as `,mdx(\"inlineCode\",{parentName:\"p\"},\"export SECURITY_TOKEN=value\"),\".\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"inlineCode\",{parentName:\"p\"},\"custom_endpoint_ecs\"),` (string) - This option is useful if you use a cloud provider whose API is\ncompatible with aliyun ECS. Specify another endpoint with this option.`))),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"inlineCode\",{parentName:\"p\"},\"system_disk_mapping\"),` (AlicloudDiskDevice) - Image disk mapping for the system disk.\nSee the `,mdx(\"a\",e({parentName:\"p\"},{href:\"#disk-devices-configuration\"}),\"disk device configuration\"),` section\nfor more information on options.\nUsage example:`),mdx(\"pre\",e({parentName:\"li\"},{className:\"language-json\"}),mdx(\"code\",e({parentName:\"pre\"},{className:\"language-json\"}),mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"builders\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"type\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"alicloud-ecs\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"system_disk_mapping\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"disk_size\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token number\"}),\"50\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"disk_name\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"mydisk\"'),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"  ...\",`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`))),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"inlineCode\",{parentName:\"p\"},\"image_disk_mappings\"),` ([]AlicloudDiskDevice) - Add one or more data disks to the image.\nSee the `,mdx(\"a\",e({parentName:\"p\"},{href:\"#disk-devices-configuration\"}),\"disk device configuration\"),` section\nfor more information on options.\nUsage example:`),mdx(\"pre\",e({parentName:\"li\"},{className:\"language-json\"}),mdx(\"code\",e({parentName:\"pre\"},{className:\"language-json\"}),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"builders\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"   \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"type\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"alicloud-ecs\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"   \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"image_disk_mappings\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),`\n`,\"     \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"       \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"disk_snapshot_id\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"someid\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"       \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"disk_device\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"dev/xvdb\"'),`\n`,\"     \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,\"   \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"   ...\",`\n`,\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`)))),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"inlineCode\",{parentName:\"p\"},\"associate_public_ip_address\"),\" (bool) - Associate Public Ip Address\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"inlineCode\",{parentName:\"p\"},\"zone_id\"),\" (string) - ID of the zone to which the disk belongs.\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"inlineCode\",{parentName:\"p\"},\"io_optimized\"),` (boolean) - Whether an ECS instance is I/O optimized or not. If this option is not\nprovided, the value will be determined by product API according to what\n`,mdx(\"inlineCode\",{parentName:\"p\"},\"instance_type\"),\" is used.\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"inlineCode\",{parentName:\"p\"},\"description\"),\" (string) - Description\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"inlineCode\",{parentName:\"p\"},\"force_stop_instance\"),` (bool) - Whether to force shutdown upon device\nrestart. The default value is `,mdx(\"inlineCode\",{parentName:\"p\"},\"false\"),\".\"),mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),\"If it is set to \",mdx(\"inlineCode\",{parentName:\"p\"},\"false\"),`, the system is shut down normally; if it is set to\n`,mdx(\"inlineCode\",{parentName:\"p\"},\"true\"),\", the system is forced to shut down.\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"inlineCode\",{parentName:\"p\"},\"disable_stop_instance\"),` (bool) - If this option is set to true, Packer\nwill not stop the instance for you, and you need to make sure the instance\nwill be stopped in the final provisioner command. Otherwise, Packer will\ntimeout while waiting the instance to be stopped. This option is provided\nfor some specific scenarios that you want to stop the instance by yourself.\nE.g., Sysprep a windows which may shutdown the instance within its command.\nThe default value is false.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"inlineCode\",{parentName:\"p\"},\"ecs_ram_role_name\"),\" (string) - Ram Role to apply when launching the instance.\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"inlineCode\",{parentName:\"p\"},\"run_tags\"),\" (map\",\"[string]\",\"string) - Key/value pair tags to apply to the instance that is \",mdx(\"em\",{parentName:\"p\"},\"launched\"),`\nto create the image.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"inlineCode\",{parentName:\"p\"},\"security_group_id\"),` (string) - ID of the security group to which a newly\ncreated instance belongs. Mutual access is allowed between instances in one\nsecurity group. If not specified, the newly created instance will be added\nto the default security group. If the default group doesn\\u2019t exist, or the\nnumber of instances in it has reached the maximum limit, a new security\ngroup will be created automatically.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"inlineCode\",{parentName:\"p\"},\"security_group_name\"),` (string) - The security group name. The default value\nis blank. `,\"[2, 128]\",` English or Chinese characters, must begin with an\nuppercase/lowercase letter or Chinese character. Can contain numbers, .,\n_ or -. It cannot begin with `,mdx(\"inlineCode\",{parentName:\"p\"},\"http://\"),\" or \",mdx(\"inlineCode\",{parentName:\"p\"},\"https://\"),\".\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"inlineCode\",{parentName:\"p\"},\"security_enhancement_strategy\"),` (string) - Specifies whether to enable security hardening. Valid values:\nActive: enables security hardening. This value is applicable only to public images.\nDeactive: does not enable security hardening. This value is applicable to all image types.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"inlineCode\",{parentName:\"p\"},\"user_data\"),` (string) - User data to apply when launching the instance. Note\nthat you need to be careful about escaping characters due to the templates\nbeing JSON. It is often more convenient to use user_data_file, instead.\nPacker will not automatically wait for a user script to finish before\nshutting down the instance this must be handled in a provisioner.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"inlineCode\",{parentName:\"p\"},\"user_data_file\"),` (string) - Path to a file that will be used for the user\ndata when launching the instance.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"inlineCode\",{parentName:\"p\"},\"vpc_id\"),\" (string) - VPC ID allocated by the system.\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"inlineCode\",{parentName:\"p\"},\"vpc_name\"),\" (string) - The VPC name. The default value is blank. \",\"[2, 128]\",`\nEnglish or Chinese characters, must begin with an uppercase/lowercase\nletter or Chinese character. Can contain numbers, _ and -. The disk\ndescription will appear on the console. Cannot begin with `,mdx(\"inlineCode\",{parentName:\"p\"},\"http://\"),` or\n`,mdx(\"inlineCode\",{parentName:\"p\"},\"https://\"),\".\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"inlineCode\",{parentName:\"p\"},\"vpc_cidr_block\"),` (string) - Value options: 192.168.0.0/16 and\n172.16.0.0/16. When not specified, the default value is 172.16.0.0/16.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"inlineCode\",{parentName:\"p\"},\"vswitch_id\"),\" (string) - The ID of the VSwitch to be used.\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"inlineCode\",{parentName:\"p\"},\"vswitch_name\"),\" (string) - The ID of the VSwitch to be used.\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"inlineCode\",{parentName:\"p\"},\"eip_id\"),\" (string) - The ID of the EIP to be used as public ip for the instance\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"inlineCode\",{parentName:\"p\"},\"instance_name\"),` (string) - Display name of the instance, which is a string of 2 to 128 Chinese or\nEnglish characters. It must begin with an uppercase/lowercase letter or\na Chinese character and can contain numerals, `,mdx(\"inlineCode\",{parentName:\"p\"},\".\"),\", \",mdx(\"inlineCode\",{parentName:\"p\"},\"_\"),\", or \",mdx(\"inlineCode\",{parentName:\"p\"},\"-\"),`. The\ninstance name is displayed on the Alibaba Cloud console. If this\nparameter is not specified, the default value is InstanceId of the\ninstance. It cannot begin with `,mdx(\"inlineCode\",{parentName:\"p\"},\"http://\"),\" or \",mdx(\"inlineCode\",{parentName:\"p\"},\"https://\"),\".\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"inlineCode\",{parentName:\"p\"},\"internet_charge_type\"),` (string) - Internet charge type, which can be\n`,mdx(\"inlineCode\",{parentName:\"p\"},\"PayByTraffic\"),\" or \",mdx(\"inlineCode\",{parentName:\"p\"},\"PayByBandwidth\"),\". Optional values:\"),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"inlineCode\",{parentName:\"li\"},\"PayByBandwidth\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"inlineCode\",{parentName:\"li\"},\"PayByTraffic\"))),mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),\"If this parameter is not specified, the default value is \",mdx(\"inlineCode\",{parentName:\"p\"},\"PayByBandwidth\"),`.\nFor the regions out of China, currently only support `,mdx(\"inlineCode\",{parentName:\"p\"},\"PayByTraffic\"),`, you\nmust set it manfully.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"inlineCode\",{parentName:\"p\"},\"internet_max_bandwidth_out\"),` (int) - Maximum outgoing bandwidth to the\npublic network, measured in Mbps (Mega bits per second).`),mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),\"Value range:\"),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"inlineCode\",{parentName:\"li\"},\"PayByBandwidth\"),\": \",\"[\",\"0, 100\",\"]\",`. If this parameter is not specified, API\nautomatically sets it to 0 Mbps.`),mdx(\"li\",{parentName:\"ul\"},mdx(\"inlineCode\",{parentName:\"li\"},\"PayByTraffic\"),\": \",\"[\",\"1, 100\",\"]\",`. If this parameter is not specified, an\nerror is returned.`))),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"inlineCode\",{parentName:\"p\"},\"wait_snapshot_ready_timeout\"),` (int) - Timeout of creating snapshot(s).\nThe default timeout is 3600 seconds if this option is not set or is set\nto 0. For those disks containing lots of data, it may require a higher\ntimeout value.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"inlineCode\",{parentName:\"p\"},\"wait_copying_image_ready_timeout\"),` (int) - Timeout of copying image.\nThe default timeout is 3600 seconds if this option is not set or is set\nto 0.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"inlineCode\",{parentName:\"p\"},\"ssh_private_ip\"),` (bool) - If this value is true, packer will connect to\nthe ECS created through private ip instead of allocating a public ip or an\nEIP. The default value is false.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"inlineCode\",{parentName:\"p\"},\"skip_create_image\"),\" (bool) - If true, Packer will not create a final image. Defaults to \",mdx(\"inlineCode\",{parentName:\"p\"},\"false\"),\".\"))),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"inlineCode\",{parentName:\"p\"},\"image_version\"),` (string) - The version number of the image, with a length limit of 1 to 40 English\ncharacters.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"inlineCode\",{parentName:\"p\"},\"image_description\"),` (string) - The description of the image, with a length limit of 0 to 256\ncharacters. Leaving it blank means null, which is the default value. It\ncannot begin with `,mdx(\"inlineCode\",{parentName:\"p\"},\"http://\"),\" or \",mdx(\"inlineCode\",{parentName:\"p\"},\"https://\"),\".\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"inlineCode\",{parentName:\"p\"},\"resource_group_id\"),` (string) - The ID of the resource group to which to assign the custom image.\nIf you do not specify this parameter, the image is assigned to the default resource group.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"inlineCode\",{parentName:\"p\"},\"image_share_account\"),` ([]string) - The IDs of to-be-added Aliyun accounts to which the image is shared. The\nnumber of accounts is 1 to 10. If number of accounts is greater than 10,\nthis parameter is ignored.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"inlineCode\",{parentName:\"p\"},\"image_unshare_account\"),\" ([]string) - Alicloud Image UN Share Accounts\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"inlineCode\",{parentName:\"p\"},\"image_copy_regions\"),\" ([]string) - Copy to the destination regionIds.\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"inlineCode\",{parentName:\"p\"},\"image_copy_names\"),\" ([]string) - The name of the destination image, \",\"[2, 128]\",` English or Chinese\ncharacters. It must begin with an uppercase/lowercase letter or a\nChinese character, and may contain numbers, _ or -. It cannot begin with\n`,mdx(\"inlineCode\",{parentName:\"p\"},\"http://\"),\" or \",mdx(\"inlineCode\",{parentName:\"p\"},\"https://\"),\".\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"inlineCode\",{parentName:\"p\"},\"image_encrypted\"),` (boolean) - Whether or not to encrypt the target images,            including those\ncopied if image_copy_regions is specified. If this option is set to\ntrue, a temporary image will be created from the provisioned instance in\nthe main region and an encrypted copy will be generated in the same\nregion. By default, Packer will keep the encryption setting to what it\nwas in the source image.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"inlineCode\",{parentName:\"p\"},\"image_force_delete\"),` (bool) - If this value is true, when the target image names including those\ncopied are duplicated with existing images, it will delete the existing\nimages and then create the target images, otherwise, the creation will\nfail. The default value is false. Check `,mdx(\"inlineCode\",{parentName:\"p\"},\"image_name\"),` and\n`,mdx(\"inlineCode\",{parentName:\"p\"},\"image_copy_names\"),` options for names of target images. If\n`,mdx(\"a\",e({parentName:\"p\"},{href:\"/packer/docs/commands/build#force\"}),\"-force\"),\" option is provided in \",mdx(\"inlineCode\",{parentName:\"p\"},\"build\"),`\ncommand, this option can be omitted and taken as true.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"inlineCode\",{parentName:\"p\"},\"image_force_delete_snapshots\"),` (bool) - If this value is true, when delete the duplicated existing images, the\nsource snapshots of those images will be delete either. If\n`,mdx(\"a\",e({parentName:\"p\"},{href:\"/packer/docs/commands/build#force\"}),\"-force\"),\" option is provided in \",mdx(\"inlineCode\",{parentName:\"p\"},\"build\"),`\ncommand, this option can be omitted and taken as true.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"inlineCode\",{parentName:\"p\"},\"image_force_delete_instances\"),\" (bool) - Alicloud Image Force Delete Instances\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"inlineCode\",{parentName:\"p\"},\"image_ignore_data_disks\"),` (bool) - If this value is true, the image created will not include any snapshot\nof data disks. This option would be useful for any circumstance that\ndefault data disks with instance types are not concerned. The default\nvalue is false.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"inlineCode\",{parentName:\"p\"},\"tags\"),\" (map\",\"[string]\",`string) - Key/value pair tags applied to the destination image and relevant\nsnapshots.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"inlineCode\",{parentName:\"p\"},\"tag\"),\" ([]{key string, value string}) - Same as \",mdx(\"a\",e({parentName:\"p\"},{href:\"#tags\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"tags\")),` but defined as a singular repeatable block\ncontaining a `,mdx(\"inlineCode\",{parentName:\"p\"},\"key\"),\" and a \",mdx(\"inlineCode\",{parentName:\"p\"},\"value\"),` field. In HCL2 mode the\n`,mdx(\"a\",e({parentName:\"p\"},{href:\"/packer/docs/templates/hcl_templates/expressions#dynamic-blocks\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"dynamic_block\")),`\nwill allow you to create those programatically.`))),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"inlineCode\",{parentName:\"p\"},\"temporary_key_pair_type\"),\" (string) - \",mdx(\"inlineCode\",{parentName:\"p\"},\"dsa\"),\" | \",mdx(\"inlineCode\",{parentName:\"p\"},\"ecdsa\"),\" | \",mdx(\"inlineCode\",{parentName:\"p\"},\"ed25519\"),\" | \",mdx(\"inlineCode\",{parentName:\"p\"},\"rsa\"),\" ( the default )\"),mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),`Specifies the type of key to create. The possible values are 'dsa',\n'ecdsa', 'ed25519', or 'rsa'.`),mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),`NOTE: DSA is deprecated and no longer recognized as secure, please\nconsider other alternatives like RSA or ED25519.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"inlineCode\",{parentName:\"p\"},\"temporary_key_pair_bits\"),` (int) - Specifies the number of bits in the key to create. For RSA keys, the\nminimum size is 1024 bits and the default is 4096 bits. Generally, 3072\nbits is considered sufficient. DSA keys must be exactly 1024 bits as\nspecified by FIPS 186-2. For ECDSA keys, bits determines the key length\nby selecting from one of three elliptic curve sizes: 256, 384 or 521\nbits. Attempting to use bit lengths other than these three values for\nECDSA keys will fail. Ed25519 keys have a fixed length and bits will be\nignored.`),mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),`NOTE: DSA is deprecated and no longer recognized as secure as specified\nby FIPS 186-5, please consider other alternatives like RSA or ED25519.`))),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"inlineCode\",{parentName:\"li\"},\"ssh_keypair_name\"),` (string) - If specified, this is the key that will be used for SSH with the\nmachine. The key must match a key pair name loaded up into the remote.\nBy default, this is blank, and Packer will generate a temporary keypair\nunless `,mdx(\"a\",e({parentName:\"li\"},{href:\"#ssh_password\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"ssh_password\")),` is used.\n`,mdx(\"a\",e({parentName:\"li\"},{href:\"#ssh_private_key_file\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"ssh_private_key_file\")),` or\n`,mdx(\"a\",e({parentName:\"li\"},{href:\"#ssh_agent_auth\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"ssh_agent_auth\")),` must be specified when\n`,mdx(\"a\",e({parentName:\"li\"},{href:\"#ssh_keypair_name\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"ssh_keypair_name\")),\" is utilized.\")),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"inlineCode\",{parentName:\"li\"},\"ssh_private_key_file\"),` (string) - Path to a PEM encoded private key file to use to authenticate with SSH.\nThe `,mdx(\"inlineCode\",{parentName:\"li\"},\"~\"),` can be used in path and will be expanded to the home directory\nof current user.`)),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"inlineCode\",{parentName:\"li\"},\"ssh_agent_auth\"),` (bool) - If true, the local SSH agent will be used to authenticate connections to\nthe source instance. No temporary keypair will be created, and the\nvalues of `,mdx(\"a\",e({parentName:\"li\"},{href:\"#ssh_password\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"ssh_password\")),` and\n`,mdx(\"a\",e({parentName:\"li\"},{href:\"#ssh_private_key_file\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"ssh_private_key_file\")),` will be ignored. The\nenvironment variable `,mdx(\"inlineCode\",{parentName:\"li\"},\"SSH_AUTH_SOCK\"),` must be set for this option to work\nproperly.`)),mdx(\"h3\",e({},{id:\"user-content-alicloud-ram-permission\",\"data-text-content\":\"Alicloud RAM permission\",className:\"g-type-display-4\"}),\"Alicloud RAM permission\"),mdx(\"p\",e({},{className:\"g-type-long-body\"}),\"Finally the plugin should gain a set of Alicloud RAM permission to call Alicloud API.\"),mdx(\"p\",e({},{className:\"g-type-long-body\"}),\"The following policy document provides the minimal set permissions necessary for the Alicloud plugin to work:\"),mdx(\"pre\",e({},{className:\"language-json\"}),mdx(\"code\",e({parentName:\"pre\"},{className:\"language-json\"}),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"Version\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"1\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"Statement\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"      \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"Effect\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"Allow\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"      \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"Action\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),`\n`,\"        \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"ecs:AttachKeyPair\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"        \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"ecs:CreateKeyPair\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"        \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"ecs:DeleteKeyPairs\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"        \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"ecs:DetachKeyPair\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"        \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"ecs:DescribeKeyPairs\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"        \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"ecs:DescribeDisks\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"        \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"ecs:ImportKeyPair\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"        \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"ecs:CreateSecurityGroup\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"        \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"ecs:AuthorizeSecurityGroup\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"        \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"ecs:AuthorizeSecurityGroupEgress\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"        \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"ecs:DescribeSecurityGroups\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"        \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"ecs:DeleteSecurityGroup\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"        \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"ecs:CopyImage\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"        \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"ecs:CancelCopyImage\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"        \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"ecs:CreateImage\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"        \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"ecs:DescribeImages\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"        \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"ecs:DescribeImageFromFamily\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"        \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"ecs:DeleteImage\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"        \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"ecs:ModifyImageAttribute\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"        \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"ecs:DescribeImageSharePermission\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"        \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"ecs:ModifyImageSharePermission\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"        \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"ecs:DescribeInstances\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"        \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"ecs:StartInstance\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"        \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"ecs:StopInstance\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"        \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"ecs:CreateInstance\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"        \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"ecs:DeleteInstance\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"        \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"ecs:RunInstances\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"        \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"ecs:RebootInstance\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"        \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"ecs:RenewInstance\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"        \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"ecs:CreateSnapshot\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"        \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"ecs:DeleteSnapshot\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"        \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"ecs:DescribeSnapshots\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"        \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"ecs:TagResources\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"        \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"ecs:UntagResources\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"        \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"ecs:AllocatePublicIpAddress\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"        \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"ecs:AddTags\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"        \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"vpc:DescribeVpcs\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"        \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"vpc:CreateVpc\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"        \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"vpc:DeleteVpc\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"        \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"vpc:DescribeVSwitches\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"        \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"vpc:CreateVSwitch\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"        \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"vpc:DeleteVSwitch\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"        \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"vpc:AllocateEipAddress\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"        \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"vpc:AssociateEipAddress\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"        \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"vpc:UnassociateEipAddress\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"        \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"vpc:ReleaseEipAddress\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"        \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"vpc:DescribeEipAddresses\"'),`\n`,\"      \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"      \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"Resource\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),`\n`,\"        \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"*\"'),`\n`,\"      \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`)),mdx(\"h1\",e({},{id:\"user-content-disk-devices-configuration\",\"data-text-content\":\"Disk Devices Configuration\",className:\"g-type-display-2\"}),\"Disk Devices Configuration\"),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"inlineCode\",{parentName:\"p\"},\"disk_name\"),\" (string) - The value of disk name is blank by default. \",`[2,\n128]`,` English or Chinese characters, must begin with an\nuppercase/lowercase letter or Chinese character. Can contain numbers,\n., _ and -. The disk name will appear on the console. It cannot\nbegin with `,mdx(\"inlineCode\",{parentName:\"p\"},\"http://\"),\" or \",mdx(\"inlineCode\",{parentName:\"p\"},\"https://\"),\".\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"inlineCode\",{parentName:\"p\"},\"disk_category\"),\" (string) - Category of the system disk. Optional values are:\"),mdx(\"pre\",{parentName:\"li\"},mdx(\"code\",{parentName:\"pre\"},\"-   cloud - general cloud disk\",`\n`,\"-   cloud_efficiency - efficiency cloud disk\",`\n`,\"-   cloud_ssd - cloud SSD\",`\n`,\"-   cloud_essd - cloud ESSD\",`\n`))),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"inlineCode\",{parentName:\"p\"},\"disk_size\"),` (int) - Size of the system disk, measured in GiB. Value\nrange: `,\"[20, 500]\",`. The specified value must be equal to or greater\nthan max{20, ImageSize}. Default value: max{40, ImageSize}.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"inlineCode\",{parentName:\"p\"},\"disk_snapshot_id\"),` (string) - Snapshots are used to create the data\ndisk After this parameter is specified, Size is ignored. The actual\nsize of the created disk is the size of the specified snapshot.\nThis field is only used in the ECSImagesDiskMappings option, not\nthe ECSSystemDiskMapping option.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"inlineCode\",{parentName:\"p\"},\"disk_description\"),` (string) - The value of disk description is blank by\ndefault. `,\"[2, 256]\",` characters. The disk description will appear on the\nconsole. It cannot begin with `,mdx(\"inlineCode\",{parentName:\"p\"},\"http://\"),\" or \",mdx(\"inlineCode\",{parentName:\"p\"},\"https://\"),\".\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"inlineCode\",{parentName:\"p\"},\"disk_delete_with_instance\"),` (bool) - Whether or not the disk is\nreleased along with the instance:`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"inlineCode\",{parentName:\"p\"},\"disk_device\"),` (string) - Device information of the related instance:\nsuch as /dev/xvdb It is null unless the Status is In_use.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",e({parentName:\"li\"},{className:\"g-type-long-body\"}),mdx(\"inlineCode\",{parentName:\"p\"},\"disk_encrypted\"),` (boolean) - Whether or not to encrypt the data disk.\nIf this option is set to true, the data disk will be encryped and\ncorresponding snapshot in the target image will also be encrypted. By\ndefault, if this is an extra data disk, Packer will not encrypt the\ndata disk. Otherwise, Packer will keep the encryption setting to what\nit was in the source image. Please refer to Introduction of ECS disk\nencryption for more details.`))),mdx(\"h2\",e({},{id:\"user-content-basic-example\",\"data-text-content\":\"Basic Example\",className:\"g-type-display-3\"}),\"Basic Example\"),mdx(\"p\",e({},{className:\"g-type-long-body\"}),\"Here is a basic example for Alicloud.\"),mdx(\"p\",e({},{className:\"g-type-long-body\"}),mdx(\"strong\",{parentName:\"p\"},\"JSON\")),mdx(\"pre\",e({},{className:\"language-json\"}),mdx(\"code\",e({parentName:\"pre\"},{className:\"language-json\"}),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"variables\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"access_key\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"{{env `ALICLOUD_ACCESS_KEY`}}\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"secret_key\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"{{env `ALICLOUD_SECRET_KEY`}}\"'),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"builders\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"      \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"type\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"alicloud-ecs\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"      \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"access_key\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"{{user `access_key`}}\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"      \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"secret_key\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"{{user `secret_key`}}\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"      \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"region\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"cn-beijing\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"      \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"image_name\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"packer_test2\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"      \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"source_image\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"centos_7_04_64_20G_alibase_201701015.vhd\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"      \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"ssh_username\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"root\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"      \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"instance_type\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"ecs.n1.tiny\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"      \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"io_optimized\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"true\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"      \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"internet_charge_type\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"PayByTraffic\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"      \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"image_force_delete\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"true\"'),`\n`,\"      \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"run_tags\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"        \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"Managed by\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"Packer\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"        \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"Built by\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"Packer\"'),`\n`,\"      \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"provisioners\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"      \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"type\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"shell\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"      \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"inline\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"sleep 30\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"yum install redis.x86_64 -y\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`)),mdx(\"p\",e({},{className:\"g-type-long-body\"}),mdx(\"strong\",{parentName:\"p\"},\"HCL2\")),mdx(\"pre\",e({},{className:\"language-hcl\"}),mdx(\"code\",e({parentName:\"pre\"},{className:\"language-hcl\"}),mdx(\"span\",e({parentName:\"code\"},{className:\"token keyword\"}),\"variable\",mdx(\"span\",e({parentName:\"span\"},{className:\"token type variable\"}),' \"access_key\" ')),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"type\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" string\",`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token keyword\"}),\"variable\",mdx(\"span\",e({parentName:\"span\"},{className:\"token type variable\"}),' \"secret_key\" ')),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"type\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" string\",`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,`\n`,\"source \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"alicloud-ecs\"'),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"basic-example\"'),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"      \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"access_key\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" var.access_key\",`\n`,\"      \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"secret_key\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" var.secret_key\",`\n`,\"      \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"region\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"cn-beijing\"'),`\n`,\"      \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"image_name\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"packer_test2\"'),`\n`,\"      \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"source_image\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"centos_7_04_64_20G_alibase_201701015.vhd\"'),`\n`,\"      \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"ssh_username\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"root\"'),`\n`,\"      \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"instance_type\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"ecs.n1.tiny\"'),`\n`,\"      \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"io_optimized\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token boolean\"}),\"true\"),`\n`,\"      \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"internet_charge_type\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"PayByTraffic\"'),`\n`,\"      \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"image_force_delete\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token boolean\"}),\"true\"),`\n`,\"      \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"run_tags\"),\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"        \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"Built by\"'),\"   \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"Packer\"'),`\n`,\"        \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"Managed by\"'),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"Packer\"'),`\n`,\"      \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token keyword\"}),\"build\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"sources\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"sources.alicloud-ecs.basic-example\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),`\n`,`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token keyword\"}),\"provisioner\",mdx(\"span\",e({parentName:\"span\"},{className:\"token type variable\"}),' \"shell\" ')),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"inline\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),`\n`,\"      \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"sleep 30\"'),\", \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"yum install redis.x86_64 -y\"'),\",\",`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`)),mdx(\"div\",e({},{className:\"alert alert-warning g-type-body\"}),mdx(\"p\",e({parentName:\"div\"},{className:\"g-type-long-body\"}),`Note: Images can become deprecated after a while; run\n`,mdx(\"inlineCode\",{parentName:\"p\"},\"aliyun ecs DescribeImages\"),\" to find one that exists.\")),mdx(\"div\",e({},{className:\"alert alert-warning g-type-body\"}),mdx(\"p\",e({parentName:\"div\"},{className:\"g-type-long-body\"}),`Note: Since WinRM is closed by default in the system image. If you are\nplanning to use Windows as the base image, you need enable it by userdata in\norder to connect to the instance, check\n`,mdx(\"a\",e({parentName:\"p\"},{href:\"https://github.com/hashicorp/packer-plugin-alicloud/tree/main/builder/examples/basic/alicloud_windows.json\"}),\"alicloud_windows.json\"),`\nand\n`,mdx(\"a\",e({parentName:\"p\"},{href:\"https://github.com/hashicorp/packer-plugin-alicloud/tree/main/builder/examples/basic/winrm_enable_userdata.ps1\"}),\"winrm_enable_userdata.ps1\"),`\nfor details.`)),mdx(\"p\",e({},{className:\"g-type-long-body\"}),`See the\n`,mdx(\"a\",e({parentName:\"p\"},{href:\"https://github.com/hashicorp/packer-plugin-alicloud/tree/main/builder/examples\"}),\"examples/alicloud\"),`\nfolder in the Packer project for more examples.`))}MDXContent.isMDXComponent=!0;\n","scope":{}},"breadcrumbLinks":[{"title":"Developer","url":"/"},{"title":"Packer","url":"/packer"},{"title":"Integrations","url":"/packer/integrations"},{"title":"Alicloud","url":"/packer/integrations/hashicorp/alicloud","isCurrentPage":false},{"title":"v1.1.1","url":"/packer/integrations/hashicorp/alicloud/v1.1.1","isCurrentPage":false},{"title":"Components"},{"title":"Builder"},{"title":"Alicloud ECS","url":"/packer/integrations/hashicorp/alicloud/latest/components/builder/alicloud-ecs","isCurrentPage":true}]},"__N_SSG":true}